var FN=Object.defineProperty;var VN=(t,e,n)=>e in t?FN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var on=(t,e,n)=>VN(t,typeof e!="symbol"?e+"":e,n);function UN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eb={exports:{}},im={},Sb={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.element"),zN=Symbol.for("react.portal"),qN=Symbol.for("react.fragment"),$N=Symbol.for("react.strict_mode"),WN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),KN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),Ny=Symbol.iterator;function XN(t){return t===null||typeof t!="object"?null:(t=Ny&&t[Ny]||t["@@iterator"],typeof t=="function"?t:null)}var Nb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ib=Object.assign,kb={};function Sc(t,e,n){this.props=t,this.context=e,this.refs=kb,this.updater=n||Nb}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tb(){}Tb.prototype=Sc.prototype;function H0(t,e,n){this.props=t,this.context=e,this.refs=kb,this.updater=n||Nb}var G0=H0.prototype=new Tb;G0.constructor=H0;Ib(G0,Sc.prototype);G0.isPureReactComponent=!0;var Iy=Array.isArray,Pb=Object.prototype.hasOwnProperty,K0={current:null},Cb={key:!0,ref:!0,__self:!0,__source:!0};function Lb(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Pb.call(e,r)&&!Cb.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:bd,type:t,key:s,ref:a,props:i,_owner:K0.current}}function ZN(t,e){return{$$typeof:bd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q0(t){return typeof t=="object"&&t!==null&&t.$$typeof===bd}function e3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ky=/\/+/g;function lg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e3(""+t.key):e.toString(36)}function Vf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bd:case zN:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+lg(a,0):r,Iy(i)?(n="",t!=null&&(n=t.replace(ky,"$&/")+"/"),Vf(i,e,n,"",function(u){return u})):i!=null&&(Q0(i)&&(i=ZN(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ky,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Iy(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+lg(s,o);a+=Vf(s,e,n,l,i)}else if(l=XN(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+lg(s,o++),a+=Vf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function of(t,e,n){if(t==null)return t;var r=[],i=0;return Vf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function t3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ci={current:null},Uf={transition:null},n3={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:Uf,ReactCurrentOwner:K0};function Rb(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:of,forEach:function(t,e,n){of(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return of(t,function(){e++}),e},toArray:function(t){return of(t,function(e){return e})||[]},only:function(t){if(!Q0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=Sc;Ft.Fragment=qN;Ft.Profiler=WN;Ft.PureComponent=H0;Ft.StrictMode=$N;Ft.Suspense=QN;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n3;Ft.act=Rb;Ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ib({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=K0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Pb.call(e,l)&&!Cb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:bd,type:t.type,key:i,ref:s,props:r,_owner:a}};Ft.createContext=function(t){return t={$$typeof:GN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};Ft.createElement=Lb;Ft.createFactory=function(t){var e=Lb.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:KN,render:t}};Ft.isValidElement=Q0;Ft.lazy=function(t){return{$$typeof:YN,_payload:{_status:-1,_result:t},_init:t3}};Ft.memo=function(t,e){return{$$typeof:JN,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=Uf.transition;Uf.transition={};try{t()}finally{Uf.transition=e}};Ft.unstable_act=Rb;Ft.useCallback=function(t,e){return ci.current.useCallback(t,e)};Ft.useContext=function(t){return ci.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return ci.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return ci.current.useEffect(t,e)};Ft.useId=function(){return ci.current.useId()};Ft.useImperativeHandle=function(t,e,n){return ci.current.useImperativeHandle(t,e,n)};Ft.useInsertionEffect=function(t,e){return ci.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return ci.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return ci.current.useMemo(t,e)};Ft.useReducer=function(t,e,n){return ci.current.useReducer(t,e,n)};Ft.useRef=function(t){return ci.current.useRef(t)};Ft.useState=function(t){return ci.current.useState(t)};Ft.useSyncExternalStore=function(t,e,n){return ci.current.useSyncExternalStore(t,e,n)};Ft.useTransition=function(){return ci.current.useTransition()};Ft.version="18.3.1";Sb.exports=Ft;var le=Sb.exports;const jb=BN(le),r3=UN({__proto__:null,default:jb},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3=le,s3=Symbol.for("react.element"),a3=Symbol.for("react.fragment"),o3=Object.prototype.hasOwnProperty,l3=i3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u3={key:!0,ref:!0,__self:!0,__source:!0};function Db(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)o3.call(e,r)&&!u3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s3,type:t,key:s,ref:a,props:i,_owner:l3.current}}im.Fragment=a3;im.jsx=Db;im.jsxs=Db;Eb.exports=im;var p=Eb.exports,m1={},Ob={exports:{}},Qi={},Mb={exports:{}},Fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,G){var pe=Z.length;Z.push(G);e:for(;0<pe;){var _e=pe-1>>>1,F=Z[_e];if(0<i(F,G))Z[_e]=G,Z[pe]=F,pe=_e;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var G=Z[0],pe=Z.pop();if(pe!==G){Z[0]=pe;e:for(var _e=0,F=Z.length,K=F>>>1;_e<K;){var q=2*(_e+1)-1,Q=Z[q],ie=q+1,ae=Z[ie];if(0>i(Q,pe))ie<F&&0>i(ae,Q)?(Z[_e]=ae,Z[ie]=pe,_e=ie):(Z[_e]=Q,Z[q]=pe,_e=q);else if(ie<F&&0>i(ae,pe))Z[_e]=ae,Z[ie]=pe,_e=ie;else break e}}return G}function i(Z,G){var pe=Z.sortIndex-G.sortIndex;return pe!==0?pe:Z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,g=null,_=3,m=!1,C=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Z){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=Z)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function U(Z){if(I=!1,j(Z),!C)if(n(l)!==null)C=!0,ye(ne);else{var G=n(u);G!==null&&fe(U,G.startTime-Z)}}function ne(Z,G){C=!1,I&&(I=!1,x(S),S=-1),m=!0;var pe=_;try{for(j(G),g=n(l);g!==null&&(!(g.expirationTime>G)||Z&&!b());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,_=g.priorityLevel;var F=_e(g.expirationTime<=G);G=t.unstable_now(),typeof F=="function"?g.callback=F:g===n(l)&&r(l),j(G)}else r(l);g=n(l)}if(g!==null)var K=!0;else{var q=n(u);q!==null&&fe(U,q.startTime-G),K=!1}return K}finally{g=null,_=pe,m=!1}}var M=!1,V=null,S=-1,N=5,R=-1;function b(){return!(t.unstable_now()-R<N)}function E(){if(V!==null){var Z=t.unstable_now();R=Z;var G=!0;try{G=V(!0,Z)}finally{G?P():(M=!1,V=null)}}else M=!1}var P;if(typeof T=="function")P=function(){T(E)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=E,P=function(){de.postMessage(null)}}else P=function(){L(E,0)};function ye(Z){V=Z,M||(M=!0,P())}function fe(Z,G){S=L(function(){Z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){C||m||(C=!0,ye(ne))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var pe=_;_=G;try{return Z()}finally{_=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,G){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=_;_=Z;try{return G()}finally{_=pe}},t.unstable_scheduleCallback=function(Z,G,pe){var _e=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?_e+pe:_e):pe=_e,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=pe+F,Z={id:d++,callback:G,priorityLevel:Z,startTime:pe,expirationTime:F,sortIndex:-1},pe>_e?(Z.sortIndex=pe,e(u,Z),n(l)===null&&Z===n(u)&&(I?(x(S),S=-1):I=!0,fe(U,pe-_e))):(Z.sortIndex=F,e(l,Z),C||m||(C=!0,ye(ne))),Z},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(Z){var G=_;return function(){var pe=_;_=G;try{return Z.apply(this,arguments)}finally{_=pe}}}})(Fb);Mb.exports=Fb;var c3=Mb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3=le,Ki=c3;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vb=new Set,zh={};function du(t,e){cc(t,e),cc(t+"Capture",e)}function cc(t,e){for(zh[t]=e,t=0;t<e.length;t++)Vb.add(e[t])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g1=Object.prototype.hasOwnProperty,d3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ty={},Py={};function f3(t){return g1.call(Py,t)?!0:g1.call(Ty,t)?!1:d3.test(t)?Py[t]=!0:(Ty[t]=!0,!1)}function p3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m3(t,e,n,r){if(e===null||typeof e>"u"||p3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dr[t]=new hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dr[e]=new hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dr[t]=new hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dr[t]=new hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dr[t]=new hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dr[t]=new hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dr[t]=new hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dr[t]=new hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dr[t]=new hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var J0=/[\-:]([a-z])/g;function Y0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(J0,Y0);Dr[e]=new hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(J0,Y0);Dr[e]=new hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(J0,Y0);Dr[e]=new hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dr[t]=new hi(t,1,!1,t.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dr[t]=new hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function X0(t,e,n,r){var i=Dr.hasOwnProperty(e)?Dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m3(e,n,i,r)&&(n=null),r||i===null?f3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xa=h3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lf=Symbol.for("react.element"),Du=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),v1=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),y1=Symbol.for("react.suspense"),_1=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),zb=Symbol.for("react.offscreen"),Cy=Symbol.iterator;function ih(t){return t===null||typeof t!="object"?null:(t=Cy&&t[Cy]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Object.assign,ug;function gh(t){if(ug===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ug=e&&e[1]||""}return`
`+ug+t}var cg=!1;function hg(t,e){if(!t||cg)return"";cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gh(t):""}function g3(t){switch(t.tag){case 5:return gh(t.type);case 16:return gh("Lazy");case 13:return gh("Suspense");case 19:return gh("SuspenseList");case 0:case 2:case 15:return t=hg(t.type,!1),t;case 11:return t=hg(t.type.render,!1),t;case 1:return t=hg(t.type,!0),t;default:return""}}function w1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ou:return"Fragment";case Du:return"Portal";case v1:return"Profiler";case Z0:return"StrictMode";case y1:return"Suspense";case _1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bb:return(t.displayName||"Context")+".Consumer";case Ub:return(t._context.displayName||"Context")+".Provider";case ev:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tv:return e=t.displayName||null,e!==null?e:w1(t.type)||"Memo";case Co:e=t._payload,t=t._init;try{return w1(t(e))}catch{}}return null}function v3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w1(e);case 8:return e===Z0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y3(t){var e=qb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uf(t){t._valueTracker||(t._valueTracker=y3(t))}function $b(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function b1(t,e){var n=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ly(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=il(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wb(t,e){e=e.checked,e!=null&&X0(t,"checked",e,!1)}function x1(t,e){Wb(t,e);var n=il(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?A1(t,e.type,n):e.hasOwnProperty("defaultValue")&&A1(t,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function A1(t,e,n){(e!=="number"||fp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vh=Array.isArray;function Ju(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+il(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function E1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(vh(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:il(n)}}function Hb(t,e){var n=il(e.value),r=il(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cf,Kb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cf=cf||document.createElement("div"),cf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_3=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(t){_3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nh[e]=Nh[t]})});function Qb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nh.hasOwnProperty(t)&&Nh[t]?(""+e).trim():e+"px"}function Jb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var w3=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N1(t,e){if(e){if(w3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function I1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k1=null;function nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T1=null,Yu=null,Xu=null;function Oy(t){if(t=Ed(t)){if(typeof T1!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=um(e),T1(t.stateNode,t.type,e))}}function Yb(t){Yu?Xu?Xu.push(t):Xu=[t]:Yu=t}function Xb(){if(Yu){var t=Yu,e=Xu;if(Xu=Yu=null,Oy(t),e)for(t=0;t<e.length;t++)Oy(e[t])}}function Zb(t,e){return t(e)}function ex(){}var dg=!1;function tx(t,e,n){if(dg)return t(e,n);dg=!0;try{return Zb(t,e,n)}finally{dg=!1,(Yu!==null||Xu!==null)&&(ex(),Xb())}}function $h(t,e){var n=t.stateNode;if(n===null)return null;var r=um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var P1=!1;if(za)try{var sh={};Object.defineProperty(sh,"passive",{get:function(){P1=!0}}),window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{P1=!1}function b3(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ih=!1,pp=null,mp=!1,C1=null,x3={onError:function(t){Ih=!0,pp=t}};function A3(t,e,n,r,i,s,a,o,l){Ih=!1,pp=null,b3.apply(x3,arguments)}function E3(t,e,n,r,i,s,a,o,l){if(A3.apply(this,arguments),Ih){if(Ih){var u=pp;Ih=!1,pp=null}else throw Error(Oe(198));mp||(mp=!0,C1=u)}}function fu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function My(t){if(fu(t)!==t)throw Error(Oe(188))}function S3(t){var e=t.alternate;if(!e){if(e=fu(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return My(i),t;if(s===r)return My(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function rx(t){return t=S3(t),t!==null?ix(t):null}function ix(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ix(t);if(e!==null)return e;t=t.sibling}return null}var sx=Ki.unstable_scheduleCallback,Fy=Ki.unstable_cancelCallback,N3=Ki.unstable_shouldYield,I3=Ki.unstable_requestPaint,Zn=Ki.unstable_now,k3=Ki.unstable_getCurrentPriorityLevel,rv=Ki.unstable_ImmediatePriority,ax=Ki.unstable_UserBlockingPriority,gp=Ki.unstable_NormalPriority,T3=Ki.unstable_LowPriority,ox=Ki.unstable_IdlePriority,sm=null,oa=null;function P3(t){if(oa&&typeof oa.onCommitFiberRoot=="function")try{oa.onCommitFiberRoot(sm,t,void 0,(t.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:R3,C3=Math.log,L3=Math.LN2;function R3(t){return t>>>=0,t===0?32:31-(C3(t)/L3|0)|0}var hf=64,df=4194304;function yh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=yh(o):(s&=a,s!==0&&(r=yh(s)))}else a=n&~i,a!==0?r=yh(a):s!==0&&(r=yh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cs(e),i=1<<n,r|=t[n],e&=~i;return r}function j3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Cs(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=j3(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function L1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lx(){var t=hf;return hf<<=1,!(hf&4194240)&&(hf=64),t}function fg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cs(e),t[e]=n}function O3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var un=0;function ux(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cx,sv,hx,dx,fx,R1=!1,ff=[],$o=null,Wo=null,Ho=null,Wh=new Map,Hh=new Map,Ro=[],M3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vy(t,e){switch(t){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Wh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(e.pointerId)}}function ah(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ed(e),e!==null&&sv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function F3(t,e,n,r,i){switch(e){case"focusin":return $o=ah($o,t,e,n,r,i),!0;case"dragenter":return Wo=ah(Wo,t,e,n,r,i),!0;case"mouseover":return Ho=ah(Ho,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wh.set(s,ah(Wh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hh.set(s,ah(Hh.get(s)||null,t,e,n,r,i)),!0}return!1}function px(t){var e=Wl(t.target);if(e!==null){var n=fu(e);if(n!==null){if(e=n.tag,e===13){if(e=nx(n),e!==null){t.blockedOn=e,fx(t.priority,function(){hx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=j1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);k1=r,n.target.dispatchEvent(r),k1=null}else return e=Ed(n),e!==null&&sv(e),t.blockedOn=n,!1;e.shift()}return!0}function Uy(t,e,n){Bf(t)&&n.delete(e)}function V3(){R1=!1,$o!==null&&Bf($o)&&($o=null),Wo!==null&&Bf(Wo)&&(Wo=null),Ho!==null&&Bf(Ho)&&(Ho=null),Wh.forEach(Uy),Hh.forEach(Uy)}function oh(t,e){t.blockedOn===e&&(t.blockedOn=null,R1||(R1=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,V3)))}function Gh(t){function e(i){return oh(i,t)}if(0<ff.length){oh(ff[0],t);for(var n=1;n<ff.length;n++){var r=ff[n];r.blockedOn===t&&(r.blockedOn=null)}}for($o!==null&&oh($o,t),Wo!==null&&oh(Wo,t),Ho!==null&&oh(Ho,t),Wh.forEach(e),Hh.forEach(e),n=0;n<Ro.length;n++)r=Ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ro.length&&(n=Ro[0],n.blockedOn===null);)px(n),n.blockedOn===null&&Ro.shift()}var Zu=Xa.ReactCurrentBatchConfig,yp=!0;function U3(t,e,n,r){var i=un,s=Zu.transition;Zu.transition=null;try{un=1,av(t,e,n,r)}finally{un=i,Zu.transition=s}}function B3(t,e,n,r){var i=un,s=Zu.transition;Zu.transition=null;try{un=4,av(t,e,n,r)}finally{un=i,Zu.transition=s}}function av(t,e,n,r){if(yp){var i=j1(t,e,n,r);if(i===null)Ag(t,e,r,_p,n),Vy(t,r);else if(F3(i,t,e,n,r))r.stopPropagation();else if(Vy(t,r),e&4&&-1<M3.indexOf(t)){for(;i!==null;){var s=Ed(i);if(s!==null&&cx(s),s=j1(t,e,n,r),s===null&&Ag(t,e,r,_p,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ag(t,e,r,null,n)}}var _p=null;function j1(t,e,n,r){if(_p=null,t=nv(r),t=Wl(t),t!==null)if(e=fu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _p=t,null}function mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k3()){case rv:return 1;case ax:return 4;case gp:case T3:return 16;case ox:return 536870912;default:return 16}default:return 16}}var Vo=null,ov=null,zf=null;function gx(){if(zf)return zf;var t,e=ov,n=e.length,r,i="value"in Vo?Vo.value:Vo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return zf=i.slice(t,1<r?1-r:void 0)}function qf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pf(){return!0}function By(){return!1}function Ji(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pf:By,this.isPropagationStopped=By,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),e}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=Ji(Nc),Ad=Fn({},Nc,{view:0,detail:0}),z3=Ji(Ad),pg,mg,lh,am=Fn({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lh&&(lh&&t.type==="mousemove"?(pg=t.screenX-lh.screenX,mg=t.screenY-lh.screenY):mg=pg=0,lh=t),pg)},movementY:function(t){return"movementY"in t?t.movementY:mg}}),zy=Ji(am),q3=Fn({},am,{dataTransfer:0}),$3=Ji(q3),W3=Fn({},Ad,{relatedTarget:0}),gg=Ji(W3),H3=Fn({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),G3=Ji(H3),K3=Fn({},Nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q3=Ji(K3),J3=Fn({},Nc,{data:0}),qy=Ji(J3),Y3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z3[t])?!!e[t]:!1}function uv(){return eI}var tI=Fn({},Ad,{key:function(t){if(t.key){var e=Y3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(t){return t.type==="keypress"?qf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nI=Ji(tI),rI=Fn({},am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=Ji(rI),iI=Fn({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),sI=Ji(iI),aI=Fn({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),oI=Ji(aI),lI=Fn({},am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uI=Ji(lI),cI=[9,13,27,32],cv=za&&"CompositionEvent"in window,kh=null;za&&"documentMode"in document&&(kh=document.documentMode);var hI=za&&"TextEvent"in window&&!kh,vx=za&&(!cv||kh&&8<kh&&11>=kh),Wy=" ",Hy=!1;function yx(t,e){switch(t){case"keyup":return cI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mu=!1;function dI(t,e){switch(t){case"compositionend":return _x(e);case"keypress":return e.which!==32?null:(Hy=!0,Wy);case"textInput":return t=e.data,t===Wy&&Hy?null:t;default:return null}}function fI(t,e){if(Mu)return t==="compositionend"||!cv&&yx(t,e)?(t=gx(),zf=ov=Vo=null,Mu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vx&&e.locale!=="ko"?null:e.data;default:return null}}var pI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pI[t.type]:e==="textarea"}function wx(t,e,n,r){Yb(r),e=wp(e,"onChange"),0<e.length&&(n=new lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Th=null,Kh=null;function mI(t){Cx(t,0)}function om(t){var e=Uu(t);if($b(e))return t}function gI(t,e){if(t==="change")return e}var bx=!1;if(za){var vg;if(za){var yg="oninput"in document;if(!yg){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),yg=typeof Ky.oninput=="function"}vg=yg}else vg=!1;bx=vg&&(!document.documentMode||9<document.documentMode)}function Qy(){Th&&(Th.detachEvent("onpropertychange",xx),Kh=Th=null)}function xx(t){if(t.propertyName==="value"&&om(Kh)){var e=[];wx(e,Kh,t,nv(t)),tx(mI,e)}}function vI(t,e,n){t==="focusin"?(Qy(),Th=e,Kh=n,Th.attachEvent("onpropertychange",xx)):t==="focusout"&&Qy()}function yI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(Kh)}function _I(t,e){if(t==="click")return om(e)}function wI(t,e){if(t==="input"||t==="change")return om(e)}function bI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rs=typeof Object.is=="function"?Object.is:bI;function Qh(t,e){if(Rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g1.call(e,i)||!Rs(t[i],e[i]))return!1}return!0}function Jy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yy(t,e){var n=Jy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jy(n)}}function Ax(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ax(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ex(){for(var t=window,e=fp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fp(t.document)}return e}function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xI(t){var e=Ex(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ax(n.ownerDocument.documentElement,n)){if(r!==null&&hv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Yy(n,s);var a=Yy(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AI=za&&"documentMode"in document&&11>=document.documentMode,Fu=null,D1=null,Ph=null,O1=!1;function Xy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;O1||Fu==null||Fu!==fp(r)||(r=Fu,"selectionStart"in r&&hv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ph&&Qh(Ph,r)||(Ph=r,r=wp(D1,"onSelect"),0<r.length&&(e=new lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fu)))}function mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vu={animationend:mf("Animation","AnimationEnd"),animationiteration:mf("Animation","AnimationIteration"),animationstart:mf("Animation","AnimationStart"),transitionend:mf("Transition","TransitionEnd")},_g={},Sx={};za&&(Sx=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function lm(t){if(_g[t])return _g[t];if(!Vu[t])return t;var e=Vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sx)return _g[t]=e[n];return t}var Nx=lm("animationend"),Ix=lm("animationiteration"),kx=lm("animationstart"),Tx=lm("transitionend"),Px=new Map,Zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(t,e){Px.set(t,e),du(e,[t])}for(var wg=0;wg<Zy.length;wg++){var bg=Zy[wg],EI=bg.toLowerCase(),SI=bg[0].toUpperCase()+bg.slice(1);dl(EI,"on"+SI)}dl(Nx,"onAnimationEnd");dl(Ix,"onAnimationIteration");dl(kx,"onAnimationStart");dl("dblclick","onDoubleClick");dl("focusin","onFocus");dl("focusout","onBlur");dl(Tx,"onTransitionEnd");cc("onMouseEnter",["mouseout","mouseover"]);cc("onMouseLeave",["mouseout","mouseover"]);cc("onPointerEnter",["pointerout","pointerover"]);cc("onPointerLeave",["pointerout","pointerover"]);du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));du("onBeforeInput",["compositionend","keypress","textInput","paste"]);du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NI=new Set("cancel close invalid load scroll toggle".split(" ").concat(_h));function e5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E3(r,e,void 0,t),t.currentTarget=null}function Cx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;e5(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;e5(i,o,u),s=l}}}if(mp)throw t=C1,mp=!1,C1=null,t}function xn(t,e){var n=e[B1];n===void 0&&(n=e[B1]=new Set);var r=t+"__bubble";n.has(r)||(Lx(e,t,2,!1),n.add(r))}function xg(t,e,n){var r=0;e&&(r|=4),Lx(n,t,r,e)}var gf="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[gf]){t[gf]=!0,Vb.forEach(function(n){n!=="selectionchange"&&(NI.has(n)||xg(n,!1,t),xg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gf]||(e[gf]=!0,xg("selectionchange",!1,e))}}function Lx(t,e,n,r){switch(mx(e)){case 1:var i=U3;break;case 4:i=B3;break;default:i=av}n=i.bind(null,e,n,t),i=void 0,!P1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ag(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Wl(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}tx(function(){var u=s,d=nv(n),g=[];e:{var _=Px.get(t);if(_!==void 0){var m=lv,C=t;switch(t){case"keypress":if(qf(n)===0)break e;case"keydown":case"keyup":m=nI;break;case"focusin":C="focus",m=gg;break;case"focusout":C="blur",m=gg;break;case"beforeblur":case"afterblur":m=gg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sI;break;case Nx:case Ix:case kx:m=G3;break;case Tx:m=oI;break;case"scroll":m=z3;break;case"wheel":m=uI;break;case"copy":case"cut":case"paste":m=Q3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$y}var I=(e&4)!==0,L=!I&&t==="scroll",x=I?_!==null?_+"Capture":null:_;I=[];for(var T=u,j;T!==null;){j=T;var U=j.stateNode;if(j.tag===5&&U!==null&&(j=U,x!==null&&(U=$h(T,x),U!=null&&I.push(Yh(T,U,j)))),L)break;T=T.return}0<I.length&&(_=new m(_,C,null,n,d),g.push({event:_,listeners:I}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",_&&n!==k1&&(C=n.relatedTarget||n.fromElement)&&(Wl(C)||C[qa]))break e;if((m||_)&&(_=d.window===d?d:(_=d.ownerDocument)?_.defaultView||_.parentWindow:window,m?(C=n.relatedTarget||n.toElement,m=u,C=C?Wl(C):null,C!==null&&(L=fu(C),C!==L||C.tag!==5&&C.tag!==6)&&(C=null)):(m=null,C=u),m!==C)){if(I=zy,U="onMouseLeave",x="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(I=$y,U="onPointerLeave",x="onPointerEnter",T="pointer"),L=m==null?_:Uu(m),j=C==null?_:Uu(C),_=new I(U,T+"leave",m,n,d),_.target=L,_.relatedTarget=j,U=null,Wl(d)===u&&(I=new I(x,T+"enter",C,n,d),I.target=j,I.relatedTarget=L,U=I),L=U,m&&C)t:{for(I=m,x=C,T=0,j=I;j;j=Su(j))T++;for(j=0,U=x;U;U=Su(U))j++;for(;0<T-j;)I=Su(I),T--;for(;0<j-T;)x=Su(x),j--;for(;T--;){if(I===x||x!==null&&I===x.alternate)break t;I=Su(I),x=Su(x)}I=null}else I=null;m!==null&&t5(g,_,m,I,!1),C!==null&&L!==null&&t5(g,L,C,I,!0)}}e:{if(_=u?Uu(u):window,m=_.nodeName&&_.nodeName.toLowerCase(),m==="select"||m==="input"&&_.type==="file")var ne=gI;else if(Gy(_))if(bx)ne=wI;else{ne=yI;var M=vI}else(m=_.nodeName)&&m.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(ne=_I);if(ne&&(ne=ne(t,u))){wx(g,ne,n,d);break e}M&&M(t,_,u),t==="focusout"&&(M=_._wrapperState)&&M.controlled&&_.type==="number"&&A1(_,"number",_.value)}switch(M=u?Uu(u):window,t){case"focusin":(Gy(M)||M.contentEditable==="true")&&(Fu=M,D1=u,Ph=null);break;case"focusout":Ph=D1=Fu=null;break;case"mousedown":O1=!0;break;case"contextmenu":case"mouseup":case"dragend":O1=!1,Xy(g,n,d);break;case"selectionchange":if(AI)break;case"keydown":case"keyup":Xy(g,n,d)}var V;if(cv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Mu?yx(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(vx&&n.locale!=="ko"&&(Mu||S!=="onCompositionStart"?S==="onCompositionEnd"&&Mu&&(V=gx()):(Vo=d,ov="value"in Vo?Vo.value:Vo.textContent,Mu=!0)),M=wp(u,S),0<M.length&&(S=new qy(S,t,null,n,d),g.push({event:S,listeners:M}),V?S.data=V:(V=_x(n),V!==null&&(S.data=V)))),(V=hI?dI(t,n):fI(t,n))&&(u=wp(u,"onBeforeInput"),0<u.length&&(d=new qy("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:u}),d.data=V))}Cx(g,e)})}function Yh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$h(t,n),s!=null&&r.unshift(Yh(t,s,i)),s=$h(t,e),s!=null&&r.push(Yh(t,s,i))),t=t.return}return r}function Su(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t5(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=$h(n,s),l!=null&&a.unshift(Yh(n,l,o))):i||(l=$h(n,s),l!=null&&a.push(Yh(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var II=/\r\n?/g,kI=/\u0000|\uFFFD/g;function n5(t){return(typeof t=="string"?t:""+t).replace(II,`
`).replace(kI,"")}function vf(t,e,n){if(e=n5(e),n5(t)!==e&&n)throw Error(Oe(425))}function bp(){}var M1=null,F1=null;function V1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U1=typeof setTimeout=="function"?setTimeout:void 0,TI=typeof clearTimeout=="function"?clearTimeout:void 0,r5=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof r5<"u"?function(t){return r5.resolve(null).then(t).catch(CI)}:U1;function CI(t){setTimeout(function(){throw t})}function Eg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gh(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),sa="__reactFiber$"+Ic,Xh="__reactProps$"+Ic,qa="__reactContainer$"+Ic,B1="__reactEvents$"+Ic,LI="__reactListeners$"+Ic,RI="__reactHandles$"+Ic;function Wl(t){var e=t[sa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qa]||n[sa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i5(t);t!==null;){if(n=t[sa])return n;t=i5(t)}return e}t=n,n=t.parentNode}return null}function Ed(t){return t=t[sa]||t[qa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function um(t){return t[Xh]||null}var z1=[],Bu=-1;function fl(t){return{current:t}}function Nn(t){0>Bu||(t.current=z1[Bu],z1[Bu]=null,Bu--)}function yn(t,e){Bu++,z1[Bu]=t.current,t.current=e}var sl={},ei=fl(sl),bi=fl(!1),Zl=sl;function hc(t,e){var n=t.type.contextTypes;if(!n)return sl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xi(t){return t=t.childContextTypes,t!=null}function xp(){Nn(bi),Nn(ei)}function s5(t,e,n){if(ei.current!==sl)throw Error(Oe(168));yn(ei,e),yn(bi,n)}function Rx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,v3(t)||"Unknown",i));return Fn({},n,r)}function Ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sl,Zl=ei.current,yn(ei,t),yn(bi,bi.current),!0}function a5(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=Rx(t,e,Zl),r.__reactInternalMemoizedMergedChildContext=t,Nn(bi),Nn(ei),yn(ei,t)):Nn(bi),yn(bi,n)}var Ra=null,cm=!1,Sg=!1;function jx(t){Ra===null?Ra=[t]:Ra.push(t)}function jI(t){cm=!0,jx(t)}function pl(){if(!Sg&&Ra!==null){Sg=!0;var t=0,e=un;try{var n=Ra;for(un=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ra=null,cm=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(t+1)),sx(rv,pl),i}finally{un=e,Sg=!1}}return null}var zu=[],qu=0,Ep=null,Sp=0,ss=[],as=0,eu=null,Da=1,Oa="";function Ul(t,e){zu[qu++]=Sp,zu[qu++]=Ep,Ep=t,Sp=e}function Dx(t,e,n){ss[as++]=Da,ss[as++]=Oa,ss[as++]=eu,eu=t;var r=Da;t=Oa;var i=32-Cs(r)-1;r&=~(1<<i),n+=1;var s=32-Cs(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Da=1<<32-Cs(e)+i|n<<i|r,Oa=s+t}else Da=1<<s|n<<i|r,Oa=t}function dv(t){t.return!==null&&(Ul(t,1),Dx(t,1,0))}function fv(t){for(;t===Ep;)Ep=zu[--qu],zu[qu]=null,Sp=zu[--qu],zu[qu]=null;for(;t===eu;)eu=ss[--as],ss[as]=null,Oa=ss[--as],ss[as]=null,Da=ss[--as],ss[as]=null}var Gi=null,$i=null,Cn=!1,Ts=null;function Ox(t,e){var n=os(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gi=t,$i=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gi=t,$i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eu!==null?{id:Da,overflow:Oa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=os(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gi=t,$i=null,!0):!1;default:return!1}}function q1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $1(t){if(Cn){var e=$i;if(e){var n=e;if(!o5(t,e)){if(q1(t))throw Error(Oe(418));e=Go(n.nextSibling);var r=Gi;e&&o5(t,e)?Ox(r,n):(t.flags=t.flags&-4097|2,Cn=!1,Gi=t)}}else{if(q1(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Cn=!1,Gi=t}}}function l5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gi=t}function yf(t){if(t!==Gi)return!1;if(!Cn)return l5(t),Cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!V1(t.type,t.memoizedProps)),e&&(e=$i)){if(q1(t))throw Mx(),Error(Oe(418));for(;e;)Ox(t,e),e=Go(e.nextSibling)}if(l5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$i=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$i=null}}else $i=Gi?Go(t.stateNode.nextSibling):null;return!0}function Mx(){for(var t=$i;t;)t=Go(t.nextSibling)}function dc(){$i=Gi=null,Cn=!1}function pv(t){Ts===null?Ts=[t]:Ts.push(t)}var DI=Xa.ReactCurrentBatchConfig;function uh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function _f(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function u5(t){var e=t._init;return e(t._payload)}function Fx(t){function e(x,T){if(t){var j=x.deletions;j===null?(x.deletions=[T],x.flags|=16):j.push(T)}}function n(x,T){if(!t)return null;for(;T!==null;)e(x,T),T=T.sibling;return null}function r(x,T){for(x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function i(x,T){return x=Yo(x,T),x.index=0,x.sibling=null,x}function s(x,T,j){return x.index=j,t?(j=x.alternate,j!==null?(j=j.index,j<T?(x.flags|=2,T):j):(x.flags|=2,T)):(x.flags|=1048576,T)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,T,j,U){return T===null||T.tag!==6?(T=Lg(j,x.mode,U),T.return=x,T):(T=i(T,j),T.return=x,T)}function l(x,T,j,U){var ne=j.type;return ne===Ou?d(x,T,j.props.children,U,j.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Co&&u5(ne)===T.type)?(U=i(T,j.props),U.ref=uh(x,T,j),U.return=x,U):(U=Jf(j.type,j.key,j.props,null,x.mode,U),U.ref=uh(x,T,j),U.return=x,U)}function u(x,T,j,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==j.containerInfo||T.stateNode.implementation!==j.implementation?(T=Rg(j,x.mode,U),T.return=x,T):(T=i(T,j.children||[]),T.return=x,T)}function d(x,T,j,U,ne){return T===null||T.tag!==7?(T=Jl(j,x.mode,U,ne),T.return=x,T):(T=i(T,j),T.return=x,T)}function g(x,T,j){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Lg(""+T,x.mode,j),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lf:return j=Jf(T.type,T.key,T.props,null,x.mode,j),j.ref=uh(x,null,T),j.return=x,j;case Du:return T=Rg(T,x.mode,j),T.return=x,T;case Co:var U=T._init;return g(x,U(T._payload),j)}if(vh(T)||ih(T))return T=Jl(T,x.mode,j,null),T.return=x,T;_f(x,T)}return null}function _(x,T,j,U){var ne=T!==null?T.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ne!==null?null:o(x,T,""+j,U);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case lf:return j.key===ne?l(x,T,j,U):null;case Du:return j.key===ne?u(x,T,j,U):null;case Co:return ne=j._init,_(x,T,ne(j._payload),U)}if(vh(j)||ih(j))return ne!==null?null:d(x,T,j,U,null);_f(x,j)}return null}function m(x,T,j,U,ne){if(typeof U=="string"&&U!==""||typeof U=="number")return x=x.get(j)||null,o(T,x,""+U,ne);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case lf:return x=x.get(U.key===null?j:U.key)||null,l(T,x,U,ne);case Du:return x=x.get(U.key===null?j:U.key)||null,u(T,x,U,ne);case Co:var M=U._init;return m(x,T,j,M(U._payload),ne)}if(vh(U)||ih(U))return x=x.get(j)||null,d(T,x,U,ne,null);_f(T,U)}return null}function C(x,T,j,U){for(var ne=null,M=null,V=T,S=T=0,N=null;V!==null&&S<j.length;S++){V.index>S?(N=V,V=null):N=V.sibling;var R=_(x,V,j[S],U);if(R===null){V===null&&(V=N);break}t&&V&&R.alternate===null&&e(x,V),T=s(R,T,S),M===null?ne=R:M.sibling=R,M=R,V=N}if(S===j.length)return n(x,V),Cn&&Ul(x,S),ne;if(V===null){for(;S<j.length;S++)V=g(x,j[S],U),V!==null&&(T=s(V,T,S),M===null?ne=V:M.sibling=V,M=V);return Cn&&Ul(x,S),ne}for(V=r(x,V);S<j.length;S++)N=m(V,x,S,j[S],U),N!==null&&(t&&N.alternate!==null&&V.delete(N.key===null?S:N.key),T=s(N,T,S),M===null?ne=N:M.sibling=N,M=N);return t&&V.forEach(function(b){return e(x,b)}),Cn&&Ul(x,S),ne}function I(x,T,j,U){var ne=ih(j);if(typeof ne!="function")throw Error(Oe(150));if(j=ne.call(j),j==null)throw Error(Oe(151));for(var M=ne=null,V=T,S=T=0,N=null,R=j.next();V!==null&&!R.done;S++,R=j.next()){V.index>S?(N=V,V=null):N=V.sibling;var b=_(x,V,R.value,U);if(b===null){V===null&&(V=N);break}t&&V&&b.alternate===null&&e(x,V),T=s(b,T,S),M===null?ne=b:M.sibling=b,M=b,V=N}if(R.done)return n(x,V),Cn&&Ul(x,S),ne;if(V===null){for(;!R.done;S++,R=j.next())R=g(x,R.value,U),R!==null&&(T=s(R,T,S),M===null?ne=R:M.sibling=R,M=R);return Cn&&Ul(x,S),ne}for(V=r(x,V);!R.done;S++,R=j.next())R=m(V,x,S,R.value,U),R!==null&&(t&&R.alternate!==null&&V.delete(R.key===null?S:R.key),T=s(R,T,S),M===null?ne=R:M.sibling=R,M=R);return t&&V.forEach(function(E){return e(x,E)}),Cn&&Ul(x,S),ne}function L(x,T,j,U){if(typeof j=="object"&&j!==null&&j.type===Ou&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case lf:e:{for(var ne=j.key,M=T;M!==null;){if(M.key===ne){if(ne=j.type,ne===Ou){if(M.tag===7){n(x,M.sibling),T=i(M,j.props.children),T.return=x,x=T;break e}}else if(M.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Co&&u5(ne)===M.type){n(x,M.sibling),T=i(M,j.props),T.ref=uh(x,M,j),T.return=x,x=T;break e}n(x,M);break}else e(x,M);M=M.sibling}j.type===Ou?(T=Jl(j.props.children,x.mode,U,j.key),T.return=x,x=T):(U=Jf(j.type,j.key,j.props,null,x.mode,U),U.ref=uh(x,T,j),U.return=x,x=U)}return a(x);case Du:e:{for(M=j.key;T!==null;){if(T.key===M)if(T.tag===4&&T.stateNode.containerInfo===j.containerInfo&&T.stateNode.implementation===j.implementation){n(x,T.sibling),T=i(T,j.children||[]),T.return=x,x=T;break e}else{n(x,T);break}else e(x,T);T=T.sibling}T=Rg(j,x.mode,U),T.return=x,x=T}return a(x);case Co:return M=j._init,L(x,T,M(j._payload),U)}if(vh(j))return C(x,T,j,U);if(ih(j))return I(x,T,j,U);_f(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,T!==null&&T.tag===6?(n(x,T.sibling),T=i(T,j),T.return=x,x=T):(n(x,T),T=Lg(j,x.mode,U),T.return=x,x=T),a(x)):n(x,T)}return L}var fc=Fx(!0),Vx=Fx(!1),Np=fl(null),Ip=null,$u=null,mv=null;function gv(){mv=$u=Ip=null}function vv(t){var e=Np.current;Nn(Np),t._currentValue=e}function W1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ec(t,e){Ip=t,mv=$u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wi=!0),t.firstContext=null)}function hs(t){var e=t._currentValue;if(mv!==t)if(t={context:t,memoizedValue:e,next:null},$u===null){if(Ip===null)throw Error(Oe(308));$u=t,Ip.dependencies={lanes:0,firstContext:t}}else $u=$u.next=t;return e}var Hl=null;function yv(t){Hl===null?Hl=[t]:Hl.push(t)}function Ux(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,$a(t,r)}function $a(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lo=!1;function _v(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ua(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$a(t,n)}return i=r.interleaved,i===null?(e.next=e,yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,$a(t,n)}function $f(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}function c5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kp(t,e,n,r){var i=t.updateQueue;Lo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;a=0,d=u=l=null,o=s;do{var _=o.lane,m=o.eventTime;if((r&_)===_){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=t,I=o;switch(_=e,m=n,I.tag){case 1:if(C=I.payload,typeof C=="function"){g=C.call(m,g,_);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=I.payload,_=typeof C=="function"?C.call(m,g,_):C,_==null)break e;g=Fn({},g,_);break e;case 2:Lo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[o]:_.push(o))}else m={eventTime:m,lane:_,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=g):d=d.next=m,a|=_;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;_=o,o=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(d===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nu|=a,t.lanes=a,t.memoizedState=g}}function h5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var Sd={},la=fl(Sd),Zh=fl(Sd),ed=fl(Sd);function Gl(t){if(t===Sd)throw Error(Oe(174));return t}function wv(t,e){switch(yn(ed,e),yn(Zh,t),yn(la,Sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=S1(e,t)}Nn(la),yn(la,e)}function pc(){Nn(la),Nn(Zh),Nn(ed)}function zx(t){Gl(ed.current);var e=Gl(la.current),n=S1(e,t.type);e!==n&&(yn(Zh,t),yn(la,n))}function bv(t){Zh.current===t&&(Nn(la),Nn(Zh))}var On=fl(0);function Tp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function xv(){for(var t=0;t<Ng.length;t++)Ng[t]._workInProgressVersionPrimary=null;Ng.length=0}var Wf=Xa.ReactCurrentDispatcher,Ig=Xa.ReactCurrentBatchConfig,tu=0,Mn=null,fr=null,wr=null,Pp=!1,Ch=!1,td=0,OI=0;function zr(){throw Error(Oe(321))}function Av(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rs(t[n],e[n]))return!1;return!0}function Ev(t,e,n,r,i,s){if(tu=s,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wf.current=t===null||t.memoizedState===null?UI:BI,t=n(r,i),Ch){s=0;do{if(Ch=!1,td=0,25<=s)throw Error(Oe(301));s+=1,wr=fr=null,e.updateQueue=null,Wf.current=zI,t=n(r,i)}while(Ch)}if(Wf.current=Cp,e=fr!==null&&fr.next!==null,tu=0,wr=fr=Mn=null,Pp=!1,e)throw Error(Oe(300));return t}function Sv(){var t=td!==0;return td=0,t}function ia(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Mn.memoizedState=wr=t:wr=wr.next=t,wr}function ds(){if(fr===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=fr.next;var e=wr===null?Mn.memoizedState:wr.next;if(e!==null)wr=e,fr=t;else{if(t===null)throw Error(Oe(310));fr=t,t={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},wr===null?Mn.memoizedState=wr=t:wr=wr.next=t}return wr}function nd(t,e){return typeof e=="function"?e(t):e}function kg(t){var e=ds(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=fr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((tu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=g,a=r):l=l.next=g,Mn.lanes|=d,nu|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Rs(r,e.memoizedState)||(wi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Mn.lanes|=s,nu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tg(t){var e=ds(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Rs(s,e.memoizedState)||(wi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qx(){}function $x(t,e){var n=Mn,r=ds(),i=e(),s=!Rs(r.memoizedState,i);if(s&&(r.memoizedState=i,wi=!0),r=r.queue,Nv(Gx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,rd(9,Hx.bind(null,n,r,i,e),void 0,null),Ar===null)throw Error(Oe(349));tu&30||Wx(n,e,i)}return i}function Wx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hx(t,e,n,r){e.value=n,e.getSnapshot=r,Kx(e)&&Qx(t)}function Gx(t,e,n){return n(function(){Kx(e)&&Qx(t)})}function Kx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rs(t,n)}catch{return!0}}function Qx(t){var e=$a(t,1);e!==null&&Ls(e,t,1,-1)}function d5(t){var e=ia();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:t},e.queue=t,t=t.dispatch=VI.bind(null,Mn,t),[e.memoizedState,t]}function rd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jx(){return ds().memoizedState}function Hf(t,e,n,r){var i=ia();Mn.flags|=t,i.memoizedState=rd(1|e,n,void 0,r===void 0?null:r)}function hm(t,e,n,r){var i=ds();r=r===void 0?null:r;var s=void 0;if(fr!==null){var a=fr.memoizedState;if(s=a.destroy,r!==null&&Av(r,a.deps)){i.memoizedState=rd(e,n,s,r);return}}Mn.flags|=t,i.memoizedState=rd(1|e,n,s,r)}function f5(t,e){return Hf(8390656,8,t,e)}function Nv(t,e){return hm(2048,8,t,e)}function Yx(t,e){return hm(4,2,t,e)}function Xx(t,e){return hm(4,4,t,e)}function Zx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eA(t,e,n){return n=n!=null?n.concat([t]):null,hm(4,4,Zx.bind(null,e,t),n)}function Iv(){}function tA(t,e){var n=ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nA(t,e){var n=ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rA(t,e,n){return tu&21?(Rs(n,e)||(n=lx(),Mn.lanes|=n,nu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wi=!0),t.memoizedState=n)}function MI(t,e){var n=un;un=n!==0&&4>n?n:4,t(!0);var r=Ig.transition;Ig.transition={};try{t(!1),e()}finally{un=n,Ig.transition=r}}function iA(){return ds().memoizedState}function FI(t,e,n){var r=Jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sA(t))aA(e,n);else if(n=Ux(t,e,n,r),n!==null){var i=ui();Ls(n,t,r,i),oA(n,e,r)}}function VI(t,e,n){var r=Jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sA(t))aA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Rs(o,a)){var l=e.interleaved;l===null?(i.next=i,yv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ux(t,e,i,r),n!==null&&(i=ui(),Ls(n,t,r,i),oA(n,e,r))}}function sA(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function aA(t,e){Ch=Pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}var Cp={readContext:hs,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},UI={readContext:hs,useCallback:function(t,e){return ia().memoizedState=[t,e===void 0?null:e],t},useContext:hs,useEffect:f5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hf(4194308,4,Zx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hf(4,2,t,e)},useMemo:function(t,e){var n=ia();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ia();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FI.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=ia();return t={current:t},e.memoizedState=t},useState:d5,useDebugValue:Iv,useDeferredValue:function(t){return ia().memoizedState=t},useTransition:function(){var t=d5(!1),e=t[0];return t=MI.bind(null,t[1]),ia().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,i=ia();if(Cn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Ar===null)throw Error(Oe(349));tu&30||Wx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,f5(Gx.bind(null,r,s,t),[t]),r.flags|=2048,rd(9,Hx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ia(),e=Ar.identifierPrefix;if(Cn){var n=Oa,r=Da;n=(r&~(1<<32-Cs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=td++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BI={readContext:hs,useCallback:tA,useContext:hs,useEffect:Nv,useImperativeHandle:eA,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:nA,useReducer:kg,useRef:Jx,useState:function(){return kg(nd)},useDebugValue:Iv,useDeferredValue:function(t){var e=ds();return rA(e,fr.memoizedState,t)},useTransition:function(){var t=kg(nd)[0],e=ds().memoizedState;return[t,e]},useMutableSource:qx,useSyncExternalStore:$x,useId:iA,unstable_isNewReconciler:!1},zI={readContext:hs,useCallback:tA,useContext:hs,useEffect:Nv,useImperativeHandle:eA,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:nA,useReducer:Tg,useRef:Jx,useState:function(){return Tg(nd)},useDebugValue:Iv,useDeferredValue:function(t){var e=ds();return fr===null?e.memoizedState=t:rA(e,fr.memoizedState,t)},useTransition:function(){var t=Tg(nd)[0],e=ds().memoizedState;return[t,e]},useMutableSource:qx,useSyncExternalStore:$x,useId:iA,unstable_isNewReconciler:!1};function Is(t,e){if(t&&t.defaultProps){e=Fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function H1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dm={isMounted:function(t){return(t=t._reactInternals)?fu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ui(),i=Jo(t),s=Ua(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ko(t,s,i),e!==null&&(Ls(e,t,i,r),$f(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ui(),i=Jo(t),s=Ua(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ko(t,s,i),e!==null&&(Ls(e,t,i,r),$f(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ui(),r=Jo(t),i=Ua(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ko(t,i,r),e!==null&&(Ls(e,t,r,n),$f(e,t,r))}};function p5(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Qh(n,r)||!Qh(i,s):!0}function lA(t,e,n){var r=!1,i=sl,s=e.contextType;return typeof s=="object"&&s!==null?s=hs(s):(i=xi(e)?Zl:ei.current,r=e.contextTypes,s=(r=r!=null)?hc(t,i):sl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function m5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dm.enqueueReplaceState(e,e.state,null)}function G1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_v(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hs(s):(s=xi(e)?Zl:ei.current,i.context=hc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(H1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dm.enqueueReplaceState(i,i.state,null),kp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mc(t,e){try{var n="",r=e;do n+=g3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function K1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function uA(t,e,n){n=Ua(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rp||(Rp=!0,i0=r),K1(t,e)},n}function cA(t,e,n){n=Ua(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){K1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){K1(t,e),typeof r!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function g5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rk.bind(null,t,e,n),e.then(t,t))}function v5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function y5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ua(-1,1),e.tag=2,Ko(n,e,1))),n.lanes|=1),t)}var $I=Xa.ReactCurrentOwner,wi=!1;function li(t,e,n,r){e.child=t===null?Vx(e,null,n,r):fc(e,t.child,n,r)}function _5(t,e,n,r,i){n=n.render;var s=e.ref;return ec(e,i),r=Ev(t,e,n,r,s,i),n=Sv(),t!==null&&!wi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wa(t,e,i)):(Cn&&n&&dv(e),e.flags|=1,li(t,e,r,i),e.child)}function w5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Dv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hA(t,e,s,r,i)):(t=Jf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qh,n(a,r)&&t.ref===e.ref)return Wa(t,e,i)}return e.flags|=1,t=Yo(s,r),t.ref=e.ref,t.return=e,e.child=t}function hA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qh(s,r)&&t.ref===e.ref)if(wi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wi=!0);else return e.lanes=t.lanes,Wa(t,e,i)}return Q1(t,e,n,r,i)}function dA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Hu,zi),zi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(Hu,zi),zi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(Hu,zi),zi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(Hu,zi),zi|=r;return li(t,e,i,n),e.child}function fA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Q1(t,e,n,r,i){var s=xi(n)?Zl:ei.current;return s=hc(e,s),ec(e,i),n=Ev(t,e,n,r,s,i),r=Sv(),t!==null&&!wi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wa(t,e,i)):(Cn&&r&&dv(e),e.flags|=1,li(t,e,n,i),e.child)}function b5(t,e,n,r,i){if(xi(n)){var s=!0;Ap(e)}else s=!1;if(ec(e,i),e.stateNode===null)Gf(t,e),lA(e,n,r),G1(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=hs(u):(u=xi(n)?Zl:ei.current,u=hc(e,u));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&m5(e,a,r,u),Lo=!1;var _=e.memoizedState;a.state=_,kp(e,r,a,i),l=e.memoizedState,o!==r||_!==l||bi.current||Lo?(typeof d=="function"&&(H1(e,n,d,r),l=e.memoizedState),(o=Lo||p5(e,n,o,r,_,l,u))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Bx(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Is(e.type,o),a.props=u,g=e.pendingProps,_=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=hs(l):(l=xi(n)?Zl:ei.current,l=hc(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||_!==l)&&m5(e,a,r,l),Lo=!1,_=e.memoizedState,a.state=_,kp(e,r,a,i);var C=e.memoizedState;o!==g||_!==C||bi.current||Lo?(typeof m=="function"&&(H1(e,n,m,r),C=e.memoizedState),(u=Lo||p5(e,n,u,r,_,C,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),a.props=r,a.state=C,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return J1(t,e,n,r,s,i)}function J1(t,e,n,r,i,s){fA(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&a5(e,n,!1),Wa(t,e,s);r=e.stateNode,$I.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=fc(e,t.child,null,s),e.child=fc(e,null,o,s)):li(t,e,o,s),e.memoizedState=r.state,i&&a5(e,n,!0),e.child}function pA(t){var e=t.stateNode;e.pendingContext?s5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&s5(t,e.context,!1),wv(t,e.containerInfo)}function x5(t,e,n,r,i){return dc(),pv(i),e.flags|=256,li(t,e,n,r),e.child}var Y1={dehydrated:null,treeContext:null,retryLane:0};function X1(t){return{baseLanes:t,cachePool:null,transitions:null}}function mA(t,e,n){var r=e.pendingProps,i=On.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(On,i&1),t===null)return $1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mm(a,r,0,null),t=Jl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=X1(n),e.memoizedState=Y1,t):kv(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return WI(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Yo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Yo(o,s):(s=Jl(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?X1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Y1,r}return s=t.child,t=s.sibling,r=Yo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kv(t,e){return e=mm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wf(t,e,n,r){return r!==null&&pv(r),fc(e,t.child,null,n),t=kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WI(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Pg(Error(Oe(422))),wf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mm({mode:"visible",children:r.children},i,0,null),s=Jl(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fc(e,t.child,null,a),e.child.memoizedState=X1(a),e.memoizedState=Y1,s);if(!(e.mode&1))return wf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Oe(419)),r=Pg(s,r,void 0),wf(t,e,a,r)}if(o=(a&t.childLanes)!==0,wi||o){if(r=Ar,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$a(t,i),Ls(r,t,i,-1))}return jv(),r=Pg(Error(Oe(421))),wf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ik.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$i=Go(i.nextSibling),Gi=e,Cn=!0,Ts=null,t!==null&&(ss[as++]=Da,ss[as++]=Oa,ss[as++]=eu,Da=t.id,Oa=t.overflow,eu=e),e=kv(e,r.children),e.flags|=4096,e)}function A5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),W1(t.return,e,n)}function Cg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(li(t,e,r.children,n),r=On.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A5(t,n,e);else if(t.tag===19)A5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(On,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cg(e,!0,n,null,s);break;case"together":Cg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Yo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HI(t,e,n){switch(e.tag){case 3:pA(e),dc();break;case 5:zx(e);break;case 1:xi(e.type)&&Ap(e);break;case 4:wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(Np,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(On,On.current&1),e.flags|=128,null):n&e.child.childLanes?mA(t,e,n):(yn(On,On.current&1),t=Wa(t,e,n),t!==null?t.sibling:null);yn(On,On.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(On,On.current),r)break;return null;case 22:case 23:return e.lanes=0,dA(t,e,n)}return Wa(t,e,n)}var vA,Z1,yA,_A;vA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Z1=function(){};yA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gl(la.current);var s=null;switch(n){case"input":i=b1(t,i),r=b1(t,r),s=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),s=[];break;case"textarea":i=E1(t,i),r=E1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bp)}N1(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};_A=function(t,e,n,r){n!==r&&(e.flags|=4)};function ch(t,e){if(!Cn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GI(t,e,n){var r=e.pendingProps;switch(fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return xi(e.type)&&xp(),qr(e),null;case 3:return r=e.stateNode,pc(),Nn(bi),Nn(ei),xv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ts!==null&&(o0(Ts),Ts=null))),Z1(t,e),qr(e),null;case 5:bv(e);var i=Gl(ed.current);if(n=e.type,t!==null&&e.stateNode!=null)yA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return qr(e),null}if(t=Gl(la.current),yf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sa]=e,r[Xh]=s,t=(e.mode&1)!==0,n){case"dialog":xn("cancel",r),xn("close",r);break;case"iframe":case"object":case"embed":xn("load",r);break;case"video":case"audio":for(i=0;i<_h.length;i++)xn(_h[i],r);break;case"source":xn("error",r);break;case"img":case"image":case"link":xn("error",r),xn("load",r);break;case"details":xn("toggle",r);break;case"input":Ly(r,s),xn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xn("invalid",r);break;case"textarea":jy(r,s),xn("invalid",r)}N1(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&vf(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&vf(r.textContent,o,t),i=["children",""+o]):zh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&xn("scroll",r)}switch(n){case"input":uf(r),Ry(r,s,!0);break;case"textarea":uf(r),Dy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[sa]=e,t[Xh]=r,vA(t,e,!1,!1),e.stateNode=t;e:{switch(a=I1(n,r),n){case"dialog":xn("cancel",t),xn("close",t),i=r;break;case"iframe":case"object":case"embed":xn("load",t),i=r;break;case"video":case"audio":for(i=0;i<_h.length;i++)xn(_h[i],t);i=r;break;case"source":xn("error",t),i=r;break;case"img":case"image":case"link":xn("error",t),xn("load",t),i=r;break;case"details":xn("toggle",t),i=r;break;case"input":Ly(t,r),i=b1(t,r),xn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),xn("invalid",t);break;case"textarea":jy(t,r),i=E1(t,r),xn("invalid",t);break;default:i=r}N1(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Jb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qh(t,l):typeof l=="number"&&qh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xn("scroll",t):l!=null&&X0(t,s,l,a))}switch(n){case"input":uf(t),Ry(t,r,!1);break;case"textarea":uf(t),Dy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+il(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ju(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ju(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(t&&e.stateNode!=null)_A(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=Gl(ed.current),Gl(la.current),yf(e)){if(r=e.stateNode,n=e.memoizedProps,r[sa]=e,(s=r.nodeValue!==n)&&(t=Gi,t!==null))switch(t.tag){case 3:vf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sa]=e,e.stateNode=r}return qr(e),null;case 13:if(Nn(On),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Cn&&$i!==null&&e.mode&1&&!(e.flags&128))Mx(),dc(),e.flags|=98560,s=!1;else if(s=yf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[sa]=e}else dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else Ts!==null&&(o0(Ts),Ts=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||On.current&1?pr===0&&(pr=3):jv())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return pc(),Z1(t,e),t===null&&Jh(e.stateNode.containerInfo),qr(e),null;case 10:return vv(e.type._context),qr(e),null;case 17:return xi(e.type)&&xp(),qr(e),null;case 19:if(Nn(On),s=e.memoizedState,s===null)return qr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)ch(s,!1);else{if(pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Tp(t),a!==null){for(e.flags|=128,ch(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(On,On.current&1|2),e.child}t=t.sibling}s.tail!==null&&Zn()>gc&&(e.flags|=128,r=!0,ch(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ch(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Cn)return qr(e),null}else 2*Zn()-s.renderingStartTime>gc&&n!==1073741824&&(e.flags|=128,r=!0,ch(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zn(),e.sibling=null,n=On.current,yn(On,r?n&1|2:n&1),e):(qr(e),null);case 22:case 23:return Rv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zi&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function KI(t,e){switch(fv(e),e.tag){case 1:return xi(e.type)&&xp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pc(),Nn(bi),Nn(ei),xv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bv(e),null;case 13:if(Nn(On),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nn(On),null;case 4:return pc(),null;case 10:return vv(e.type._context),null;case 22:case 23:return Rv(),null;case 24:return null;default:return null}}var bf=!1,Jr=!1,QI=typeof WeakSet=="function"?WeakSet:Set,He=null;function Wu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wn(t,e,r)}else n.current=null}function e0(t,e,n){try{n()}catch(r){Wn(t,e,r)}}var E5=!1;function JI(t,e){if(M1=yp,t=Ex(),hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,g=t,_=null;t:for(;;){for(var m;g!==n||i!==0&&g.nodeType!==3||(o=a+i),g!==s||r!==0&&g.nodeType!==3||(l=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(m=g.firstChild)!==null;)_=g,g=m;for(;;){if(g===t)break t;if(_===n&&++u===i&&(o=a),_===s&&++d===r&&(l=a),(m=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(F1={focusedElem:t,selectionRange:n},yp=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var I=C.memoizedProps,L=C.memoizedState,x=e.stateNode,T=x.getSnapshotBeforeUpdate(e.elementType===e.type?I:Is(e.type,I),L);x.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(U){Wn(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return C=E5,E5=!1,C}function Lh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&e0(e,n,s)}i=i.next}while(i!==r)}}function fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function t0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wA(t){var e=t.alternate;e!==null&&(t.alternate=null,wA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sa],delete e[Xh],delete e[B1],delete e[LI],delete e[RI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bA(t){return t.tag===5||t.tag===3||t.tag===4}function S5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bp));else if(r!==4&&(t=t.child,t!==null))for(n0(t,e,n),t=t.sibling;t!==null;)n0(t,e,n),t=t.sibling}function r0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(r0(t,e,n),t=t.sibling;t!==null;)r0(t,e,n),t=t.sibling}var Pr=null,ks=!1;function Io(t,e,n){for(n=n.child;n!==null;)xA(t,e,n),n=n.sibling}function xA(t,e,n){if(oa&&typeof oa.onCommitFiberUnmount=="function")try{oa.onCommitFiberUnmount(sm,n)}catch{}switch(n.tag){case 5:Jr||Wu(n,e);case 6:var r=Pr,i=ks;Pr=null,Io(t,e,n),Pr=r,ks=i,Pr!==null&&(ks?(t=Pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(ks?(t=Pr,n=n.stateNode,t.nodeType===8?Eg(t.parentNode,n):t.nodeType===1&&Eg(t,n),Gh(t)):Eg(Pr,n.stateNode));break;case 4:r=Pr,i=ks,Pr=n.stateNode.containerInfo,ks=!0,Io(t,e,n),Pr=r,ks=i;break;case 0:case 11:case 14:case 15:if(!Jr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&e0(n,e,a),i=i.next}while(i!==r)}Io(t,e,n);break;case 1:if(!Jr&&(Wu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Wn(n,e,o)}Io(t,e,n);break;case 21:Io(t,e,n);break;case 22:n.mode&1?(Jr=(r=Jr)||n.memoizedState!==null,Io(t,e,n),Jr=r):Io(t,e,n);break;default:Io(t,e,n)}}function N5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QI),e.forEach(function(r){var i=sk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function As(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pr=o.stateNode,ks=!1;break e;case 3:Pr=o.stateNode.containerInfo,ks=!0;break e;case 4:Pr=o.stateNode.containerInfo,ks=!0;break e}o=o.return}if(Pr===null)throw Error(Oe(160));xA(s,a,i),Pr=null,ks=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Wn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AA(e,t),e=e.sibling}function AA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(As(e,t),ta(t),r&4){try{Lh(3,t,t.return),fm(3,t)}catch(I){Wn(t,t.return,I)}try{Lh(5,t,t.return)}catch(I){Wn(t,t.return,I)}}break;case 1:As(e,t),ta(t),r&512&&n!==null&&Wu(n,n.return);break;case 5:if(As(e,t),ta(t),r&512&&n!==null&&Wu(n,n.return),t.flags&32){var i=t.stateNode;try{qh(i,"")}catch(I){Wn(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Wb(i,s),I1(o,a);var u=I1(o,s);for(a=0;a<l.length;a+=2){var d=l[a],g=l[a+1];d==="style"?Jb(i,g):d==="dangerouslySetInnerHTML"?Kb(i,g):d==="children"?qh(i,g):X0(i,d,g,u)}switch(o){case"input":x1(i,s);break;case"textarea":Hb(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ju(i,!!s.multiple,m,!1):_!==!!s.multiple&&(s.defaultValue!=null?Ju(i,!!s.multiple,s.defaultValue,!0):Ju(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xh]=s}catch(I){Wn(t,t.return,I)}}break;case 6:if(As(e,t),ta(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Wn(t,t.return,I)}}break;case 3:if(As(e,t),ta(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gh(e.containerInfo)}catch(I){Wn(t,t.return,I)}break;case 4:As(e,t),ta(t);break;case 13:As(e,t),ta(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cv=Zn())),r&4&&N5(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Jr=(u=Jr)||d,As(e,t),Jr=u):As(e,t),ta(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(He=t,d=t.child;d!==null;){for(g=He=d;He!==null;){switch(_=He,m=_.child,_.tag){case 0:case 11:case 14:case 15:Lh(4,_,_.return);break;case 1:Wu(_,_.return);var C=_.stateNode;if(typeof C.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(I){Wn(r,n,I)}}break;case 5:Wu(_,_.return);break;case 22:if(_.memoizedState!==null){k5(g);continue}}m!==null?(m.return=_,He=m):k5(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Qb("display",a))}catch(I){Wn(t,t.return,I)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(I){Wn(t,t.return,I)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:As(e,t),ta(t),r&4&&N5(t);break;case 21:break;default:As(e,t),ta(t)}}function ta(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bA(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qh(i,""),r.flags&=-33);var s=S5(t);r0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=S5(t);n0(t,o,a);break;default:throw Error(Oe(161))}}catch(l){Wn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YI(t,e,n){He=t,EA(t)}function EA(t,e,n){for(var r=(t.mode&1)!==0;He!==null;){var i=He,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||bf;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Jr;o=bf;var u=Jr;if(bf=a,(Jr=l)&&!u)for(He=i;He!==null;)a=He,l=a.child,a.tag===22&&a.memoizedState!==null?T5(i):l!==null?(l.return=a,He=l):T5(i);for(;s!==null;)He=s,EA(s),s=s.sibling;He=i,bf=o,Jr=u}I5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,He=s):I5(t)}}function I5(t){for(;He!==null;){var e=He;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jr||fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Is(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&h5(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h5(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&Gh(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Jr||e.flags&512&&t0(e)}catch(_){Wn(e,e.return,_)}}if(e===t){He=null;break}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}}function k5(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var n=e.sibling;if(n!==null){n.return=e.return,He=n;break}He=e.return}}function T5(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fm(4,e)}catch(l){Wn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Wn(e,i,l)}}var s=e.return;try{t0(e)}catch(l){Wn(e,s,l)}break;case 5:var a=e.return;try{t0(e)}catch(l){Wn(e,a,l)}}}catch(l){Wn(e,e.return,l)}if(e===t){He=null;break}var o=e.sibling;if(o!==null){o.return=e.return,He=o;break}He=e.return}}var XI=Math.ceil,Lp=Xa.ReactCurrentDispatcher,Tv=Xa.ReactCurrentOwner,ls=Xa.ReactCurrentBatchConfig,Qt=0,Ar=null,or=null,Rr=0,zi=0,Hu=fl(0),pr=0,id=null,nu=0,pm=0,Pv=0,Rh=null,yi=null,Cv=0,gc=1/0,La=null,Rp=!1,i0=null,Qo=null,xf=!1,Uo=null,jp=0,jh=0,s0=null,Kf=-1,Qf=0;function ui(){return Qt&6?Zn():Kf!==-1?Kf:Kf=Zn()}function Jo(t){return t.mode&1?Qt&2&&Rr!==0?Rr&-Rr:DI.transition!==null?(Qf===0&&(Qf=lx()),Qf):(t=un,t!==0||(t=window.event,t=t===void 0?16:mx(t.type)),t):1}function Ls(t,e,n,r){if(50<jh)throw jh=0,s0=null,Error(Oe(185));xd(t,n,r),(!(Qt&2)||t!==Ar)&&(t===Ar&&(!(Qt&2)&&(pm|=n),pr===4&&jo(t,Rr)),Ai(t,r),n===1&&Qt===0&&!(e.mode&1)&&(gc=Zn()+500,cm&&pl()))}function Ai(t,e){var n=t.callbackNode;D3(t,e);var r=vp(t,t===Ar?Rr:0);if(r===0)n!==null&&Fy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fy(n),e===1)t.tag===0?jI(P5.bind(null,t)):jx(P5.bind(null,t)),PI(function(){!(Qt&6)&&pl()}),n=null;else{switch(ux(r)){case 1:n=rv;break;case 4:n=ax;break;case 16:n=gp;break;case 536870912:n=ox;break;default:n=gp}n=LA(n,SA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function SA(t,e){if(Kf=-1,Qf=0,Qt&6)throw Error(Oe(327));var n=t.callbackNode;if(tc()&&t.callbackNode!==n)return null;var r=vp(t,t===Ar?Rr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dp(t,r);else{e=r;var i=Qt;Qt|=2;var s=IA();(Ar!==t||Rr!==e)&&(La=null,gc=Zn()+500,Ql(t,e));do try{tk();break}catch(o){NA(t,o)}while(!0);gv(),Lp.current=s,Qt=i,or!==null?e=0:(Ar=null,Rr=0,e=pr)}if(e!==0){if(e===2&&(i=L1(t),i!==0&&(r=i,e=a0(t,i))),e===1)throw n=id,Ql(t,0),jo(t,r),Ai(t,Zn()),n;if(e===6)jo(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZI(i)&&(e=Dp(t,r),e===2&&(s=L1(t),s!==0&&(r=s,e=a0(t,s))),e===1))throw n=id,Ql(t,0),jo(t,r),Ai(t,Zn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:Bl(t,yi,La);break;case 3:if(jo(t,r),(r&130023424)===r&&(e=Cv+500-Zn(),10<e)){if(vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ui(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=U1(Bl.bind(null,t,yi,La),e);break}Bl(t,yi,La);break;case 4:if(jo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Cs(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XI(r/1960))-r,10<r){t.timeoutHandle=U1(Bl.bind(null,t,yi,La),r);break}Bl(t,yi,La);break;case 5:Bl(t,yi,La);break;default:throw Error(Oe(329))}}}return Ai(t,Zn()),t.callbackNode===n?SA.bind(null,t):null}function a0(t,e){var n=Rh;return t.current.memoizedState.isDehydrated&&(Ql(t,e).flags|=256),t=Dp(t,e),t!==2&&(e=yi,yi=n,e!==null&&o0(e)),t}function o0(t){yi===null?yi=t:yi.push.apply(yi,t)}function ZI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jo(t,e){for(e&=~Pv,e&=~pm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cs(e),r=1<<n;t[n]=-1,e&=~r}}function P5(t){if(Qt&6)throw Error(Oe(327));tc();var e=vp(t,0);if(!(e&1))return Ai(t,Zn()),null;var n=Dp(t,e);if(t.tag!==0&&n===2){var r=L1(t);r!==0&&(e=r,n=a0(t,r))}if(n===1)throw n=id,Ql(t,0),jo(t,e),Ai(t,Zn()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bl(t,yi,La),Ai(t,Zn()),null}function Lv(t,e){var n=Qt;Qt|=1;try{return t(e)}finally{Qt=n,Qt===0&&(gc=Zn()+500,cm&&pl())}}function ru(t){Uo!==null&&Uo.tag===0&&!(Qt&6)&&tc();var e=Qt;Qt|=1;var n=ls.transition,r=un;try{if(ls.transition=null,un=1,t)return t()}finally{un=r,ls.transition=n,Qt=e,!(Qt&6)&&pl()}}function Rv(){zi=Hu.current,Nn(Hu)}function Ql(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TI(n)),or!==null)for(n=or.return;n!==null;){var r=n;switch(fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xp();break;case 3:pc(),Nn(bi),Nn(ei),xv();break;case 5:bv(r);break;case 4:pc();break;case 13:Nn(On);break;case 19:Nn(On);break;case 10:vv(r.type._context);break;case 22:case 23:Rv()}n=n.return}if(Ar=t,or=t=Yo(t.current,null),Rr=zi=e,pr=0,id=null,Pv=pm=nu=0,yi=Rh=null,Hl!==null){for(e=0;e<Hl.length;e++)if(n=Hl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Hl=null}return t}function NA(t,e){do{var n=or;try{if(gv(),Wf.current=Cp,Pp){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pp=!1}if(tu=0,wr=fr=Mn=null,Ch=!1,td=0,Tv.current=null,n===null||n.return===null){pr=1,id=e,or=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Rr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var _=d.alternate;_?(d.updateQueue=_.updateQueue,d.memoizedState=_.memoizedState,d.lanes=_.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=v5(a);if(m!==null){m.flags&=-257,y5(m,a,o,s,e),m.mode&1&&g5(s,u,e),e=m,l=u;var C=e.updateQueue;if(C===null){var I=new Set;I.add(l),e.updateQueue=I}else C.add(l);break e}else{if(!(e&1)){g5(s,u,e),jv();break e}l=Error(Oe(426))}}else if(Cn&&o.mode&1){var L=v5(a);if(L!==null){!(L.flags&65536)&&(L.flags|=256),y5(L,a,o,s,e),pv(mc(l,o));break e}}s=l=mc(l,o),pr!==4&&(pr=2),Rh===null?Rh=[s]:Rh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=uA(s,l,e);c5(s,x);break e;case 1:o=l;var T=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Qo===null||!Qo.has(j)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=cA(s,o,e);c5(s,U);break e}}s=s.return}while(s!==null)}TA(n)}catch(ne){e=ne,or===n&&n!==null&&(or=n=n.return);continue}break}while(!0)}function IA(){var t=Lp.current;return Lp.current=Cp,t===null?Cp:t}function jv(){(pr===0||pr===3||pr===2)&&(pr=4),Ar===null||!(nu&268435455)&&!(pm&268435455)||jo(Ar,Rr)}function Dp(t,e){var n=Qt;Qt|=2;var r=IA();(Ar!==t||Rr!==e)&&(La=null,Ql(t,e));do try{ek();break}catch(i){NA(t,i)}while(!0);if(gv(),Qt=n,Lp.current=r,or!==null)throw Error(Oe(261));return Ar=null,Rr=0,pr}function ek(){for(;or!==null;)kA(or)}function tk(){for(;or!==null&&!N3();)kA(or)}function kA(t){var e=CA(t.alternate,t,zi);t.memoizedProps=t.pendingProps,e===null?TA(t):or=e,Tv.current=null}function TA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KI(n,e),n!==null){n.flags&=32767,or=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pr=6,or=null;return}}else if(n=GI(n,e,zi),n!==null){or=n;return}if(e=e.sibling,e!==null){or=e;return}or=e=t}while(e!==null);pr===0&&(pr=5)}function Bl(t,e,n){var r=un,i=ls.transition;try{ls.transition=null,un=1,nk(t,e,n,r)}finally{ls.transition=i,un=r}return null}function nk(t,e,n,r){do tc();while(Uo!==null);if(Qt&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(O3(t,s),t===Ar&&(or=Ar=null,Rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xf||(xf=!0,LA(gp,function(){return tc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ls.transition,ls.transition=null;var a=un;un=1;var o=Qt;Qt|=4,Tv.current=null,JI(t,n),AA(n,t),xI(F1),yp=!!M1,F1=M1=null,t.current=n,YI(n),I3(),Qt=o,un=a,ls.transition=s}else t.current=n;if(xf&&(xf=!1,Uo=t,jp=i),s=t.pendingLanes,s===0&&(Qo=null),P3(n.stateNode),Ai(t,Zn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rp)throw Rp=!1,t=i0,i0=null,t;return jp&1&&t.tag!==0&&tc(),s=t.pendingLanes,s&1?t===s0?jh++:(jh=0,s0=t):jh=0,pl(),null}function tc(){if(Uo!==null){var t=ux(jp),e=ls.transition,n=un;try{if(ls.transition=null,un=16>t?16:t,Uo===null)var r=!1;else{if(t=Uo,Uo=null,jp=0,Qt&6)throw Error(Oe(331));var i=Qt;for(Qt|=4,He=t.current;He!==null;){var s=He,a=s.child;if(He.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(He=u;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:Lh(8,d,s)}var g=d.child;if(g!==null)g.return=d,He=g;else for(;He!==null;){d=He;var _=d.sibling,m=d.return;if(wA(d),d===u){He=null;break}if(_!==null){_.return=m,He=_;break}He=m}}}var C=s.alternate;if(C!==null){var I=C.child;if(I!==null){C.child=null;do{var L=I.sibling;I.sibling=null,I=L}while(I!==null)}}He=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,He=a;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lh(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,He=x;break e}He=s.return}}var T=t.current;for(He=T;He!==null;){a=He;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,He=j;else e:for(a=T;He!==null;){if(o=He,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fm(9,o)}}catch(ne){Wn(o,o.return,ne)}if(o===a){He=null;break e}var U=o.sibling;if(U!==null){U.return=o.return,He=U;break e}He=o.return}}if(Qt=i,pl(),oa&&typeof oa.onPostCommitFiberRoot=="function")try{oa.onPostCommitFiberRoot(sm,t)}catch{}r=!0}return r}finally{un=n,ls.transition=e}}return!1}function C5(t,e,n){e=mc(n,e),e=uA(t,e,1),t=Ko(t,e,1),e=ui(),t!==null&&(xd(t,1,e),Ai(t,e))}function Wn(t,e,n){if(t.tag===3)C5(t,t,n);else for(;e!==null;){if(e.tag===3){C5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qo===null||!Qo.has(r))){t=mc(n,t),t=cA(e,t,1),e=Ko(e,t,1),t=ui(),e!==null&&(xd(e,1,t),Ai(e,t));break}}e=e.return}}function rk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ui(),t.pingedLanes|=t.suspendedLanes&n,Ar===t&&(Rr&n)===n&&(pr===4||pr===3&&(Rr&130023424)===Rr&&500>Zn()-Cv?Ql(t,0):Pv|=n),Ai(t,e)}function PA(t,e){e===0&&(t.mode&1?(e=df,df<<=1,!(df&130023424)&&(df=4194304)):e=1);var n=ui();t=$a(t,e),t!==null&&(xd(t,e,n),Ai(t,n))}function ik(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PA(t,n)}function sk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),PA(t,n)}var CA;CA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bi.current)wi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wi=!1,HI(t,e,n);wi=!!(t.flags&131072)}else wi=!1,Cn&&e.flags&1048576&&Dx(e,Sp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gf(t,e),t=e.pendingProps;var i=hc(e,ei.current);ec(e,n),i=Ev(null,e,r,t,i,n);var s=Sv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xi(r)?(s=!0,Ap(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_v(e),i.updater=dm,e.stateNode=i,i._reactInternals=e,G1(e,r,t,n),e=J1(null,e,r,!0,s,n)):(e.tag=0,Cn&&s&&dv(e),li(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ok(r),t=Is(r,t),i){case 0:e=Q1(null,e,r,t,n);break e;case 1:e=b5(null,e,r,t,n);break e;case 11:e=_5(null,e,r,t,n);break e;case 14:e=w5(null,e,r,Is(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Is(r,i),Q1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Is(r,i),b5(t,e,r,i,n);case 3:e:{if(pA(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Bx(t,e),kp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=mc(Error(Oe(423)),e),e=x5(t,e,r,n,i);break e}else if(r!==i){i=mc(Error(Oe(424)),e),e=x5(t,e,r,n,i);break e}else for($i=Go(e.stateNode.containerInfo.firstChild),Gi=e,Cn=!0,Ts=null,n=Vx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dc(),r===i){e=Wa(t,e,n);break e}li(t,e,r,n)}e=e.child}return e;case 5:return zx(e),t===null&&$1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,V1(r,i)?a=null:s!==null&&V1(r,s)&&(e.flags|=32),fA(t,e),li(t,e,a,n),e.child;case 6:return t===null&&$1(e),null;case 13:return mA(t,e,n);case 4:return wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fc(e,null,r,n):li(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Is(r,i),_5(t,e,r,i,n);case 7:return li(t,e,e.pendingProps,n),e.child;case 8:return li(t,e,e.pendingProps.children,n),e.child;case 12:return li(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,yn(Np,r._currentValue),r._currentValue=a,s!==null)if(Rs(s.value,a)){if(s.children===i.children&&!bi.current){e=Wa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ua(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),W1(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Oe(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),W1(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}li(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ec(e,n),i=hs(i),r=r(i),e.flags|=1,li(t,e,r,n),e.child;case 14:return r=e.type,i=Is(r,e.pendingProps),i=Is(r.type,i),w5(t,e,r,i,n);case 15:return hA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Is(r,i),Gf(t,e),e.tag=1,xi(r)?(t=!0,Ap(e)):t=!1,ec(e,n),lA(e,r,i),G1(e,r,i,n),J1(null,e,r,!0,t,n);case 19:return gA(t,e,n);case 22:return dA(t,e,n)}throw Error(Oe(156,e.tag))};function LA(t,e){return sx(t,e)}function ak(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(t,e,n,r){return new ak(t,e,n,r)}function Dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ok(t){if(typeof t=="function")return Dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ev)return 11;if(t===tv)return 14}return 2}function Yo(t,e){var n=t.alternate;return n===null?(n=os(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jf(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Dv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ou:return Jl(n.children,i,s,e);case Z0:a=8,i|=8;break;case v1:return t=os(12,n,e,i|2),t.elementType=v1,t.lanes=s,t;case y1:return t=os(13,n,e,i),t.elementType=y1,t.lanes=s,t;case _1:return t=os(19,n,e,i),t.elementType=_1,t.lanes=s,t;case zb:return mm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ub:a=10;break e;case Bb:a=9;break e;case ev:a=11;break e;case tv:a=14;break e;case Co:a=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=os(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Jl(t,e,n,r){return t=os(7,t,r,e),t.lanes=n,t}function mm(t,e,n,r){return t=os(22,t,r,e),t.elementType=zb,t.lanes=n,t.stateNode={isHidden:!1},t}function Lg(t,e,n){return t=os(6,t,null,e),t.lanes=n,t}function Rg(t,e,n){return e=os(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fg(0),this.expirationTimes=fg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ov(t,e,n,r,i,s,a,o,l){return t=new lk(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=os(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(s),t}function uk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RA(t){if(!t)return sl;t=t._reactInternals;e:{if(fu(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(xi(n))return Rx(t,n,e)}return e}function jA(t,e,n,r,i,s,a,o,l){return t=Ov(n,r,!0,t,i,s,a,o,l),t.context=RA(null),n=t.current,r=ui(),i=Jo(n),s=Ua(r,i),s.callback=e??null,Ko(n,s,i),t.current.lanes=i,xd(t,i,r),Ai(t,r),t}function gm(t,e,n,r){var i=e.current,s=ui(),a=Jo(i);return n=RA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ua(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ko(i,e,a),t!==null&&(Ls(t,i,a,s),$f(t,i,a)),a}function Op(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function L5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mv(t,e){L5(t,e),(t=t.alternate)&&L5(t,e)}function ck(){return null}var DA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fv(t){this._internalRoot=t}vm.prototype.render=Fv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));gm(t,e,null,null)};vm.prototype.unmount=Fv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ru(function(){gm(null,t,null,null)}),e[qa]=null}};function vm(t){this._internalRoot=t}vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=dx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ro.length&&e!==0&&e<Ro[n].priority;n++);Ro.splice(n,0,t),n===0&&px(t)}};function Vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R5(){}function hk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Op(a);s.call(u)}}var a=jA(e,r,t,0,null,!1,!1,"",R5);return t._reactRootContainer=a,t[qa]=a.current,Jh(t.nodeType===8?t.parentNode:t),ru(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Op(l);o.call(u)}}var l=Ov(t,0,!1,null,null,!1,!1,"",R5);return t._reactRootContainer=l,t[qa]=l.current,Jh(t.nodeType===8?t.parentNode:t),ru(function(){gm(e,l,n,r)}),l}function _m(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Op(a);o.call(l)}}gm(e,a,t,i)}else a=hk(n,e,t,i,r);return Op(a)}cx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yh(e.pendingLanes);n!==0&&(iv(e,n|1),Ai(e,Zn()),!(Qt&6)&&(gc=Zn()+500,pl()))}break;case 13:ru(function(){var r=$a(t,1);if(r!==null){var i=ui();Ls(r,t,1,i)}}),Mv(t,1)}};sv=function(t){if(t.tag===13){var e=$a(t,134217728);if(e!==null){var n=ui();Ls(e,t,134217728,n)}Mv(t,134217728)}};hx=function(t){if(t.tag===13){var e=Jo(t),n=$a(t,e);if(n!==null){var r=ui();Ls(n,t,e,r)}Mv(t,e)}};dx=function(){return un};fx=function(t,e){var n=un;try{return un=t,e()}finally{un=n}};T1=function(t,e,n){switch(e){case"input":if(x1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=um(r);if(!i)throw Error(Oe(90));$b(r),x1(r,i)}}}break;case"textarea":Hb(t,n);break;case"select":e=n.value,e!=null&&Ju(t,!!n.multiple,e,!1)}};Zb=Lv;ex=ru;var dk={usingClientEntryPoint:!1,Events:[Ed,Uu,um,Yb,Xb,Lv]},hh={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fk={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rx(t),t===null?null:t.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||ck,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{sm=Af.inject(fk),oa=Af}catch{}}Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dk;Qi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(e))throw Error(Oe(200));return uk(t,e,null,n)};Qi.createRoot=function(t,e){if(!Vv(t))throw Error(Oe(299));var n=!1,r="",i=DA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ov(t,1,!1,null,null,n,!1,r,i),t[qa]=e.current,Jh(t.nodeType===8?t.parentNode:t),new Fv(e)};Qi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=rx(e),t=t===null?null:t.stateNode,t};Qi.flushSync=function(t){return ru(t)};Qi.hydrate=function(t,e,n){if(!ym(e))throw Error(Oe(200));return _m(null,t,e,!0,n)};Qi.hydrateRoot=function(t,e,n){if(!Vv(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=DA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=jA(e,null,t,1,n??null,i,!1,s,a),t[qa]=e.current,Jh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vm(e)};Qi.render=function(t,e,n){if(!ym(e))throw Error(Oe(200));return _m(null,t,e,!1,n)};Qi.unmountComponentAtNode=function(t){if(!ym(t))throw Error(Oe(40));return t._reactRootContainer?(ru(function(){_m(null,null,t,!1,function(){t._reactRootContainer=null,t[qa]=null})}),!0):!1};Qi.unstable_batchedUpdates=Lv;Qi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ym(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return _m(t,e,n,!1,r)};Qi.version="18.3.1-next-f1338f8080-20240426";function OA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OA)}catch(t){console.error(t)}}OA(),Ob.exports=Qi;var pk=Ob.exports,j5=pk;m1.createRoot=j5.createRoot,m1.hydrateRoot=j5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var Bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bo||(Bo={}));const D5="popstate";function mk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return l0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mp(i)}return vk(e,n,null,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gk(){return Math.random().toString(36).substr(2,8)}function O5(t,e){return{usr:t.state,key:t.key,idx:e}}function l0(t,e,n,r){return n===void 0&&(n=null),sd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kc(e):e,{state:n,key:e&&e.key||r||gk()})}function Mp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Bo.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(sd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function g(){o=Bo.Pop;let L=d(),x=L==null?null:L-u;u=L,l&&l({action:o,location:I.location,delta:x})}function _(L,x){o=Bo.Push;let T=l0(I.location,L,x);u=d()+1;let j=O5(T,u),U=I.createHref(T);try{a.pushState(j,"",U)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;i.location.assign(U)}s&&l&&l({action:o,location:I.location,delta:1})}function m(L,x){o=Bo.Replace;let T=l0(I.location,L,x);u=d();let j=O5(T,u),U=I.createHref(T);a.replaceState(j,"",U),s&&l&&l({action:o,location:I.location,delta:0})}function C(L){let x=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof L=="string"?L:Mp(L);return T=T.replace(/ $/,"%20"),rr(x,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,x)}let I={get action(){return o},get location(){return t(i,a)},listen(L){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(D5,g),l=L,()=>{i.removeEventListener(D5,g),l=null}},createHref(L){return e(i,L)},createURL:C,encodeLocation(L){let x=C(L);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:m,go(L){return a.go(L)}};return I}var M5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(M5||(M5={}));function yk(t,e,n){return n===void 0&&(n="/"),_k(t,e,n)}function _k(t,e,n,r){let i=typeof e=="string"?kc(e):e,s=Uv(i.pathname||"/",n);if(s==null)return null;let a=FA(t);wk(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Lk(s);o=Tk(a[l],u)}return o}function FA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(rr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Xo([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(rr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FA(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Ik(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of VA(s.path))i(s,a,l)}),e}function VA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=VA(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function wk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bk=/^:[\w-]+$/,xk=3,Ak=2,Ek=1,Sk=10,Nk=-2,F5=t=>t==="*";function Ik(t,e){let n=t.split("/"),r=n.length;return n.some(F5)&&(r+=Nk),e&&(r+=Ak),n.filter(i=>!F5(i)).reduce((i,s)=>i+(bk.test(s)?xk:s===""?Ek:Sk),r)}function kk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Tk(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=Pk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),_=l.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Xo([s,g.pathname]),pathnameBase:Ok(Xo([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Xo([s,g.pathnameBase]))}return a}function Pk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ck(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,g)=>{let{paramName:_,isOptional:m}=d;if(_==="*"){let I=o[g]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const C=o[g];return m&&!C?u[_]=void 0:u[_]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Ck(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),MA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Rk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?kc(t):t;return{pathname:n?n.startsWith("/")?n:jk(n,e):e,search:Mk(r),hash:Fk(i)}}function jk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bv(t,e){let n=Dk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=kc(t):(i=sd({},t),rr(!i.pathname||!i.pathname.includes("?"),jg("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),jg("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),jg("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}o=g>=0?e[g]:"/"}let l=Rk(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Xo=t=>t.join("/").replace(/\/\/+/g,"/"),Ok=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UA=["post","put","patch","delete"];new Set(UA);const Uk=["get",...UA];new Set(Uk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}const qv=le.createContext(null),Bk=le.createContext(null),ml=le.createContext(null),wm=le.createContext(null),Za=le.createContext({outlet:null,matches:[],isDataRoute:!1}),BA=le.createContext(null);function zk(t,e){let{relative:n}=e===void 0?{}:e;Tc()||rr(!1);let{basename:r,navigator:i}=le.useContext(ml),{hash:s,pathname:a,search:o}=qA(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Xo([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Tc(){return le.useContext(wm)!=null}function pu(){return Tc()||rr(!1),le.useContext(wm).location}function zA(t){le.useContext(ml).static||le.useLayoutEffect(t)}function Nd(){let{isDataRoute:t}=le.useContext(Za);return t?tT():qk()}function qk(){Tc()||rr(!1);let t=le.useContext(qv),{basename:e,future:n,navigator:r}=le.useContext(ml),{matches:i}=le.useContext(Za),{pathname:s}=pu(),a=JSON.stringify(Bv(i,n.v7_relativeSplatPath)),o=le.useRef(!1);return zA(()=>{o.current=!0}),le.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let g=zv(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xo([e,g.pathname])),(d.replace?r.replace:r.push)(g,d.state,d)},[e,r,a,s,t])}function Id(){let{matches:t}=le.useContext(Za),e=t[t.length-1];return e?e.params:{}}function qA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=le.useContext(ml),{matches:i}=le.useContext(Za),{pathname:s}=pu(),a=JSON.stringify(Bv(i,r.v7_relativeSplatPath));return le.useMemo(()=>zv(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function $k(t,e){return Wk(t,e)}function Wk(t,e,n,r){Tc()||rr(!1);let{navigator:i}=le.useContext(ml),{matches:s}=le.useContext(Za),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=pu(),d;if(e){var g;let L=typeof e=="string"?kc(e):e;l==="/"||(g=L.pathname)!=null&&g.startsWith(l)||rr(!1),d=L}else d=u;let _=d.pathname||"/",m=_;if(l!=="/"){let L=l.replace(/^\//,"").split("/");m="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=yk(t,{pathname:m}),I=Jk(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},o,L.params),pathname:Xo([l,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?l:Xo([l,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,r);return e&&I?le.createElement(wm.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bo.Pop}},I):I}function Hk(){let t=eT(),e=Vk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),n?le.createElement("pre",{style:i},n):null,null)}const Gk=le.createElement(Hk,null);class Kk extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?le.createElement(Za.Provider,{value:this.props.routeContext},le.createElement(BA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qk(t){let{routeContext:e,match:n,children:r}=t,i=le.useContext(qv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),le.createElement(Za.Provider,{value:e},r)}function Jk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);d>=0||rr(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:_,errors:m}=n,C=g.route.loader&&_[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||C){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,g,_)=>{let m,C=!1,I=null,L=null;n&&(m=o&&g.route.id?o[g.route.id]:void 0,I=g.route.errorElement||Gk,l&&(u<0&&_===0?(nT("route-fallback"),C=!0,L=null):u===_&&(C=!0,L=g.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,_+1)),T=()=>{let j;return m?j=I:C?j=L:g.route.Component?j=le.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=d,le.createElement(Qk,{match:g,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?le.createElement(Kk,{location:n.location,revalidation:n.revalidation,component:I,error:m,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):T()},null)}var $A=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($A||{}),WA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(WA||{});function Yk(t){let e=le.useContext(qv);return e||rr(!1),e}function Xk(t){let e=le.useContext(Bk);return e||rr(!1),e}function Zk(t){let e=le.useContext(Za);return e||rr(!1),e}function HA(t){let e=Zk(),n=e.matches[e.matches.length-1];return n.route.id||rr(!1),n.route.id}function eT(){var t;let e=le.useContext(BA),n=Xk(),r=HA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tT(){let{router:t}=Yk($A.UseNavigateStable),e=HA(WA.UseNavigateStable),n=le.useRef(!1);return zA(()=>{n.current=!0}),le.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ad({fromRouteId:e},s)))},[t,e])}const V5={};function nT(t,e,n){V5[t]||(V5[t]=!0)}function rT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function iT(t){let{to:e,replace:n,state:r,relative:i}=t;Tc()||rr(!1);let{future:s,static:a}=le.useContext(ml),{matches:o}=le.useContext(Za),{pathname:l}=pu(),u=Nd(),d=zv(e,Bv(o,s.v7_relativeSplatPath),l,i==="path"),g=JSON.stringify(d);return le.useEffect(()=>u(JSON.parse(g),{replace:n,state:r,relative:i}),[u,g,i,n,r]),null}function Bi(t){rr(!1)}function sT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bo.Pop,navigator:s,static:a=!1,future:o}=t;Tc()&&rr(!1);let l=e.replace(/^\/*/,"/"),u=le.useMemo(()=>({basename:l,navigator:s,static:a,future:ad({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=kc(r));let{pathname:d="/",search:g="",hash:_="",state:m=null,key:C="default"}=r,I=le.useMemo(()=>{let L=Uv(d,l);return L==null?null:{location:{pathname:L,search:g,hash:_,state:m,key:C},navigationType:i}},[l,d,g,_,m,C,i]);return I==null?null:le.createElement(ml.Provider,{value:u},le.createElement(wm.Provider,{children:n,value:I}))}function aT(t){let{children:e,location:n}=t;return $k(u0(e),n)}new Promise(()=>{});function u0(t,e){e===void 0&&(e=[]);let n=[];return le.Children.forEach(t,(r,i)=>{if(!le.isValidElement(r))return;let s=[...e,i];if(r.type===le.Fragment){n.push.apply(n,u0(r.props.children,s));return}r.type!==Bi&&rr(!1),!r.props.index||!r.props.children||rr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=u0(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}function oT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uT(t,e){return t.button===0&&(!e||e==="_self")&&!lT(t)}const cT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hT="6";try{window.__reactRouterVersion=hT}catch{}const dT="startTransition",U5=r3[dT];function fT(t){let{basename:e,children:n,future:r,window:i}=t,s=le.useRef();s.current==null&&(s.current=mk({window:i,v5Compat:!0}));let a=s.current,[o,l]=le.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=le.useCallback(g=>{u&&U5?U5(()=>l(g)):l(g)},[l,u]);return le.useLayoutEffect(()=>a.listen(d),[a,d]),le.useEffect(()=>rT(r),[r]),le.createElement(sT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xr=le.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:g}=e,_=oT(e,cT),{basename:m}=le.useContext(ml),C,I=!1;if(typeof u=="string"&&mT.test(u)&&(C=u,pT))try{let j=new URL(window.location.href),U=u.startsWith("//")?new URL(j.protocol+u):new URL(u),ne=Uv(U.pathname,m);U.origin===j.origin&&ne!=null?u=ne+U.search+U.hash:I=!0}catch{}let L=zk(u,{relative:i}),x=gT(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:g});function T(j){r&&r(j),j.defaultPrevented||x(j)}return le.createElement("a",c0({},_,{href:C||L,onClick:I||s?r:T,ref:n,target:l}))});var B5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(B5||(B5={}));var z5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(z5||(z5={}));function gT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Nd(),u=pu(),d=qA(t,{relative:a});return le.useCallback(g=>{if(uT(g,n)){g.preventDefault();let _=r!==void 0?r:Mp(u)===Mp(d);l(t,{replace:_,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,t,s,a,o])}var q5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},KA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,g=(s&3)<<4|o>>4;let _=(o&15)<<2|u>>6,m=u&63;l||(m=64,a||(_=64)),r.push(n[d],n[g],n[_],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||g==null)throw new yT;const _=s<<2|o>>4;if(r.push(_),u!==64){const m=o<<4&240|u>>2;if(r.push(m),g!==64){const C=u<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _T=function(t){const e=GA(t);return KA.encodeByteArray(e,!0)},Fp=function(t){return _T(t).replace(/\./g,"")},QA=function(t){try{return KA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=()=>wT().__FIREBASE_DEFAULTS__,xT=()=>{if(typeof process>"u"||typeof q5>"u")return;const t=q5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QA(t[1]);return e&&JSON.parse(e)},bm=()=>{try{return bT()||xT()||AT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JA=t=>{var e,n;return(n=(e=bm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ET=t=>{const e=JA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YA=()=>{var t;return(t=bm())===null||t===void 0?void 0:t.config},XA=t=>{var e;return(e=bm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fp(JSON.stringify(n)),Fp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function kT(){var t;const e=(t=bm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LT(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RT(){return!kT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jT(){try{return typeof indexedDB=="object"}catch{return!1}}function DT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OT,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kd.prototype.create)}}class kd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?MT(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new eo(i,o,r)}}function MT(t,e){return t.replace(FT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FT=/\{\$([^}]+)}/g;function VT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if($5(s)&&$5(a)){if(!Vp(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UT(t,e){const n=new BT(t,e);return n.subscribe.bind(n)}class BT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dg),i.error===void 0&&(i.error=Dg),i.complete===void 0&&(i.complete=Dg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){return t&&t._delegate?t._delegate:t}class iu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ST;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WT(e))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zl){return this.instances.has(e)}getOptions(e=zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$T(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zl){return this.component?this.component.multipleInstances?e:zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $T(t){return t===zl?void 0:t}function WT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const GT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},KT=qt.INFO,QT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},JT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $v{constructor(e){this.name=e,this._logLevel=KT,this._logHandler=JT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const YT=(t,e)=>e.some(n=>t instanceof n);let W5,H5;function XT(){return W5||(W5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZT(){return H5||(H5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZA=new WeakMap,h0=new WeakMap,e4=new WeakMap,Og=new WeakMap,Wv=new WeakMap;function e6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Zo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ZA.set(n,t)}).catch(()=>{}),Wv.set(e,t),e}function t6(t){if(h0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});h0.set(t,e)}let d0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return h0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n6(t){d0=t(d0)}function r6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mg(this),e,...n);return e4.set(r,e.sort?e.sort():[e]),Zo(r)}:ZT().includes(t)?function(...e){return t.apply(Mg(this),e),Zo(ZA.get(this))}:function(...e){return Zo(t.apply(Mg(this),e))}}function i6(t){return typeof t=="function"?r6(t):(t instanceof IDBTransaction&&t6(t),YT(t,XT())?new Proxy(t,d0):t)}function Zo(t){if(t instanceof IDBRequest)return e6(t);if(Og.has(t))return Og.get(t);const e=i6(t);return e!==t&&(Og.set(t,e),Wv.set(e,t)),e}const Mg=t=>Wv.get(t);function s6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Zo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Zo(a.result),l.oldVersion,l.newVersion,Zo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const a6=["get","getKey","getAll","getAllKeys","count"],o6=["put","add","delete","clear"],Fg=new Map;function G5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=o6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||a6.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Fg.set(e,s),s}n6(t=>({...t,get:(e,n,r)=>G5(e,n)||t.get(e,n,r),has:(e,n)=>!!G5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const f0="@firebase/app",K5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new $v("@firebase/app"),c6="@firebase/app-compat",h6="@firebase/analytics-compat",d6="@firebase/analytics",f6="@firebase/app-check-compat",p6="@firebase/app-check",m6="@firebase/auth",g6="@firebase/auth-compat",v6="@firebase/database",y6="@firebase/data-connect",_6="@firebase/database-compat",w6="@firebase/functions",b6="@firebase/functions-compat",x6="@firebase/installations",A6="@firebase/installations-compat",E6="@firebase/messaging",S6="@firebase/messaging-compat",N6="@firebase/performance",I6="@firebase/performance-compat",k6="@firebase/remote-config",T6="@firebase/remote-config-compat",P6="@firebase/storage",C6="@firebase/storage-compat",L6="@firebase/firestore",R6="@firebase/vertexai-preview",j6="@firebase/firestore-compat",D6="firebase",O6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="[DEFAULT]",M6={[f0]:"fire-core",[c6]:"fire-core-compat",[d6]:"fire-analytics",[h6]:"fire-analytics-compat",[p6]:"fire-app-check",[f6]:"fire-app-check-compat",[m6]:"fire-auth",[g6]:"fire-auth-compat",[v6]:"fire-rtdb",[y6]:"fire-data-connect",[_6]:"fire-rtdb-compat",[w6]:"fire-fn",[b6]:"fire-fn-compat",[x6]:"fire-iid",[A6]:"fire-iid-compat",[E6]:"fire-fcm",[S6]:"fire-fcm-compat",[N6]:"fire-perf",[I6]:"fire-perf-compat",[k6]:"fire-rc",[T6]:"fire-rc-compat",[P6]:"fire-gcs",[C6]:"fire-gcs-compat",[L6]:"fire-fst",[j6]:"fire-fst-compat",[R6]:"fire-vertex","fire-js":"fire-js",[D6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Map,F6=new Map,m0=new Map;function Q5(t,e){try{t.container.addComponent(e)}catch(n){Ha.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vc(t){const e=t.name;if(m0.has(e))return Ha.debug(`There were multiple attempts to register component ${e}.`),!1;m0.set(e,t);for(const n of od.values())Q5(n,t);for(const n of F6.values())Q5(n,t);return!0}function Hv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ps(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},el=new kd("app","Firebase",V6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw el.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=O6;function t4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:p0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw el.create("bad-app-name",{appName:String(i)});if(n||(n=YA()),!n)throw el.create("no-options");const s=od.get(i);if(s){if(Vp(n,s.options)&&Vp(r,s.config))return s;throw el.create("duplicate-app",{appName:i})}const a=new HT(i);for(const l of m0.values())a.addComponent(l);const o=new U6(n,r,a);return od.set(i,o),o}function Gv(t=p0){const e=od.get(t);if(!e&&t===p0&&YA())return t4();if(!e)throw el.create("no-app",{appName:t});return e}function B6(){return Array.from(od.values())}function tl(t,e,n){var r;let i=(r=M6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ha.warn(o.join(" "));return}vc(new iu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="firebase-heartbeat-database",q6=1,ld="firebase-heartbeat-store";let Vg=null;function n4(){return Vg||(Vg=s6(z6,q6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ld)}catch(n){console.warn(n)}}}}).catch(t=>{throw el.create("idb-open",{originalErrorMessage:t.message})})),Vg}async function $6(t){try{const n=(await n4()).transaction(ld),r=await n.objectStore(ld).get(r4(t));return await n.done,r}catch(e){if(e instanceof eo)Ha.warn(e.message);else{const n=el.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ha.warn(n.message)}}}async function J5(t,e){try{const r=(await n4()).transaction(ld,"readwrite");await r.objectStore(ld).put(e,r4(t)),await r.done}catch(n){if(n instanceof eo)Ha.warn(n.message);else{const r=el.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ha.warn(r.message)}}}function r4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=1024,H6=30*24*60*60*1e3;class G6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=H6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ha.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y5(),{heartbeatsToSend:r,unsentEntries:i}=K6(this._heartbeatsCache.heartbeats),s=Fp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ha.warn(n),""}}}function Y5(){return new Date().toISOString().substring(0,10)}function K6(t,e=W6){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),X5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jT()?DT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X5(t){return Fp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){vc(new iu("platform-logger",e=>new l6(e),"PRIVATE")),vc(new iu("heartbeat",e=>new G6(e),"PRIVATE")),tl(f0,K5,t),tl(f0,K5,"esm2017"),tl("fire-js","")}J6("");var Y6="firebase",X6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tl(Y6,X6,"app");function Kv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z6=i4,s4=new kd("auth","Firebase",i4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new $v("@firebase/auth");function eP(t,...e){Up.logLevel<=qt.WARN&&Up.warn(`Auth (${Pc}): ${t}`,...e)}function Yf(t,...e){Up.logLevel<=qt.ERROR&&Up.error(`Auth (${Pc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t,...e){throw Qv(t,...e)}function ua(t,...e){return Qv(t,...e)}function a4(t,e,n){const r=Object.assign(Object.assign({},Z6()),{[e]:n});return new kd("auth","Firebase",r).create(e,{appName:t.name})}function ca(t){return a4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s4.create(t,...e)}function yt(t,e,...n){if(!t)throw Qv(e,...n)}function Ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function Ga(t,e){t||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tP(){return Z5()==="http:"||Z5()==="https:"}function Z5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tP()||PT()||"connection"in navigator)?navigator.onLine:!0}function rP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ga(n>e,"Short delay should be less than long delay!"),this.isMobile=IT()||CT()}get(){return nP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){Ga(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Pd(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function no(t,e,n,r,i={}){return l4(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Td(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return TT()||(u.referrerPolicy="no-referrer"),o4.fetch()(u4(t,t.config.apiHost,n,o),u)})}async function l4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iP),e);try{const i=new oP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Ef(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Ef(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw a4(t,d,u);js(t,d)}}catch(i){if(i instanceof eo)throw i;js(t,"network-request-failed",{message:String(i)})}}async function Cd(t,e,n,r,i={}){const s=await no(t,e,n,r,i);return"mfaPendingCredential"in s&&js(t,"multi-factor-auth-required",{_serverResponse:s}),s}function u4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Jv(t.config,i):`${t.config.apiScheme}://${i}`}function aP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ua(this.auth,"network-request-failed")),sP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ua(t,e,r);return i.customData._tokenResponse=n,i}function e_(t){return t!==void 0&&t.enterprise!==void 0}class lP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function uP(t,e){return no(t,"GET","/v2/recaptchaConfig",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e){return no(t,"POST","/v1/accounts:delete",e)}async function c4(t,e){return no(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hP(t,e=!1){const n=Er(t),r=await n.getIdToken(e),i=Yv(r);yt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dh(Ug(i.auth_time)),issuedAtTime:Dh(Ug(i.iat)),expirationTime:Dh(Ug(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ug(t){return Number(t)*1e3}function Yv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const i=QA(n);return i?JSON.parse(i):(Yf("Failed to decode base64 JWT payload"),null)}catch(i){return Yf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t_(t){const e=Yv(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&dP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dh(this.lastLoginAt),this.creationTime=Dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ud(t,c4(n,{idToken:r}));yt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?h4(s.providerUserInfo):[],o=mP(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new v0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,g)}async function pP(t){const e=Er(t);await Bp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function h4(t){return t.map(e=>{var{providerId:n}=e,r=Kv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e){const n=await l4(t,{},async()=>{const r=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=u4(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",o4.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vP(t,e){return no(t,"POST","/v2/accounts:revokeToken",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=t_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await gP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new nc;return r&&(yt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(yt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(yt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new v0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ud(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hP(this,e)}reload(){return pP(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await ud(this,cP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,u,d;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,I=(o=n.tenantId)!==null&&o!==void 0?o:void 0,L=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:j,emailVerified:U,isAnonymous:ne,providerData:M,stsTokenManager:V}=n;yt(j&&V,e,"internal-error");const S=nc.fromJSON(this.name,V);yt(typeof j=="string",e,"internal-error"),ko(g,e.name),ko(_,e.name),yt(typeof U=="boolean",e,"internal-error"),yt(typeof ne=="boolean",e,"internal-error"),ko(m,e.name),ko(C,e.name),ko(I,e.name),ko(L,e.name),ko(x,e.name),ko(T,e.name);const N=new Fa({uid:j,auth:e,email:_,emailVerified:U,displayName:g,isAnonymous:ne,photoURL:C,phoneNumber:m,tenantId:I,stsTokenManager:S,createdAt:x,lastLoginAt:T});return M&&Array.isArray(M)&&(N.providerData=M.map(R=>Object.assign({},R))),L&&(N._redirectEventId=L),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new nc;i.updateFromServerResponse(n);const s=new Fa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];yt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?h4(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new nc;o.updateFromIdToken(r);const l=new Fa({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new v0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;function Va(t){Ga(t instanceof Function,"Expected a class definition");let e=n_.get(t);return e?(Ga(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d4.type="NONE";const r_=d4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t,e,n){return`firebase:${t}:${e}:${n}`}class rc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rc(Va(r_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Va(r_);const a=Xf(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){const g=Fa._fromJSON(e,d);u!==s&&(o=g),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new rc(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new rc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y4(e))return"Blackberry";if(_4(e))return"Webos";if(p4(e))return"Safari";if((e.includes("chrome/")||m4(e))&&!e.includes("edge/"))return"Chrome";if(v4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function f4(t=ti()){return/firefox\//i.test(t)}function p4(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m4(t=ti()){return/crios\//i.test(t)}function g4(t=ti()){return/iemobile/i.test(t)}function v4(t=ti()){return/android/i.test(t)}function y4(t=ti()){return/blackberry/i.test(t)}function _4(t=ti()){return/webos/i.test(t)}function Xv(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yP(t=ti()){var e;return Xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _P(){return LT()&&document.documentMode===10}function w4(t=ti()){return Xv(t)||v4(t)||_4(t)||y4(t)||/windows phone/i.test(t)||g4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e=[]){let n;switch(t){case"Browser":n=i_(ti());break;case"Worker":n=`${i_(ti())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(t,e={}){return no(t,"GET","/v2/passwordPolicy",to(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=6;class AP{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:xP,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s_(this),this.idTokenSubscription=new s_(this),this.beforeStateQueue=new wP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Va(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await c4(this,{idToken:e}),r=await Fa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ps(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ps(this.app))return Promise.reject(ca(this));const n=e?Er(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ps(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bP(this),n=new AP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Va(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[Va(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ro(t){return Er(t)}class s_{constructor(e){this.auth=e,this.observer=null,this.addObserver=UT(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SP(t){xm=t}function x4(t){return xm.loadJS(t)}function NP(){return xm.recaptchaEnterpriseScript}function IP(){return xm.gapiScript}function kP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TP="recaptcha-enterprise",PP="NO_RECAPTCHA";class CP{constructor(e){this.type=TP,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{uP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new lP(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;e_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(PP)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&e_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NP();l.length!==0&&(l+=o),x4(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function a_(t,e,n,r=!1){const i=new CP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function zp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await a_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await a_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t,e){const n=Hv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vp(s,e??{}))return i;js(i,"already-initialized")}return n.initialize({options:e})}function RP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Va);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jP(t,e,n){const r=ro(t);yt(r._canInitEmulator,r,"emulator-config-failed"),yt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=A4(e),{host:a,port:o}=DP(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),OP()}function A4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DP(t){const e=A4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:o_(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:o_(a)}}}function o_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,n){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}async function MP(t,e){return no(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e){return Cd(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}async function VP(t,e){return no(t,"POST","/v1/accounts:sendOobCode",to(t,e))}async function UP(t,e){return VP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function zP(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Zv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,n,"signInWithPassword",FP);case"emailLink":return BP(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,r,"signUpPassword",MP);case"emailLink":return zP(e,{idToken:n,email:this._email,oobCode:this._password});default:js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e){return Cd(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="http://localhost";class su extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new su(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Kv(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new su(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ic(e,n)}buildRequest(){const e={requestUri:qP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WP(t){const e=wh(bh(t)).link,n=e?wh(bh(e)).deep_link_id:null,r=wh(bh(t)).deep_link_id;return(r?wh(bh(r)).link:null)||r||n||e||t}class e2{constructor(e){var n,r,i,s,a,o;const l=wh(bh(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,g=$P((i=l.mode)!==null&&i!==void 0?i:null);yt(u&&d&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=WP(e);try{return new e2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,n){return cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e2.parseLink(n);return yt(r,"argument-error"),cd._fromEmailAndCode(e,r.code,r.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends E4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Ld{constructor(){super("facebook.com")}static credential(e){return su._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.FACEBOOK_SIGN_IN_METHOD="facebook.com";Do.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return su._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oo.credential(n,r)}catch{return null}}}Oo.GOOGLE_SIGN_IN_METHOD="google.com";Oo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Ld{constructor(){super("github.com")}static credential(e){return su._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Ld{constructor(){super("twitter.com")}static credential(e,n){return su._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.TWITTER_SIGN_IN_METHOD="twitter.com";Fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return Cd(t,"POST","/v1/accounts:signUp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fa._fromIdTokenResponse(e,r,i),a=l_(r);return new Ka({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=l_(r);return new Ka({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function l_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t){var e;if(Ps(t.app))return Promise.reject(ca(t));const n=ro(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ka({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await S4(n,{returnSecureToken:!0}),i=await Ka._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends eo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qp(e,n,r,i)}}function N4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(t,s,e,r):s})}async function GP(t,e,n=!1){const r=await ud(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e,n=!1){const{auth:r}=t;if(Ps(r.app))return Promise.reject(ca(r));const i="reauthenticate";try{const s=await ud(t,N4(r,i,e,t),n);yt(s.idToken,r,"internal-error");const a=Yv(s.idToken);yt(a,r,"internal-error");const{sub:o}=a;return yt(t.uid===o,r,"user-mismatch"),Ka._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&js(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e,n=!1){if(Ps(t.app))return Promise.reject(ca(t));const r="signIn",i=await N4(t,r,e),s=await Ka._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function QP(t,e){return I4(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JP(t,e,n){const r=ro(t);await zp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UP)}async function YP(t,e,n){if(Ps(t.app))return Promise.reject(ca(t));const r=ro(t),a=await zp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&k4(t),l}),o=await Ka._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function XP(t,e,n){return Ps(t.app)?Promise.reject(ca(t)):QP(Er(t),Cc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&k4(t),r})}function ZP(t,e,n,r){return Er(t).onIdTokenChanged(e,n,r)}function eC(t,e,n){return Er(t).beforeAuthStateChanged(e,n)}function tC(t){return Er(t).signOut()}const $p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($p,"1"),this.storage.removeItem($p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=1e3,rC=10;class P4 extends T4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);_P()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rC):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P4.type="LOCAL";const iC=P4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4 extends T4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C4.type="SESSION";const L4=C4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Am(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await sC(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=t2("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(_.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return window}function oC(t){ha().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){return typeof ha().WorkerGlobalScope<"u"&&typeof ha().importScripts=="function"}async function lC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cC(){return R4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebaseLocalStorageDb",hC=1,Wp="firebaseLocalStorage",D4="fbase_key";class Rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Em(t,e){return t.transaction([Wp],e?"readwrite":"readonly").objectStore(Wp)}function dC(){const t=indexedDB.deleteDatabase(j4);return new Rd(t).toPromise()}function y0(){const t=indexedDB.open(j4,hC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wp,{keyPath:D4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wp)?e(r):(r.close(),await dC(),e(await y0()))})})}async function u_(t,e,n){const r=Em(t,!0).put({[D4]:e,value:n});return new Rd(r).toPromise()}async function fC(t,e){const n=Em(t,!1).get(e),r=await new Rd(n).toPromise();return r===void 0?null:r.value}function c_(t,e){const n=Em(t,!0).delete(e);return new Rd(n).toPromise()}const pC=800,mC=3;class O4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Am._getInstance(cC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y0();return await u_(e,$p,"1"),await c_(e,$p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>u_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Em(i,!1).getAll();return new Rd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O4.type="LOCAL";const gC=O4;new Pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e){return e?Va(e):(yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2 extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yC(t){return I4(t.auth,new n2(t),t.bypassAuthState)}function _C(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),KP(n,new n2(t),t.bypassAuthState)}async function wC(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),GP(n,new n2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yC;case"linkViaPopup":case"linkViaRedirect":return wC;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:js(this.auth,"internal-error")}}resolve(e){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new Pd(2e3,1e4);class Gu extends M4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gu.currentPopupAction&&Gu.currentPopupAction.cancel(),Gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){Ga(this.filter.length===1,"Popup operations only handle one event");const e=t2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bC.get())};e()}}Gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="pendingRedirect",Zf=new Map;class AC extends M4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const r=await EC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(t,e){const n=IC(e),r=NC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function SC(t,e){Zf.set(t._key(),e)}function NC(t){return Va(t._redirectPersistence)}function IC(t){return Xf(xC,t.config.apiKey,t.name)}async function kC(t,e,n=!1){if(Ps(t.app))return Promise.reject(ca(t));const r=ro(t),i=vC(r,e),a=await new AC(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=10*60*1e3;class PC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ua(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(e))}saveEventToCache(e){this.cachedEventUids.add(h_(e)),this.lastProcessedEventTime=Date.now()}}function h_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(t,e={}){return no(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jC=/^https?/;async function DC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LC(t);for(const n of e)try{if(OC(n))return}catch{}js(t,"unauthorized-domain")}function OC(t){const e=g0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!jC.test(n))return!1;if(RC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Pd(3e4,6e4);function d_(){const t=ha().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FC(t){return new Promise((e,n)=>{var r,i,s;function a(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(ua(t,"network-request-failed"))},timeout:MC.get()})}if(!((i=(r=ha().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ha().gapi)===null||s===void 0)&&s.load)a();else{const o=kP("iframefcb");return ha()[o]=()=>{gapi.load?a():n(ua(t,"network-request-failed"))},x4(`${IP()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw ep=null,e})}let ep=null;function VC(t){return ep=ep||FC(t),ep}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Pd(5e3,15e3),BC="__/auth/iframe",zC="emulator/auth/iframe",qC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WC(t){const e=t.config;yt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jv(e,zC):`https://${t.config.authDomain}/${BC}`,r={apiKey:e.apiKey,appName:t.name,v:Pc},i=$C.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Td(r).slice(1)}`}async function HC(t){const e=await VC(t),n=ha().gapi;return yt(n,t,"internal-error"),e.open({where:document.body,url:WC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ua(t,"network-request-failed"),o=ha().setTimeout(()=>{s(a)},UC.get());function l(){ha().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,QC=600,JC="_blank",YC="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(t,e,n,r=KC,i=QC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},GC),{width:r.toString(),height:i.toString(),top:s,left:a}),u=ti().toLowerCase();n&&(o=m4(u)?JC:n),f4(u)&&(e=e||YC,l.scrollbars="yes");const d=Object.entries(l).reduce((_,[m,C])=>`${_}${m}=${C},`,"");if(yP(u)&&o!=="_self")return ZC(e||"",o),new f_(null);const g=window.open(e||"",o,d);yt(g,t,"popup-blocked");try{g.focus()}catch{}return new f_(g)}function ZC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="__/auth/handler",tL="emulator/auth/handler",nL=encodeURIComponent("fac");async function p_(t,e,n,r,i,s){yt(t.config.authDomain,t,"auth-domain-config-required"),yt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pc,eventId:i};if(e instanceof E4){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",VT(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(e instanceof Ld){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${nL}=${encodeURIComponent(l)}`:"";return`${rL(t)}?${Td(o).slice(1)}${u}`}function rL({config:t}){return t.emulator?Jv(t,tL):`https://${t.authDomain}/${eL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="webStorageSupport";class iL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L4,this._completeRedirectFn=kC,this._overrideRedirectResult=SC}async _openPopup(e,n,r,i){var s;Ga((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await p_(e,n,r,g0(),i);return XC(e,a,t2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await p_(e,n,r,g0(),i);return oC(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ga(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HC(e),r=new PC(e);return n.register("authEvent",i=>(yt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bg,{type:Bg},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bg];a!==void 0&&n(!!a),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w4()||p4()||Xv()}}const sL=iL;var m_="@firebase/auth",g_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lL(t){vc(new iu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;yt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b4(t)},u=new EP(r,i,s,l);return RP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vc(new iu("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new aL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tl(m_,g_,oL(t)),tl(m_,g_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=5*60,cL=XA("authIdTokenMaxAge")||uL;let v_=null;const hL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cL)return;const i=n==null?void 0:n.token;v_!==i&&(v_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dL(t=Gv()){const e=Hv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LP(t,{popupRedirectResolver:sL,persistence:[gC,iC,L4]}),r=XA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=hL(s.toString());eC(n,a,()=>a(n.currentUser)),ZP(n,o=>a(o))}}const i=JA("auth");return i&&jP(n,`http://${i}`),n}function fL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ua("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lL("Browser");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yl,V4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function N(){}N.prototype=S.prototype,V.D=S.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(R,b,E){for(var P=Array(arguments.length-2),te=2;te<arguments.length;te++)P[te-2]=arguments[te];return S.prototype[b].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,S,N){N||(N=0);var R=Array(16);if(typeof S=="string")for(var b=0;16>b;++b)R[b]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(b=0;16>b;++b)R[b]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=V.g[0],N=V.g[1],b=V.g[2];var E=V.g[3],P=S+(E^N&(b^E))+R[0]+3614090360&4294967295;S=N+(P<<7&4294967295|P>>>25),P=E+(b^S&(N^b))+R[1]+3905402710&4294967295,E=S+(P<<12&4294967295|P>>>20),P=b+(N^E&(S^N))+R[2]+606105819&4294967295,b=E+(P<<17&4294967295|P>>>15),P=N+(S^b&(E^S))+R[3]+3250441966&4294967295,N=b+(P<<22&4294967295|P>>>10),P=S+(E^N&(b^E))+R[4]+4118548399&4294967295,S=N+(P<<7&4294967295|P>>>25),P=E+(b^S&(N^b))+R[5]+1200080426&4294967295,E=S+(P<<12&4294967295|P>>>20),P=b+(N^E&(S^N))+R[6]+2821735955&4294967295,b=E+(P<<17&4294967295|P>>>15),P=N+(S^b&(E^S))+R[7]+4249261313&4294967295,N=b+(P<<22&4294967295|P>>>10),P=S+(E^N&(b^E))+R[8]+1770035416&4294967295,S=N+(P<<7&4294967295|P>>>25),P=E+(b^S&(N^b))+R[9]+2336552879&4294967295,E=S+(P<<12&4294967295|P>>>20),P=b+(N^E&(S^N))+R[10]+4294925233&4294967295,b=E+(P<<17&4294967295|P>>>15),P=N+(S^b&(E^S))+R[11]+2304563134&4294967295,N=b+(P<<22&4294967295|P>>>10),P=S+(E^N&(b^E))+R[12]+1804603682&4294967295,S=N+(P<<7&4294967295|P>>>25),P=E+(b^S&(N^b))+R[13]+4254626195&4294967295,E=S+(P<<12&4294967295|P>>>20),P=b+(N^E&(S^N))+R[14]+2792965006&4294967295,b=E+(P<<17&4294967295|P>>>15),P=N+(S^b&(E^S))+R[15]+1236535329&4294967295,N=b+(P<<22&4294967295|P>>>10),P=S+(b^E&(N^b))+R[1]+4129170786&4294967295,S=N+(P<<5&4294967295|P>>>27),P=E+(N^b&(S^N))+R[6]+3225465664&4294967295,E=S+(P<<9&4294967295|P>>>23),P=b+(S^N&(E^S))+R[11]+643717713&4294967295,b=E+(P<<14&4294967295|P>>>18),P=N+(E^S&(b^E))+R[0]+3921069994&4294967295,N=b+(P<<20&4294967295|P>>>12),P=S+(b^E&(N^b))+R[5]+3593408605&4294967295,S=N+(P<<5&4294967295|P>>>27),P=E+(N^b&(S^N))+R[10]+38016083&4294967295,E=S+(P<<9&4294967295|P>>>23),P=b+(S^N&(E^S))+R[15]+3634488961&4294967295,b=E+(P<<14&4294967295|P>>>18),P=N+(E^S&(b^E))+R[4]+3889429448&4294967295,N=b+(P<<20&4294967295|P>>>12),P=S+(b^E&(N^b))+R[9]+568446438&4294967295,S=N+(P<<5&4294967295|P>>>27),P=E+(N^b&(S^N))+R[14]+3275163606&4294967295,E=S+(P<<9&4294967295|P>>>23),P=b+(S^N&(E^S))+R[3]+4107603335&4294967295,b=E+(P<<14&4294967295|P>>>18),P=N+(E^S&(b^E))+R[8]+1163531501&4294967295,N=b+(P<<20&4294967295|P>>>12),P=S+(b^E&(N^b))+R[13]+2850285829&4294967295,S=N+(P<<5&4294967295|P>>>27),P=E+(N^b&(S^N))+R[2]+4243563512&4294967295,E=S+(P<<9&4294967295|P>>>23),P=b+(S^N&(E^S))+R[7]+1735328473&4294967295,b=E+(P<<14&4294967295|P>>>18),P=N+(E^S&(b^E))+R[12]+2368359562&4294967295,N=b+(P<<20&4294967295|P>>>12),P=S+(N^b^E)+R[5]+4294588738&4294967295,S=N+(P<<4&4294967295|P>>>28),P=E+(S^N^b)+R[8]+2272392833&4294967295,E=S+(P<<11&4294967295|P>>>21),P=b+(E^S^N)+R[11]+1839030562&4294967295,b=E+(P<<16&4294967295|P>>>16),P=N+(b^E^S)+R[14]+4259657740&4294967295,N=b+(P<<23&4294967295|P>>>9),P=S+(N^b^E)+R[1]+2763975236&4294967295,S=N+(P<<4&4294967295|P>>>28),P=E+(S^N^b)+R[4]+1272893353&4294967295,E=S+(P<<11&4294967295|P>>>21),P=b+(E^S^N)+R[7]+4139469664&4294967295,b=E+(P<<16&4294967295|P>>>16),P=N+(b^E^S)+R[10]+3200236656&4294967295,N=b+(P<<23&4294967295|P>>>9),P=S+(N^b^E)+R[13]+681279174&4294967295,S=N+(P<<4&4294967295|P>>>28),P=E+(S^N^b)+R[0]+3936430074&4294967295,E=S+(P<<11&4294967295|P>>>21),P=b+(E^S^N)+R[3]+3572445317&4294967295,b=E+(P<<16&4294967295|P>>>16),P=N+(b^E^S)+R[6]+76029189&4294967295,N=b+(P<<23&4294967295|P>>>9),P=S+(N^b^E)+R[9]+3654602809&4294967295,S=N+(P<<4&4294967295|P>>>28),P=E+(S^N^b)+R[12]+3873151461&4294967295,E=S+(P<<11&4294967295|P>>>21),P=b+(E^S^N)+R[15]+530742520&4294967295,b=E+(P<<16&4294967295|P>>>16),P=N+(b^E^S)+R[2]+3299628645&4294967295,N=b+(P<<23&4294967295|P>>>9),P=S+(b^(N|~E))+R[0]+4096336452&4294967295,S=N+(P<<6&4294967295|P>>>26),P=E+(N^(S|~b))+R[7]+1126891415&4294967295,E=S+(P<<10&4294967295|P>>>22),P=b+(S^(E|~N))+R[14]+2878612391&4294967295,b=E+(P<<15&4294967295|P>>>17),P=N+(E^(b|~S))+R[5]+4237533241&4294967295,N=b+(P<<21&4294967295|P>>>11),P=S+(b^(N|~E))+R[12]+1700485571&4294967295,S=N+(P<<6&4294967295|P>>>26),P=E+(N^(S|~b))+R[3]+2399980690&4294967295,E=S+(P<<10&4294967295|P>>>22),P=b+(S^(E|~N))+R[10]+4293915773&4294967295,b=E+(P<<15&4294967295|P>>>17),P=N+(E^(b|~S))+R[1]+2240044497&4294967295,N=b+(P<<21&4294967295|P>>>11),P=S+(b^(N|~E))+R[8]+1873313359&4294967295,S=N+(P<<6&4294967295|P>>>26),P=E+(N^(S|~b))+R[15]+4264355552&4294967295,E=S+(P<<10&4294967295|P>>>22),P=b+(S^(E|~N))+R[6]+2734768916&4294967295,b=E+(P<<15&4294967295|P>>>17),P=N+(E^(b|~S))+R[13]+1309151649&4294967295,N=b+(P<<21&4294967295|P>>>11),P=S+(b^(N|~E))+R[4]+4149444226&4294967295,S=N+(P<<6&4294967295|P>>>26),P=E+(N^(S|~b))+R[11]+3174756917&4294967295,E=S+(P<<10&4294967295|P>>>22),P=b+(S^(E|~N))+R[2]+718787259&4294967295,b=E+(P<<15&4294967295|P>>>17),P=N+(E^(b|~S))+R[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(b+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+b&4294967295,V.g[3]=V.g[3]+E&4294967295}r.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var N=S-this.blockSize,R=this.B,b=this.h,E=0;E<S;){if(b==0)for(;E<=N;)i(this,V,E),E+=this.blockSize;if(typeof V=="string"){for(;E<S;)if(R[b++]=V.charCodeAt(E++),b==this.blockSize){i(this,R),b=0;break}}else for(;E<S;)if(R[b++]=V[E++],b==this.blockSize){i(this,R),b=0;break}}this.h=b,this.o+=S},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var N=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=N&255,N/=256;for(this.u(V),V=Array(16),S=N=0;4>S;++S)for(var R=0;32>R;R+=8)V[N++]=this.g[S]>>>R&255;return V};function s(V,S){var N=o;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=S(V)}function a(V,S){this.h=S;for(var N=[],R=!0,b=V.length-1;0<=b;b--){var E=V[b]|0;R&&E==S||(N[b]=E,R=!1)}this.g=N}var o={};function l(V){return-128<=V&&128>V?s(V,function(S){return new a([S|0],0>S?-1:0)}):new a([V|0],0>V?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return g;if(0>V)return L(u(-V));for(var S=[],N=1,R=0;V>=N;R++)S[R]=V/N|0,N*=4294967296;return new a(S,0)}function d(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return L(d(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(S,8)),R=g,b=0;b<V.length;b+=8){var E=Math.min(8,V.length-b),P=parseInt(V.substring(b,b+E),S);8>E?(E=u(Math.pow(S,E)),R=R.j(E).add(u(P))):(R=R.j(N),R=R.add(u(P)))}return R}var g=l(0),_=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(I(this))return-L(this).m();for(var V=0,S=1,N=0;N<this.g.length;N++){var R=this.i(N);V+=(0<=R?R:4294967296+R)*S,S*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(I(this))return"-"+L(this).toString(V);for(var S=u(Math.pow(V,6)),N=this,R="";;){var b=U(N,S).g;N=x(N,b.j(S));var E=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=b,C(N))return E+R;for(;6>E.length;)E="0"+E;R=E+R}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function I(V){return V.h==-1}t.l=function(V){return V=x(this,V),I(V)?-1:C(V)?0:1};function L(V){for(var S=V.g.length,N=[],R=0;R<S;R++)N[R]=~V.g[R];return new a(N,~V.h).add(_)}t.abs=function(){return I(this)?L(this):this},t.add=function(V){for(var S=Math.max(this.g.length,V.g.length),N=[],R=0,b=0;b<=S;b++){var E=R+(this.i(b)&65535)+(V.i(b)&65535),P=(E>>>16)+(this.i(b)>>>16)+(V.i(b)>>>16);R=P>>>16,E&=65535,P&=65535,N[b]=P<<16|E}return new a(N,N[N.length-1]&-2147483648?-1:0)};function x(V,S){return V.add(L(S))}t.j=function(V){if(C(this)||C(V))return g;if(I(this))return I(V)?L(this).j(L(V)):L(L(this).j(V));if(I(V))return L(this.j(L(V)));if(0>this.l(m)&&0>V.l(m))return u(this.m()*V.m());for(var S=this.g.length+V.g.length,N=[],R=0;R<2*S;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<V.g.length;b++){var E=this.i(R)>>>16,P=this.i(R)&65535,te=V.i(b)>>>16,de=V.i(b)&65535;N[2*R+2*b]+=P*de,T(N,2*R+2*b),N[2*R+2*b+1]+=E*de,T(N,2*R+2*b+1),N[2*R+2*b+1]+=P*te,T(N,2*R+2*b+1),N[2*R+2*b+2]+=E*te,T(N,2*R+2*b+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new a(N,0)};function T(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function j(V,S){this.g=V,this.h=S}function U(V,S){if(C(S))throw Error("division by zero");if(C(V))return new j(g,g);if(I(V))return S=U(L(V),S),new j(L(S.g),L(S.h));if(I(S))return S=U(V,L(S)),new j(L(S.g),S.h);if(30<V.g.length){if(I(V)||I(S))throw Error("slowDivide_ only works with positive integers.");for(var N=_,R=S;0>=R.l(V);)N=ne(N),R=ne(R);var b=M(N,1),E=M(R,1);for(R=M(R,2),N=M(N,2);!C(R);){var P=E.add(R);0>=P.l(V)&&(b=b.add(N),E=P),R=M(R,1),N=M(N,1)}return S=x(V,b.j(S)),new j(b,S)}for(b=g;0<=V.l(S);){for(N=Math.max(1,Math.floor(V.m()/S.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),E=u(N),P=E.j(S);I(P)||0<P.l(V);)N-=R,E=u(N),P=E.j(S);C(E)&&(E=_),b=b.add(E),V=x(V,P)}return new j(b,V)}t.A=function(V){return U(this,V).h},t.and=function(V){for(var S=Math.max(this.g.length,V.g.length),N=[],R=0;R<S;R++)N[R]=this.i(R)&V.i(R);return new a(N,this.h&V.h)},t.or=function(V){for(var S=Math.max(this.g.length,V.g.length),N=[],R=0;R<S;R++)N[R]=this.i(R)|V.i(R);return new a(N,this.h|V.h)},t.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),N=[],R=0;R<S;R++)N[R]=this.i(R)^V.i(R);return new a(N,this.h^V.h)};function ne(V){for(var S=V.g.length+1,N=[],R=0;R<S;R++)N[R]=V.i(R)<<1|V.i(R-1)>>>31;return new a(N,V.h)}function M(V,S){var N=S>>5;S%=32;for(var R=V.g.length-N,b=[],E=0;E<R;E++)b[E]=0<S?V.i(E+N)>>>S|V.i(E+N+1)<<32-S:V.i(E+N);return new a(b,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,V4=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Yl=a}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U4,xh,B4,tp,_0,z4,q4,$4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,k){return h==Array.prototype||h==Object.prototype||(h[w]=k.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var w=0;w<h.length;++w){var k=h[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var k=r;h=h.split(".");for(var W=0;W<h.length-1;W++){var ce=h[W];if(!(ce in k))break e;k=k[ce]}h=h[h.length-1],W=k[h],w=w(W),w!=W&&w!=null&&e(k,h,{configurable:!0,writable:!0,value:w})}}function s(h,w){h instanceof String&&(h+="");var k=0,W=!1,ce={next:function(){if(!W&&k<h.length){var be=k++;return{value:w(be,h[be]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(h){return h||function(){return s(this,function(w,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,k){return h.call.apply(h.bind,arguments)}function g(h,w,k){if(!h)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,W),h.apply(w,ce)}}return function(){return h.apply(w,arguments)}}function _(h,w,k){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,_.apply(null,arguments)}function m(h,w){var k=Array.prototype.slice.call(arguments,1);return function(){var W=k.slice();return W.push.apply(W,arguments),h.apply(this,W)}}function C(h,w){function k(){}k.prototype=w.prototype,h.aa=w.prototype,h.prototype=new k,h.prototype.constructor=h,h.Qb=function(W,ce,be){for(var Me=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)Me[Bt-2]=arguments[Bt];return w.prototype[ce].apply(W,Me)}}function I(h){const w=h.length;if(0<w){const k=Array(w);for(let W=0;W<w;W++)k[W]=h[W];return k}return[]}function L(h,w){for(let k=1;k<arguments.length;k++){const W=arguments[k];if(l(W)){const ce=h.length||0,be=W.length||0;h.length=ce+be;for(let Me=0;Me<be;Me++)h[ce+Me]=W[Me]}else h.push(W)}}class x{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function U(h){return U[" "](h),h}U[" "]=function(){};var ne=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function M(h,w,k){for(const W in h)w.call(k,h[W],W,h)}function V(h,w){for(const k in h)w.call(void 0,h[k],k,h)}function S(h){const w={};for(const k in h)w[k]=h[k];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,w){let k,W;for(let ce=1;ce<arguments.length;ce++){W=arguments[ce];for(k in W)h[k]=W[k];for(let be=0;be<N.length;be++)k=N[be],Object.prototype.hasOwnProperty.call(W,k)&&(h[k]=W[k])}}function b(h){var w=1;h=h.split(":");const k=[];for(;0<w&&h.length;)k.push(h.shift()),w--;return h.length&&k.push(h.join(":")),k}function E(h){o.setTimeout(()=>{throw h},0)}function P(){var h=G;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class te{constructor(){this.h=this.g=null}add(w,k){const W=de.get();W.set(w,k),this.h?this.h.next=W:this.g=W,this.h=W}}var de=new x(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Z=!1,G=new te,pe=()=>{const h=o.Promise.resolve(void 0);fe=()=>{h.then(_e)}};var _e=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(k){E(k)}var w=de;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}Z=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const k=()=>{};o.addEventListener("test",k,w),o.removeEventListener("test",k,w)}catch{}return h}();function Q(h,w){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var k=this.type=h.type,W=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(ne){e:{try{U(w.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(w=null)}}else k=="mouseover"?w=h.fromElement:k=="mouseout"&&(w=h.toElement);this.relatedTarget=w,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Q.aa.h.call(this)}}C(Q,K);var ie={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ve=0;function we(h,w,k,W,ce){this.listener=h,this.proxy=null,this.src=w,this.type=k,this.capture=!!W,this.ha=ce,this.key=++ve,this.da=this.fa=!1}function xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,w,k,W,ce){var be=h.toString();h=this.g[be],h||(h=this.g[be]=[],this.h++);var Me=Ve(h,w,W,ce);return-1<Me?(w=h[Me],k||(w.fa=!1)):(w=new we(w,this.src,be,!!W,ce),w.fa=k,h.push(w)),w};function Fe(h,w){var k=w.type;if(k in h.g){var W=h.g[k],ce=Array.prototype.indexOf.call(W,w,void 0),be;(be=0<=ce)&&Array.prototype.splice.call(W,ce,1),be&&(xe(w),h.g[k].length==0&&(delete h.g[k],h.h--))}}function Ve(h,w,k,W){for(var ce=0;ce<h.length;++ce){var be=h[ce];if(!be.da&&be.listener==w&&be.capture==!!k&&be.ha==W)return ce}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ee={};function Tt(h,w,k,W,ce){if(Array.isArray(w)){for(var be=0;be<w.length;be++)Tt(h,w[be],k,W,ce);return null}return k=dt(k),h&&h[ae]?h.K(w,k,u(W)?!!W.capture:!1,ce):_t(h,w,k,!1,W,ce)}function _t(h,w,k,W,ce,be){if(!w)throw Error("Invalid event type");var Me=u(ce)?!!ce.capture:!!ce,Bt=Je(h);if(Bt||(h[Ae]=Bt=new Te(h)),k=Bt.add(w,k,W,Me,be),k.proxy)return k;if(W=it(),k.proxy=W,W.src=h,W.listener=k,h.addEventListener)q||(ce=Me),ce===void 0&&(ce=!1),h.addEventListener(w.toString(),W,ce);else if(h.attachEvent)h.attachEvent(Ue(w.toString()),W);else if(h.addListener&&h.removeListener)h.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return k}function it(){function h(k){return w.call(h.src,h.listener,k)}const w=wt;return h}function Re(h,w,k,W,ce){if(Array.isArray(w))for(var be=0;be<w.length;be++)Re(h,w[be],k,W,ce);else W=u(W)?!!W.capture:!!W,k=dt(k),h&&h[ae]?(h=h.i,w=String(w).toString(),w in h.g&&(be=h.g[w],k=Ve(be,k,W,ce),-1<k&&(xe(be[k]),Array.prototype.splice.call(be,k,1),be.length==0&&(delete h.g[w],h.h--)))):h&&(h=Je(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ve(w,k,W,ce)),(k=-1<h?w[h]:null)&&Ke(k))}function Ke(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ae])Fe(w.i,h);else{var k=h.type,W=h.proxy;w.removeEventListener?w.removeEventListener(k,W,h.capture):w.detachEvent?w.detachEvent(Ue(k),W):w.addListener&&w.removeListener&&w.removeListener(W),(k=Je(w))?(Fe(k,h),k.h==0&&(k.src=null,w[Ae]=null)):xe(h)}}}function Ue(h){return h in ee?ee[h]:ee[h]="on"+h}function wt(h,w){if(h.da)h=!0;else{w=new Q(w,this);var k=h.listener,W=h.ha||h.src;h.fa&&Ke(h),h=k.call(W,w)}return h}function Je(h){return h=h[Ae],h instanceof Te?h:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(h){return typeof h=="function"?h:(h[Mt]||(h[Mt]=function(w){return h.handleEvent(w)}),h[Mt])}function Ye(){F.call(this),this.i=new Te(this),this.M=this,this.F=null}C(Ye,F),Ye.prototype[ae]=!0,Ye.prototype.removeEventListener=function(h,w,k,W){Re(this,h,w,k,W)};function ke(h,w){var k,W=h.F;if(W)for(k=[];W;W=W.F)k.push(W);if(h=h.M,W=w.type||w,typeof w=="string")w=new K(w,h);else if(w instanceof K)w.target=w.target||h;else{var ce=w;w=new K(W,h),R(w,ce)}if(ce=!0,k)for(var be=k.length-1;0<=be;be--){var Me=w.g=k[be];ce=rt(Me,W,!0,w)&&ce}if(Me=w.g=h,ce=rt(Me,W,!0,w)&&ce,ce=rt(Me,W,!1,w)&&ce,k)for(be=0;be<k.length;be++)Me=w.g=k[be],ce=rt(Me,W,!1,w)&&ce}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var k=h.g[w],W=0;W<k.length;W++)xe(k[W]);delete h.g[w],h.h--}}this.F=null},Ye.prototype.K=function(h,w,k,W){return this.i.add(String(h),w,!1,k,W)},Ye.prototype.L=function(h,w,k,W){return this.i.add(String(h),w,!0,k,W)};function rt(h,w,k,W){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var ce=!0,be=0;be<w.length;++be){var Me=w[be];if(Me&&!Me.da&&Me.capture==k){var Bt=Me.listener,Dn=Me.ha||Me.src;Me.fa&&Fe(h.i,Me),ce=Bt.call(Dn,W)!==!1&&ce}}return ce&&!W.defaultPrevented}function qe(h,w,k){if(typeof h=="function")k&&(h=_(h,k));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:o.setTimeout(h,w||0)}function ot(h){h.g=qe(()=>{h.g=null,h.i&&(h.i=!1,ot(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Xe extends F{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(h){F.call(this),this.h=h,this.g={}}C(mt,F);var ft=[];function ze(h){M(h.g,function(w,k){this.g.hasOwnProperty(k)&&Ke(w)},h),h.g={}}mt.prototype.N=function(){mt.aa.N.call(this),ze(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lt=o.JSON.stringify,Jt=o.JSON.parse,ht=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Rt(){}Rt.prototype.h=null;function At(h){return h.h||(h.h=h.i())}function In(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xt(){K.call(this,"d")}C(Xt,K);function gt(){K.call(this,"c")}C(gt,K);var Dt={},Vs=null;function Hn(){return Vs=Vs||new Ye}Dt.La="serverreachability";function Yi(h){K.call(this,Dt.La,h)}C(Yi,K);function Mr(h){const w=Hn();ke(w,new Yi(w))}Dt.STAT_EVENT="statevent";function ct(h,w){K.call(this,Dt.STAT_EVENT,h),this.stat=w}C(ct,K);function wn(h){const w=Hn();ke(w,new ct(w,h))}Dt.Ma="timingevent";function Xi(h,w){K.call(this,Dt.Ma,h),this.size=w}C(Xi,K);function mr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},w)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function kn(h,w,k,W,ce,be){h.info(function(){if(h.g)if(be)for(var Me="",Bt=be.split("&"),Dn=0;Dn<Bt.length;Dn++){var Ot=Bt[Dn].split("=");if(1<Ot.length){var jt=Ot[0];Ot=Ot[1];var gn=jt.split("_");Me=2<=gn.length&&gn[1]=="type"?Me+(jt+"="+Ot+"&"):Me+(jt+"=redacted&")}}else Me=null;else Me=be;return"XMLHTTP REQ ("+W+") [attempt "+ce+"]: "+w+`
`+k+`
`+Me})}function sr(h,w,k,W,ce,be,Me){h.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ce+"]: "+w+`
`+k+`
`+be+" "+Me})}function Tn(h,w,k,W){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Us(h,k)+(W?" "+W:"")})}function ga(h,w){h.info(function(){return"TIMEOUT: "+w})}gr.prototype.info=function(){};function Us(h,w){if(!h.g)return w;if(!w)return null;try{var k=JSON.parse(w);if(k){for(h=0;h<k.length;h++)if(Array.isArray(k[h])){var W=k[h];if(!(2>W.length)){var ce=W[1];if(Array.isArray(ce)&&!(1>ce.length)){var be=ce[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Me=1;Me<ce.length;Me++)ce[Me]=""}}}}return lt(k)}catch{return w}}var Fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function Vr(){}C(Vr,Rt),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},ni=new Vr;function Gn(h,w,k,W){this.j=h,this.i=w,this.l=k,this.R=W||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bs}function Bs(){this.i=null,this.g="",this.h=!1}var Ii={},ps={};function zs(h,w,k){h.L=1,h.v=wa(ri(w)),h.m=k,h.P=!0,va(h,null)}function va(h,w){h.F=Date.now(),qs(h),h.A=ri(h.v);var k=h.A,W=h.R;Array.isArray(W)||(W=[String(W)]),vt(k.i,"t",W),h.C=0,k=h.j.J,h.h=new Bs,h.g=Un(h.j,k?w:null,!h.m),0<h.O&&(h.M=new Xe(_(h.Y,h,h.g),h.O)),w=h.U,k=h.g,W=h.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(ft[0]=ce.toString()),ce=ft);for(var be=0;be<ce.length;be++){var Me=Tt(k,ce[be],W||w.handleEvent,!1,w.h||w);if(!Me)break;w.g[Me.key]=Me}w=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Mr(),kn(h.i,h.u,h.A,h.l,h.R,h.m)}Gn.prototype.ca=function(h){h=h.target;const w=this.M;w&&mi(h)==3?w.j():this.Y(h)},Gn.prototype.Y=function(h){try{if(h==this.g)e:{const gn=mi(this.g);var w=this.g.Ba();const Ci=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Tl(this.g)))){this.J||gn!=4||w==7||(w==8||0>=Ci?Mr(3):Mr(2)),io(this);var k=this.g.Z();this.X=k;t:if(ya(this)){var W=Tl(this.g);h="";var ce=W.length,be=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),vr(this);var Me="";break t}this.h.i=new o.TextDecoder}for(w=0;w<ce;w++)this.h.h=!0,h+=this.h.i.decode(W[w],{stream:!(be&&w==ce-1)});W.length=0,this.h.g+=h,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=k==200,sr(this.i,this.u,this.A,this.l,this.R,gn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Bt,Dn=this.g;if((Bt=Dn.g?Dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Bt)){var Ot=Bt;break t}}Ot=null}if(k=Ot)Tn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,so(this,k);else{this.o=!1,this.s=3,wn(12),ki(this),vr(this);break e}}if(this.P){k=!0;let Ur;for(;!this.J&&this.C<Me.length;)if(Ur=Mc(this,Me),Ur==ps){gn==4&&(this.s=4,wn(14),k=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==Ii){this.s=4,wn(15),Tn(this.i,this.l,Me,"[Invalid Chunk]"),k=!1;break}else Tn(this.i,this.l,Ur,null),so(this,Ur);if(ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||Me.length!=0||this.h.h||(this.s=1,wn(16),k=!1),this.o=this.o&&k,!k)Tn(this.i,this.l,Me,"[Invalid Chunked Response]"),ki(this),vr(this);else if(0<Me.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),$e(jt),jt.M=!0,wn(11))}}else Tn(this.i,this.l,Me,null),so(this,Me);gn==4&&ki(this),this.o&&!this.J&&(gn==4?bt(this.j,this):(this.o=!1,qs(this)))}else ys(this.g),k==400&&0<Me.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),ki(this),vr(this)}}}catch{}finally{}};function ya(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Mc(h,w){var k=h.C,W=w.indexOf(`
`,k);return W==-1?ps:(k=Number(w.substring(k,W)),isNaN(k)?Ii:(W+=1,W+k>w.length?ps:(w=w.slice(W,W+k),h.C=W+k,w)))}Gn.prototype.cancel=function(){this.J=!0,ki(this)};function qs(h){h.S=Date.now()+h.I,yl(h,h.I)}function yl(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mr(_(h.ba,h),w)}function io(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Gn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ga(this.i,this.A),this.L!=2&&(Mr(),wn(17)),ki(this),this.s=2,vr(this)):yl(this,this.S-h)};function vr(h){h.j.G==0||h.J||bt(h.j,h)}function ki(h){io(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,ze(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function so(h,w){try{var k=h.j;if(k.G!=0&&(k.g==h||$s(k.h,h))){if(!h.K&&$s(k.h,h)&&k.G==3){try{var W=k.Da.g.parse(w)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ce=W;if(ce[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<h.F)pt(k),ts(k);else break e;Ce(k),wn(18)}}else k.za=ce[1],0<k.za-k.T&&37500>ce[2]&&k.F&&k.v==0&&!k.C&&(k.C=mr(_(k.Za,k),6e3));if(1>=xl(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Zt(k,11)}else if((h.K||k.g==h)&&pt(k),!T(w))for(ce=k.Da.g.parse(w),w=0;w<ce.length;w++){let Ot=ce[w];if(k.T=Ot[0],Ot=Ot[1],k.G==2)if(Ot[0]=="c"){k.K=Ot[1],k.ia=Ot[2];const jt=Ot[3];jt!=null&&(k.la=jt,k.j.info("VER="+k.la));const gn=Ot[4];gn!=null&&(k.Aa=gn,k.j.info("SVER="+k.Aa));const Ci=Ot[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(W=1.5*Ci,k.L=W,k.j.info("backChannelRequestTimeoutMs_="+W)),W=k;const Ur=h.g;if(Ur){const Nr=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var be=W.h;be.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Al(be,be.h),be.h=null))}if(W.D){const _s=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;_s&&(W.ya=_s,Vt(W.I,W.D,_s))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-h.F,k.j.info("Handshake RTT: "+k.R+"ms")),W=k;var Me=h;if(W.qa=rn(W,W.J?W.ia:null,W.W),Me.K){Ln(W.h,Me);var Bt=Me,Dn=W.L;Dn&&(Bt.I=Dn),Bt.B&&(io(Bt),qs(Bt)),W.g=Me}else Se(W);0<k.i.length&&v(k)}else Ot[0]!="stop"&&Ot[0]!="close"||Zt(k,7);else k.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Zt(k,7):fo(k):Ot[0]!="noop"&&k.l&&k.l.ta(Ot),k.v=0)}}Mr(4)}catch{}}var _l=class{constructor(h,w){this.g=h,this.map=w}};function wl(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xl(h){return h.h?1:h.g?h.g.size:0}function $s(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Al(h,w){h.g?h.g.add(w):h.h=w}function Ln(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}wl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function El(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const k of h.g.values())w=w.concat(k.D);return w}return I(h.i)}function _u(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],k=h.length,W=0;W<k;W++)w.push(h[W]);return w}w=[],k=0;for(W in h)w[k++]=h[W];return w}function ms(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var k=0;k<h;k++)w.push(k);return w}w=[],k=0;for(const W in h)w[k++]=W;return w}}}function Ws(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var k=ms(h),W=_u(h),ce=W.length,be=0;be<ce;be++)w.call(void 0,W[be],k&&k[be],h)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(h,w){if(h){h=h.split("&");for(var k=0;k<h.length;k++){var W=h[k].indexOf("="),ce=null;if(0<=W){var be=h[k].substring(0,W);ce=h[k].substring(W+1)}else be=h[k];w(be,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function nn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof nn){this.h=h.h,ao(this,h.j),this.o=h.o,this.g=h.g,oo(this,h.s),this.l=h.l;var w=h.i,k=new pi;k.i=w.i,w.g&&(k.g=new Map(w.g),k.h=w.h),wu(this,k),this.m=h.m}else h&&(w=String(h).match(di))?(this.h=!1,ao(this,w[1]||"",!0),this.o=Hs(w[2]||""),this.g=Hs(w[3]||"",!0),oo(this,w[4]),this.l=Hs(w[5]||"",!0),wu(this,w[6]||"",!0),this.m=Hs(w[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}nn.prototype.toString=function(){var h=[],w=this.j;w&&h.push(fi(w,bu,!0),":");var k=this.g;return(k||w=="file")&&(h.push("//"),(w=this.o)&&h.push(fi(w,bu,!0),"@"),h.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&h.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&h.push("/"),h.push(fi(k,k.charAt(0)=="/"?Vc:Fc,!0))),(k=this.i.toString())&&h.push("?",k),(k=this.m)&&h.push("#",fi(k,ba)),h.join("")};function ri(h){return new nn(h)}function ao(h,w,k){h.j=k?Hs(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function oo(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function wu(h,w,k){w instanceof pi?(h.i=w,Uc(h.i,h.h)):(k||(w=fi(w,Nl)),h.i=new pi(w,h.h))}function Vt(h,w,k){h.i.set(w,k)}function wa(h){return Vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Hs(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fi(h,w,k){return typeof h=="string"?(h=encodeURI(h).replace(w,Sl),k&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bu=/[#\/\?@]/g,Fc=/[#\?:]/g,Vc=/[#\?]/g,Nl=/[#\?@]/g,ba=/#/g;function pi(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Zi(h){h.g||(h.g=new Map,h.h=0,h.i&&_a(h.i,function(w,k){h.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=pi.prototype,t.add=function(h,w){Zi(this),this.i=null,h=Ks(this,h);var k=this.g.get(h);return k||this.g.set(h,k=[]),k.push(w),this.h+=1,this};function Gs(h,w){Zi(h),w=Ks(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function lo(h,w){return Zi(h),w=Ks(h,w),h.g.has(w)}t.forEach=function(h,w){Zi(this),this.g.forEach(function(k,W){k.forEach(function(ce){h.call(w,ce,W,this)},this)},this)},t.na=function(){Zi(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),k=[];for(let W=0;W<w.length;W++){const ce=h[W];for(let be=0;be<ce.length;be++)k.push(w[W])}return k},t.V=function(h){Zi(this);let w=[];if(typeof h=="string")lo(this,h)&&(w=w.concat(this.g.get(Ks(this,h))));else{h=Array.from(this.g.values());for(let k=0;k<h.length;k++)w=w.concat(h[k])}return w},t.set=function(h,w){return Zi(this),this.i=null,h=Ks(this,h),lo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function vt(h,w,k){Gs(h,w),0<k.length&&(h.i=null,h.g.set(Ks(h,w),I(k)),h.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var k=0;k<w.length;k++){var W=w[k];const be=encodeURIComponent(String(W)),Me=this.V(W);for(W=0;W<Me.length;W++){var ce=be;Me[W]!==""&&(ce+="="+encodeURIComponent(String(Me[W]))),h.push(ce)}}return this.i=h.join("&")};function Ks(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Uc(h,w){w&&!h.j&&(Zi(h),h.i=null,h.g.forEach(function(k,W){var ce=W.toLowerCase();W!=ce&&(Gs(this,W),vt(this,ce,k))},h)),h.j=w}function Bc(h,w){const k=new gr;if(o.Image){const W=new Image;W.onload=m(yr,k,"TestLoadImage: loaded",!0,w,W),W.onerror=m(yr,k,"TestLoadImage: error",!1,w,W),W.onabort=m(yr,k,"TestLoadImage: abort",!1,w,W),W.ontimeout=m(yr,k,"TestLoadImage: timeout",!1,w,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=h}else w(!1)}function zc(h,w){const k=new gr,W=new AbortController,ce=setTimeout(()=>{W.abort(),yr(k,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:W.signal}).then(be=>{clearTimeout(ce),be.ok?yr(k,"TestPingServer: ok",!0,w):yr(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ce),yr(k,"TestPingServer: error",!1,w)})}function yr(h,w,k,W,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),W(k)}catch{}}function gs(){this.g=new ht}function qc(h,w,k){const W=k||"";try{Ws(h,function(ce,be){let Me=ce;u(ce)&&(Me=lt(ce)),w.push(W+be+"="+encodeURIComponent(Me))})}catch(ce){throw w.push(W+"type="+encodeURIComponent("_badmap")),ce}}function uo(h){this.l=h.Ub||null,this.j=h.eb||!1}C(uo,Rt),uo.prototype.g=function(){return new vs(this.l,this.j)},uo.prototype.i=function(h){return function(){return h}}({});function vs(h,w){Ye.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(vs,Ye),t=vs.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,es(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||o).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;co(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function co(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Ti(this):es(this),this.readyState==3&&co(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ti(this))},t.Qa=function(h){this.g&&(this.response=h,Ti(this))},t.ga=function(){this.g&&Ti(this)};function Ti(h){h.readyState=4,h.l=null,h.j=null,h.v=null,es(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,h.push(k[0]+": "+k[1]),k=w.next();return h.join(`\r
`)};function es(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xa(h){let w="";return M(h,function(k,W){w+=W,w+=":",w+=k,w+=`\r
`}),w}function Il(h,w,k){e:{for(W in k){var W=!1;break e}W=!0}W||(k=xa(k),typeof h=="string"?k!=null&&encodeURIComponent(String(k)):Vt(h,w,k))}function hn(h){Ye.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(hn,Ye);var kl=/^https?$/i,Aa=["POST","PUT"];t=hn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,k,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?At(this.o):At(ni),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(be){Qs(this,be);return}if(h=k||"",k=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ce in W)k.set(ce,W[ce]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const be of W.keys())k.set(be,W.get(be));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(k.keys()).find(be=>be.toLowerCase()=="content-type"),ce=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Aa,w,void 0))||W||ce||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Me]of k)this.g.setRequestHeader(be,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(be){Qs(this,be)}};function Qs(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,ho(h),Js(h)}function ho(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ke(this,"complete"),ke(this,"abort"),Js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Js(this,!0)),hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},t.bb=function(){Ea(this)};function Ea(h){if(h.h&&typeof a<"u"&&(!h.v[1]||mi(h)!=4||h.Z()!=2)){if(h.u&&mi(h)==4)qe(h.Ea,0,h);else if(ke(h,"readystatechange"),mi(h)==4){h.h=!1;try{const Me=h.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var W;if(W=Me===0){var ce=String(h.D).match(di)[1]||null;!ce&&o.self&&o.self.location&&(ce=o.self.location.protocol.slice(0,-1)),W=!kl.test(ce?ce.toLowerCase():"")}k=W}if(k)ke(h,"complete"),ke(h,"success");else{h.m=6;try{var be=2<mi(h)?h.g.statusText:""}catch{be=""}h.l=be+" ["+h.Z()+"]",ho(h)}}finally{Js(h)}}}}function Js(h,w){if(h.g){Ys(h);const k=h.g,W=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||ke(h,"ready");try{k.onreadystatechange=W}catch{}}}function Ys(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function mi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Jt(w)}};function Tl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ys(h){const w={};h=(h.g&&2<=mi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<h.length;W++){if(T(h[W]))continue;var k=b(h[W]);const ce=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const be=w[ce]||[];w[ce]=be,be.push(k)}V(w,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(h,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[h]||w}function Pl(h){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,h),this.cb=ii("retryDelaySeedMs",1e4,h),this.Wa=ii("forwardChannelMaxRetries",2,h),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new wl(h&&h.concurrentRequestLimit),this.Da=new gs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pl.prototype,t.la=8,t.G=1,t.connect=function(h,w,k,W){wn(0),this.W=h,this.H=w||{},k&&W!==void 0&&(this.H.OSID=k,this.H.OAID=W),this.F=this.X,this.I=rn(this,null,this.W),v(this)};function fo(h){if(Cl(h),h.G==3){var w=h.U++,k=ri(h.I);if(Vt(k,"SID",h.K),Vt(k,"RID",w),Vt(k,"TYPE","terminate"),re(h,k),w=new Gn(h,h.j,w),w.L=2,w.v=wa(ri(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(w.v.toString(),"")}catch{}!k&&o.Image&&(new Image().src=w.v,k=!0),k||(w.g=Un(w.j,null),w.g.ea(w.v)),w.F=Date.now(),qs(w)}Rn(h)}function ts(h){h.g&&($e(h),h.g.cancel(),h.g=null)}function Cl(h){ts(h),h.u&&(o.clearTimeout(h.u),h.u=null),pt(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function v(h){if(!bl(h.h)&&!h.s){h.s=!0;var w=h.Ga;fe||pe(),Z||(fe(),Z=!0),G.add(w,h),h.B=0}}function D(h,w){return xl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mr(_(h.Ga,h,w),$t(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ce=new Gn(this,this.j,h);let be=this.o;if(this.S&&(be?(be=S(be),R(be,this.S)):be=this.S),this.m!==null||this.O||(ce.H=be,be=null),this.P)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var W=this.i[k];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(w+=W,4096<w){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=ue(this,ce,w),k=ri(this.I),Vt(k,"RID",h),Vt(k,"CVER",22),this.D&&Vt(k,"X-HTTP-Session-Id",this.D),re(this,k),be&&(this.O?w="headers="+encodeURIComponent(String(xa(be)))+"&"+w:this.m&&Il(k,this.m,be)),Al(this.h,ce),this.Ua&&Vt(k,"TYPE","init"),this.P?(Vt(k,"$req",w),Vt(k,"SID","null"),ce.T=!0,zs(ce,k,null)):zs(ce,k,w),this.G=2}}else this.G==3&&(h?J(this,h):this.i.length==0||bl(this.h)||J(this))};function J(h,w){var k;w?k=w.l:k=h.U++;const W=ri(h.I);Vt(W,"SID",h.K),Vt(W,"RID",k),Vt(W,"AID",h.T),re(h,W),h.m&&h.o&&Il(W,h.m,h.o),k=new Gn(h,h.j,k,h.B+1),h.m===null&&(k.H=h.o),w&&(h.i=w.D.concat(h.i)),w=ue(h,k,1e3),k.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Al(h.h,k),zs(k,W,w)}function re(h,w){h.H&&M(h.H,function(k,W){Vt(w,W,k)}),h.l&&Ws({},function(k,W){Vt(w,W,k)})}function ue(h,w,k){k=Math.min(h.i.length,k);var W=h.l?_(h.l.Na,h.l,h):null;e:{var ce=h.i;let be=-1;for(;;){const Me=["count="+k];be==-1?0<k?(be=ce[0].g,Me.push("ofs="+be)):be=0:Me.push("ofs="+be);let Bt=!0;for(let Dn=0;Dn<k;Dn++){let Ot=ce[Dn].g;const jt=ce[Dn].map;if(Ot-=be,0>Ot)be=Math.max(0,ce[Dn].g-100),Bt=!1;else try{qc(jt,Me,"req"+Ot+"_")}catch{W&&W(jt)}}if(Bt){W=Me.join("&");break e}}}return h=h.i.splice(0,k),w.D=h,W}function Se(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;fe||pe(),Z||(fe(),Z=!0),G.add(w,h),h.v=0}}function Ce(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mr(_(h.Fa,h),$t(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Ze(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mr(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),ts(this),Ze(this))};function $e(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function Ze(h){h.g=new Gn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=ri(h.qa);Vt(w,"RID","rpc"),Vt(w,"SID",h.K),Vt(w,"AID",h.T),Vt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Vt(w,"TO",h.ja),Vt(w,"TYPE","xmlhttp"),re(h,w),h.m&&h.o&&Il(w,h.m,h.o),h.L&&(h.g.I=h.L);var k=h.g;h=h.ia,k.L=1,k.v=wa(ri(w)),k.m=null,k.P=!0,va(k,h)}t.Za=function(){this.C!=null&&(this.C=null,ts(this),Ce(this),wn(19))};function pt(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function bt(h,w){var k=null;if(h.g==w){pt(h),$e(h),h.g=null;var W=2}else if($s(h.h,w))k=w.D,Ln(h.h,w),W=1;else return;if(h.G!=0){if(w.o)if(W==1){k=w.m?w.m.length:0,w=Date.now()-w.F;var ce=h.B;W=Hn(),ke(W,new Xi(W,k)),v(h)}else Se(h);else if(ce=w.s,ce==3||ce==0&&0<w.X||!(W==1&&D(h,w)||W==2&&Ce(h)))switch(k&&0<k.length&&(w=h.h,w.i=w.i.concat(k)),ce){case 1:Zt(h,5);break;case 4:Zt(h,10);break;case 3:Zt(h,6);break;default:Zt(h,2)}}}function $t(h,w){let k=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(k*=2),k*w}function Zt(h,w){if(h.j.info("Error code "+w),w==2){var k=_(h.fb,h),W=h.Xa;const ce=!W;W=new nn(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ao(W,"https"),wa(W),ce?Bc(W.toString(),k):zc(W.toString(),k)}else wn(2);h.G=0,h.l&&h.l.sa(w),Rn(h),Cl(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Rn(h){if(h.G=0,h.ka=[],h.l){const w=El(h.h);(w.length!=0||h.i.length!=0)&&(L(h.ka,w),L(h.ka,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.ra()}}function rn(h,w,k){var W=k instanceof nn?ri(k):new nn(k);if(W.g!="")w&&(W.g=w+"."+W.g),oo(W,W.s);else{var ce=o.location;W=ce.protocol,w=w?w+"."+ce.hostname:ce.hostname,ce=+ce.port;var be=new nn(null);W&&ao(be,W),w&&(be.g=w),ce&&oo(be,ce),k&&(be.l=k),W=be}return k=h.D,w=h.ya,k&&w&&Vt(W,k,w),Vt(W,"VER",h.la),re(h,W),W}function Un(h,w,k){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new hn(new uo({eb:k})):new hn(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jn(){}t=jn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bn(){}Bn.prototype.g=function(h,w){return new mn(h,w)};function mn(h,w){Ye.call(this),this.g=new Pl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!T(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!T(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Pi(this)}C(mn,Ye),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){fo(this.g)},mn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var k={};k.__data__=h,h=k}else this.u&&(k={},k.__data__=lt(h),h=k);w.i.push(new _l(w.Ya++,h)),w.G==3&&v(w)},mn.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,mn.aa.N.call(this)};function Sr(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const k in w){h=k;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}C(Sr,Xt);function Ll(){gt.call(this),this.status=1}C(Ll,gt);function Pi(h){this.g=h}C(Pi,jn),Pi.prototype.ua=function(){ke(this.g,"a")},Pi.prototype.ta=function(h){ke(this.g,new Sr(h))},Pi.prototype.sa=function(h){ke(this.g,new Ll)},Pi.prototype.ra=function(){ke(this.g,"b")},Bn.prototype.createWebChannel=Bn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,$4=function(){return new Bn},q4=function(){return Hn()},z4=Dt,_0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,tp=Fr,Ni.COMPLETE="complete",B4=Ni,In.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,xh=In,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,U4=hn}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new $v("@firebase/firestore");function dh(){return au.logLevel}function et(t,...e){if(au.logLevel<=qt.DEBUG){const n=e.map(r2);au.debug(`Firestore (${Lc}): ${t}`,...n)}}function Qa(t,...e){if(au.logLevel<=qt.ERROR){const n=e.map(r2);au.error(`Firestore (${Lc}): ${t}`,...n)}}function yc(t,...e){if(au.logLevel<=qt.WARN){const n=e.map(r2);au.warn(`Firestore (${Lc}): ${t}`,...n)}}function r2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t="Unexpected state"){const e=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+t;throw Qa(e),new Error(e)}function cn(t,e){t||St()}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qr.UNAUTHENTICATED))}shutdown(){}}class mL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gL{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){cn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new nl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new nl,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new nl)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn(typeof r.accessToken=="string"),new W4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string"),new Qr(e)}}class vL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _L{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){cn(this.o===void 0);const r=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,et("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(cn(typeof n.token=="string"),this.R=n.token,new _L(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new We(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ir(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new ir(0,0))}static max(){return new It(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r){n===void 0?n=0:n>e.length&&St(),r===void 0?r=e.length-n:r>e.length-n&&St(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class An extends hd{construct(e,n,r){return new An(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new An(n)}static emptyPath(){return new An([])}}const xL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends hd{construct(e,n,r){return new Lr(e,n,r)}static isValidIdentifier(e){return xL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new We(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new We(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new We(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(n)}static emptyPath(){return new Lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(An.fromString(e))}static fromName(e){return new ut(An.fromString(e).popFirst(5))}static empty(){return new ut(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&An.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return An.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new An(e.slice()))}}function AL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new ir(n+1,0):new ir(n,r));return new al(i,ut.empty(),e)}function EL(t){return new al(t.readTime,t.key,-1)}class al{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new al(It.min(),ut.empty(),-1)}static max(){return new al(It.max(),ut.empty(),-1)}}function SL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ut.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==NL)throw t;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):je.reject(n)}static resolve(e){return new je((n,r)=>{n(e)})}static reject(e){return new je((n,r)=>{r(e)})}static waitFor(e){return new je((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next(i=>i?je.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new je((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new je((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}i2.oe=-1;function Sm(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function TL(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.comparator=e,this.root=n||Cr.EMPTY}insert(e,n){return new Vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Cr.RED,this.left=i??Cr.EMPTY,this.right=s??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Cr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jr(this.comparator);return n.data=e,n}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new Wi([])}unionWith(e){let n=new jr(Lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new K4("Invalid base64 string: "+s):s}}(e);return new Or(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const PL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(t){if(cn(!!t),typeof t=="string"){let e=0;const n=PL.exec(t);if(cn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xn(t.seconds),nanos:Xn(t.nanos)}}function Xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ou(t){return typeof t=="string"?Or.fromBase64String(t):Or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function a2(t){const e=t.mapValue.fields.__previous_value__;return s2(e)?a2(e):e}function dd(t){const e=ol(t.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i,s,a,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class fd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If={mapValue:{}};function lu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s2(t)?4:RL(t)?9007199254740991:LL(t)?10:11:St()}function pa(t,e){if(t===e)return!0;const n=lu(t);if(n!==lu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ol(i.timestampValue),o=ol(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ou(i.bytesValue).isEqual(ou(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xn(i.geoPointValue.latitude)===Xn(s.geoPointValue.latitude)&&Xn(i.geoPointValue.longitude)===Xn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xn(i.integerValue)===Xn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Xn(i.doubleValue),o=Xn(s.doubleValue);return a===o?Hp(a)===Hp(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],pa);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(w_(a)!==w_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!pa(a[l],o[l])))return!1;return!0}(t,e);default:return St()}}function pd(t,e){return(t.values||[]).find(n=>pa(n,e))!==void 0}function wc(t,e){if(t===e)return 0;const n=lu(t),r=lu(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Xn(s.integerValue||s.doubleValue),l=Xn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return x_(t.timestampValue,e.timestampValue);case 4:return x_(dd(t),dd(e));case 5:return Yt(t.stringValue,e.stringValue);case 6:return function(s,a){const o=ou(s),l=ou(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Yt(o[u],l[u]);if(d!==0)return d}return Yt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Yt(Xn(s.latitude),Xn(a.latitude));return o!==0?o:Yt(Xn(s.longitude),Xn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return A_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,d;const g=s.fields||{},_=a.fields||{},m=(o=g.value)===null||o===void 0?void 0:o.arrayValue,C=(l=_.value)===null||l===void 0?void 0:l.arrayValue,I=Yt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:A_(m,C)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===If.mapValue&&a===If.mapValue)return 0;if(s===If.mapValue)return 1;if(a===If.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let g=0;g<l.length&&g<d.length;++g){const _=Yt(l[g],d[g]);if(_!==0)return _;const m=wc(o[l[g]],u[d[g]]);if(m!==0)return m}return Yt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw St()}}function x_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=ol(t),r=ol(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function A_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=wc(n[i],r[i]);if(s)return s}return Yt(n.length,r.length)}function bc(t){return w0(t)}function w0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ol(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ou(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ut.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=w0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${w0(n.fields[a])}`;return i+"}"}(t.mapValue):St()}function E_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function b0(t){return!!t&&"integerValue"in t}function o2(t){return!!t&&"arrayValue"in t}function S_(t){return!!t&&"nullValue"in t}function N_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function np(t){return!!t&&"mapValue"in t}function LL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Oh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=Lr.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Oh(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _i(Oh(this.value))}}function Q4(t){const e=[];return mu(t.fields,(n,r)=>{const i=new Lr([n]);if(np(r)){const s=Q4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Yr(e,0,It.min(),It.min(),It.min(),_i.empty(),0)}static newFoundDocument(e,n,r,i){return new Yr(e,1,n,It.min(),r,i,0)}static newNoDocument(e,n){return new Yr(e,2,n,It.min(),It.min(),_i.empty(),0)}static newUnknownDocument(e,n){return new Yr(e,3,n,It.min(),It.min(),_i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.position=e,this.inclusive=n}}function I_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ut.comparator(ut.fromName(a.referenceValue),n.key):r=wc(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n="asc"){this.field=e,this.dir=n}}function jL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{}class lr extends J4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OL(e,n,r):n==="array-contains"?new VL(e,r):n==="in"?new UL(e,r):n==="not-in"?new BL(e,r):n==="array-contains-any"?new zL(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ML(e,r):new FL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wc(n,this.value)):n!==null&&lu(this.value)===lu(n)&&this.matchesComparison(wc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends J4{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ds(e,n)}matches(e){return Y4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y4(t){return t.op==="and"}function X4(t){return DL(t)&&Y4(t)}function DL(t){for(const e of t.filters)if(e instanceof Ds)return!1;return!0}function x0(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+bc(t.value);if(X4(t))return t.filters.map(e=>x0(e)).join(",");{const e=t.filters.map(n=>x0(n)).join(",");return`${t.op}(${e})`}}function Z4(t,e){return t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&pa(r.value,i.value)}(t,e):t instanceof Ds?function(r,i){return i instanceof Ds&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&Z4(a,i.filters[o]),!0):!1}(t,e):void St()}function eE(t){return t instanceof lr?function(n){return`${n.field.canonicalString()} ${n.op} ${bc(n.value)}`}(t):t instanceof Ds?function(n){return n.op.toString()+" {"+n.getFilters().map(eE).join(" ,")+"}"}(t):"Filter"}class OL extends lr{constructor(e,n,r){super(e,n,r),this.key=ut.fromName(r.referenceValue)}matches(e){const n=ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class ML extends lr{constructor(e,n){super(e,"in",n),this.keys=tE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FL extends lr{constructor(e,n){super(e,"not-in",n),this.keys=tE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ut.fromName(r.referenceValue))}class VL extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o2(n)&&pd(n.arrayValue,this.value)}}class UL extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pd(this.value.arrayValue,n)}}class BL extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pd(this.value.arrayValue,n)}}class zL extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function T_(t,e=null,n=[],r=[],i=null,s=null,a=null){return new qL(t,e,n,r,i,s,a)}function l2(t){const e=kt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>x0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bc(r)).join(",")),e.ue=n}return e.ue}function u2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Z4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k_(t.startAt,e.startAt)&&k_(t.endAt,e.endAt)}function A0(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $L(t,e,n,r,i,s,a,o){return new Rc(t,e,n,r,i,s,a,o)}function Nm(t){return new Rc(t)}function P_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nE(t){return t.collectionGroup!==null}function Mh(t){const e=kt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new jr(Lr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new md(s,r))}),n.has(Lr.keyField().canonicalString())||e.ce.push(new md(Lr.keyField(),r))}return e.ce}function da(t){const e=kt(t);return e.le||(e.le=WL(e,Mh(t))),e.le}function WL(t,e){if(t.limitType==="F")return T_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new md(i.field,s)});const n=t.endAt?new Gp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gp(t.startAt.position,t.startAt.inclusive):null;return T_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function E0(t,e){const n=t.filters.concat([e]);return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kp(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Im(t,e){return u2(da(t),da(e))&&t.limitType===e.limitType}function rE(t){return`${l2(da(t))}|lt:${t.limitType}`}function Pu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eE(i)).join(", ")}]`),Sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bc(i)).join(",")),`Target(${r})`}(da(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ut.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=I_(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,Mh(r),i)||r.endAt&&!function(a,o,l){const u=I_(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,Mh(r),i))}(t,e)}function HL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iE(t){return(e,n)=>{let r=!1;for(const i of Mh(t)){const s=GL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GL(t,e,n){const r=t.field.isKeyField()?ut.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?wc(l,u):St()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return G4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new Vn(ut.comparator);function Ja(){return KL}const sE=new Vn(ut.comparator);function Ah(...t){let e=sE;for(const n of t)e=e.insert(n.key,n);return e}function aE(t){let e=sE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kl(){return Fh()}function oE(){return Fh()}function Fh(){return new jc(t=>t.toString(),(t,e)=>t.isEqual(e))}const QL=new Vn(ut.comparator),JL=new jr(ut.comparator);function Ut(...t){let e=JL;for(const n of t)e=e.add(n);return e}const YL=new jr(Yt);function XL(){return YL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function lE(t){return{integerValue:""+t}}function ZL(t,e){return TL(e)?lE(e):c2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this._=void 0}}function eR(t,e,n){return t instanceof gd?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&s2(s)&&(s=a2(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof vd?cE(t,e):t instanceof yd?hE(t,e):function(i,s){const a=uE(i,s),o=C_(a)+C_(i.Pe);return b0(a)&&b0(i.Pe)?lE(o):c2(i.serializer,o)}(t,e)}function tR(t,e,n){return t instanceof vd?cE(t,e):t instanceof yd?hE(t,e):n}function uE(t,e){return t instanceof Qp?function(r){return b0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class gd extends Tm{}class vd extends Tm{constructor(e){super(),this.elements=e}}function cE(t,e){const n=dE(e);for(const r of t.elements)n.some(i=>pa(i,r))||n.push(r);return{arrayValue:{values:n}}}class yd extends Tm{constructor(e){super(),this.elements=e}}function hE(t,e){let n=dE(e);for(const r of t.elements)n=n.filter(i=>!pa(i,r));return{arrayValue:{values:n}}}class Qp extends Tm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function C_(t){return Xn(t.integerValue||t.doubleValue)}function dE(t){return o2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.field=e,this.transform=n}}function rR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vd&&i instanceof vd||r instanceof yd&&i instanceof yd?_c(r.elements,i.elements,pa):r instanceof Qp&&i instanceof Qp?pa(r.Pe,i.Pe):r instanceof gd&&i instanceof gd}(t.transform,e.transform)}class iR{constructor(e,n){this.version=e,this.transformResults=n}}class us{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pm{}function fE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h2(t.key,us.none()):new Od(t.key,t.data,us.none());{const n=t.data,r=_i.empty();let i=new jr(Lr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new gl(t.key,r,new Wi(i.toArray()),us.none())}}function sR(t,e,n){t instanceof Od?function(i,s,a){const o=i.value.clone(),l=R_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof gl?function(i,s,a){if(!rp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=R_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(pE(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Vh(t,e,n,r){return t instanceof Od?function(s,a,o,l){if(!rp(s.precondition,a))return o;const u=s.value.clone(),d=j_(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gl?function(s,a,o,l){if(!rp(s.precondition,a))return o;const u=j_(s.fieldTransforms,l,a),d=a.data;return d.setAll(pE(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,o){return rp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function aR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uE(r.transform,i||null);s!=null&&(n===null&&(n=_i.empty()),n.set(r.field,s))}return n||null}function L_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(s,a)=>rR(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Od extends Pm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gl extends Pm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function R_(t,e,n){const r=new Map;cn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,tR(a,o,n[i]))}return r}function j_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,eR(s,a,e))}return r}class h2 extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oR extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oE();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=fE(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(n,r)=>L_(n,r))&&_c(this.baseMutations,e.baseMutations,(n,r)=>L_(n,r))}}class d2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){cn(e.mutations.length===r.length);let i=function(){return QL}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new d2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar,Ht;function hR(t){switch(t){default:return St();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function mE(t){if(t===void 0)return Qa("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case ar.OK:return Pe.OK;case ar.CANCELLED:return Pe.CANCELLED;case ar.UNKNOWN:return Pe.UNKNOWN;case ar.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case ar.INTERNAL:return Pe.INTERNAL;case ar.UNAVAILABLE:return Pe.UNAVAILABLE;case ar.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case ar.NOT_FOUND:return Pe.NOT_FOUND;case ar.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case ar.ABORTED:return Pe.ABORTED;case ar.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case ar.DATA_LOSS:return Pe.DATA_LOSS;default:return St()}}(Ht=ar||(ar={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Yl([4294967295,4294967295],0);function D_(t){const e=dR().encode(t),n=new V4;return n.update(e),new Uint8Array(n.digest())}function O_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yl([n,r],0),new Yl([i,s],0)]}class f2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eh(`Invalid padding: ${n}`);if(r<0)throw new Eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yl.fromNumber(r)));return i.compare(fR)===1&&(i=new Yl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=D_(e),[r,i]=O_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new f2(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=D_(e),[r,i]=O_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cm(It.min(),i,new Vn(Yt),Ja(),Ut())}}class Md{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gE{constructor(e,n){this.targetId=e,this.me=n}}class vE{constructor(e,n,r=Or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class M_{constructor(){this.fe=0,this.ge=V_(),this.pe=Or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ut(),n=Ut(),r=Ut();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:St()}}),new Md(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=V_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,cn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ja(),this.qe=F_(),this.Qe=new Vn(Yt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:St()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(A0(s))if(r===0){const a=new ut(s.path);this.Ue(n,a,Yr.newNoDocument(a,It.min()))}else cn(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=ou(r).toUint8Array()}catch(l){if(l instanceof K4)return yc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new f2(a,i,s)}catch(l){return yc(l instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&A0(o.target)){const l=new ut(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Yr.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Ut();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Cm(e,n,this.Qe,this.ke,r);return this.ke=Ja(),this.qe=F_(),this.Qe=new Vn(Yt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new M_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new jr(Yt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function F_(){return new Vn(ut.comparator)}function V_(){return new Vn(ut.comparator)}const mR={asc:"ASCENDING",desc:"DESCENDING"},gR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vR={and:"AND",or:"OR"};class yR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S0(t,e){return t.useProto3Json||Sm(e)?e:{value:e}}function Jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _R(t,e){return Jp(t,e.toTimestamp())}function fa(t){return cn(!!t),It.fromTimestamp(function(n){const r=ol(n);return new ir(r.seconds,r.nanos)}(t))}function p2(t,e){return N0(t,e).canonicalString()}function N0(t,e){const n=function(i){return new An(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _E(t){const e=An.fromString(t);return cn(EE(e)),e}function I0(t,e){return p2(t.databaseId,e.path)}function zg(t,e){const n=_E(e);if(n.get(1)!==t.databaseId.projectId)throw new We(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ut(bE(n))}function wE(t,e){return p2(t.databaseId,e)}function wR(t){const e=_E(t);return e.length===4?An.emptyPath():bE(e)}function k0(t){return new An(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bE(t){return cn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U_(t,e,n){return{name:I0(t,e),fields:n.value.mapValue.fields}}function bR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(cn(d===void 0||typeof d=="string"),Or.fromBase64String(d||"")):(cn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Or.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?Pe.UNKNOWN:mE(u.code);return new We(d,u.message||"")}(a);n=new vE(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zg(t,r.document.name),s=fa(r.document.updateTime),a=r.document.createTime?fa(r.document.createTime):It.min(),o=new _i({mapValue:{fields:r.document.fields}}),l=Yr.newFoundDocument(i,s,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ip(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zg(t,r.document),s=r.readTime?fa(r.readTime):It.min(),a=Yr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ip([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zg(t,r.document),s=r.removedTargetIds||[];n=new ip([],s,i,null)}else{if(!("filter"in e))return St();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new cR(i,s),o=r.targetId;n=new gE(o,a)}}return n}function xR(t,e){let n;if(e instanceof Od)n={update:U_(t,e.key,e.value)};else if(e instanceof h2)n={delete:I0(t,e.key)};else if(e instanceof gl)n={update:U_(t,e.key,e.data),updateMask:CR(e.fieldMask)};else{if(!(e instanceof oR))return St();n={verify:I0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof gd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof vd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof yd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Qp)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw St()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_R(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:St()}(t,e.precondition)),n}function AR(t,e){return t&&t.length>0?(cn(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?fa(i.updateTime):fa(s);return a.isEqual(It.min())&&(a=fa(s)),new iR(a,i.transformResults||[])}(n,e))):[]}function ER(t,e){return{documents:[wE(t,e.path)]}}function SR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wE(t,i);const s=function(u){if(u.length!==0)return AE(Ds.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(_){return{field:Cu(_.field),direction:kR(_.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=S0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function NR(t){let e=wR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cn(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(g){const _=xE(g);return _ instanceof Ds&&X4(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(_=>function(C){return new md(Lu(C.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(n.orderBy));let o=null;n.limit&&(o=function(g){let _;return _=typeof g=="object"?g.value:g,Sm(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(g){const _=!!g.before,m=g.values||[];return new Gp(m,_)}(n.startAt));let u=null;return n.endAt&&(u=function(g){const _=!g.before,m=g.values||[];return new Gp(m,_)}(n.endAt)),$L(e,i,a,s,o,"F",l,u)}function IR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lu(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lu(n.unaryFilter.field);return lr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Lu(n.unaryFilter.field);return lr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(t):t.fieldFilter!==void 0?function(n){return lr.create(Lu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ds.create(n.compositeFilter.filters.map(r=>xE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St()}}(n.compositeFilter.op))}(t):St()}function kR(t){return mR[t]}function TR(t){return gR[t]}function PR(t){return vR[t]}function Cu(t){return{fieldPath:t.canonicalString()}}function Lu(t){return Lr.fromServerFormat(t.fieldPath)}function AE(t){return t instanceof lr?function(n){if(n.op==="=="){if(N_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NAN"}};if(S_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NAN"}};if(S_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(n.field),op:TR(n.op),value:n.value}}}(t):t instanceof Ds?function(n){const r=n.getFilters().map(i=>AE(i));return r.length===1?r[0]:{compositeFilter:{op:PR(n.op),filters:r}}}(t):St()}function CR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r,i,s=It.min(),a=It.min(),o=Or.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.ct=e}}function RR(t){const e=NR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.un=new DR}addToCollectionParentIndex(e,n){return this.un.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(al.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(al.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class DR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jr(An.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jr(An.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xc(0)}static kn(){return new xc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.changes=new jc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vh(r.mutation,i,Wi.empty(),ir.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ut()){const i=Kl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Ah();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Kl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Ja();const a=Fh(),o=function(){return Fh()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof gl)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Vh(d.mutation,u,d.mutation.getFieldMask(),ir.now())):a.set(u.key,Wi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var g;return o.set(u,new MR(d,(g=a.get(u))!==null&&g!==void 0?g:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Fh();let i=new Vn((a,o)=>a-o),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Wi.empty();d=o.applyToLocalView(u,d),r.set(l,d);const g=(i.get(o.batchId)||Ut()).add(l);i=i.insert(o.batchId,g)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,g=oE();d.forEach(_=>{if(!s.has(_)){const m=fE(n.get(_),r.get(_));m!==null&&g.set(_,m),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,g))}return je.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):je.resolve(Kl());let o=-1,l=s;return a.next(u=>je.forEach(u,(d,g)=>(o<g.largestBatchId&&(o=g.largestBatchId),s.get(d)?je.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{l=l.insert(d,_)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ut())).next(d=>({batchId:o,changes:aE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ut(n)).next(r=>{let i=Ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Ah();return this.indexManager.getCollectionParents(e,s).next(o=>je.forEach(o,l=>{const u=function(g,_){return new Rc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Yr.newInvalidDocument(d)))});let o=Ah();return a.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Vh(d.mutation,u,Wi.empty(),ir.now()),km(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return je.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}}(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:RR(i.bundledQuery),readTime:fa(i.readTime)}}(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.overlays=new Vn(ut.comparator),this.Ir=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kl();return je.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),je.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const i=Kl(),s=n.length+1,a=new ut(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return je.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Kl(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Kl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return je.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new uR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ut(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.sessionToken=Or.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Tr=new jr(_r.Er),this.dr=new jr(_r.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _r(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ut(new An([])),r=new _r(n,e),i=new _r(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ut(new An([])),r=new _r(n,e),i=new _r(n,e+1);let s=Ut();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new _r(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ut.comparator(e.key,n.key)||Yt(e.wr,n.wr)}static Ar(e,n){return Yt(e.wr,n.wr)||ut.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new jr(_r.Er)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new lR(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new _r(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return je.resolve(a)}lookupMutationBatch(e,n){return je.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jr(Yt);return n.forEach(i=>{const s=new _r(i,0),a=new _r(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),je.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ut.isDocumentKey(s)||(s=s.child(""));const a=new _r(new ut(s),0);let o=new jr(Yt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),je.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){cn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return je.forEach(n.mutations,i=>{const s=new _r(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new _r(n,0),i=this.br.firstAfterOrEqual(r);return je.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.Mr=e,this.docs=function(){return new Vn(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():Yr.newInvalidDocument(n))}getEntries(e,n){let r=Ja();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yr.newInvalidDocument(i))}),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ja();const a=n.path,o=new ut(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||SL(EL(d),r)<=0||(i.has(d.key)||km(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(e,n,r,i){St()}Or(e,n){return je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $R(this)}getSize(e){return je.resolve(this.size)}}class $R extends OR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),je.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.persistence=e,this.Nr=new jc(n=>l2(n),u2),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new m2,this.targetCount=0,this.kr=xc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),je.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Kn(n),je.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),je.waitFor(s).next(()=>i)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),je.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new i2(0),this.Kr=!1,this.Kr=!0,this.$r=new BR,this.referenceDelegate=e(this),this.Ur=new WR(this),this.indexManager=new jR,this.remoteDocumentCache=function(i){return new qR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new LR(n),this.Gr=new VR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){et("MemoryPersistence","Starting transaction:",e);const i=new GR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return je.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class GR extends IL{constructor(e){super(),this.currentSequenceNumber=e}}class g2{constructor(e){this.persistence=e,this.Jr=new m2,this.Yr=null}static Zr(e){return new g2(e)}get Xr(){if(this.Yr)return this.Yr;throw St()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),je.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Xr,r=>{const i=ut.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,It.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return je.or([()=>je.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ut(),i=Ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new v2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RT()?8:kL(ti())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new KR;return this.Xi(e,n,a).next(o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(dh()<=qt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),je.resolve()):(dh()<=qt.DEBUG&&et("QueryEngine","Query:",Pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dh()<=qt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,da(n))):je.resolve())}Yi(e,n){if(P_(n))return je.resolve(null);let r=da(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kp(n,null,"F"),r=da(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ut(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,o);return this.ns(n,u,a,l.readTime)?this.Yi(e,Kp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return P_(n)||i.isEqual(It.min())?je.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?je.resolve(null):(dh()<=qt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pu(n)),this.rs(e,a,n,AL(i,-1)).next(o=>o))})}ts(e,n){let r=new jr(iE(e));return n.forEach((i,s)=>{km(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return dh()<=qt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Pu(n)),this.Ji.getDocumentsMatchingQuery(e,n,al.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Vn(Yt),this._s=new jc(s=>l2(s),u2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function YR(t,e,n,r){return new JR(t,e,n,r)}async function SE(t,e){const n=kt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Ut();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function XR(t,e){const n=kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const g=u.batch,_=g.keys();let m=je.resolve();return _.forEach(C=>{m=m.next(()=>d.getEntry(l,C)).next(I=>{const L=u.docVersions.get(C);cn(L!==null),I.version.compareTo(L)<0&&(g.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ut();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NE(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ZR(t,e){const n=kt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((d,g)=>{const _=i.get(g);if(!_)return;o.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,g)));let m=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(Or.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(g,m),function(I,L,x){return I.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(_,m,d)&&o.push(n.Ur.updateTargetData(s,m))});let l=Ja(),u=Ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(e8(s,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(It.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return je.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function e8(t,e,n){let r=Ut(),i=Ut();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ja();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):et("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function t8(t,e){const n=kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n8(t,e){const n=kt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,je.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new zo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function T0(t,e,n){const r=kt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Dd(a))throw a;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function B_(t,e,n){const r=kt(t);let i=It.min(),s=Ut();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const g=kt(l),_=g._s.get(d);return _!==void 0?je.resolve(g.os.get(_)):g.Ur.getTargetData(u,d)}(r,a,da(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:It.min(),n?s:Ut())).next(o=>(r8(r,HL(e),o),{documents:o,Ts:s})))}function r8(t,e,n){let r=t.us.get(e)||It.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class z_{constructor(){this.activeTargetIds=XL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i8{constructor(){this.so=new z_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new z_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function qg(){return kf===null?kf=function(){return 268435456+Math.round(2147483648*Math.random())}():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="WebChannelConnection";class l8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=qg(),l=this.xo(n,r.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(n,l,u,i).then(d=>(et("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw yc("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=a8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=qg();return new Promise((a,o)=>{const l=new U4;l.setWithCredentials(!0),l.listenOnce(B4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tp.NO_ERROR:const d=l.getResponseJson();et($r,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case tp.TIMEOUT:et($r,`RPC '${e}' ${s} timed out`),o(new We(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case tp.HTTP_ERROR:const g=l.getStatus();if(et($r,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const m=_==null?void 0:_.error;if(m&&m.status&&m.message){const C=function(L){const x=L.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(x)>=0?x:Pe.UNKNOWN}(m.status);o(new We(C,m.message))}else o(new We(Pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new We(Pe.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{et($r,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);et($r,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=qg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$4(),o=q4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");et($r,`Creating RPC '${e}' stream ${i}: ${d}`,l);const g=a.createWebChannel(d,l);let _=!1,m=!1;const C=new o8({Io:L=>{m?et($r,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(_||(et($r,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),et($r,`RPC '${e}' stream ${i} sending:`,L),g.send(L))},To:()=>g.close()}),I=(L,x,T)=>{L.listen(x,j=>{try{T(j)}catch(U){setTimeout(()=>{throw U},0)}})};return I(g,xh.EventType.OPEN,()=>{m||(et($r,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),I(g,xh.EventType.CLOSE,()=>{m||(m=!0,et($r,`RPC '${e}' stream ${i} transport closed`),C.So())}),I(g,xh.EventType.ERROR,L=>{m||(m=!0,yc($r,`RPC '${e}' stream ${i} transport errored:`,L),C.So(new We(Pe.UNAVAILABLE,"The operation could not be completed")))}),I(g,xh.EventType.MESSAGE,L=>{var x;if(!m){const T=L.data[0];cn(!!T);const j=T,U=j.error||((x=j[0])===null||x===void 0?void 0:x.error);if(U){et($r,`RPC '${e}' stream ${i} received error:`,U);const ne=U.status;let M=function(N){const R=ar[N];if(R!==void 0)return mE(R)}(ne),V=U.message;M===void 0&&(M=Pe.INTERNAL,V="Unknown error status: "+ne+" with message "+U.message),m=!0,C.So(new We(M,V)),g.close()}else et($r,`RPC '${e}' stream ${i} received:`,T),C.bo(T)}}),I(o,z4.STAT_EVENT,L=>{L.stat===_0.PROXY?et($r,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===_0.NOPROXY&&et($r,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function $g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){return new yR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i,s,a,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new We(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u8 extends kE{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=bR(this.serializer,e),r=function(s){if(!("targetChange"in s))return It.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?It.min():a.readTime?fa(a.readTime):It.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=k0(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=A0(l)?{documents:ER(s,l)}:{query:SR(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=yE(s,a.resumeToken);const u=S0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(It.min())>0){o.readTime=Jp(s,a.snapshotVersion.toTimestamp());const u=S0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=IR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=k0(this.serializer),n.removeTarget=e,this.a_(n)}}class c8 extends kE{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return cn(!!e.streamToken),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=AR(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=k0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new We(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,N0(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Pe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,N0(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new We(Pe.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class d8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qa(n),this.D_=!1):et("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{gu(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=kt(l);u.L_.add(4),await Fd(u),u.q_.set("Unknown"),u.L_.delete(4),await Rm(u)}(this))})}),this.q_=new d8(r,i)}}async function Rm(t){if(gu(t))for(const e of t.B_)await e(!0)}async function Fd(t){for(const e of t.B_)await e(!1)}function TE(t,e){const n=kt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),b2(n)?w2(n):Dc(n).r_()&&_2(n,e))}function y2(t,e){const n=kt(t),r=Dc(n);n.N_.delete(e),r.r_()&&PE(n,e),n.N_.size===0&&(r.r_()?r.o_():gu(n)&&n.q_.set("Unknown"))}function _2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dc(t).A_(e)}function PE(t,e){t.Q_.xe(e),Dc(t).R_(e)}function w2(t){t.Q_=new pR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Dc(t).start(),t.q_.v_()}function b2(t){return gu(t)&&!Dc(t).n_()&&t.N_.size>0}function gu(t){return kt(t).L_.size===0}function CE(t){t.Q_=void 0}async function p8(t){t.q_.set("Online")}async function m8(t){t.N_.forEach((e,n)=>{_2(t,e)})}async function g8(t,e){CE(t),b2(t)?(t.q_.M_(e),w2(t)):t.q_.set("Unknown")}async function v8(t,e,n){if(t.q_.set("Online"),e instanceof vE&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yp(t,r)}else if(e instanceof ip?t.Q_.Ke(e):e instanceof gE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(It.min()))try{const r=await NE(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Or.EMPTY_BYTE_STRING,d.snapshotVersion)),PE(s,l);const g=new zo(d.target,l,u,d.sequenceNumber);_2(s,g)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await Yp(t,r)}}async function Yp(t,e,n){if(!Dd(e))throw e;t.L_.add(1),await Fd(t),t.q_.set("Offline"),n||(n=()=>NE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Rm(t)})}function LE(t,e){return e().catch(n=>Yp(t,n,e))}async function jm(t){const e=kt(t),n=ll(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;y8(e);)try{const i=await t8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,_8(e,i)}catch(i){await Yp(e,i)}RE(e)&&jE(e)}function y8(t){return gu(t)&&t.O_.length<10}function _8(t,e){t.O_.push(e);const n=ll(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RE(t){return gu(t)&&!ll(t).n_()&&t.O_.length>0}function jE(t){ll(t).start()}async function w8(t){ll(t).p_()}async function b8(t){const e=ll(t);for(const n of t.O_)e.m_(n.mutations)}async function x8(t,e,n){const r=t.O_.shift(),i=d2.from(r,e,n);await LE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jm(t)}async function A8(t,e){e&&ll(t).V_&&await async function(r,i){if(function(a){return hR(a)&&a!==Pe.ABORTED}(i.code)){const s=r.O_.shift();ll(r).s_(),await LE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jm(r)}}(t,e),RE(t)&&jE(t)}async function $_(t,e){const n=kt(t);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=gu(n);n.L_.add(3),await Fd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Rm(n)}async function E8(t,e){const n=kt(t);e?(n.L_.delete(2),await Rm(n)):e||(n.L_.add(2),await Fd(n),n.q_.set("Unknown"))}function Dc(t){return t.K_||(t.K_=function(n,r,i){const s=kt(n);return s.w_(),new u8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:p8.bind(null,t),Ro:m8.bind(null,t),mo:g8.bind(null,t),d_:v8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),b2(t)?w2(t):t.q_.set("Unknown")):(await t.K_.stop(),CE(t))})),t.K_}function ll(t){return t.U_||(t.U_=function(n,r,i){const s=kt(n);return s.w_(),new c8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w8.bind(null,t),mo:A8.bind(null,t),f_:b8.bind(null,t),g_:x8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await jm(t)):(await t.U_.stop(),t.O_.length>0&&(et("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new x2(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A2(t,e){if(Qa("AsyncQueue",`${e}: ${t}`),Dd(t))return new We(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=Ah(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new sc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.W_=new Vn(ut.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):St():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ac{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ac(e,n,sc.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N8{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=kt(n),s=i.queries;i.queries=H_(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new We(Pe.ABORTED,"Firestore shutting down"))}}function H_(){return new jc(t=>rE(t),Im)}async function DE(t,e){const n=kt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new S8,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=A2(a,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&E2(n)}async function OE(t,e){const n=kt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I8(t,e){const n=kt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&E2(n)}function k8(t,e,n){const r=kt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function E2(t){t.Y_.forEach(e=>{e.next()})}var P0,G_;(G_=P0||(P0={})).ea="default",G_.Cache="cache";class ME{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==P0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class T8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ut(),this.mutatedKeys=Ut(),this.Aa=iE(e),this.Ra=new sc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new W_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,g)=>{const _=i.get(d),m=km(this.query,g)?g:null,C=!!_&&this.mutatedKeys.has(_.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let L=!1;_&&m?_.data.isEqual(m.data)?C!==I&&(r.track({type:3,doc:m}),L=!0):this.ga(_,m)||(r.track({type:2,doc:m}),L=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(o=!0)):!_&&m?(r.track({type:0,doc:m}),L=!0):_&&!m&&(r.track({type:1,doc:_}),L=!0,(l||u)&&(o=!0)),L&&(m?(a=a.add(m),s=I?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,g)=>function(m,C){const I=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return I(m)-I(C)}(d.type,g.type)||this.Aa(d.doc,g.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Ac(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ut(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new VE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new FE(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ut();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ac.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class P8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C8{constructor(e){this.key=e,this.va=!1}}class L8{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new jc(o=>rE(o),Im),this.Ma=new Map,this.xa=new Set,this.Oa=new Vn(ut.comparator),this.Na=new Map,this.La=new m2,this.Ba={},this.ka=new Map,this.qa=xc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function R8(t,e,n=!0){const r=WE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await UE(r,e,n,!0),i}async function j8(t,e){const n=WE(t);await UE(n,e,!0,!1)}async function UE(t,e,n,r){const i=await n8(t.localStore,da(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await D8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&TE(t.remoteStore,i),o}async function D8(t,e,n,r,i){t.Ka=(g,_,m)=>async function(I,L,x,T){let j=L.view.ma(x);j.ns&&(j=await B_(I.localStore,L.query,!1).then(({documents:V})=>L.view.ma(V,j)));const U=T&&T.targetChanges.get(L.targetId),ne=T&&T.targetMismatches.get(L.targetId)!=null,M=L.view.applyChanges(j,I.isPrimaryClient,U,ne);return Q_(I,L.targetId,M.wa),M.snapshot}(t,g,_,m);const s=await B_(t.localStore,e,!0),a=new T8(e,s.Ts),o=a.ma(s.documents),l=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);Q_(t,n,u.wa);const d=new P8(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function O8(t,e,n){const r=kt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Im(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await T0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&y2(r.remoteStore,i.targetId),C0(r,i.targetId)}).catch(jd)):(C0(r,i.targetId),await T0(r.localStore,i.targetId,!0))}async function M8(t,e){const n=kt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y2(n.remoteStore,r.targetId))}async function F8(t,e,n){const r=W8(t);try{const i=await function(a,o){const l=kt(a),u=ir.now(),d=o.reduce((m,C)=>m.add(C.key),Ut());let g,_;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=Ja(),I=Ut();return l.cs.getEntries(m,d).next(L=>{C=L,C.forEach((x,T)=>{T.isValidDocument()||(I=I.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,C)).next(L=>{g=L;const x=[];for(const T of o){const j=aR(T,g.get(T.key).overlayedDocument);j!=null&&x.push(new gl(T.key,j,Q4(j.value.mapValue),us.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,o)}).next(L=>{_=L;const x=L.applyToLocalDocumentSet(g,I);return l.documentOverlayCache.saveOverlays(m,L.batchId,x)})}).then(()=>({batchId:_.batchId,changes:aE(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new Vn(Yt)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Vd(r,i.changes),await jm(r.remoteStore)}catch(i){const s=A2(i,"Failed to persist write");n.reject(s)}}async function BE(t,e){const n=kt(t);try{const r=await ZR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?cn(a.va):i.removedDocuments.size>0&&(cn(a.va),a.va=!1))}),await Vd(n,r,e)}catch(r){await jd(r)}}function K_(t,e,n){const r=kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=kt(a);l.onlineState=o;let u=!1;l.queries.forEach((d,g)=>{for(const _ of g.j_)_.Z_(o)&&(u=!0)}),u&&E2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V8(t,e,n){const r=kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Vn(ut.comparator);a=a.insert(s,Yr.newNoDocument(s,It.min()));const o=Ut().add(s),l=new Cm(It.min(),new Map,new Vn(Yt),a,o);await BE(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),S2(r)}else await T0(r.localStore,e,!1).then(()=>C0(r,e,n)).catch(jd)}async function U8(t,e){const n=kt(t),r=e.batch.batchId;try{const i=await XR(n.localStore,e);qE(n,r,null),zE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vd(n,i)}catch(i){await jd(i)}}async function B8(t,e,n){const r=kt(t);try{const i=await function(a,o){const l=kt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(g=>(cn(g!==null),d=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);qE(r,e,n),zE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vd(r,i)}catch(i){await jd(i)}}function zE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qE(t,e,n){const r=kt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function C0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$E(t,r)})}function $E(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(y2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),S2(t))}function Q_(t,e,n){for(const r of n)r instanceof FE?(t.La.addReference(r.key,e),z8(t,r)):r instanceof VE?(et("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$E(t,r.key)):St()}function z8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(et("SyncEngine","New document in limbo: "+n),t.xa.add(r),S2(t))}function S2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ut(An.fromString(e)),r=t.qa.next();t.Na.set(r,new C8(n)),t.Oa=t.Oa.insert(n,r),TE(t.remoteStore,new zo(da(Nm(n.path)),r,"TargetPurposeLimboResolution",i2.oe))}}async function Vd(t,e,n){const r=kt(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const g=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(u){i.push(u);const g=v2.Wi(l.targetId,u);s.push(g)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const d=kt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>je.forEach(u,_=>je.forEach(_.$i,m=>d.persistence.referenceDelegate.addReference(g,_.targetId,m)).next(()=>je.forEach(_.Ui,m=>d.persistence.referenceDelegate.removeReference(g,_.targetId,m)))))}catch(g){if(!Dd(g))throw g;et("LocalStore","Failed to update sequence numbers: "+g)}for(const g of u){const _=g.targetId;if(!g.fromCache){const m=d.os.get(_),C=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(C);d.os=d.os.insert(_,I)}}}(r.localStore,s))}async function q8(t,e){const n=kt(t);if(!n.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const r=await SE(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new We(Pe.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vd(n,r.hs)}}function $8(t,e){const n=kt(t),r=n.Na.get(e);if(r&&r.va)return Ut().add(r.key);{let i=Ut();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function WE(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V8.bind(null,e),e.Ca.d_=I8.bind(null,e.eventManager),e.Ca.$a=k8.bind(null,e.eventManager),e}function W8(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B8.bind(null,e),e}class Xp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return YR(this.persistence,new QR,e.initialUser,this.serializer)}Ga(e){return new HR(g2.Zr,this.serializer)}Wa(e){return new i8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xp.provider={build:()=>new Xp};class L0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q8.bind(null,this.syncEngine),await E8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N8}()}createDatastore(e){const n=Lm(e.databaseInfo.databaseId),r=function(s){return new l8(s)}(e.databaseInfo);return function(s,a,o,l){return new h8(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new f8(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>K_(this.syncEngine,n,0),function(){return q_.D()?new q_:new s8}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,d){const g=new L8(i,s,a,o,l,u);return d&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=kt(i);et("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Fd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}L0.provider={build:()=>new L0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qr.UNAUTHENTICATED,this.clientId=H4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{et("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(et("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wg(t,e){t.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G8(t);et("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$_(e.remoteStore,i)),t._onlineComponents=e}async function G8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yc("Error using user provided cache. Falling back to memory cache: "+n),await Wg(t,new Xp)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await Wg(t,new Xp);return t._offlineComponents}async function GE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await J_(t,new L0))),t._onlineComponents}function K8(t){return GE(t).then(e=>e.syncEngine)}async function R0(t){const e=await GE(t),n=e.eventManager;return n.onListen=R8.bind(null,e.syncEngine),n.onUnlisten=O8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M8.bind(null,e.syncEngine),n}function Q8(t,e,n={}){const r=new nl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const d=new HE({next:_=>{d.Za(),a.enqueueAndForget(()=>OE(s,g));const m=_.docs.has(o);!m&&_.fromCache?u.reject(new We(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&_.fromCache&&l&&l.source==="server"?u.reject(new We(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),g=new ME(Nm(o.path),d,{includeMetadataChanges:!0,_a:!0});return DE(s,g)}(await R0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e,n){if(!n)throw new We(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J8(t,e,n,r){if(e===!0&&r===!0)throw new We(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X_(t){if(!ut.isDocumentKey(t))throw new We(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(ut.isDocumentKey(t))throw new We(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":St()}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dm(t);throw new We(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new We(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ew({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ew(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pL;switch(r.type){case"firstParty":return new yL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y_.get(n);r&&(et("ComponentProvider","Removing Datastore"),Y_.delete(n),r.terminate())}(this),Promise.resolve()}}function Y8(t,e,n,r={}){var i;const s=(t=cs(t,Om))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Qr.MOCK_USER;else{o=NT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new We(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qr(u)}t._authCredentials=new mL(new W4(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class Zr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class rl extends vl{constructor(e,n,r){super(e,n,Nm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new ut(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function qi(t,e,...n){if(t=Er(t),QE("collection","path",e),t instanceof Om){const r=An.fromString(e,...n);return Z_(r),new rl(t,null,r)}{if(!(t instanceof Zr||t instanceof rl))throw new We(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(An.fromString(e,...n));return Z_(r),new rl(t.firestore,null,r)}}function Gt(t,e,...n){if(t=Er(t),arguments.length===1&&(e=H4.newId()),QE("doc","path",e),t instanceof Om){const r=An.fromString(e,...n);return X_(r),new Zr(t,null,new ut(r))}{if(!(t instanceof Zr||t instanceof rl))throw new We(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(An.fromString(e,...n));return X_(r),new Zr(t.firestore,t instanceof rl?t.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IE(this,"async_queue_retry"),this.Vu=()=>{const r=$g();r&&et("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new nl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Dd(e))throw e;et("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Qa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=x2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&St()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function nw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ul extends Om{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tw(e),this._firestoreClient=void 0,await e}}}function X8(t,e){const n=typeof t=="object"?t:Gv(),r=typeof t=="string"?t:"(default)",i=Hv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ET("firestore");s&&Y8(i,...s)}return i}function N2(t){if(t._terminated)throw new We(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z8(t),t._firestoreClient}function Z8(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,d){return new CL(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new H8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(Or.fromBase64String(e))}catch(n){throw new We(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ec(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=/^__.*__$/;class tj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Od(e,this.data,n,this.fieldTransforms)}}class JE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class T2{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new T2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(YE(this.Cu)&&ej.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lm(e)}Qu(e,n,r,i=!1){return new T2({Cu:e,methodName:n,qu:r,path:Lr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(t){const e=t._freezeSettings(),n=Lm(t._databaseId);return new nj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XE(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);C2("Data must be an object, but it was:",a,r);const o=ZE(r,a);let l,u;if(s.merge)l=new Wi(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const _=j0(e,g,n);if(!a.contains(_))throw new We(Pe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);tS(d,_)||d.push(_)}l=new Wi(d),u=a.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=a.fieldTransforms;return new tj(new _i(o),l,u)}class Um extends Fm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Um}}class P2 extends Fm{_toFieldTransform(e){return new nR(e.path,new gd)}isEqual(e){return e instanceof P2}}function rj(t,e,n,r){const i=t.Qu(1,e,n);C2("Data must be an object, but it was:",i,r);const s=[],a=_i.empty();mu(r,(l,u)=>{const d=L2(e,l,n);u=Er(u);const g=i.Nu(d);if(u instanceof Um)s.push(d);else{const _=Ud(u,g);_!=null&&(s.push(d),a.set(d,_))}});const o=new Wi(s);return new JE(a,o,i.fieldTransforms)}function ij(t,e,n,r,i,s){const a=t.Qu(1,e,n),o=[j0(e,r,n)],l=[i];if(s.length%2!=0)throw new We(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)o.push(j0(e,s[_])),l.push(s[_+1]);const u=[],d=_i.empty();for(let _=o.length-1;_>=0;--_)if(!tS(u,o[_])){const m=o[_];let C=l[_];C=Er(C);const I=a.Nu(m);if(C instanceof Um)u.push(m);else{const L=Ud(C,I);L!=null&&(u.push(m),d.set(m,L))}}const g=new Wi(u);return new JE(d,g,a.fieldTransforms)}function sj(t,e,n,r=!1){return Ud(n,t.Qu(r?4:3,e))}function Ud(t,e){if(eS(t=Er(t)))return C2("Unsupported field value:",e,t),ZE(t,e);if(t instanceof Fm)return function(r,i){if(!YE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Ud(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ir.fromDate(r);return{timestampValue:Jp(i.serializer,s)}}if(r instanceof ir){const s=new ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jp(i.serializer,s)}}if(r instanceof I2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:yE(i.serializer,r._byteString)};if(r instanceof Zr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof k2)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return c2(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Dm(r)}`)}(t,e)}function ZE(t,e){const n={};return G4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(t,(r,i)=>{const s=Ud(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function eS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof I2||t instanceof Ec||t instanceof Zr||t instanceof Fm||t instanceof k2)}function C2(t,e,n){if(!eS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Dm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function j0(t,e,n){if((e=Er(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return L2(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const aj=new RegExp("[~\\*/\\[\\]]");function L2(t,e,n){if(e.search(aj)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mm(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new We(Pe.INVALID_ARGUMENT,o+t+l)}function tS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oj extends nS{data(){return super.data()}}function Bm(t,e){return typeof e=="string"?L2(t,e):e instanceof Mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R2{}class j2 extends R2{}function cl(t,e,...n){let r=[];e instanceof R2&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof D2).length,o=s.filter(l=>l instanceof zm).length;if(a>1||a>0&&o>0)throw new We(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zm extends j2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zm(e,n,r)}_apply(e){const n=this._parse(e);return rS(e._query,n),new vl(e.firestore,e.converter,E0(e._query,n))}_parse(e){const n=Vm(e.firestore);return function(s,a,o,l,u,d,g){let _;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new We(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){iw(g,d);const m=[];for(const C of g)m.push(rw(l,s,C));_={arrayValue:{values:m}}}else _=rw(l,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||iw(g,d),_=sj(o,a,g,d==="in"||d==="not-in");return lr.create(u,d,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uu(t,e,n){const r=e,i=Bm("where",t);return zm._create(i,r,n)}class D2 extends R2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)rS(a,l),a=E0(a,l)}(e._query,n),new vl(e.firestore,e.converter,E0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O2 extends j2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new O2(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new We(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new We(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new md(s,a)}(e._query,this._field,this._direction);return new vl(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Rc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function uj(t,e="asc"){const n=e,r=Bm("orderBy",t);return O2._create(r,n)}class M2 extends j2{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new M2(e,n,r)}_apply(e){return new vl(e.firestore,e.converter,Kp(e._query,this._limit,this._limitType))}}function cj(t){return M2._create("limit",t,"F")}function rw(t,e,n){if(typeof(n=Er(n))=="string"){if(n==="")throw new We(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(e)&&n.indexOf("/")!==-1)throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(An.fromString(n));if(!ut.isDocumentKey(r))throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return E_(t,new ut(r))}if(n instanceof Zr)return E_(t,n._key);throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dm(n)}.`)}function iw(t,e){if(!Array.isArray(t)||t.length===0)throw new We(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new We(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hj{convertValue(e,n="none"){switch(lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw St()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Xn(a.doubleValue));return new k2(s)}convertGeoPoint(e){return new I2(Xn(e.latitude),Xn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const n=ol(e);return new ir(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=An.fromString(e);cn(EE(r));const i=new fd(r.get(1),r.get(3)),s=new ut(r.popFirst(5));return i.isEqual(n)||Qa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sS extends nS{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sp extends sS{data(e={}){return super.data(e)}}class dj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sp(this._firestore,this._userDataWriter,r.key,r,new Sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new sp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new sp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:fj(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){t=cs(t,Zr);const e=cs(t.firestore,ul);return Q8(N2(e),t._key).then(n=>oS(e,t,n))}class aS extends hj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,n)}}function Ya(t,e,n){t=cs(t,Zr);const r=cs(t.firestore,ul),i=iS(t.converter,e,n);return qm(r,[XE(Vm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,us.none())])}function sw(t,e,n,...r){t=cs(t,Zr);const i=cs(t.firestore,ul),s=Vm(i);let a;return a=typeof(e=Er(e))=="string"||e instanceof Mm?ij(s,"updateDoc",t._key,e,n,r):rj(s,"updateDoc",t._key,e),qm(i,[a.toMutation(t._key,us.exists(!0))])}function aw(t){return qm(cs(t.firestore,ul),[new h2(t._key,us.none())])}function ap(t,e){const n=cs(t.firestore,ul),r=Gt(t),i=iS(t.converter,e);return qm(n,[XE(Vm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,us.exists(!1))]).then(()=>r)}function En(t,...e){var n,r,i;t=Er(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||nw(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nw(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let l,u,d;if(t instanceof Zr)u=cs(t.firestore,ul),d=Nm(t._key.path),l={next:g=>{e[a]&&e[a](oS(u,t,g))},error:e[a+1],complete:e[a+2]};else{const g=cs(t,vl);u=cs(g.firestore,ul),d=g._query;const _=new aS(u);l={next:m=>{e[a]&&e[a](new dj(u,_,g,m))},error:e[a+1],complete:e[a+2]},lj(t._query)}return function(_,m,C,I){const L=new HE(I),x=new ME(m,L,C);return _.asyncQueue.enqueueAndForget(async()=>DE(await R0(_),x)),()=>{L.Za(),_.asyncQueue.enqueueAndForget(async()=>OE(await R0(_),x))}}(N2(u),d,o,l)}function qm(t,e){return function(r,i){const s=new nl;return r.asyncQueue.enqueueAndForget(async()=>F8(await K8(r),i,s)),s.promise}(N2(t),e)}function oS(t,e,n){const r=n.docs.get(e._key),i=new aS(t);return new sS(t,i,e._key,r,new Sh(n.hasPendingWrites,n.fromCache),e.converter)}function Ba(){return new P2("serverTimestamp")}(function(e,n=!0){(function(i){Lc=i})(Pc),vc(new iu("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ul(new gL(r.getProvider("auth-internal")),new wL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(u.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),tl(__,"4.7.3",e),tl(__,"4.7.3","esm2017")})();const pj={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBdp5Hzrov0TVhuMLuxxDyyaZDcxvT55MI",VITE_FIREBASE_APP_ID:"1:109244992013:web:e3f4b634404cb43edba344",VITE_FIREBASE_AUTH_DOMAIN:"pricelist---chat-agent.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"109244992013",VITE_FIREBASE_PROJECT_ID:"pricelist---chat-agent",VITE_FIREBASE_STORAGE_BUCKET:"pricelist---chat-agent.appspot.com",VITE_SUPERADMIN_PASSWORD:"Rikimaru08561318222!"},mj=pj;function Nu(t,e){for(const n of t){const r=mj[n];if(r&&String(r).length)return String(r)}throw new Error(`[firebase] Missing ENV for ${e}. Provide one of: ${t.join(", ")}`)}const gj={apiKey:Nu(["VITE_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_API_KEY"],"API Key"),authDomain:Nu(["VITE_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"],"Auth Domain"),projectId:Nu(["VITE_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_PROJECT_ID"],"Project ID"),storageBucket:Nu(["VITE_FIREBASE_STORAGE_BUCKET","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"],"Storage Bucket"),messagingSenderId:Nu(["VITE_FIREBASE_MESSAGING_SENDER_ID","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"],"Messaging Sender ID"),appId:Nu(["VITE_FIREBASE_APP_ID","NEXT_PUBLIC_FIREBASE_APP_ID"],"App ID")},lS=B6().length?Gv():t4(gj),Ei=dL(lS),Et=X8(lS);function vj(){const[t,e]=le.useState(()=>Ei.currentUser),n=Nd(),r=pu();le.useEffect(()=>{const a=Ei.onAuthStateChanged(o=>e(o));return()=>a()},[]);const i=async()=>{await tC(Ei),n("/login")};return r.pathname.startsWith("/publish/")?null:p.jsxs("div",{className:"nav",children:[p.jsx("div",{className:"brand",children:p.jsx(xr,{to:"/",children:"Pricelist Interaktif"})}),p.jsx("div",{className:"nav-actions",children:t?p.jsxs(p.Fragment,{children:[p.jsx(xr,{className:"btn",to:"/dashboard",children:"Dashboard"}),p.jsx("button",{className:"btn",onClick:i,children:"Logout"})]}):p.jsxs(p.Fragment,{children:[p.jsx(xr,{className:"btn",to:"/login",children:"Login"}),p.jsx(xr,{className:"btn",to:"/register",children:"Daftar"})]})})]})}function fh({children:t}){const[e,n]=le.useState(!1),[r,i]=le.useState(()=>Ei.currentUser);return le.useEffect(()=>{const s=Ei.onAuthStateChanged(a=>{i(a),n(!0)});return()=>s()},[]),e?r?t:p.jsx(iT,{to:"/login",replace:!0}):p.jsx("div",{className:"container",children:p.jsx("div",{className:"card",children:"Memuat"})})}function yj(){return p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"card torn",children:[p.jsx("h1",{style:{marginTop:0},children:"Pricelist Interaktif  Vendor Wedding"}),p.jsx("p",{children:"Gaya klasik-vintage dengan nuansa kertas sobekan. Kelola vendor, paket, jenis, add-on, diskon, dan publish jadi halaman interaktif yang fokus mobile."}),p.jsxs("div",{className:"row",children:[p.jsx(xr,{className:"btn primary",to:"/login",children:"Masuk"}),p.jsx(xr,{className:"btn",to:"/register",children:"Daftar"})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:"Fitur Utama"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Authentication (Login/Daftar/Lupa Password)"}),p.jsx("li",{children:"Dashboard: CRUD Vendor, Packages, Add-ons, Diskon Pop-up"}),p.jsx("li",{children:"Publish Page: Tabs Paket, Slide Jenis, Add-on, WhatsApp message"}),p.jsx("li",{children:"Superadmin: generator token + daftar token + **Aktivitas Akun**"}),p.jsx("li",{children:"Overview: simpan tautan penting"})]})]})]})}function _j(){const[t,e]=le.useState(""),[n,r]=le.useState(""),[i,s]=le.useState(!1),[a,o]=le.useState(null),l=Nd(),u=async d=>{d.preventDefault(),o(null);try{await XP(Ei,t,n),l("/dashboard")}catch(g){o(g.message||"Gagal login")}};return p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Login"}),p.jsxs("div",{className:"banner",children:["Mau beli token? Hubungi WhatsApp ",p.jsx("a",{href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),"."]}),p.jsxs("form",{onSubmit:u,children:[p.jsxs("div",{style:{marginBottom:8},children:[p.jsx("label",{children:"Email"}),p.jsx("input",{className:"input",value:t,onChange:d=>e(d.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),p.jsxs("div",{style:{marginBottom:8},children:[p.jsx("label",{children:"Password"}),p.jsxs("div",{style:{display:"flex",gap:8},children:[p.jsx("input",{className:"input",value:n,onChange:d=>r(d.target.value),type:i?"text":"password",placeholder:"",required:!0}),p.jsx("button",{type:"button",className:"btn",onClick:()=>s(d=>!d),children:i?"Hide":"Show"})]})]}),a&&p.jsx("div",{className:"banner",children:a}),p.jsxs("div",{className:"row",children:[p.jsx("button",{className:"btn primary",type:"submit",children:"Masuk"}),p.jsx(xr,{className:"btn",to:"/register",children:"Daftar"}),p.jsx(xr,{className:"btn",to:"/forgot-password",children:"Lupa Password"})]})]})]})})}function wj(){const[t,e]=le.useState(""),[n,r]=le.useState(""),[i,s]=le.useState(!1),[a,o]=le.useState(null),l=Nd(),u=async d=>{d.preventDefault(),o(null);try{const g=await YP(Ei,t,n);await Ya(Gt(Et,"vendors",g.user.uid),{name:"Vendor Baru",address:"",whatsapp:"",bankName:"",bankAccountNumber:"",bankAccountHolder:""},{merge:!0}),l("/dashboard")}catch(g){o(g.message||"Gagal daftar")}};return p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Daftar"}),p.jsxs("div",{className:"banner",children:["Akun baru akan terkunci sampai aktivasi token. Beli token via WhatsApp ",p.jsx("a",{href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),"."]}),p.jsxs("form",{onSubmit:u,children:[p.jsxs("div",{style:{marginBottom:8},children:[p.jsx("label",{children:"Email"}),p.jsx("input",{className:"input",value:t,onChange:d=>e(d.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),p.jsxs("div",{style:{marginBottom:8},children:[p.jsx("label",{children:"Password"}),p.jsxs("div",{style:{display:"flex",gap:8},children:[p.jsx("input",{className:"input",value:n,onChange:d=>r(d.target.value),type:i?"text":"password",placeholder:"Minimal 6 karakter",required:!0}),p.jsx("button",{type:"button",className:"btn",onClick:()=>s(d=>!d),children:i?"Hide":"Show"})]})]}),a&&p.jsx("div",{className:"banner",children:a}),p.jsxs("div",{className:"row",children:[p.jsx("button",{className:"btn primary",type:"submit",children:"Buat Akun"}),p.jsx(xr,{className:"btn",to:"/login",children:"Sudah punya akun?"})]})]})]})})}function bj(){const[t,e]=le.useState(""),[n,r]=le.useState(null),i=async s=>{s.preventDefault(),r(null);try{await JP(Ei,t),r("Cek email untuk tautan reset password.")}catch(a){r(a.message||"Gagal kirim email.")}};return p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Lupa Password"}),p.jsxs("form",{onSubmit:i,children:[p.jsxs("div",{style:{marginBottom:8},children:[p.jsx("label",{children:"Email"}),p.jsx("input",{className:"input",value:t,onChange:s=>e(s.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),p.jsx("button",{className:"btn primary",type:"submit",children:"Kirim"})]}),n&&p.jsx("div",{className:"banner",style:{marginTop:8},children:n})]})})}function Xr(t){const e=typeof t=="number"?t:0;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e)}function xj(t){const e=(t||"").replace(/\D/g,"");return e?e.startsWith("0")?"62"+e.slice(1):(e.startsWith("62"),e):""}function uS(t){const e=(t.details||[]).map(s=>` ${s}`).join(`
`),n=t.addons&&t.addons.length?t.addons.map(s=>`${s.name} (${Xr(s.price)})`).join(", "):"",r=`Halo ${t.vendorName}, saya tertarik paket ${t.pricelistName}  ${t.typeName}.
Rincian singkat:
${e}
Harga paket: ${Xr(t.price)}
Add-on: ${n}
Total perkiraan: ${Xr(t.total)}

Mohon info ketersediaan & detail lanjut. Terima kasih!`;return`https://wa.me/${xj(t.whatsapp)}?text=${encodeURIComponent(r)}`}function Aj(t){return(t||"").trim().toUpperCase()}function Ej(t=16){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=new Uint8Array(t);return crypto.getRandomValues(n),Array.from(n).map(r=>e[r%e.length]).join("")}function Sj(t){if(t==="daily")return 1;if(t==="weekly")return 7;if(t==="monthly")return 30;throw new Error("Unknown duration: "+t)}function Nj(){const[t,e]=le.useState(""),[n,r]=le.useState(null),[i,s]=le.useState(!1),a=async()=>{r(null);const o=Ei.currentUser;if(!o){r("Harus login dulu.");return}const l=Aj(t);if(!l){r("Masukkan token.");return}s(!0);try{const u=Gt(Et,"tokenStore",l),d=await Ku(u);if(!d.exists()){r("Token tidak ditemukan.");return}const g=d.data();if(g.status!=="idle"){r("Token sudah digunakan / tidak idle.");return}const _=g.duration,m=Sj(_),C=ir.now(),I=Gt(Et,"tokens",o.uid),L=await Ku(I);let x=C;if(L.exists()){const j=L.data();j.expiresAt&&j.expiresAt.toMillis&&j.expiresAt.toMillis()>C.toMillis()&&(x=j.expiresAt)}const T=ir.fromMillis(x.toMillis()+m*24*60*60*1e3);await Ya(u,{status:"used",uid:o.uid,usedAt:Ba()},{merge:!0}),await Ya(I,{uid:o.uid,expiresAt:T,lastExtendedAt:Ba()},{merge:!0}),r(`Aktivasi sukses. Berlaku hingga: ${new Date(T.toMillis()).toLocaleString("id-ID")}`),e("")}catch(u){console.error(u),r(u.message||"Gagal aktivasi token.")}finally{s(!1)}};return p.jsxs("div",{className:"card torn",children:[p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:p.jsx("h3",{style:{margin:0},children:"Token Activation (opsional)"})}),p.jsxs("div",{className:"row",style:{marginTop:8},children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",placeholder:"Masukkan token",value:t,onChange:o=>e(o.target.value)})}),p.jsx("div",{children:p.jsx("button",{className:"btn primary",onClick:a,disabled:i,children:"Aktifkan"})})]}),n&&p.jsx("div",{className:"banner",style:{marginTop:8},children:n})]})}function Ij(){const t=Ei.currentUser,e=(t==null?void 0:t.uid)||"",[n,r]=le.useState({name:"",address:"",whatsapp:"",bankName:"",bankAccountNumber:"",bankAccountHolder:""}),[i,s]=le.useState(null),[a,o]=le.useState([]),[l,u]=le.useState({parent:"",typeName:"",price:"",details:""}),[d,g]=le.useState(null),[_,m]=le.useState([]),[C,I]=le.useState({name:"",price:""}),[L,x]=le.useState(null),[T,j]=le.useState({name:"",price:""}),[U,ne]=le.useState({text:"",enabled:!1}),[M,V]=le.useState(null),S=M!=null&&M>Date.now(),N=typeof window<"u"?window.location.origin:"",R=typeof window<"u"&&window.location.hash.startsWith("#/"),b=`${N}/${R?"#/":""}`,E=`${b}publish/${e}`,P=`${b}deal/${e}`;le.useEffect(()=>{if(!e)return;const q=En(Gt(Et,"vendors",e),we=>{const xe=we.data();xe&&r({name:xe.name||"",address:xe.address||"",whatsapp:xe.whatsapp||"",bankName:xe.bankName||"",bankAccountNumber:xe.bankAccountNumber||"",bankAccountHolder:xe.bankAccountHolder||""})}),Q=En(cl(qi(Et,"packages"),uu("uid","==",e)),we=>{const xe=[];we.forEach(Te=>xe.push({id:Te.id,...Te.data()})),xe.sort((Te,Fe)=>{const Ve=Te.parent||"",Ae=Fe.parent||"";return Ve!==Ae?Ve.localeCompare(Ae):(Te.typeName||"").localeCompare(Fe.typeName||"")}),o(xe)}),ie=En(cl(qi(Et,"addons"),uu("uid","==",e)),we=>{const xe=[];we.forEach(Te=>xe.push({id:Te.id,...Te.data()})),xe.sort((Te,Fe)=>(Te.name||"").localeCompare(Fe.name||"")),m(xe)}),ae=En(Gt(Et,"discounts",e),we=>{const xe=we.data();xe&&ne({text:xe.text||"",enabled:!!xe.enabled})}),ve=En(Gt(Et,"tokens",e),we=>{var Te;const xe=we.data();(Te=xe==null?void 0:xe.expiresAt)!=null&&Te.toMillis?V(xe.expiresAt.toMillis()):V(null)});return()=>{q(),Q(),ie(),ae(),ve()}},[e]);const te=async()=>{e&&(await Ya(Gt(Et,"vendors",e),n,{merge:!0}),s("Profil vendor tersimpan."),setTimeout(()=>s(null),2e3))},de=async()=>{if(!e)return;const q={uid:e,parent:l.parent.trim().toLowerCase(),typeName:l.typeName.trim().toLowerCase(),price:Number(l.price||0),details:l.details.split(`
`).map(Q=>Q.trim()).filter(Boolean)};await ap(qi(Et,"packages"),q),u({parent:"",typeName:"",price:"",details:""})},ye=q=>{g(q.id),u({parent:q.parent,typeName:q.typeName,price:String(q.price||0),details:(q.details||[]).join(`
`)})},fe=async q=>{const Q={parent:l.parent.trim().toLowerCase(),typeName:l.typeName.trim().toLowerCase(),price:Number(l.price||0),details:l.details.split(`
`).map(ie=>ie.trim()).filter(Boolean)};await sw(Gt(Et,"packages",q),Q),g(null),u({parent:"",typeName:"",price:"",details:""})},Z=async q=>{await aw(Gt(Et,"packages",q))},G=async()=>{if(!e)return;const q=C.name.trim(),Q=Number(C.price);if(!q)return alert("Nama add-on wajib diisi");if(Number.isNaN(Q))return alert("Harga tidak valid");try{const ie={uid:e,name:q,price:Q};await ap(qi(Et,"addons"),ie),I({name:"",price:""})}catch(ie){console.error(ie),alert("Gagal menambah add-on: "+((ie==null?void 0:ie.message)||"unknown"))}},pe=async q=>{const Q=T.name.trim(),ie=Number(T.price);if(!Q)return alert("Nama add-on wajib diisi");if(Number.isNaN(ie))return alert("Harga tidak valid");try{await sw(Gt(Et,"addons",q),{name:Q,price:ie}),x(null),j({name:"",price:""})}catch(ae){alert("Gagal update add-on: "+((ae==null?void 0:ae.message)||"unknown"))}},_e=async q=>{try{await aw(Gt(Et,"addons",q))}catch(Q){alert("Gagal hapus add-on: "+((Q==null?void 0:Q.message)||"unknown"))}},F=async()=>{e&&await Ya(Gt(Et,"discounts",e),U,{merge:!0})},K=async()=>{if(!e)return;const q=[{uid:e,parent:"wedding",typeName:"wedding bronze",price:15e5,details:["Durasi 6 jam","2 fotografer"]},{uid:e,parent:"wedding",typeName:"wedding silver",price:25e5,details:["Durasi 8 jam","2 fotografer","1 videografer"]},{uid:e,parent:"prewedding",typeName:"outdoor basic",price:1e6,details:["2 lokasi","semua file"]}];for(const Q of q)await ap(qi(Et,"packages"),Q);alert("Seed 3 paket contoh selesai.")};return e?p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Dashboard"}),p.jsxs("div",{className:"banner",children:[p.jsx("div",{style:{fontWeight:600},children:"Link Publish (public):"}),p.jsx("a",{href:E,target:"_blank",rel:"noreferrer",children:E})]}),p.jsxs("div",{className:"banner",children:[p.jsx("div",{style:{fontWeight:600},children:"Link Deal Klien (public):"}),p.jsx("a",{href:P,target:"_blank",rel:"noreferrer",children:P})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Profil Vendor"}),!S&&p.jsxs("div",{className:"lock-note",children:["Akun belum aktif / masa aktif habis. Beli token via WA",p.jsx("a",{className:"note-wa",href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),". Form di bawah dinonaktifkan sampai aktivasi token."]}),p.jsxs("div",{className:S?"row":"row lock-area",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Vendor"}),p.jsx("input",{className:"input",value:n.name,onChange:q=>r(Q=>({...Q,name:q.target.value}))})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"No WhatsApp"}),p.jsx("input",{className:"input",value:n.whatsapp,onChange:q=>r(Q=>({...Q,whatsapp:q.target.value}))})]})]}),p.jsx("div",{className:S?"row":"row lock-area",children:p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Alamat"}),p.jsx("input",{className:"input",value:n.address,onChange:q=>r(Q=>({...Q,address:q.target.value}))})]})}),p.jsxs("div",{className:S?"row":"row lock-area",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Bank"}),p.jsx("input",{className:"input",value:n.bankName,onChange:q=>r(Q=>({...Q,bankName:q.target.value}))})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"No Rekening"}),p.jsx("input",{className:"input",value:n.bankAccountNumber,onChange:q=>r(Q=>({...Q,bankAccountNumber:q.target.value}))})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Atas Nama"}),p.jsx("input",{className:"input",value:n.bankAccountHolder,onChange:q=>r(Q=>({...Q,bankAccountHolder:q.target.value}))})]})]}),p.jsxs("div",{className:"row",style:{marginTop:8},children:[p.jsx("button",{className:"btn primary",onClick:te,disabled:!S,children:"Simpan Profil"}),i&&p.jsx("span",{className:"badge",children:i})]})]}),p.jsx("div",{className:"divider"}),p.jsxs("div",{className:"card",children:[p.jsxs("h3",{style:{marginTop:0,display:"flex",gap:8,alignItems:"center"},children:["Pricelist (Packages)",p.jsx("button",{className:"btn ghost",onClick:K,children:"Seed contoh"})]}),!S&&p.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),p.jsxs("div",{className:S?"row":"row lock-area",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Pricelist (parent)  contoh: wedding"}),p.jsx("input",{className:"input",placeholder:"mis. wedding",value:l.parent,onChange:q=>u(Q=>({...Q,parent:q.target.value}))})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jenis (typeName)  contoh: wedding bronze"}),p.jsx("input",{className:"input",placeholder:"wedding bronze",value:l.typeName,onChange:q=>u(Q=>({...Q,typeName:q.target.value}))})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Harga"}),p.jsx("input",{className:"input",type:"number",placeholder:"1500000",value:l.price,onChange:q=>u(Q=>({...Q,price:q.target.value}))})]})]}),p.jsxs("div",{className:S?"":"lock-area",children:[p.jsx("label",{children:"Detail (1 item per baris)"}),p.jsx("textarea",{className:"textarea",placeholder:`Durasi 8 jam
2 fotografer
...`,value:l.details,onChange:q=>u(Q=>({...Q,details:q.target.value}))})]}),p.jsx("div",{className:"row",style:{marginTop:8},children:d?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn primary",onClick:()=>fe(d),disabled:!S,children:"Simpan"}),p.jsx("button",{className:"btn",onClick:()=>{g(null),u({parent:"",typeName:"",price:"",details:""})},children:"Batal"})]}):p.jsx("button",{className:"btn primary",onClick:de,disabled:!S,children:"Tambah"})}),p.jsx("div",{className:"divider"}),p.jsxs("div",{children:[p.jsx("h4",{children:"Daftar Pricelist"}),a.length===0&&p.jsx("div",{children:"(belum ada)"}),a.length>0&&p.jsxs("div",{className:"row",style:{fontWeight:700,borderBottom:"2px dashed #7a6a58",paddingBottom:6},children:[p.jsx("div",{className:"col",children:"Parent"}),p.jsx("div",{className:"col",children:"Jenis"}),p.jsx("div",{className:"col",children:"Harga"}),p.jsx("div",{className:"col",children:"Detail singkat"}),p.jsx("div",{style:{flex:"0 0 180px"},children:"Aksi"})]}),a.map(q=>{var ie;const Q=d===q.id;return p.jsxs("div",{className:"row",style:{alignItems:"flex-start",padding:"8px 0",borderBottom:"1px dashed #eee"},children:[p.jsx("div",{className:"col",style:{textTransform:"capitalize"},children:Q?p.jsx("input",{className:"input",value:l.parent,onChange:ae=>u(ve=>({...ve,parent:ae.target.value}))}):q.parent}),p.jsx("div",{className:"col",style:{textTransform:"capitalize",fontWeight:600},children:Q?p.jsx("input",{className:"input",value:l.typeName,onChange:ae=>u(ve=>({...ve,typeName:ae.target.value}))}):q.typeName}),p.jsx("div",{className:"col",children:Q?p.jsx("input",{className:"input",type:"number",value:l.price,onChange:ae=>u(ve=>({...ve,price:ae.target.value}))}):p.jsx("span",{className:"badge",children:Xr(q.price)})}),p.jsx("div",{className:"col",children:Q?p.jsx("textarea",{className:"textarea",value:l.details,onChange:ae=>u(ve=>({...ve,details:ae.target.value})),placeholder:"1 item per baris"}):p.jsxs("ul",{style:{margin:"6px 0"},children:[(ie=q.details)==null?void 0:ie.slice(0,4).map((ae,ve)=>p.jsx("li",{children:ae},ve)),q.details&&q.details.length>4&&p.jsx("li",{children:""})]})}),p.jsx("div",{style:{flex:"0 0 180px",display:"flex",gap:8,flexWrap:"wrap"},children:Q?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn primary",onClick:()=>fe(q.id),disabled:!S,children:"Simpan"}),p.jsx("button",{className:"btn",onClick:()=>{g(null),u({parent:"",typeName:"",price:"",details:""})},children:"Batal"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn",onClick:()=>ye(q),disabled:!S,children:"Edit"}),p.jsx("button",{className:"btn danger",onClick:()=>q.id&&Z(q.id),disabled:!S,children:"Hapus"})]})})]},q.id)})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),!S&&p.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),p.jsxs("div",{className:S?"row":"row lock-area",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Add-on"}),p.jsx("input",{className:"input",value:C.name,onChange:q=>I(Q=>({...Q,name:q.target.value}))})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Harga"}),p.jsx("input",{className:"input",type:"number",value:C.price,onChange:q=>I(Q=>({...Q,price:q.target.value}))})]}),p.jsx("div",{style:{alignSelf:"end"},children:p.jsx("button",{className:"btn primary",onClick:G,disabled:!S,children:"Tambah"})})]}),p.jsxs("div",{className:"row",children:[_.map(q=>{const Q=L===q.id;return p.jsx("div",{className:"col",children:p.jsx("div",{className:"card",children:Q?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama"}),p.jsx("input",{className:"input",value:T.name,onChange:ie=>j(ae=>({...ae,name:ie.target.value}))})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Harga"}),p.jsx("input",{className:"input",type:"number",value:T.price,onChange:ie=>j(ae=>({...ae,price:ie.target.value}))})]})]}),p.jsxs("div",{className:"row",style:{marginTop:8},children:[p.jsx("button",{className:"btn primary",onClick:()=>pe(q.id),disabled:!S,children:"Simpan"}),p.jsx("button",{className:"btn",onClick:()=>{x(null),j({name:"",price:""})},children:"Batal"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("div",{children:q.name}),p.jsx("div",{className:"badge",children:Xr(q.price)})]}),p.jsxs("div",{className:"row",style:{marginTop:8},children:[p.jsx("button",{className:"btn",onClick:()=>{x(q.id),j({name:q.name,price:String(q.price||0)})},disabled:!S,children:"Edit"}),p.jsx("button",{className:"btn danger",onClick:()=>q.id&&_e(q.id),disabled:!S,children:"Hapus"})]})]})})},q.id)}),_.length===0&&p.jsx("div",{style:{padding:"8px"},children:" (belum ada) "})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Pop-up Diskon"}),!S&&p.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),p.jsxs("div",{className:S?"":"lock-area",children:[p.jsx("label",{children:"Teks"}),p.jsx("textarea",{className:"textarea",value:U.text,onChange:q=>ne(Q=>({...Q,text:q.target.value}))}),p.jsx("div",{className:"row",children:p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[p.jsx("input",{className:"checkbox",type:"checkbox",checked:U.enabled,onChange:q=>ne(Q=>({...Q,enabled:q.target.checked}))}),"Tampilkan saat publish dibuka"]})}),p.jsx("button",{className:"btn primary",onClick:F,disabled:!S,children:"Simpan Diskon"})]})]}),p.jsx(Nj,{}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Overview Links"}),p.jsx("a",{className:"btn",href:`${b}dashboard/overview`,children:"Buka"})]})]}):p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Dashboard"}),p.jsx("div",{className:"banner",children:"Sesi belum siap. Silakan login dulu."})]})})}function kj(){const[t,e]=le.useState([]),[n,r]=le.useState(!0);le.useEffect(()=>{const s=Ei.currentUser;if(!s)return;const a=cl(qi(Et,"deals"),uu("uid","==",s.uid)),o=En(a,l=>{const u=[];l.forEach(d=>{const g=d.data();u.push({id:d.id,clientName:g.clientName||g.namaKlien||g.client||"",packageName:g.packageName||g.paket||g.typeName||"",price:typeof g.total=="number"?g.total:typeof g.price=="number"?g.price:0,createdAt:g.createdAt||null})}),e(u),r(!1)});return()=>o()},[]);const i=le.useMemo(()=>[...t].sort((s,a)=>{var u,d,g,_,m,C;const o=(u=s.createdAt)!=null&&u.toMillis?s.createdAt.toMillis():((g=(d=s.createdAt)==null?void 0:d.getTime)==null?void 0:g.call(d))??0;return((_=a.createdAt)!=null&&_.toMillis?a.createdAt.toMillis():((C=(m=a.createdAt)==null?void 0:m.getTime)==null?void 0:C.call(m))??0)-o}),[t]);return p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Overview  Deals"}),p.jsx("p",{style:{marginTop:0,color:"#666"},children:"Riwayat deal terbaru (milik akun ini)."}),n&&p.jsx("div",{className:"banner",children:"Memuat data"}),!n&&i.length===0&&p.jsx("div",{className:"banner",children:"Belum ada deal."}),p.jsx("div",{style:{display:"grid",gap:12},children:i.map(s=>{var u;const a=(u=s.createdAt)!=null&&u.toDate?s.createdAt.toDate():s.createdAt??null,o=a?new Date(a).toLocaleString():"-",l=typeof s.price=="number"?s.price:0;return p.jsx("div",{className:"card",style:{margin:0},children:p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:12,alignItems:"center"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:700},children:s.clientName||"(Tanpa nama klien)"}),p.jsx("div",{style:{color:"#666"},children:s.packageName||"(Tanpa paket)"})]}),p.jsxs("div",{style:{textAlign:"right"},children:[p.jsx("div",{className:"banner",style:{display:"inline-block"},children:Xr?Xr(l):`Rp ${l.toLocaleString("id-ID")}`}),p.jsx("div",{style:{color:"#666",fontSize:12,marginTop:6},children:o}),p.jsxs("div",{style:{marginTop:6,display:"flex",gap:6,justifyContent:"flex-end",flexWrap:"wrap"},children:[p.jsx(xr,{className:"btn",to:`/dashboard/mou/${s.id}`,children:"MOU"}),p.jsx(xr,{className:"btn",to:`/dashboard/invoice/${s.id}`,children:"Invoice"}),p.jsx(xr,{className:"btn",to:`/dashboard/kuitansi/${s.id}`,children:"Kuitansi"})]})]})]})},s.id)})})]})})}const Tj="modulepreload",Pj=function(t){return"/"+t},ow={},Hg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Pj(l),l in ow)return;ow[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":Tj,u||(g.as="script"),g.crossOrigin="",g.href=l,o&&g.setAttribute("nonce",o),document.head.appendChild(g),u)return new Promise((_,m)=>{g.addEventListener("load",_),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function ln(t){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(t)}var Os=Uint8Array,Hi=Uint16Array,F2=Int32Array,V2=new Os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),U2=new Os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lw=new Os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cS=function(t,e){for(var n=new Hi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new F2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},hS=cS(V2,2),Cj=hS.b,D0=hS.r;Cj[28]=258,D0[258]=28;var Lj=cS(U2,0),uw=Lj.r,O0=new Hi(32768);for(var Sn=0;Sn<32768;++Sn){var To=(Sn&43690)>>1|(Sn&21845)<<1;To=(To&52428)>>2|(To&13107)<<2,To=(To&61680)>>4|(To&3855)<<4,O0[Sn]=((To&65280)>>8|(To&255)<<8)>>1}var Uh=function(t,e,n){for(var r=t.length,i=0,s=new Hi(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Hi(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Hi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],g=a[t[i]-1]++<<d,_=g|(1<<d)-1;g<=_;++g)o[O0[g]>>l]=u}else for(o=new Hi(r),i=0;i<r;++i)t[i]&&(o[i]=O0[a[t[i]-1]++]>>15-t[i]);return o},cu=new Os(288);for(var Sn=0;Sn<144;++Sn)cu[Sn]=8;for(var Sn=144;Sn<256;++Sn)cu[Sn]=9;for(var Sn=256;Sn<280;++Sn)cu[Sn]=7;for(var Sn=280;Sn<288;++Sn)cu[Sn]=8;var em=new Os(32);for(var Sn=0;Sn<32;++Sn)em[Sn]=5;var Rj=Uh(cu,9,0),jj=Uh(em,5,0),dS=function(t){return(t+7)/8|0},Dj=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Os(t.subarray(e,n))},Pa=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ph=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Gg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:pS,l:0};if(i==1){var a=new Os(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(ne,M){return ne.f-M.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,d=1,g=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=n[n[u].f<n[g].f?u++:g++],l=n[u!=d&&n[u].f<n[g].f?u++:g++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var m=new Hi(_+1),C=M0(n[d-1],m,0);if(C>e){var r=0,I=0,L=C-e,x=1<<L;for(s.sort(function(M,V){return m[V.s]-m[M.s]||M.f-V.f});r<i;++r){var T=s[r].s;if(m[T]>e)I+=x-(1<<C-m[T]),m[T]=e;else break}for(I>>=L;I>0;){var j=s[r].s;m[j]<e?I-=1<<e-m[j]++-1:++r}for(;r>=0&&I;--r){var U=s[r].s;m[U]==e&&(--m[U],++I)}C=e}return{t:new Os(m),l:C}},M0=function(t,e,n){return t.s==-1?Math.max(M0(t.l,e,n+1),M0(t.r,e,n+1)):e[t.s]=n},cw=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Hi(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},mh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},fS=function(t,e,n){var r=n.length,i=dS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},hw=function(t,e,n,r,i,s,a,o,l,u,d){Pa(e,d++,n),++i[256];for(var g=Gg(i,15),_=g.t,m=g.l,C=Gg(s,15),I=C.t,L=C.l,x=cw(_),T=x.c,j=x.n,U=cw(I),ne=U.c,M=U.n,V=new Hi(19),S=0;S<T.length;++S)++V[T[S]&31];for(var S=0;S<ne.length;++S)++V[ne[S]&31];for(var N=Gg(V,7),R=N.t,b=N.l,E=19;E>4&&!R[lw[E-1]];--E);var P=u+5<<3,te=mh(i,cu)+mh(s,em)+a,de=mh(i,_)+mh(s,I)+a+14+3*E+mh(V,R)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&P<=te&&P<=de)return fS(e,d,t.subarray(l,l+u));var ye,fe,Z,G;if(Pa(e,d,1+(de<te)),d+=2,de<te){ye=Uh(_,m,0),fe=_,Z=Uh(I,L,0),G=I;var pe=Uh(R,b,0);Pa(e,d,j-257),Pa(e,d+5,M-1),Pa(e,d+10,E-4),d+=14;for(var S=0;S<E;++S)Pa(e,d+3*S,R[lw[S]]);d+=3*E;for(var _e=[T,ne],F=0;F<2;++F)for(var K=_e[F],S=0;S<K.length;++S){var q=K[S]&31;Pa(e,d,pe[q]),d+=R[q],q>15&&(Pa(e,d,K[S]>>5&127),d+=K[S]>>12)}}else ye=Rj,fe=cu,Z=jj,G=em;for(var S=0;S<o;++S){var Q=r[S];if(Q>255){var q=Q>>18&31;ph(e,d,ye[q+257]),d+=fe[q+257],q>7&&(Pa(e,d,Q>>23&31),d+=V2[q]);var ie=Q&31;ph(e,d,Z[ie]),d+=G[ie],ie>3&&(ph(e,d,Q>>5&8191),d+=U2[ie])}else ph(e,d,ye[Q]),d+=fe[Q]}return ph(e,d,ye[256]),d+fe[256]},Oj=new F2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pS=new Os(0),Mj=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Os(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var g=Oj[e-1],_=g>>13,m=g&8191,C=(1<<n)-1,I=s.p||new Hi(32768),L=s.h||new Hi(C+1),x=Math.ceil(n/3),T=2*x,j=function(Ae){return(t[Ae]^t[Ae+1]<<x^t[Ae+2]<<T)&C},U=new F2(25e3),ne=new Hi(288),M=new Hi(32),V=0,S=0,N=s.i||0,R=0,b=s.w||0,E=0;N+2<a;++N){var P=j(N),te=N&32767,de=L[P];if(I[te]=de,L[P]=te,b<=N){var ye=a-N;if((V>7e3||R>24576)&&(ye>423||!u)){d=hw(t,l,0,U,ne,M,S,R,E,N-E,d),R=V=S=0,E=N;for(var fe=0;fe<286;++fe)ne[fe]=0;for(var fe=0;fe<30;++fe)M[fe]=0}var Z=2,G=0,pe=m,_e=te-de&32767;if(ye>2&&P==j(N-_e))for(var F=Math.min(_,ye)-1,K=Math.min(32767,N),q=Math.min(258,ye);_e<=K&&--pe&&te!=de;){if(t[N+Z]==t[N+Z-_e]){for(var Q=0;Q<q&&t[N+Q]==t[N+Q-_e];++Q);if(Q>Z){if(Z=Q,G=_e,Q>F)break;for(var ie=Math.min(_e,Q-2),ae=0,fe=0;fe<ie;++fe){var ve=N-_e+fe&32767,we=I[ve],xe=ve-we&32767;xe>ae&&(ae=xe,de=ve)}}}te=de,de=I[te],_e+=te-de&32767}if(G){U[R++]=268435456|D0[Z]<<18|uw[G];var Te=D0[Z]&31,Fe=uw[G]&31;S+=V2[Te]+U2[Fe],++ne[257+Te],++M[Fe],b=N+Z,++V}else U[R++]=t[N],++ne[t[N]]}}for(N=Math.max(N,b);N<a;++N)U[R++]=t[N],++ne[t[N]];d=hw(t,l,u,U,ne,M,S,R,E,N-E,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=L,s.p=I,s.i=N,s.w=b)}else{for(var N=s.w||0;N<a+u;N+=65535){var Ve=N+65535;Ve>=a&&(l[d/8|0]=u,Ve=a),d=fS(l,d+1,t.subarray(N,Ve))}s.i=a}return Dj(o,0,r+dS(d)+i)},mS=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Fj=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Os(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Mj(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},gS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Vj=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=mS();i.p(e.dictionary),gS(t,2,i.d())}};function F0(t,e){e||(e={});var n=mS();n.p(t);var r=Fj(t,e,e.dictionary?6:2,4);return Vj(r,e),gS(r,r.length-4,n.d()),r}var Uj=typeof TextDecoder<"u"&&new TextDecoder,Bj=0;try{Uj.decode(pS,{stream:!0}),Bj=1}catch{}function zj(t){if(Array.isArray(t))return t}function qj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $j(t,e){if(t){if(typeof t=="string")return dw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dw(t,e):void 0}}function Wj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fw(t,e){return zj(t)||qj(t,e)||$j(t,e)||Wj()}function pw(t,e="utf8"){return new TextDecoder(e).decode(t)}const Hj=new TextEncoder;function Gj(t){return Hj.encode(t)}const Kj=1024*8,Qj=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Kg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class B2{constructor(e=Kj,n={}){on(this,"buffer");on(this,"byteLength");on(this,"byteOffset");on(this,"length");on(this,"offset");on(this,"lastWrittenByte");on(this,"littleEndian");on(this,"_data");on(this,"_mark");on(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof B2)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Kg[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Qj&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new Kg[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new Kg[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return pw(this.readBytes(e))}decodeText(e=1,n="utf8"){return pw(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Gj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Oc(t){let e=t.length;for(;--e>=0;)t[e]=0}const Jj=3,Yj=258,vS=29,Xj=256,Zj=Xj+1+vS,yS=30,e7=512,t7=new Array((Zj+2)*2);Oc(t7);const n7=new Array(yS*2);Oc(n7);const r7=new Array(e7);Oc(r7);const i7=new Array(Yj-Jj+1);Oc(i7);const s7=new Array(vS);Oc(s7);const a7=new Array(yS);Oc(a7);const o7=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var V0=o7;const l7=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},u7=new Uint32Array(l7()),c7=(t,e,n,r)=>{const i=u7,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var na=c7,U0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_S={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const h7=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var d7=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)h7(n,r)&&(t[r]=n[r])}}return t},f7=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},wS={assign:d7,flattenChunks:f7};let bS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bS=!1}const _d=new Uint8Array(256);for(let t=0;t<256;t++)_d[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_d[254]=_d[254]=1;var p7=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const m7=(t,e)=>{if(e<65534&&t.subarray&&bS)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var g7=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=_d[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return m7(s,i)},v7=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+_d[t[n]]>e?n:e},B0={string2buf:p7,buf2string:g7,utf8border:v7};function y7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _7=y7;const Tf=16209,w7=16191;var b7=function(e,n){let r,i,s,a,o,l,u,d,g,_,m,C,I,L,x,T,j,U,ne,M,V,S,N,R;const b=e.state;r=e.next_in,N=e.input,i=r+(e.avail_in-5),s=e.next_out,R=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=b.dmax,u=b.wsize,d=b.whave,g=b.wnext,_=b.window,m=b.hold,C=b.bits,I=b.lencode,L=b.distcode,x=(1<<b.lenbits)-1,T=(1<<b.distbits)-1;e:do{C<15&&(m+=N[r++]<<C,C+=8,m+=N[r++]<<C,C+=8),j=I[m&x];t:for(;;){if(U=j>>>24,m>>>=U,C-=U,U=j>>>16&255,U===0)R[s++]=j&65535;else if(U&16){ne=j&65535,U&=15,U&&(C<U&&(m+=N[r++]<<C,C+=8),ne+=m&(1<<U)-1,m>>>=U,C-=U),C<15&&(m+=N[r++]<<C,C+=8,m+=N[r++]<<C,C+=8),j=L[m&T];n:for(;;){if(U=j>>>24,m>>>=U,C-=U,U=j>>>16&255,U&16){if(M=j&65535,U&=15,C<U&&(m+=N[r++]<<C,C+=8,C<U&&(m+=N[r++]<<C,C+=8)),M+=m&(1<<U)-1,M>l){e.msg="invalid distance too far back",b.mode=Tf;break e}if(m>>>=U,C-=U,U=s-a,M>U){if(U=M-U,U>d&&b.sane){e.msg="invalid distance too far back",b.mode=Tf;break e}if(V=0,S=_,g===0){if(V+=u-U,U<ne){ne-=U;do R[s++]=_[V++];while(--U);V=s-M,S=R}}else if(g<U){if(V+=u+g-U,U-=g,U<ne){ne-=U;do R[s++]=_[V++];while(--U);if(V=0,g<ne){U=g,ne-=U;do R[s++]=_[V++];while(--U);V=s-M,S=R}}}else if(V+=g-U,U<ne){ne-=U;do R[s++]=_[V++];while(--U);V=s-M,S=R}for(;ne>2;)R[s++]=S[V++],R[s++]=S[V++],R[s++]=S[V++],ne-=3;ne&&(R[s++]=S[V++],ne>1&&(R[s++]=S[V++]))}else{V=s-M;do R[s++]=R[V++],R[s++]=R[V++],R[s++]=R[V++],ne-=3;while(ne>2);ne&&(R[s++]=R[V++],ne>1&&(R[s++]=R[V++]))}}else if(U&64){e.msg="invalid distance code",b.mode=Tf;break e}else{j=L[(j&65535)+(m&(1<<U)-1)];continue n}break}}else if(U&64)if(U&32){b.mode=w7;break e}else{e.msg="invalid literal/length code",b.mode=Tf;break e}else{j=I[(j&65535)+(m&(1<<U)-1)];continue t}break}}while(r<i&&s<o);ne=C>>3,r-=ne,C-=ne<<3,m&=(1<<C)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),b.hold=m,b.bits=C};const Iu=15,mw=852,gw=592,vw=0,Qg=1,yw=2,x7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),A7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),E7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),S7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),N7=(t,e,n,r,i,s,a,o)=>{const l=o.bits;let u=0,d=0,g=0,_=0,m=0,C=0,I=0,L=0,x=0,T=0,j,U,ne,M,V,S=null,N;const R=new Uint16Array(Iu+1),b=new Uint16Array(Iu+1);let E=null,P,te,de;for(u=0;u<=Iu;u++)R[u]=0;for(d=0;d<r;d++)R[e[n+d]]++;for(m=l,_=Iu;_>=1&&R[_]===0;_--);if(m>_&&(m=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(g=1;g<_&&R[g]===0;g++);for(m<g&&(m=g),L=1,u=1;u<=Iu;u++)if(L<<=1,L-=R[u],L<0)return-1;if(L>0&&(t===vw||_!==1))return-1;for(b[1]=0,u=1;u<Iu;u++)b[u+1]=b[u]+R[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[b[e[n+d]]++]=d);if(t===vw?(S=E=a,N=20):t===Qg?(S=x7,E=A7,N=257):(S=E7,E=S7,N=0),T=0,d=0,u=g,V=s,C=m,I=0,ne=-1,x=1<<m,M=x-1,t===Qg&&x>mw||t===yw&&x>gw)return 1;for(;;){P=u-I,a[d]+1<N?(te=0,de=a[d]):a[d]>=N?(te=E[a[d]-N],de=S[a[d]-N]):(te=96,de=0),j=1<<u-I,U=1<<C,g=U;do U-=j,i[V+(T>>I)+U]=P<<24|te<<16|de|0;while(U!==0);for(j=1<<u-1;T&j;)j>>=1;if(j!==0?(T&=j-1,T+=j):T=0,d++,--R[u]===0){if(u===_)break;u=e[n+a[d]]}if(u>m&&(T&M)!==ne){for(I===0&&(I=m),V+=g,C=u-I,L=1<<C;C+I<_&&(L-=R[C+I],!(L<=0));)C++,L<<=1;if(x+=1<<C,t===Qg&&x>mw||t===yw&&x>gw)return 1;ne=T&M,i[ne]=m<<24|C<<16|V-s|0}}return T!==0&&(i[V+T]=u-I<<24|64<<16|0),o.bits=m,0};var Bh=N7;const I7=0,xS=1,AS=2,{Z_FINISH:_w,Z_BLOCK:k7,Z_TREES:Pf,Z_OK:hu,Z_STREAM_END:T7,Z_NEED_DICT:P7,Z_STREAM_ERROR:fs,Z_DATA_ERROR:ES,Z_MEM_ERROR:SS,Z_BUF_ERROR:C7,Z_DEFLATED:ww}=_S,$m=16180,bw=16181,xw=16182,Aw=16183,Ew=16184,Sw=16185,Nw=16186,Iw=16187,kw=16188,Tw=16189,tm=16190,Ca=16191,Jg=16192,Pw=16193,Yg=16194,Cw=16195,Lw=16196,Rw=16197,jw=16198,Cf=16199,Lf=16200,Dw=16201,Ow=16202,Mw=16203,Fw=16204,Vw=16205,Xg=16206,Uw=16207,Bw=16208,Pn=16209,NS=16210,IS=16211,L7=852,R7=592,j7=15,D7=j7,zw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function O7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<$m||e.mode>IS?1:0},kS=t=>{if(vu(t))return fs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=$m,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(L7),e.distcode=e.distdyn=new Int32Array(R7),e.sane=1,e.back=-1,hu},TS=t=>{if(vu(t))return fs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,kS(t)},PS=(t,e)=>{let n;if(vu(t))return fs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?fs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,TS(t))},CS=(t,e)=>{if(!t)return fs;const n=new O7;t.state=n,n.strm=t,n.window=null,n.mode=$m;const r=PS(t,e);return r!==hu&&(t.state=null),r},M7=t=>CS(t,D7);let qw=!0,Zg,e1;const F7=t=>{if(qw){Zg=new Int32Array(512),e1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Bh(xS,t.lens,0,288,Zg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Bh(AS,t.lens,0,32,e1,0,t.work,{bits:5}),qw=!1}t.lencode=Zg,t.lenbits=9,t.distcode=e1,t.distbits=5},LS=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},V7=(t,e)=>{let n,r,i,s,a,o,l,u,d,g,_,m,C,I,L=0,x,T,j,U,ne,M,V,S;const N=new Uint8Array(4);let R,b;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vu(t)||!t.output||!t.input&&t.avail_in!==0)return fs;n=t.state,n.mode===Ca&&(n.mode=Jg),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,g=o,_=l,S=hu;e:for(;;)switch(n.mode){case $m:if(n.wrap===0){n.mode=Jg;break}for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=u&255,N[1]=u>>>8&255,n.check=na(n.check,N,2,0),u=0,d=0,n.mode=bw;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Pn;break}if((u&15)!==ww){t.msg="unknown compression method",n.mode=Pn;break}if(u>>>=4,d-=4,V=(u&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=Pn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Tw:Ca,u=0,d=0;break;case bw:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==ww){t.msg="unknown compression method",n.mode=Pn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Pn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=na(n.check,N,2,0)),u=0,d=0,n.mode=xw;case xw:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,n.check=na(n.check,N,4,0)),u=0,d=0,n.mode=Aw;case Aw:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=na(n.check,N,2,0)),u=0,d=0,n.mode=Ew;case Ew:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=na(n.check,N,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Sw;case Sw:if(n.flags&1024&&(m=n.length,m>o&&(m=o),m&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),V)),n.flags&512&&n.wrap&4&&(n.check=na(n.check,r,m,s)),o-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=Nw;case Nw:if(n.flags&2048){if(o===0)break e;m=0;do V=r[s+m++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=na(n.check,r,m,s)),o-=m,s+=m,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Iw;case Iw:if(n.flags&4096){if(o===0)break e;m=0;do V=r[s+m++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=na(n.check,r,m,s)),o-=m,s+=m,V)break e}else n.head&&(n.head.comment=null);n.mode=kw;case kw:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Pn;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ca;break;case Tw:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}t.adler=n.check=zw(u),u=0,d=0,n.mode=tm;case tm:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,P7;t.adler=n.check=1,n.mode=Ca;case Ca:if(e===k7||e===Pf)break e;case Jg:if(n.last){u>>>=d&7,d-=d&7,n.mode=Xg;break}for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Pw;break;case 1:if(F7(n),n.mode=Cf,e===Pf){u>>>=2,d-=2;break e}break;case 2:n.mode=Lw;break;case 3:t.msg="invalid block type",n.mode=Pn}u>>>=2,d-=2;break;case Pw:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Pn;break}if(n.length=u&65535,u=0,d=0,n.mode=Yg,e===Pf)break e;case Yg:n.mode=Cw;case Cw:if(m=n.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;i.set(r.subarray(s,s+m),a),o-=m,s+=m,l-=m,a+=m,n.length-=m;break}n.mode=Ca;break;case Lw:for(;d<14;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Pn;break}n.have=0,n.mode=Rw;case Rw:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.lens[E[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},S=Bh(I7,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,S){t.msg="invalid code lengths set",n.mode=Pn;break}n.have=0,n.mode=jw;case jw:for(;n.have<n.nlen+n.ndist;){for(;L=n.lencode[u&(1<<n.lenbits)-1],x=L>>>24,T=L>>>16&255,j=L&65535,!(x<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(j<16)u>>>=x,d-=x,n.lens[n.have++]=j;else{if(j===16){for(b=x+2;d<b;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){t.msg="invalid bit length repeat",n.mode=Pn;break}V=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(j===17){for(b=x+3;d<b;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=x,d-=x,V=0,m=3+(u&7),u>>>=3,d-=3}else{for(b=x+7;d<b;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=x,d-=x,V=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Pn;break}for(;m--;)n.lens[n.have++]=V}}if(n.mode===Pn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Pn;break}if(n.lenbits=9,R={bits:n.lenbits},S=Bh(xS,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,S){t.msg="invalid literal/lengths set",n.mode=Pn;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},S=Bh(AS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,S){t.msg="invalid distances set",n.mode=Pn;break}if(n.mode=Cf,e===Pf)break e;case Cf:n.mode=Lf;case Lf:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,b7(t,_),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===Ca&&(n.back=-1);break}for(n.back=0;L=n.lencode[u&(1<<n.lenbits)-1],x=L>>>24,T=L>>>16&255,j=L&65535,!(x<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(T&&!(T&240)){for(U=x,ne=T,M=j;L=n.lencode[M+((u&(1<<U+ne)-1)>>U)],x=L>>>24,T=L>>>16&255,j=L&65535,!(U+x<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=U,d-=U,n.back+=U}if(u>>>=x,d-=x,n.back+=x,n.length=j,T===0){n.mode=Vw;break}if(T&32){n.back=-1,n.mode=Ca;break}if(T&64){t.msg="invalid literal/length code",n.mode=Pn;break}n.extra=T&15,n.mode=Dw;case Dw:if(n.extra){for(b=n.extra;d<b;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Ow;case Ow:for(;L=n.distcode[u&(1<<n.distbits)-1],x=L>>>24,T=L>>>16&255,j=L&65535,!(x<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(!(T&240)){for(U=x,ne=T,M=j;L=n.distcode[M+((u&(1<<U+ne)-1)>>U)],x=L>>>24,T=L>>>16&255,j=L&65535,!(U+x<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=U,d-=U,n.back+=U}if(u>>>=x,d-=x,n.back+=x,T&64){t.msg="invalid distance code",n.mode=Pn;break}n.offset=j,n.extra=T&15,n.mode=Mw;case Mw:if(n.extra){for(b=n.extra;d<b;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Pn;break}n.mode=Fw;case Fw:if(l===0)break e;if(m=_-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Pn;break}m>n.wnext?(m-=n.wnext,C=n.wsize-m):C=n.wnext-m,m>n.length&&(m=n.length),I=n.window}else I=i,C=a-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[a++]=I[C++];while(--m);n.length===0&&(n.mode=Lf);break;case Vw:if(l===0)break e;i[a++]=n.length,l--,n.mode=Lf;break;case Xg:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[s++]<<d,d+=8}if(_-=l,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?na(n.check,i,_,a-_):V0(n.check,i,_,a-_)),_=l,n.wrap&4&&(n.flags?u:zw(u))!==n.check){t.msg="incorrect data check",n.mode=Pn;break}u=0,d=0}n.mode=Uw;case Uw:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Pn;break}u=0,d=0}n.mode=Bw;case Bw:S=T7;break e;case Pn:S=ES;break e;case NS:return SS;case IS:default:return fs}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||_!==t.avail_out&&n.mode<Pn&&(n.mode<Xg||e!==_w))&&LS(t,t.output,t.next_out,_-t.avail_out),g-=t.avail_in,_-=t.avail_out,t.total_in+=g,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?na(n.check,i,_,t.next_out-_):V0(n.check,i,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ca?128:0)+(n.mode===Cf||n.mode===Yg?256:0),(g===0&&_===0||e===_w)&&S===hu&&(S=C7),S},U7=t=>{if(vu(t))return fs;let e=t.state;return e.window&&(e.window=null),t.state=null,hu},B7=(t,e)=>{if(vu(t))return fs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,hu):fs},z7=(t,e)=>{const n=e.length;let r,i,s;return vu(t)||(r=t.state,r.wrap!==0&&r.mode!==tm)?fs:r.mode===tm&&(i=1,i=V0(i,e,n,0),i!==r.check)?ES:(s=LS(t,e,n,n),s?(r.mode=NS,SS):(r.havedict=1,hu))};var q7=TS,$7=PS,W7=kS,H7=M7,G7=CS,K7=V7,Q7=U7,J7=B7,Y7=z7,X7="pako inflate (from Nodeca project)",ja={inflateReset:q7,inflateReset2:$7,inflateResetKeep:W7,inflateInit:H7,inflateInit2:G7,inflate:K7,inflateEnd:Q7,inflateGetHeader:J7,inflateSetDictionary:Y7,inflateInfo:X7};function Z7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eD=Z7;const RS=Object.prototype.toString,{Z_NO_FLUSH:tD,Z_FINISH:nD,Z_OK:wd,Z_STREAM_END:t1,Z_NEED_DICT:n1,Z_STREAM_ERROR:rD,Z_DATA_ERROR:$w,Z_MEM_ERROR:iD}=_S;function Bd(t){this.options=wS.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _7,this.strm.avail_out=0;let n=ja.inflateInit2(this.strm,e.windowBits);if(n!==wd)throw new Error(U0[n]);if(this.header=new eD,ja.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=B0.string2buf(e.dictionary):RS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ja.inflateSetDictionary(this.strm,e.dictionary),n!==wd)))throw new Error(U0[n])}Bd.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?nD:tD,RS.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ja.inflate(n,a),s===n1&&i&&(s=ja.inflateSetDictionary(n,i),s===wd?s=ja.inflate(n,a):s===$w&&(s=n1));n.avail_in>0&&s===t1&&n.state.wrap>0&&t[n.next_in]!==0;)ja.inflateReset(n),s=ja.inflate(n,a);switch(s){case rD:case $w:case n1:case iD:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===t1))if(this.options.to==="string"){let l=B0.utf8border(n.output,n.next_out),u=n.next_out-l,d=B0.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===wd&&o===0)){if(s===t1)return s=ja.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Bd.prototype.onData=function(t){this.chunks.push(t)};Bd.prototype.onEnd=function(t){t===wd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wS.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function sD(t,e){const n=new Bd(e);if(n.push(t),n.err)throw n.msg||U0[n.err];return n.result}var aD=Bd,oD=sD,lD={Inflate:aD,inflate:oD};const{Inflate:uD,inflate:cD}=lD;var Ww=uD,hD=cD;const jS=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;jS[t]=e}const Hw=4294967295;function dD(t,e,n){let r=t;for(let i=0;i<n;i++)r=jS[(r^e[i])&255]^r>>>8;return r}function fD(t,e){return(dD(Hw,t,e)^Hw)>>>0}function Gw(t,e,n){const r=t.readUint32(),i=fD(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function DS(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function OS(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function MS(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function FS(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function VS(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+pD(e[s-i],n[s],n[s-i])&255}}function pD(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function mD(t,e,n,r,i,s){switch(t){case 0:DS(e,n,i);break;case 1:OS(e,n,i,s);break;case 2:MS(e,n,r,i);break;case 3:FS(e,n,r,i,s);break;case 4:VS(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const gD=new Uint16Array([255]),vD=new Uint8Array(gD.buffer),yD=vD[0]===255;function _D(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let d=0;d<7;d++){const g=a[d],_=Math.ceil((n-g.x)/g.xStep),m=Math.ceil((r-g.y)/g.yStep);if(_<=0||m<=0)continue;const C=_*o,I=new Uint8Array(C);for(let L=0;L<m;L++){const x=e[u++],T=e.subarray(u,u+C);u+=C;const j=new Uint8Array(C);mD(x,T,j,I,C,o),I.set(j);for(let U=0;U<_;U++){const ne=g.x+U*g.xStep,M=g.y+L*g.yStep;if(!(ne>=n||M>=r))for(let V=0;V<o;V++)l[(M*n+ne)*o+V]=j[U*o+V]}}}if(s===16){const d=new Uint16Array(l.buffer);if(yD)for(let g=0;g<d.length;g++)d[g]=wD(d[g]);return d}else return l}function wD(t){return(t&255)<<8|t>>8&255}const bD=new Uint16Array([255]),xD=new Uint8Array(bD.buffer),AD=xD[0]===255,ED=new Uint8Array(0);function Kw(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let u=ED,d=0,g,_;for(let m=0;m<r;m++){switch(g=e.subarray(d+1,d+1+o),_=l.subarray(m*o,(m+1)*o),e[d]){case 0:DS(g,_,o);break;case 1:OS(g,_,o,a);break;case 2:MS(g,_,u,o);break;case 3:FS(g,_,u,o,a);break;case 4:VS(g,_,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=_,d+=o+1}if(s===16){const m=new Uint16Array(l.buffer);if(AD)for(let C=0;C<m.length;C++)m[C]=SD(m[C]);return m}else return l}function SD(t){return(t&255)<<8|t>>8&255}const op=Uint8Array.of(137,80,78,71,13,10,26,10);function Qw(t){if(!ND(t.readBytes(op.length)))throw new Error("wrong PNG signature")}function ND(t){if(t.length<op.length)return!1;for(let e=0;e<op.length;e++)if(t[e]!==op[e])return!1;return!0}const ID="tEXt",kD=0,US=new TextDecoder("latin1");function TD(t){if(CD(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const PD=/^[\u0000-\u00FF]*$/;function CD(t){if(!PD.test(t))throw new Error("invalid latin1 text")}function LD(t,e,n){const r=BS(e);t[r]=RD(e,n-r.length-1)}function BS(t){for(t.mark();t.readByte()!==kD;);const e=t.offset;t.reset();const n=US.decode(t.readBytes(e-t.offset-1));return t.skip(1),TD(n),n}function RD(t,e){return US.decode(t.readBytes(e))}const Ui={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},r1={UNKNOWN:-1,DEFLATE:0},Jw={UNKNOWN:-1,ADAPTIVE:0},i1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rf={NONE:0,BACKGROUND:1,PREVIOUS:2},s1={SOURCE:0,OVER:1};class jD extends B2{constructor(n,r={}){super(n);on(this,"_checkCrc");on(this,"_inflator");on(this,"_png");on(this,"_apng");on(this,"_end");on(this,"_hasPalette");on(this,"_palette");on(this,"_hasTransparency");on(this,"_transparency");on(this,"_compressionMethod");on(this,"_filterMethod");on(this,"_interlaceMethod");on(this,"_colorType");on(this,"_isAnimated");on(this,"_numberOfFrames");on(this,"_numberOfPlays");on(this,"_frames");on(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Ww,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=r1.UNKNOWN,this._filterMethod=Jw.UNKNOWN,this._interlaceMethod=i1.UNKNOWN,this._colorType=Ui.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Qw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Qw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case ID:LD(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Gw(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Gw(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=DD(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ui.GREYSCALE:i=1;break;case Ui.TRUECOLOUR:i=3;break;case Ui.INDEXED_COLOUR:i=1;break;case Ui.GREYSCALE_ALPHA:i=2;break;case Ui.TRUECOLOUR_ALPHA:i=4;break;case Ui.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==r1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ui.GREYSCALE:case Ui.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ui.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ui.UNKNOWN:case Ui.GREYSCALE_ALPHA:case Ui.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=BS(this),i=this.readUint8();if(i!==r1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:hD(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Kw({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Rf.NONE:break;case Rf.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Rf.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case s1.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[u+d]}break;case s1.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++){const g=r.data[u+this._png.channels-1]/i,_=d%(this._png.channels-1)===0?1:r.data[u+d],m=Math.floor(g*_+(1-g)*n.data[l+d]);n.data[l+d]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Jw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===i1.NO_INTERLACE)this._png.data=Kw({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===i1.ADAM7)this._png.data=_D({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rf.NONE,blendOp:s1.SOURCE,data:n}),this._inflator=new Ww,this._writingDataChunks=!1}}function DD(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Yw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Yw||(Yw={}));function OD(t,e){return new jD(t,e).decode()}var xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function a1(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var pn={log:a1,warn:function(t){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):a1.call(null,arguments))},error:function(t){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):a1(t))}};function o1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ql(r.response,e,n)},r.onerror=function(){pn.error("could not download file")},r.send()}function Xw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ql=xt.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=xt.URL||xt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Xw(i.href)?o1(t,e,n):jf(i,i.target="_blank"):jf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){jf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Xw(t))o1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){jf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ln(s)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return o1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(xt.HTMLElement)||xt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var l=xt.URL||xt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var lp=xt.atob.bind(xt),Zw=xt.btoa.bind(xt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function l1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Wr(n,r,i,s,e[0],7,-680876936),s=Wr(s,n,r,i,e[1],12,-389564586),i=Wr(i,s,n,r,e[2],17,606105819),r=Wr(r,i,s,n,e[3],22,-1044525330),n=Wr(n,r,i,s,e[4],7,-176418897),s=Wr(s,n,r,i,e[5],12,1200080426),i=Wr(i,s,n,r,e[6],17,-1473231341),r=Wr(r,i,s,n,e[7],22,-45705983),n=Wr(n,r,i,s,e[8],7,1770035416),s=Wr(s,n,r,i,e[9],12,-1958414417),i=Wr(i,s,n,r,e[10],17,-42063),r=Wr(r,i,s,n,e[11],22,-1990404162),n=Wr(n,r,i,s,e[12],7,1804603682),s=Wr(s,n,r,i,e[13],12,-40341101),i=Wr(i,s,n,r,e[14],17,-1502002290),n=Hr(n,r=Wr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Hr(s,n,r,i,e[6],9,-1069501632),i=Hr(i,s,n,r,e[11],14,643717713),r=Hr(r,i,s,n,e[0],20,-373897302),n=Hr(n,r,i,s,e[5],5,-701558691),s=Hr(s,n,r,i,e[10],9,38016083),i=Hr(i,s,n,r,e[15],14,-660478335),r=Hr(r,i,s,n,e[4],20,-405537848),n=Hr(n,r,i,s,e[9],5,568446438),s=Hr(s,n,r,i,e[14],9,-1019803690),i=Hr(i,s,n,r,e[3],14,-187363961),r=Hr(r,i,s,n,e[8],20,1163531501),n=Hr(n,r,i,s,e[13],5,-1444681467),s=Hr(s,n,r,i,e[2],9,-51403784),i=Hr(i,s,n,r,e[7],14,1735328473),n=Gr(n,r=Hr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Gr(s,n,r,i,e[8],11,-2022574463),i=Gr(i,s,n,r,e[11],16,1839030562),r=Gr(r,i,s,n,e[14],23,-35309556),n=Gr(n,r,i,s,e[1],4,-1530992060),s=Gr(s,n,r,i,e[4],11,1272893353),i=Gr(i,s,n,r,e[7],16,-155497632),r=Gr(r,i,s,n,e[10],23,-1094730640),n=Gr(n,r,i,s,e[13],4,681279174),s=Gr(s,n,r,i,e[0],11,-358537222),i=Gr(i,s,n,r,e[3],16,-722521979),r=Gr(r,i,s,n,e[6],23,76029189),n=Gr(n,r,i,s,e[9],4,-640364487),s=Gr(s,n,r,i,e[12],11,-421815835),i=Gr(i,s,n,r,e[15],16,530742520),n=Kr(n,r=Gr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Kr(s,n,r,i,e[7],10,1126891415),i=Kr(i,s,n,r,e[14],15,-1416354905),r=Kr(r,i,s,n,e[5],21,-57434055),n=Kr(n,r,i,s,e[12],6,1700485571),s=Kr(s,n,r,i,e[3],10,-1894986606),i=Kr(i,s,n,r,e[10],15,-1051523),r=Kr(r,i,s,n,e[1],21,-2054922799),n=Kr(n,r,i,s,e[8],6,1873313359),s=Kr(s,n,r,i,e[15],10,-30611744),i=Kr(i,s,n,r,e[6],15,-1560198380),r=Kr(r,i,s,n,e[13],21,1309151649),n=Kr(n,r,i,s,e[4],6,-145523070),s=Kr(s,n,r,i,e[11],10,-1120210379),i=Kr(i,s,n,r,e[2],15,718787259),r=Kr(r,i,s,n,e[9],21,-343485551),t[0]=qo(n,t[0]),t[1]=qo(r,t[1]),t[2]=qo(i,t[2]),t[3]=qo(s,t[3])}function Wm(t,e,n,r,i,s){return e=qo(qo(e,t),qo(r,s)),qo(e<<i|e>>>32-i,n)}function Wr(t,e,n,r,i,s,a){return Wm(e&n|~e&r,t,e,i,s,a)}function Hr(t,e,n,r,i,s,a){return Wm(e&r|n&~r,t,e,i,s,a)}function Gr(t,e,n,r,i,s,a){return Wm(e^n^r,t,e,i,s,a)}function Kr(t,e,n,r,i,s,a){return Wm(n^(e|~r),t,e,i,s,a)}function qS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)l1(r,MD(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(l1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,l1(r,i),r}function MD(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var eb="0123456789abcdef".split("");function FD(t){for(var e="",n=0;n<4;n++)e+=eb[t>>8*n+4&15]+eb[t>>8*n&15];return e}function VD(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function z0(t){return qS(t).map(VD).join("")}var UD=function(t){for(var e=0;e<t.length;e++)t[e]=FD(t[e]);return t.join("")}(qS("hello"))!="5d41402abc4b2a76b9719d911017c592";function qo(t,e){if(UD){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q0(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}n=t,r=o}else o=r;var g=e.length,_=0,m=0,C="";for(l=0;l<g;l++)m=(m+(d=o[_=(_+1)%256]))%256,o[_]=o[m],o[m]=d,a=o[(o[_]+o[m])%256],C+=String.fromCharCode(e.charCodeAt(l)^a);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tb={print:4,modify:8,copy:16,"annot-forms":32};function Ru(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(tb.perm!==void 0)throw new Error("Invalid permission: "+o);i+=tb[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=z0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=q0(this.encryptionKey,this.padding)}function ju(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function nb(t){if(ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){xt.console&&pn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function nm(t){if(!(this instanceof nm))return new nm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function $S(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $l(t,e,n,r,i){if(!(this instanceof $l))return new $l(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,$S.call(this,r,i)}function Qu(t,e,n,r,i){if(!(this instanceof Qu))return new Qu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,$S.call(this,r,i)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",d=null;ln(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,_={},m={internal:{},__private__:{}};m.__private__.PubSub=nb;var C="1.3",I=m.__private__.getPdfVersion=function(){return C};m.__private__.setPdfVersion=function(v){C=v};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return L};var x=m.__private__.getPageFormat=function(v){return L[v]};i=i||"a4";var T="compat",j="advanced",U=T;function ne(){this.saveGraphicsState(),ee(new ct(ot,0,0,-ot,0,ts()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),u="n",U=j}function M(){this.restoreGraphicsState(),u="S",U=T}var V=m.__private__.combineFontStyleAndFontWeight=function(v,D){if(v=="bold"&&D=="normal"||v=="bold"&&D==400||v=="normal"&&D=="italic"||v=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(v=D==400||D==="normal"?v==="italic"?"italic":"normal":D!=700&&D!=="bold"||v!=="normal"?(D==700?"bold":D)+""+v:"bold"),v};m.advancedAPI=function(v){var D=U===T;return D&&ne.call(this),typeof v!="function"||(v(this),D&&M.call(this)),this},m.compatAPI=function(v){var D=U===j;return D&&M.call(this),typeof v!="function"||(v(this),D&&ne.call(this)),this},m.isAdvancedAPI=function(){return U===j};var S,N=function(v){if(U!==j)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=m.roundToPrecision=m.__private__.roundToPrecision=function(v,D){var J=e||D;if(isNaN(v)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(J).replace(/0+$/,"")};S=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,16)};var b=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return R(v,2)},E=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return R(v,3)},P=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return U===T?v*ot:U===j?v:void 0},te=function(v){return P(function(D){return U===T?ts()-D:U===j?D:void 0}(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var de,ye="00000000000000000000000000000000",fe=m.__private__.getFileId=function(){return ye},Z=m.__private__.setFileId=function(v){return ye=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(nn=new Ru(d.userPermissions,d.userPassword,d.ownerPassword,ye)),ye};m.setFileId=function(v){return Z(v),this},m.getFileId=function(){return fe()};var G=m.__private__.convertDateToPDFDate=function(v){var D=v.getTimezoneOffset(),J=D<0?"+":"-",re=Math.floor(Math.abs(D/60)),ue=Math.abs(D%60),Se=[J,q(re),"'",q(ue),"'"].join("");return["D:",v.getFullYear(),q(v.getMonth()+1),q(v.getDate()),q(v.getHours()),q(v.getMinutes()),q(v.getSeconds()),Se].join("")},pe=m.__private__.convertPDFDateToDate=function(v){var D=parseInt(v.substr(2,4),10),J=parseInt(v.substr(6,2),10)-1,re=parseInt(v.substr(8,2),10),ue=parseInt(v.substr(10,2),10),Se=parseInt(v.substr(12,2),10),Ce=parseInt(v.substr(14,2),10);return new Date(D,J,re,ue,Se,Ce,0)},_e=m.__private__.setCreationDate=function(v){var D;if(v===void 0&&(v=new Date),v instanceof Date)D=G(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=v}return de=D},F=m.__private__.getCreationDate=function(v){var D=de;return v==="jsDate"&&(D=pe(de)),D};m.setCreationDate=function(v){return _e(v),this},m.getCreationDate=function(v){return F(v)};var K,q=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Q=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ie=0,ae=[],ve=[],we=0,xe=[],Te=[],Fe=!1,Ve=ve;m.__private__.setCustomOutputDestination=function(v){Fe=!0,Ve=v};var Ae=function(v){Fe||(Ve=v)};m.__private__.resetCustomOutputDestination=function(){Fe=!1,Ve=ve};var ee=m.__private__.out=function(v){return v=v.toString(),we+=v.length+1,Ve.push(v),Ve},Tt=m.__private__.write=function(v){return ee(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},_t=m.__private__.getArrayBuffer=function(v){for(var D=v.length,J=new ArrayBuffer(D),re=new Uint8Array(J);D--;)re[D]=v.charCodeAt(D);return J},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return it};var Re=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return Re=U===j?v/ot:v,this};var Ke,Ue=m.__private__.getFontSize=m.getFontSize=function(){return U===T?Re:Re*ot},wt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return wt=v,this},m.__private__.getR2L=m.getR2L=function(){return wt};var Je,Mt=m.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ke=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ke=v}else Ke=parseInt(v,10)};m.__private__.getZoomMode=function(){return Ke};var dt,Ye=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Je=v};m.__private__.getPageMode=function(){return Je};var ke=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');dt=v};m.__private__.getLayoutMode=function(){return dt},m.__private__.setDisplayMode=m.setDisplayMode=function(v,D,J){return Mt(v),ke(D),Ye(J),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(rt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[v]},m.__private__.getDocumentProperties=function(){return rt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var D in rt)rt.hasOwnProperty(D)&&v[D]&&(rt[D]=v[D]);return this},m.__private__.setDocumentProperty=function(v,D){if(Object.keys(rt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[v]=D};var qe,ot,Xe,mt,ft,ze={},lt={},Jt=[],ht={},Rt={},At={},In={},_n=null,Xt=0,gt=[],Dt=new nb(m),Vs=t.hotfixes||[],Hn={},Yi={},Mr=[],ct=function v(D,J,re,ue,Se,Ce){if(!(this instanceof v))return new v(D,J,re,ue,Se,Ce);isNaN(D)&&(D=1),isNaN(J)&&(J=0),isNaN(re)&&(re=0),isNaN(ue)&&(ue=1),isNaN(Se)&&(Se=0),isNaN(Ce)&&(Ce=0),this._matrix=[D,J,re,ue,Se,Ce]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(v)},ct.prototype.multiply=function(v){var D=v.sx*this.sx+v.shy*this.shx,J=v.sx*this.shy+v.shy*this.sy,re=v.shx*this.sx+v.sy*this.shx,ue=v.shx*this.shy+v.sy*this.sy,Se=v.tx*this.sx+v.ty*this.shx+this.tx,Ce=v.tx*this.shy+v.ty*this.sy+this.ty;return new ct(D,J,re,ue,Se,Ce)},ct.prototype.decompose=function(){var v=this.sx,D=this.shy,J=this.shx,re=this.sy,ue=this.tx,Se=this.ty,Ce=Math.sqrt(v*v+D*D),$e=(v/=Ce)*J+(D/=Ce)*re;J-=v*$e,re-=D*$e;var Ze=Math.sqrt(J*J+re*re);return $e/=Ze,v*(re/=Ze)<D*(J/=Ze)&&(v=-v,D=-D,$e=-$e,Ce=-Ce),{scale:new ct(Ce,0,0,Ze,0,0),translate:new ct(1,0,0,1,ue,Se),rotate:new ct(v,D,-D,v,0,0),skew:new ct(1,0,$e,1,0,0)}},ct.prototype.toString=function(v){return this.join(" ")},ct.prototype.inversed=function(){var v=this.sx,D=this.shy,J=this.shx,re=this.sy,ue=this.tx,Se=this.ty,Ce=1/(v*re-D*J),$e=re*Ce,Ze=-D*Ce,pt=-J*Ce,bt=v*Ce;return new ct($e,Ze,pt,bt,-$e*ue-pt*Se,-Ze*ue-bt*Se)},ct.prototype.applyToPoint=function(v){var D=v.x*this.sx+v.y*this.shx+this.tx,J=v.x*this.shy+v.y*this.sy+this.ty;return new Qs(D,J)},ct.prototype.applyToRectangle=function(v){var D=this.applyToPoint(v),J=this.applyToPoint(new Qs(v.x+v.w,v.y+v.h));return new ho(D.x,D.y,J.x-D.x,J.y-D.y)},ct.prototype.clone=function(){var v=this.sx,D=this.shy,J=this.shx,re=this.sy,ue=this.tx,Se=this.ty;return new ct(v,D,J,re,ue,Se)},m.Matrix=ct;var wn=m.matrixMult=function(v,D){return D.multiply(v)},Xi=new ct(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Xi;var mr=function(v,D){if(!Rt[v]){var J=(D instanceof $l?"Sh":"P")+(Object.keys(ht).length+1).toString(10);D.id=J,Rt[v]=J,ht[J]=D,Dt.publish("addPattern",D)}};m.ShadingPattern=$l,m.TilingPattern=Qu,m.addShadingPattern=function(v,D){return N("addShadingPattern()"),mr(v,D),this},m.beginTilingPattern=function(v){N("beginTilingPattern()"),Js(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,D){N("endTilingPattern()"),D.stream=Te[K].join(`
`),mr(v,D),Dt.publish("endTilingPattern",D),Mr.pop().restore()};var gr,kn=m.__private__.newObject=function(){var v=sr();return Tn(v,!0),v},sr=m.__private__.newObjectDeferred=function(){return ie++,ae[ie]=function(){return we},ie},Tn=function(v,D){return D=typeof D=="boolean"&&D,ae[v]=we,D&&ee(v+" 0 obj"),v},ga=m.__private__.newAdditionalObject=function(){var v={objId:sr(),content:""};return xe.push(v),v},Us=sr(),Fr=sr(),Ni=m.__private__.decodeColorString=function(v){var D=v.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var J=parseFloat(D[0]);D=[J,J,J,"r"]}for(var re="#",ue=0;ue<3;ue++)re+=("0"+Math.floor(255*parseFloat(D[ue])).toString(16)).slice(-2);return re},ni=m.__private__.encodeColorString=function(v){var D;typeof v=="string"&&(v={ch1:v});var J=v.ch1,re=v.ch2,ue=v.ch3,Se=v.ch4,Ce=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var $e=new zS(J);if($e.ok)J=$e.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var Ze=parseInt(J.substr(1),16);J=Ze>>16&255,re=Ze>>8&255,ue=255&Ze}if(re===void 0||Se===void 0&&J===re&&re===ue)D=typeof J=="string"?J+" "+Ce[0]:v.precision===2?b(J/255)+" "+Ce[0]:E(J/255)+" "+Ce[0];else if(Se===void 0||ln(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",Ce[1]].join(" ");D=typeof J=="string"?[J,re,ue,Ce[1]].join(" "):v.precision===2?[b(J/255),b(re/255),b(ue/255),Ce[1]].join(" "):[E(J/255),E(re/255),E(ue/255),Ce[1]].join(" ")}else D=typeof J=="string"?[J,re,ue,Se,Ce[2]].join(" "):v.precision===2?[b(J),b(re),b(ue),b(Se),Ce[2]].join(" "):[E(J),E(re),E(ue),E(Se),Ce[2]].join(" ");return D},Vr=m.__private__.getFilters=function(){return a},Gn=m.__private__.putStream=function(v){var D=(v=v||{}).data||"",J=v.filters||Vr(),re=v.alreadyAppliedFilters||[],ue=v.addLength1||!1,Se=D.length,Ce=v.objectId,$e=function(Un){return Un};if(d!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&($e=nn.encryptor(Ce,0));var Ze={};J===!0&&(J=["FlateEncode"]);var pt=v.additionalKeyValues||[],bt=(Ze=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(D,J):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(Ze.data.length!==0&&(pt.push({key:"Length",value:Ze.data.length}),ue===!0&&pt.push({key:"Length1",value:Se})),bt.length!=0)if(bt.split("/").length-1==1)pt.push({key:"Filter",value:bt});else{pt.push({key:"Filter",value:"["+bt+"]"});for(var $t=0;$t<pt.length;$t+=1)if(pt[$t].key==="DecodeParms"){for(var Zt=[],Rn=0;Rn<Ze.reverseChain.split("/").length-1;Rn+=1)Zt.push("null");Zt.push(pt[$t].value),pt[$t].value="["+Zt.join(" ")+"]"}}ee("<<");for(var rn=0;rn<pt.length;rn++)ee("/"+pt[rn].key+" "+pt[rn].value);ee(">>"),Ze.data.length!==0&&(ee("stream"),ee($e(Ze.data)),ee("endstream"))},Bs=m.__private__.putPage=function(v){var D=v.number,J=v.data,re=v.objId,ue=v.contentsObjId;Tn(re,!0),ee("<</Type /Page"),ee("/Parent "+v.rootDictionaryObjId+" 0 R"),ee("/Resources "+v.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(S(v.mediaBox.bottomLeftX))+" "+parseFloat(S(v.mediaBox.bottomLeftY))+" "+S(v.mediaBox.topRightX)+" "+S(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ee("/CropBox ["+S(v.cropBox.bottomLeftX)+" "+S(v.cropBox.bottomLeftY)+" "+S(v.cropBox.topRightX)+" "+S(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ee("/BleedBox ["+S(v.bleedBox.bottomLeftX)+" "+S(v.bleedBox.bottomLeftY)+" "+S(v.bleedBox.topRightX)+" "+S(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ee("/TrimBox ["+S(v.trimBox.bottomLeftX)+" "+S(v.trimBox.bottomLeftY)+" "+S(v.trimBox.topRightX)+" "+S(v.trimBox.topRightY)+"]"),v.artBox!==null&&ee("/ArtBox ["+S(v.artBox.bottomLeftX)+" "+S(v.artBox.bottomLeftY)+" "+S(v.artBox.topRightX)+" "+S(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ee("/UserUnit "+v.userUnit),Dt.publish("putPage",{objId:re,pageContext:gt[D],pageNumber:D,page:J}),ee("/Contents "+ue+" 0 R"),ee(">>"),ee("endobj");var Se=J.join(`
`);return U===j&&(Se+=`
Q`),Tn(ue,!0),Gn({data:Se,filters:Vr(),objectId:ue}),ee("endobj"),re},Ii=m.__private__.putPages=function(){var v,D,J=[];for(v=1;v<=Xt;v++)gt[v].objId=sr(),gt[v].contentsObjId=sr();for(v=1;v<=Xt;v++)J.push(Bs({number:v,data:Te[v],objId:gt[v].objId,contentsObjId:gt[v].contentsObjId,mediaBox:gt[v].mediaBox,cropBox:gt[v].cropBox,bleedBox:gt[v].bleedBox,trimBox:gt[v].trimBox,artBox:gt[v].artBox,userUnit:gt[v].userUnit,rootDictionaryObjId:Us,resourceDictionaryObjId:Fr}));Tn(Us,!0),ee("<</Type /Pages");var re="/Kids [";for(D=0;D<Xt;D++)re+=J[D]+" 0 R ";ee(re+"]"),ee("/Count "+Xt),ee(">>"),ee("endobj"),Dt.publish("postPutPages")},ps=function(v){Dt.publish("putFont",{font:v,out:ee,newObject:kn,putStream:Gn}),v.isAlreadyPutted!==!0&&(v.objectNumber=kn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+ju(v.postScriptName)),ee("/Subtype /Type1"),typeof v.encoding=="string"&&ee("/Encoding /"+v.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},zs=function(v){v.objectNumber=kn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[S(v.x),S(v.y),S(v.x+v.width),S(v.y+v.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var J=v.pages[1].join(`
`);Gn({data:J,additionalKeyValues:D,objectId:v.objectNumber}),ee("endobj")},va=function(v,D){D||(D=21);var J=kn(),re=function(Ce,$e){var Ze,pt=[],bt=1/($e-1);for(Ze=0;Ze<1;Ze+=bt)pt.push(Ze);if(pt.push(1),Ce[0].offset!=0){var $t={offset:0,color:Ce[0].color};Ce.unshift($t)}if(Ce[Ce.length-1].offset!=1){var Zt={offset:1,color:Ce[Ce.length-1].color};Ce.push(Zt)}for(var Rn="",rn=0,Un=0;Un<pt.length;Un++){for(Ze=pt[Un];Ze>Ce[rn+1].offset;)rn++;var jn=Ce[rn].offset,Bn=(Ze-jn)/(Ce[rn+1].offset-jn),mn=Ce[rn].color,Sr=Ce[rn+1].color;Rn+=Q(Math.round((1-Bn)*mn[0]+Bn*Sr[0]).toString(16))+Q(Math.round((1-Bn)*mn[1]+Bn*Sr[1]).toString(16))+Q(Math.round((1-Bn)*mn[2]+Bn*Sr[2]).toString(16))}return Rn.trim()}(v.colors,D),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+D+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gn({data:re,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),ee("endobj"),v.objectNumber=kn(),ee("<< /ShadingType "+v.type),ee("/ColorSpace /DeviceRGB");var Se="/Coords ["+S(parseFloat(v.coords[0]))+" "+S(parseFloat(v.coords[1]))+" ";v.type===2?Se+=S(parseFloat(v.coords[2]))+" "+S(parseFloat(v.coords[3])):Se+=S(parseFloat(v.coords[2]))+" "+S(parseFloat(v.coords[3]))+" "+S(parseFloat(v.coords[4]))+" "+S(parseFloat(v.coords[5])),ee(Se+="]"),v.matrix&&ee("/Matrix ["+v.matrix.toString()+"]"),ee("/Function "+J+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},ya=function(v,D){var J=sr(),re=kn();D.push({resourcesOid:J,objectOid:re}),v.objectNumber=re;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+v.boundingBox.map(S).join(" ")+"]"}),ue.push({key:"XStep",value:S(v.xStep)}),ue.push({key:"YStep",value:S(v.yStep)}),ue.push({key:"Resources",value:J+" 0 R"}),v.matrix&&ue.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Gn({data:v.stream,additionalKeyValues:ue,objectId:v.objectNumber}),ee("endobj")},Mc=function(v){for(var D in v.objectNumber=kn(),ee("<<"),v)switch(D){case"opacity":ee("/ca "+b(v[D]));break;case"stroke-opacity":ee("/CA "+b(v[D]))}ee(">>"),ee("endobj")},qs=function(v){Tn(v.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var D in ee("/Font <<"),ze)ze.hasOwnProperty(D)&&(g===!1||g===!0&&_.hasOwnProperty(D))&&ee("/"+D+" "+ze[D].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(ht).length>0){for(var D in ee("/Shading <<"),ht)ht.hasOwnProperty(D)&&ht[D]instanceof $l&&ht[D].objectNumber>=0&&ee("/"+D+" "+ht[D].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),ee(">>")}}(),function(D){if(Object.keys(ht).length>0){for(var J in ee("/Pattern <<"),ht)ht.hasOwnProperty(J)&&ht[J]instanceof m.TilingPattern&&ht[J].objectNumber>=0&&ht[J].objectNumber<D&&ee("/"+J+" "+ht[J].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),ee(">>")}}(v.objectOid),function(){if(Object.keys(At).length>0){var D;for(D in ee("/ExtGState <<"),At)At.hasOwnProperty(D)&&At[D].objectNumber>=0&&ee("/"+D+" "+At[D].objectNumber+" 0 R");Dt.publish("putGStateDict"),ee(">>")}}(),function(){for(var D in ee("/XObject <<"),Hn)Hn.hasOwnProperty(D)&&Hn[D].objectNumber>=0&&ee("/"+D+" "+Hn[D].objectNumber+" 0 R");Dt.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},yl=function(v){lt[v.fontName]=lt[v.fontName]||{},lt[v.fontName][v.fontStyle]=v.id},io=function(v,D,J,re,ue){var Se={id:"F"+(Object.keys(ze).length+1).toString(10),postScriptName:v,fontName:D,fontStyle:J,encoding:re,isStandardFont:ue||!1,metadata:{}};return Dt.publish("addFont",{font:Se,instance:this}),ze[Se.id]=Se,yl(Se),Se.id},vr=m.__private__.pdfEscape=m.pdfEscape=function(v,D){return function(J,re){var ue,Se,Ce,$e,Ze,pt,bt,$t,Zt;if(Ce=(re=re||{}).sourceEncoding||"Unicode",Ze=re.outputEncoding,(re.autoencode||Ze)&&ze[qe].metadata&&ze[qe].metadata[Ce]&&ze[qe].metadata[Ce].encoding&&($e=ze[qe].metadata[Ce].encoding,!Ze&&ze[qe].encoding&&(Ze=ze[qe].encoding),!Ze&&$e.codePages&&(Ze=$e.codePages[0]),typeof Ze=="string"&&(Ze=$e[Ze]),Ze)){for(bt=!1,pt=[],ue=0,Se=J.length;ue<Se;ue++)($t=Ze[J.charCodeAt(ue)])?pt.push(String.fromCharCode($t)):pt.push(J[ue]),pt[ue].charCodeAt(0)>>8&&(bt=!0);J=pt.join("")}for(ue=J.length;bt===void 0&&ue!==0;)J.charCodeAt(ue-1)>>8&&(bt=!0),ue--;if(!bt)return J;for(pt=re.noBOM?[]:[254,255],ue=0,Se=J.length;ue<Se;ue++){if((Zt=($t=J.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(Zt),pt.push($t-(Zt<<8))}return String.fromCharCode.apply(void 0,pt)}(v,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=m.__private__.beginPage=function(v){Te[++Xt]=[],gt[Xt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},wl(Xt),Ae(Te[K])},so=function(v,D){var J,re,ue;switch(n=D||n,typeof v=="string"&&(J=x(v.toLowerCase()),Array.isArray(J)&&(re=J[0],ue=J[1])),Array.isArray(v)&&(re=v[0]*ot,ue=v[1]*ot),isNaN(re)&&(re=i[0],ue=i[1]),(re>14400||ue>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),ue=Math.min(14400,ue)),i=[re,ue],n.substr(0,1)){case"l":ue>re&&(i=[ue,re]);break;case"p":re>ue&&(i=[ue,re])}ki(i),Ks(lo),ee(vs),hn!==0&&ee(hn+" J"),kl!==0&&ee(kl+" j"),Dt.publish("addPage",{pageNumber:Xt})},_l=function(v){v>0&&v<=Xt&&(Te.splice(v,1),gt.splice(v,1),Xt--,K>Xt&&(K=Xt),this.setPage(K))},wl=function(v){v>0&&v<=Xt&&(K=v)},bl=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Te.length-1},xl=function(v,D,J){var re,ue=void 0;return J=J||{},v=v!==void 0?v:ze[qe].fontName,D=D!==void 0?D:ze[qe].fontStyle,re=v.toLowerCase(),lt[re]!==void 0&&lt[re][D]!==void 0?ue=lt[re][D]:lt[v]!==void 0&&lt[v][D]!==void 0?ue=lt[v][D]:J.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+v+"', '"+D+"'. Refer to getFontList() for available fonts."),ue||J.noFallback||(ue=lt.times[D])==null&&(ue=lt.times.normal),ue},$s=m.__private__.putInfo=function(){var v=kn(),D=function(re){return re};for(var J in d!==null&&(D=nn.encryptor(v,0)),ee("<<"),ee("/Producer ("+vr(D("jsPDF "+at.version))+")"),rt)rt.hasOwnProperty(J)&&rt[J]&&ee("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+vr(D(rt[J]))+")");ee("/CreationDate ("+vr(D(de))+")"),ee(">>"),ee("endobj")},Al=m.__private__.putCatalog=function(v){var D=(v=v||{}).rootDictionaryObjId||Us;switch(kn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+D+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+Ke;J.substr(J.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+b(Ke)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Je&&ee("/PageMode /"+Je),Dt.publish("putCatalog"),ee(">>"),ee("endobj")},Ln=m.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ie+1)),ee("/Root "+ie+" 0 R"),ee("/Info "+(ie-1)+" 0 R"),d!==null&&ee("/Encrypt "+nn.oid+" 0 R"),ee("/ID [ <"+ye+"> <"+ye+"> ]"),ee(">>")},El=m.__private__.putHeader=function(){ee("%PDF-"+C),ee("%")},_u=m.__private__.putXRef=function(){var v="0000000000";ee("xref"),ee("0 "+(ie+1)),ee("0000000000 65535 f ");for(var D=1;D<=ie;D++)typeof ae[D]=="function"?ee((v+ae[D]()).slice(-10)+" 00000 n "):ae[D]!==void 0?ee((v+ae[D]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ms=m.__private__.buildDocument=function(){var v;ie=0,we=0,ve=[],ae=[],xe=[],Us=sr(),Fr=sr(),Ae(ve),Dt.publish("buildDocument"),El(),Ii(),function(){Dt.publish("putAdditionalObjects");for(var J=0;J<xe.length;J++){var re=xe[J];Tn(re.objId,!0),ee(re.content),ee("endobj")}Dt.publish("postPutAdditionalObjects")}(),v=[],function(){for(var J in ze)ze.hasOwnProperty(J)&&(g===!1||g===!0&&_.hasOwnProperty(J))&&ps(ze[J])}(),function(){var J;for(J in At)At.hasOwnProperty(J)&&Mc(At[J])}(),function(){for(var J in Hn)Hn.hasOwnProperty(J)&&zs(Hn[J])}(),function(J){var re;for(re in ht)ht.hasOwnProperty(re)&&(ht[re]instanceof $l?va(ht[re]):ht[re]instanceof Qu&&ya(ht[re],J))}(v),Dt.publish("putResources"),v.forEach(qs),qs({resourcesOid:Fr,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources"),d!==null&&(nn.oid=kn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+nn.v),ee("/R "+nn.r),ee("/U <"+nn.toHexString(nn.U)+">"),ee("/O <"+nn.toHexString(nn.O)+">"),ee("/P "+nn.P),ee(">>"),ee("endobj")),$s(),Al();var D=we;return _u(),Ln(),ee("startxref"),ee(""+D),ee("%%EOF"),Ae(Te[K]),ve.join(`
`)},Ws=m.__private__.getBlob=function(v){return new Blob([_t(v)],{type:"application/pdf"})},di=m.output=m.__private__.output=(gr=function(v,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",v){case void 0:return ms();case"save":m.save(D.filename);break;case"arraybuffer":return _t(ms());case"blob":return Ws(ms());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(Ws(ms()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",re=ms();try{J=Zw(re)}catch{J=Zw(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+D.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(ue=D.pdfObjectUrl,Se="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",$e=xt.open();return $e!==null&&$e.document.write(Ce),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',pt=xt.open();if(pt!==null){pt.document.write(Ze);var bt=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=D.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Zt=xt.open();if(Zt!==null&&(Zt.document.write($t),Zt.document.title=D.filename),Zt||typeof safari>"u")return Zt;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",D);default:return null}},gr.foo=function(){try{return gr.apply(this,arguments)}catch(J){var v=J.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var D="Error in function "+v.split(`
`)[0].split("<")[0]+": "+J.message;if(!xt.console)throw new Error(D);xt.console.error(D,J),xt.alert&&alert(D)}},gr.foo.bar=gr,gr.foo),_a=function(v){return Array.isArray(Vs)===!0&&Vs.indexOf(v)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=_a("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var nn=null;_e(),Z();var ri=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[v].objId,pageNumber:v,pageContext:gt[v]}},ao=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in gt)if(gt[D].objId===v)break;return ri(D)},oo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:gt[K].objId,pageNumber:K,pageContext:gt[K]}};m.addPage=function(){return so.apply(this,arguments),this},m.setPage=function(){return wl.apply(this,arguments),Ae.call(this,Te[K]),this},m.insertPage=function(v){return this.addPage(),this.movePage(K,v),this},m.movePage=function(v,D){var J,re;if(v>D){J=Te[v],re=gt[v];for(var ue=v;ue>D;ue--)Te[ue]=Te[ue-1],gt[ue]=gt[ue-1];Te[D]=J,gt[D]=re,this.setPage(D)}else if(v<D){J=Te[v],re=gt[v];for(var Se=v;Se<D;Se++)Te[Se]=Te[Se+1],gt[Se]=gt[Se+1];Te[D]=J,gt[D]=re,this.setPage(D)}return this},m.deletePage=function(){return _l.apply(this,arguments),this},m.__private__.text=m.text=function(v,D,J,re,ue){var Se,Ce,$e,Ze,pt,bt,$t,Zt,Rn,rn=(re=re||{}).scope||this;if(typeof v=="number"&&typeof D=="number"&&(typeof J=="string"||Array.isArray(J))){var Un=J;J=D,D=v,v=Un}if(arguments[3]instanceof ct==0?($e=arguments[4],Ze=arguments[5],ln($t=arguments[3])==="object"&&$t!==null||(typeof $e=="string"&&(Ze=$e,$e=null),typeof $t=="string"&&(Ze=$t,$t=null),typeof $t=="number"&&($e=$t,$t=null),re={flags:$t,angle:$e,align:Ze})):(N("The transform parameter of text() with a Matrix value"),Rn=ue),isNaN(D)||isNaN(J)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return rn;var jn,Bn="",mn=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Gs,Sr=rn.internal.scaleFactor;function Ll(en){return en=en.split("	").join(Array(re.TabLen||9).join(" ")),vr(en,$t)}function Pi(en){for(var dn,Qn=en.concat(),ur=[],Na=Qn.length;Na--;)typeof(dn=Qn.shift())=="string"?ur.push(dn):Array.isArray(en)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?ur.push(dn[0]):ur.push([dn[0],dn[1],dn[2]]);return ur}function h(en,dn){var Qn;if(typeof en=="string")Qn=dn(en)[0];else if(Array.isArray(en)){for(var ur,Na,Yc=en.concat(),Au=[],qd=Yc.length;qd--;)typeof(ur=Yc.shift())=="string"?Au.push(dn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Na=dn(ur[0],ur[1],ur[2]),Au.push([Na[0],Na[1],Na[2]]));Qn=Au}return Qn}var w=!1,k=!0;if(typeof v=="string")w=!0;else if(Array.isArray(v)){var W=v.concat();Ce=[];for(var ce,be=W.length;be--;)(typeof(ce=W.shift())!="string"||Array.isArray(ce)&&typeof ce[0]!="string")&&(k=!1);w=k}if(w===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Me=Re/rn.internal.scaleFactor,Bt=Me*(mn-1);switch(re.baseline){case"bottom":J-=Bt;break;case"top":J+=Me-Bt;break;case"hanging":J+=Me-2*Bt;break;case"middle":J+=Me/2-Bt}if((bt=re.maxWidth||0)>0&&(typeof v=="string"?v=rn.splitTextToSize(v,bt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(en,dn){return en.concat(rn.splitTextToSize(dn,bt))},[]))),Se={text:v,x:D,y:J,options:re,mutex:{pdfEscape:vr,activeFontKey:qe,fonts:ze,activeFontSize:Re}},Dt.publish("preProcessText",Se),v=Se.text,$e=(re=Se.options).angle,Rn instanceof ct==0&&$e&&typeof $e=="number"){$e*=Math.PI/180,re.rotationDirection===0&&($e=-$e),U===j&&($e=-$e);var Dn=Math.cos($e),Ot=Math.sin($e);Rn=new ct(Dn,Ot,-Ot,Dn,0,0)}else $e&&$e instanceof ct&&(Rn=$e);U!==j||Rn||(Rn=Xi),(pt=re.charSpace||xa)!==void 0&&(Bn+=S(P(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zt=re.horizontalScale)!==void 0&&(Bn+=S(100*Zt)+` Tz
`),re.lang;var jt=-1,gn=re.renderingMode!==void 0?re.renderingMode:re.stroke,Ci=rn.internal.getCurrentPageInfo().pageContext;switch(gn){case 0:case!1:case"fill":jt=0;break;case 1:case!0:case"stroke":jt=1;break;case 2:case"fillThenStroke":jt=2;break;case 3:case"invisible":jt=3;break;case 4:case"fillAndAddForClipping":jt=4;break;case 5:case"strokeAndAddPathForClipping":jt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jt=6;break;case 7:case"addToPathForClipping":jt=7}var Ur=Ci.usedRenderingMode!==void 0?Ci.usedRenderingMode:-1;jt!==-1?Bn+=jt+` Tr
`:Ur!==-1&&(Bn+=`0 Tr
`),jt!==-1&&(Ci.usedRenderingMode=jt),Ze=re.align||"left";var Nr,_s=Re*mn,$c=rn.internal.pageSize.getWidth(),Wc=ze[qe];pt=re.charSpace||xa,bt=re.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},re.flags);var po=[],Rl=function(en){return rn.getStringUnitWidth(en,{font:Wc,charSpace:pt,fontSize:Re,doKerning:!1})*Re/Sr};if(Object.prototype.toString.call(v)==="[object Array]"){var Li;Ce=Pi(v),Ze!=="left"&&(Nr=Ce.map(Rl));var Ri,mo=0;if(Ze==="right"){D-=Nr[0],v=[],be=Ce.length;for(var Sa=0;Sa<be;Sa++)Sa===0?(Ri=yr(D),Li=gs(J)):(Ri=P(mo-Nr[Sa]),Li=-_s),v.push([Ce[Sa],Ri,Li]),mo=Nr[Sa]}else if(Ze==="center"){D-=Nr[0]/2,v=[],be=Ce.length;for(var go=0;go<be;go++)go===0?(Ri=yr(D),Li=gs(J)):(Ri=P((mo-Nr[go])/2),Li=-_s),v.push([Ce[go],Ri,Li]),mo=Nr[go]}else if(Ze==="left"){v=[],be=Ce.length;for(var Hc=0;Hc<be;Hc++)v.push(Ce[Hc])}else if(Ze==="justify"&&Wc.encoding==="Identity-H"){v=[],be=Ce.length,bt=bt!==0?bt:$c;for(var xu=0,Kn=0;Kn<be;Kn++)if(Li=Kn===0?gs(J):-_s,Ri=Kn===0?yr(D):xu,Kn<be-1){var zd=P((bt-Nr[Kn])/(Ce[Kn].split(" ").length-1)),Xs=Ce[Kn].split(" ");v.push([Xs[0]+" ",Ri,Li]),xu=0;for(var Zs=1;Zs<Xs.length;Zs++){var Gc=(Rl(Xs[Zs-1]+" "+Xs[Zs])-Rl(Xs[Zs]))*Sr+zd;Zs==Xs.length-1?v.push([Xs[Zs],Gc,0]):v.push([Xs[Zs]+" ",Gc,0]),xu-=Gc}}else v.push([Ce[Kn],Ri,Li]);v.push(["",xu,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],be=Ce.length,bt=bt!==0?bt:$c,Kn=0;Kn<be;Kn++){Li=Kn===0?gs(J):-_s,Ri=Kn===0?yr(D):0;var Kc=Ce[Kn].split(" ").length-1,Qc=Kc>0?(bt-Nr[Kn])/Kc:0;Kn<be-1?po.push(S(P(Qc))):po.push(0),v.push([Ce[Kn],Ri,Li])}}}(typeof re.R2L=="boolean"?re.R2L:wt)===!0&&(v=h(v,function(en,dn,Qn){return[en.split("").reverse().join(""),dn,Qn]})),Se={text:v,x:D,y:J,options:re,mutex:{pdfEscape:vr,activeFontKey:qe,fonts:ze,activeFontSize:Re}},Dt.publish("postProcessText",Se),v=Se.text,jn=Se.mutex.isHex||!1;var Jc=ze[qe].encoding;Jc!=="WinAnsiEncoding"&&Jc!=="StandardEncoding"||(v=h(v,function(en,dn,Qn){return[Ll(en),dn,Qn]})),Ce=Pi(v),v=[];for(var vo,yo,_o,jl=Array.isArray(Ce[0])?1:0,wo="",Dl=function(en,dn,Qn){var ur="";return Qn instanceof ct?(Qn=typeof re.angle=="number"?wn(Qn,new ct(1,0,0,1,en,dn)):wn(new ct(1,0,0,1,en,dn),Qn),U===j&&(Qn=wn(new ct(1,0,0,-1,0,0),Qn)),ur=Qn.join(" ")+` Tm
`):ur=S(en)+" "+S(dn)+` Td
`,ur},ns=0;ns<Ce.length;ns++){switch(wo="",jl){case 1:_o=(jn?"<":"(")+Ce[ns][0]+(jn?">":")"),vo=parseFloat(Ce[ns][1]),yo=parseFloat(Ce[ns][2]);break;case 0:_o=(jn?"<":"(")+Ce[ns]+(jn?">":")"),vo=yr(D),yo=gs(J)}po!==void 0&&po[ns]!==void 0&&(wo=po[ns]+` Tw
`),ns===0?v.push(wo+Dl(vo,yo,Rn)+_o):jl===0?v.push(wo+_o):jl===1&&v.push(wo+Dl(vo,yo,Rn)+_o)}v=jl===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ea=`BT
/`;return ea+=qe+" "+Re+` Tf
`,ea+=S(Re*mn)+` TL
`,ea+=Ti+`
`,ea+=Bn,ea+=v,ee(ea+="ET"),_[qe]=!0,rn};var wu=m.__private__.clip=m.clip=function(v){return ee(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return wu("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ee("n"),this};var Vt=m.__private__.isValidStyle=function(v){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(D=!0),D};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return Vt(v)&&(u=v),this};var wa=m.__private__.getStyle=m.getStyle=function(v){var D=u;switch(v){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=v}return D},Hs=m.close=function(){return ee("h"),this};m.stroke=function(){return ee("S"),this},m.fill=function(v){return fi("f",v),this},m.fillEvenOdd=function(v){return fi("f*",v),this},m.fillStroke=function(v){return fi("B",v),this},m.fillStrokeEvenOdd=function(v){return fi("B*",v),this};var fi=function(v,D){ln(D)==="object"?Fc(D,v):ee(v)},Sl=function(v){v===null||U===j&&v===void 0||(v=wa(v),ee(v))};function bu(v,D,J,re,ue){var Se=new Qu(D||this.boundingBox,J||this.xStep,re||this.yStep,this.gState,ue||this.matrix);Se.stream=this.stream;var Ce=v+"$$"+this.cloneIndex+++"$$";return mr(Ce,Se),Se}var Fc=function(v,D){var J=Rt[v.key],re=ht[J];if(re instanceof $l)ee("q"),ee(Vc(D)),re.gState&&m.setGState(re.gState),ee(v.matrix.toString()+" cm"),ee("/"+J+" sh"),ee("Q");else if(re instanceof Qu){var ue=new ct(1,0,0,-1,0,ts());v.matrix&&(ue=ue.multiply(v.matrix||Xi),J=bu.call(re,v.key,v.boundingBox,v.xStep,v.yStep,ue).id),ee("q"),ee("/Pattern cs"),ee("/"+J+" scn"),re.gState&&m.setGState(re.gState),ee(D),ee("Q")}},Vc=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Nl=m.moveTo=function(v,D){return ee(S(P(v))+" "+S(te(D))+" m"),this},ba=m.lineTo=function(v,D){return ee(S(P(v))+" "+S(te(D))+" l"),this},pi=m.curveTo=function(v,D,J,re,ue,Se){return ee([S(P(v)),S(te(D)),S(P(J)),S(te(re)),S(P(ue)),S(te(Se)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,D,J,re,ue){if(isNaN(v)||isNaN(D)||isNaN(J)||isNaN(re)||!Vt(ue))throw new Error("Invalid arguments passed to jsPDF.line");return U===T?this.lines([[J-v,re-D]],v,D,[1,1],ue||"S"):this.lines([[J-v,re-D]],v,D,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,D,J,re,ue,Se){var Ce,$e,Ze,pt,bt,$t,Zt,Rn,rn,Un,jn,Bn;if(typeof v=="number"&&(Bn=J,J=D,D=v,v=Bn),re=re||[1,1],Se=Se||!1,isNaN(D)||isNaN(J)||!Array.isArray(v)||!Array.isArray(re)||!Vt(ue)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Nl(D,J),Ce=re[0],$e=re[1],pt=v.length,Un=D,jn=J,Ze=0;Ze<pt;Ze++)(bt=v[Ze]).length===2?(Un=bt[0]*Ce+Un,jn=bt[1]*$e+jn,ba(Un,jn)):($t=bt[0]*Ce+Un,Zt=bt[1]*$e+jn,Rn=bt[2]*Ce+Un,rn=bt[3]*$e+jn,Un=bt[4]*Ce+Un,jn=bt[5]*$e+jn,pi($t,Zt,Rn,rn,Un,jn));return Se&&Hs(),Sl(ue),this},m.path=function(v){for(var D=0;D<v.length;D++){var J=v[D],re=J.c;switch(J.op){case"m":Nl(re[0],re[1]);break;case"l":ba(re[0],re[1]);break;case"c":pi.apply(this,re);break;case"h":Hs()}}return this},m.__private__.rect=m.rect=function(v,D,J,re,ue){if(isNaN(v)||isNaN(D)||isNaN(J)||isNaN(re)||!Vt(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return U===T&&(re=-re),ee([S(P(v)),S(te(D)),S(P(J)),S(P(re)),"re"].join(" ")),Sl(ue),this},m.__private__.triangle=m.triangle=function(v,D,J,re,ue,Se,Ce){if(isNaN(v)||isNaN(D)||isNaN(J)||isNaN(re)||isNaN(ue)||isNaN(Se)||!Vt(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-v,re-D],[ue-J,Se-re],[v-ue,D-Se]],v,D,[1,1],Ce,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,D,J,re,ue,Se,Ce){if(isNaN(v)||isNaN(D)||isNaN(J)||isNaN(re)||isNaN(ue)||isNaN(Se)||!Vt(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*J),Se=Math.min(Se,.5*re),this.lines([[J-2*ue,0],[ue*$e,0,ue,Se-Se*$e,ue,Se],[0,re-2*Se],[0,Se*$e,-ue*$e,Se,-ue,Se],[2*ue-J,0],[-ue*$e,0,-ue,-Se*$e,-ue,-Se],[0,2*Se-re],[0,-Se*$e,ue*$e,-Se,ue,-Se]],v+ue,D,[1,1],Ce,!0),this},m.__private__.ellipse=m.ellipse=function(v,D,J,re,ue){if(isNaN(v)||isNaN(D)||isNaN(J)||isNaN(re)||!Vt(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*J,Ce=4/3*(Math.SQRT2-1)*re;return Nl(v+J,D),pi(v+J,D-Ce,v+Se,D-re,v,D-re),pi(v-Se,D-re,v-J,D-Ce,v-J,D),pi(v-J,D+Ce,v-Se,D+re,v,D+re),pi(v+Se,D+re,v+J,D+Ce,v+J,D),Sl(ue),this},m.__private__.circle=m.circle=function(v,D,J,re){if(isNaN(v)||isNaN(D)||isNaN(J)||!Vt(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,D,J,J,re)},m.setFont=function(v,D,J){return J&&(D=V(D,J)),qe=xl(v,D,{disableWarning:!1}),this};var Zi=m.__private__.getFont=m.getFont=function(){return ze[xl.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,D,J={};for(v in lt)if(lt.hasOwnProperty(v))for(D in J[v]=[],lt[v])lt[v].hasOwnProperty(D)&&J[v].push(D);return J},m.addFont=function(v,D,J,re,ue){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(J=V(J,re)),io.call(this,v,D,J,ue=ue||"Identity-H")};var Gs,lo=t.lineWidth||.200025,vt=m.__private__.getLineWidth=m.getLineWidth=function(){return lo},Ks=m.__private__.setLineWidth=m.setLineWidth=function(v){return lo=v,ee(S(P(v))+" w"),this};m.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(v,D){if(v=v||[],D=D||0,isNaN(D)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(J){return S(P(J))}).join(" "),D=S(P(D)),ee("["+v+"] "+D+" d"),this};var Uc=m.__private__.getLineHeight=m.getLineHeight=function(){return Re*Gs};m.__private__.getLineHeight=m.getLineHeight=function(){return Re*Gs};var Bc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Gs=v),this},zc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Gs};Bc(t.lineHeight);var yr=m.__private__.getHorizontalCoordinate=function(v){return P(v)},gs=m.__private__.getVerticalCoordinate=function(v){return U===j?v:gt[K].mediaBox.topRightY-gt[K].mediaBox.bottomLeftY-P(v)},qc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return S(yr(v))},uo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return S(gs(v))},vs=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ni(vs)},m.__private__.setStrokeColor=m.setDrawColor=function(v,D,J,re){return vs=ni({ch1:v,ch2:D,ch3:J,ch4:re,pdfColorType:"draw",precision:2}),ee(vs),this};var co=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ni(co)},m.__private__.setFillColor=m.setFillColor=function(v,D,J,re){return co=ni({ch1:v,ch2:D,ch3:J,ch4:re,pdfColorType:"fill",precision:2}),ee(co),this};var Ti=t.textColor||"0 g",es=m.__private__.getTextColor=m.getTextColor=function(){return Ni(Ti)};m.__private__.setTextColor=m.setTextColor=function(v,D,J,re){return Ti=ni({ch1:v,ch2:D,ch3:J,ch4:re,pdfColorType:"text",precision:3}),this};var xa=t.charSpace,Il=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(xa||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xa=v,this};var hn=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var D=m.CapJoinStyles[v];if(D===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hn=D,ee(D+" J"),this};var kl=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var D=m.CapJoinStyles[v];if(D===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kl=D,ee(D+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(S(P(v))+" M"),this},m.GState=nm,m.setGState=function(v){(v=typeof v=="string"?At[In[v]]:Aa(null,v)).equals(_n)||(ee("/"+v.id+" gs"),_n=v)};var Aa=function(v,D){if(!v||!In[v]){var J=!1;for(var re in At)if(At.hasOwnProperty(re)&&At[re].equals(D)){J=!0;break}if(J)D=At[re];else{var ue="GS"+(Object.keys(At).length+1).toString(10);At[ue]=D,D.id=ue}return v&&(In[v]=D.id),Dt.publish("addGState",D),D}};m.addGState=function(v,D){return Aa(v,D),this},m.saveGraphicsState=function(){return ee("q"),Jt.push({key:qe,size:Re,color:Ti}),this},m.restoreGraphicsState=function(){ee("Q");var v=Jt.pop();return qe=v.key,Re=v.size,Ti=v.color,_n=null,this},m.setCurrentTransformationMatrix=function(v){return ee(v.toString()+" cm"),this},m.comment=function(v){return ee("#"+v),this};var Qs=function(v,D){var J=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Se){isNaN(Se)||(J=parseFloat(Se))}});var re=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Se){isNaN(Se)||(re=parseFloat(Se))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(Se){ue=Se.toString()}}),this},ho=function(v,D,J,re){Qs.call(this,v,D),this.type="rect";var ue=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ce){isNaN(Ce)||(ue=parseFloat(Ce))}});var Se=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Ce){isNaN(Ce)||(Se=parseFloat(Ce))}}),this},Ea=function(){this.page=Xt,this.currentPage=K,this.pages=Te.slice(0),this.pagesContext=gt.slice(0),this.x=Xe,this.y=mt,this.matrix=ft,this.width=mi(K),this.height=ys(K),this.outputDestination=Ve,this.id="",this.objectNumber=-1};Ea.prototype.restore=function(){Xt=this.page,K=this.currentPage,gt=this.pagesContext,Te=this.pages,Xe=this.x,mt=this.y,ft=this.matrix,Tl(K,this.width),ii(K,this.height),Ve=this.outputDestination};var Js=function(v,D,J,re,ue){Mr.push(new Ea),Xt=K=0,Te=[],Xe=v,mt=D,ft=ue,ki([J,re])};for(var Ys in m.beginFormObject=function(v,D,J,re,ue){return Js(v,D,J,re,ue),this},m.endFormObject=function(v){return function(D){if(Yi[D])Mr.pop().restore();else{var J=new Ea,re="Xo"+(Object.keys(Hn).length+1).toString(10);J.id=re,Yi[D]=re,Hn[re]=J,Dt.publish("addFormObject",J),Mr.pop().restore()}}(v),this},m.doFormObject=function(v,D){var J=Hn[Yi[v]];return ee("q"),ee(D.toString()+" cm"),ee("/"+J.id+" Do"),ee("Q"),this},m.getFormObject=function(v){var D=Hn[Yi[v]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},m.save=function(v,D){return v=v||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(ql(Ws(ms()),v),typeof ql.unload=="function"&&xt.setTimeout&&setTimeout(ql.unload,911),this):new Promise(function(J,re){try{var ue=ql(Ws(ms()),v);typeof ql.unload=="function"&&xt.setTimeout&&setTimeout(ql.unload,911),J(ue)}catch(Se){re(Se.message)}})},at.API)at.API.hasOwnProperty(Ys)&&(Ys==="events"&&at.API.events.length?function(v,D){var J,re,ue;for(ue=D.length-1;ue!==-1;ue--)J=D[ue][0],re=D[ue][1],v.subscribe.apply(v,[J].concat(typeof re=="function"?[re]:re))}(Dt,at.API.events):m[Ys]=at.API[Ys]);function mi(v){return gt[v].mediaBox.topRightX-gt[v].mediaBox.bottomLeftX}function Tl(v,D){gt[v].mediaBox.topRightX=D+gt[v].mediaBox.bottomLeftX}function ys(v){return gt[v].mediaBox.topRightY-gt[v].mediaBox.bottomLeftY}function ii(v,D){gt[v].mediaBox.topRightY=D+gt[v].mediaBox.bottomLeftY}var Pl=m.getPageWidth=function(v){return mi(v=v||K)/ot},fo=m.setPageWidth=function(v,D){Tl(v,D*ot)},ts=m.getPageHeight=function(v){return ys(v=v||K)/ot},Cl=m.setPageHeight=function(v,D){ii(v,D*ot)};return m.internal={pdfEscape:vr,getStyle:wa,getFont:Zi,getFontSize:Ue,getCharSpace:Il,getTextColor:es,getLineHeight:Uc,getLineHeightFactor:zc,getLineWidth:vt,write:Tt,getHorizontalCoordinate:yr,getVerticalCoordinate:gs,getCoordinateString:qc,getVerticalCoordinateString:uo,collections:{},newObject:kn,newAdditionalObject:ga,newObjectDeferred:sr,newObjectDeferredBegin:Tn,getFilters:Vr,putStream:Gn,events:Dt,scaleFactor:ot,pageSize:{getWidth:function(){return Pl(K)},setWidth:function(v){fo(K,v)},getHeight:function(){return ts(K)},setHeight:function(v){Cl(K,v)}},encryptionOptions:d,encryption:nn,getEncryptor:function(v){return d!==null?nn.encryptor(v,0):function(D){return D}},output:di,getNumberOfPages:bl,pages:Te,out:ee,f2:b,f3:E,getPageInfo:ri,getPageInfoByObjId:ao,getCurrentPageInfo:oo,getPDFVersion:I,Point:Qs,Rectangle:ho,Matrix:ct,hasHotfix:_a},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Pl(K)},set:function(v){fo(K,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ts(K)},set:function(v){Cl(K,v)},enumerable:!0,configurable:!0}),(function(v){for(var D=0,J=it.length;D<J;D++){var re=io.call(this,v[D][0],v[D][1],v[D][2],it[D][3],!0);g===!1&&(_[re]=!0);var ue=v[D][0].split("-");yl({id:re,fontName:ue[0],fontStyle:ue[1]||""})}Dt.publish("addFonts",{fonts:ze,dictionary:lt})}).call(m,it),qe="F1",so(i,n),Dt.publish("initialized"),m}Ru.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ru.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ru.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ru.prototype.processOwnerPassword=function(t,e){return q0(z0(e).substr(0,5),t)},Ru.prototype.encryptor=function(t,e){var n=z0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return q0(n,r)}},nm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ln(t)!==ln(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="3.0.3";var $n=at.API,z2=1,yu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ku=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(t){return t.toFixed(2)},Po=function(t){return t.toFixed(5)};$n.__acroform__={};var Si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rb=function(t){return t*z2},ra=function(t){var e=new HS,n=Qe.internal.getHeight(t)||0,r=Qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nt(r)),Number(Nt(n))],e},BD=$n.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},zD=$n.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},qD=$n.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},er=$n.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qD(t,e-1)},tr=$n.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return BD(t,e-1)},nr=$n.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zD(t,e-1)},$D=$n.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Nt(l.lowerLeft_X)),Number(Nt(l.lowerLeft_Y)),Number(Nt(l.upperRight_X)),Number(Nt(l.upperRight_Y))]},WD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=$0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Nt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ra(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},$0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(b){return b.split(`
`)}):i.map(function(b){return[b]});var s=n,a=Qe.internal.getHeight(t)||0;a=a<0?-a:a;var o=Qe.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(b,E,P){if(b+1<i.length){var te=E+" "+i[b+1][0];return Df(te,t,P).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,g=Df("3",t,s).height,_=t.multiline?a-s:(a-g)/2,m=_+=2,C=0,I=0,L=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Df(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",T=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var U=!1;if(i[j].length!==1&&L!==i[j].length-1){if((g+2)*(T+2)+2>a)continue e;x+=i[j][L],U=!0,I=j,j--}else{x=(x+=i[j][L]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var ne=parseInt(j),M=l(ne,x,s),V=j>=i.length-1;if(M&&!V){x+=" ",L=0;continue}if(M||V){if(V)I=ne;else if(t.multiline&&(g+2)*(T+2)+2>a)continue e}else{if(!t.multiline||(g+2)*(T+2)+2>a)continue e;I=ne}}for(var S="",N=C;N<=I;N++){var R=i[N];if(t.multiline){if(N===I){S+=R[L]+" ",L=(L+1)%R.length;continue}if(N===C){S+=R[R.length-1]+" ";continue}}S+=R[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,d=Df(S,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=Nt(u)+" "+Nt(m)+` Td
`,e+="("+yu(S)+`) Tj
`,e+=-Nt(u)+` 0 Td
`,m=-(s+2),d=0,C=U?I:I+1,T++,x=""}break}return r.text=e,r.fontSize=s,r},Df=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},HD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},GD=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},KD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ms.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(HD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");z2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new GS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&GD(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=$D(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Qe.createDefaultAppearanceStream(o),ln(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=WD(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var g="";for(var _ in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(_)){var m=o.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var C=m[a];typeof C=="function"&&(C=C.call(i,o)),g+="/"+a+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=m)=="function"&&(C=C.call(i,o)),g+="/"+a+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(I,L){for(var x in I)if(I.hasOwnProperty(x)){var T=x,j=I[x];L.internal.newObjectDeferredBegin(j.objId,!0),ln(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete I[T]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},WS=$n.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ln(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+yu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},u1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+yu(r(t))+")"},aa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};aa.prototype.toString=function(){return this.objId+" 0 R"},aa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},aa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:WS(i,this.objId,this.scope)}):i instanceof aa?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var HS=function(){aa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Si(HS,aa);var GS=function(){aa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+yu(n(t))+")"}},set:function(n){t=n}})};Si(GS,aa);var Ms=function t(){aa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!er(e,3)},set:function(x){x?this.F=tr(e,3):this.F=nr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof rm)return;s="FieldObject"+t.FieldNum++}var x=function(T){return T};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+yu(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/z2:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof rm||this instanceof Xl))return u1(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof br==0?u1(_,this.objId,this.scope):_},set:function(x){x=x.toString(),_=this instanceof br==0?x.substr(0,1)==="("?ku(x.substr(1,x.length-2)):ku(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?ku(_.substr(1,_.length-1)):_},set:function(x){x=x.toString(),_=this instanceof br==1?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof br==0?u1(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof br==0?x.substr(0,1)==="("?ku(x.substr(1,x.length-2)):ku(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?ku(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof br==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(x){x=!!x,I=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(x){C=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,1)},set:function(x){x?this.Ff=tr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,2)},set:function(x){x?this.Ff=tr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,3)},set:function(x){x?this.Ff=tr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');L=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(L){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};Si(Ms,aa);var ac=function(){Ms.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WS(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,18)},set:function(n){n?this.Ff=tr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=tr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,20)},set:function(n){n?(this.Ff=tr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,22)},set:function(n){n?this.Ff=tr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(n){n?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,27)},set:function(n){n?this.Ff=tr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Si(ac,Ms);var oc=function(){ac.call(this),this.fontName="helvetica",this.combo=!1};Si(oc,ac);var lc=function(){oc.call(this),this.combo=!0};Si(lc,oc);var up=function(){lc.call(this),this.edit=!0};Si(up,lc);var br=function(){Ms.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,15)},set:function(n){n?this.Ff=tr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,16)},set:function(n){n?this.Ff=tr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,17)},set:function(n){n?this.Ff=tr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(n){n?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+yu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ln(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Si(br,Ms);var cp=function(){br.call(this),this.pushButton=!0};Si(cp,br);var uc=function(){br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Si(uc,br);var rm=function(){var t,e;Ms.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+yu(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){ln(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Si(rm,Ms),uc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},uc.prototype.createOption=function(t){var e=new rm;return e.Parent=this,e.optionName=t,this.Kids.push(e),QD.call(this.scope,e),e};var hp=function(){br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Si(hp,br);var Xl=function(){Ms.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,13)},set:function(e){e?this.Ff=tr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,21)},set:function(e){e?this.Ff=tr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,24)},set:function(e){e?this.Ff=tr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,25)},set:function(e){e?this.Ff=tr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Si(Xl,Ms);var dp=function(){Xl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,14)},set:function(t){t?this.Ff=tr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};Si(dp,Xl);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ra(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=$0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Nt(Qe.internal.getWidth(t))+" "+Nt(Qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Nt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ra(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Qe.internal.getHeight(t),a=Qe.internal.getWidth(t),o=$0(t,t.caption);return i.push("1 g"),i.push("0 0 "+Nt(a)+" "+Nt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nt(a-1)+" "+Nt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Nt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ra(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(Qe.internal.getWidth(t))+" "+Nt(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Circle.YesNormal,e.D[t]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ra(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Qe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Po(Qe.internal.getWidth(t)/2)+" "+Po(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ra(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5)),a=Number((r*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Po(Qe.internal.getWidth(t)/2)+" "+Po(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Po(Qe.internal.getWidth(t)/2)+" "+Po(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ra(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Po(Qe.internal.getWidth(t)/2)+" "+Po(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Cross.YesNormal,e.D[t]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ra(t);e.scope=t.scope;var n=[],r=Qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Nt(Qe.internal.getWidth(t)-2)+" "+Nt(Qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),n.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),n.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),n.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ra(t);e.scope=t.scope;var n=Qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(Qe.internal.getWidth(t))+" "+Nt(Qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Nt(Qe.internal.getWidth(t)-2)+" "+Nt(Qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(n.x1.x)+" "+Nt(n.x1.y)+" m"),r.push(Nt(n.x2.x)+" "+Nt(n.x2.y)+" l"),r.push(Nt(n.x4.x)+" "+Nt(n.x4.y)+" m"),r.push(Nt(n.x3.x)+" "+Nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ra(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(Qe.internal.getWidth(t))+" "+Nt(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Qe.internal.getWidth(t),n=Qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Qe.internal.getWidth=function(t){var e=0;return ln(t)==="object"&&(e=rb(t.Rect[2])),e},Qe.internal.getHeight=function(t){var e=0;return ln(t)==="object"&&(e=rb(t.Rect[3])),e};var QD=$n.addField=function(t){if(KD(this,t),!(t instanceof Ms))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};$n.AcroFormChoiceField=ac,$n.AcroFormListBox=oc,$n.AcroFormComboBox=lc,$n.AcroFormEditBox=up,$n.AcroFormButton=br,$n.AcroFormPushButton=cp,$n.AcroFormRadioButton=uc,$n.AcroFormCheckBox=hp,$n.AcroFormTextField=Xl,$n.AcroFormPasswordField=dp,$n.AcroFormAppearance=Qe,$n.AcroForm={ChoiceField:ac,ListBox:oc,ComboBox:lc,EditBox:up,Button:br,PushButton:cp,RadioButton:uc,CheckBox:hp,TextField:Xl,PasswordField:dp,Appearance:Qe},at.AcroForm={ChoiceField:ac,ListBox:oc,ComboBox:lc,EditBox:up,Button:br,PushButton:cp,RadioButton:uc,CheckBox:hp,TextField:Xl,PasswordField:dp,Appearance:Qe};at.AcroForm;function KS(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(b,E){var P,te,de,ye,fe,Z=n;if((E=E||n)==="RGBA"||b.data!==void 0&&b.data instanceof Uint8ClampedArray&&"height"in b&&"width"in b)return"RGBA";if(M(b))for(fe in r)for(de=r[fe],P=0;P<de.length;P+=1){for(ye=!0,te=0;te<de[P].length;te+=1)if(de[P][te]!==void 0&&de[P][te]!==b[te]){ye=!1;break}if(ye===!0){Z=fe;break}}else for(fe in r)for(de=r[fe],P=0;P<de.length;P+=1){for(ye=!0,te=0;te<de[P].length;te+=1)if(de[P][te]!==void 0&&de[P][te]!==b.charCodeAt(te)){ye=!1;break}if(ye===!0){Z=fe;break}}return Z===n&&E!==n&&(Z=E),Z},s=function b(E){for(var P=this.internal.write,te=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:E.width}),ye.push({key:"Height",value:E.height}),E.colorSpace===x.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===x.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var fe="",Z=0,G=E.transparency.length;Z<G;Z++)fe+=E.transparency[Z]+" "+E.transparency[Z]+" ";ye.push({key:"Mask",value:"["+fe+"]"})}E.sMask!==void 0&&ye.push({key:"SMask",value:E.objectId+1+" 0 R"});var pe=E.filter!==void 0?["/"+E.filter]:void 0;if(te({data:E.data,additionalKeyValues:ye,alreadyAppliedFilters:pe,objectId:E.objectId}),P("endobj"),"sMask"in E&&E.sMask!==void 0){var _e,F=(_e=E.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:E.bitsPerComponent,K={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:E.sMask};"filter"in E&&(K.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(E.width),K.filter=E.filter),b.call(this,K)}if(E.colorSpace===x.INDEXED){var q=this.internal.newObject();te({data:S(new Uint8Array(E.palette)),objectId:q}),P("endobj")}},a=function(){var b=this.internal.collections[e+"images"];for(var E in b)s.call(this,b[E])},o=function(){var b,E=this.internal.collections[e+"images"],P=this.internal.write;for(var te in E)P("/I"+(b=E[te]).index,b.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var b=this.internal.collections[e+"images"];return l.call(this),b},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(b){return typeof t["process"+b.toUpperCase()]=="function"},_=function(b){return ln(b)==="object"&&b.nodeType===1},m=function(b,E){if(b.nodeName==="IMG"&&b.hasAttribute("src")){var P=""+b.getAttribute("src");if(P.indexOf("data:image/")===0)return lp(unescape(P).split("base64,").pop());var te=t.loadFile(P,!0);if(te!==void 0)return te}if(b.nodeName==="CANVAS"){if(b.width===0||b.height===0)throw new Error("Given canvas must have data. Canvas width: "+b.width+", height: "+b.height);var de;switch(E){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return lp(b.toDataURL(de,1).split("base64,").pop())}},C=function(b){var E=this.internal.collections[e+"images"];if(E){for(var P in E)if(b===E[P].alias)return E[P]}},I=function(b,E,P){return b||E||(b=-96,E=-96),b<0&&(b=-1*P.width*72/b/this.internal.scaleFactor),E<0&&(E=-1*P.height*72/E/this.internal.scaleFactor),b===0&&(b=E*P.width/P.height),E===0&&(E=b*P.height/P.width),[b,E]},L=function(b,E,P,te,de,ye){var fe=I.call(this,P,te,de),Z=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,pe=u.call(this);if(P=fe[0],te=fe[1],pe[de.index]=de,ye){ye*=Math.PI/180;var _e=Math.cos(ye),F=Math.sin(ye),K=function(Q){return Q.toFixed(4)},q=[K(_e),K(F),K(-1*F),K(_e),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,Z(b),G(E+te),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Z(P),"0","0",Z(te),"0","0","cm"].join(" "))):this.internal.write([Z(P),"0","0",Z(te),Z(b),G(E+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(b){var E,P,te=0;if(typeof b=="string")for(P=b.length,E=0;E<P;E++)te=(te<<5)-te+b.charCodeAt(E),te|=0;else if(M(b))for(P=b.byteLength/2,E=0;E<P;E++)te=(te<<5)-te+b[E],te|=0;return te},U=t.__addimage__.validateStringAsBase64=function(b){(b=b||"").toString().trim();var E=!0;return b.length===0&&(E=!1),b.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(b.substr(0,b.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(b.substr(-2))===!1&&(E=!1),E},ne=t.__addimage__.extractImageFromDataUrl=function(b){if(b==null||!(b=b.trim()).startsWith("data:"))return null;var E=b.indexOf(",");return E<0?null:b.substring(0,E).trim().endsWith("base64")?b.substring(E+1):null};t.__addimage__.isArrayBuffer=function(b){return b instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(b){return b instanceof Int8Array||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(b){for(var E=b.length,P=new Uint8Array(E),te=0;te<E;te++)P[te]=b.charCodeAt(te);return P},S=t.__addimage__.arrayBufferToBinaryString=function(b){for(var E="",P=M(b)?b:new Uint8Array(b),te=0;te<P.length;te+=8192)E+=String.fromCharCode.apply(null,P.subarray(te,te+8192));return E};t.addImage=function(){var b,E,P,te,de,ye,fe,Z,G;if(typeof arguments[1]=="number"?(E=n,P=arguments[1],te=arguments[2],de=arguments[3],ye=arguments[4],fe=arguments[5],Z=arguments[6],G=arguments[7]):(E=arguments[1],P=arguments[2],te=arguments[3],de=arguments[4],ye=arguments[5],fe=arguments[6],Z=arguments[7],G=arguments[8]),ln(b=arguments[0])==="object"&&!_(b)&&"imageData"in b){var pe=b;b=pe.imageData,E=pe.format||E||n,P=pe.x||P||0,te=pe.y||te||0,de=pe.w||pe.width||de,ye=pe.h||pe.height||ye,fe=pe.alias||fe,Z=pe.compression||Z,G=pe.rotation||pe.angle||G}var _e=this.internal.getFilters();if(Z===void 0&&_e.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(P)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=N.call(this,b,E,fe,Z);return L.call(this,P,te,de,ye,F,G),this};var N=function(b,E,P,te){var de,ye,fe;if(typeof b=="string"&&i(b)===n){b=unescape(b);var Z=R(b,!1);(Z!==""||(Z=t.loadFile(b,!0))!==void 0)&&(b=Z)}if(_(b)&&(b=m(b,E)),E=i(b,E),!g(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((fe=P)==null||fe.length===0)&&(P=function(G){return typeof G=="string"||M(G)?j(G):M(G.data)?j(G.data):null}(b)),(de=C.call(this,P))||(b instanceof Uint8Array||E==="RGBA"||(ye=b,b=V(b)),de=this["process"+E.toUpperCase()](b,d.call(this),P,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in t.image_compression?G:T.NONE}(te),ye)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},R=t.__addimage__.convertBase64ToBinaryString=function(b,E){E=typeof E!="boolean"||E;var P,te="";if(typeof b=="string"){var de;P=(de=ne(b))!==null&&de!==void 0?de:b;try{te=lp(P)}catch(ye){if(E)throw U(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};t.getImageProperties=function(b){var E,P,te="";if(_(b)&&(b=m(b)),typeof b=="string"&&i(b)===n&&((te=R(b,!1))===""&&(te=t.loadFile(b)||""),b=te),P=i(b),!g(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(b instanceof Uint8Array||(b=V(b)),!(E=this["process"+P.toUpperCase()](b)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=P,E}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,g=0;g<u.length&&!d;g++)switch((r=u[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<u.length;_++){r=u[_];var m=this.internal.pdfEscape,C=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(I.objId),T=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(x(r.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(x(T))+") >>",I.content=s;var j=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(I.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(C(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ne=this.annotations._nameMap[r.options.name];r.options.pageNumber=ne.page,r.options.top=ne.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var M=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+M+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},o=t.__arabicParser__.isArabicEndLetter=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(I){return a(I)&&i.indexOf(I.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(I){var L=0,x=n,T="",j=0;for(L=0;L<I.length;L+=1)x[I.charCodeAt(L)]!==void 0?(j++,typeof(x=x[I.charCodeAt(L)])=="number"&&(T+=String.fromCharCode(x),x=n,j=0),L===I.length-1&&(x=n,T+=I.charAt(L-(j-1)),L-=j-1,j=0)):(x=n,T+=I.charAt(L-j),L-=j,j=0);return T};t.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(I,L,x){return a(I)?s(I)===!1?-1:!u(I)||!a(L)&&!a(x)||!a(x)&&o(L)||o(I)&&!a(L)||o(I)&&l(L)||o(I)&&o(L)?0:d(I)&&a(L)&&!o(L)&&a(x)&&u(x)?3:o(I)||!a(x)?1:2:-1},m=function(I){var L=0,x=0,T=0,j="",U="",ne="",M=(I=I||"").split("\\s+"),V=[];for(L=0;L<M.length;L+=1){for(V.push(""),x=0;x<M[L].length;x+=1)j=M[L][x],U=M[L][x-1],ne=M[L][x+1],a(j)?(T=_(j,U,ne),V[L]+=T!==-1?String.fromCharCode(e[j.charCodeAt(0)][T]):j):V[L]+=j;V[L]=g(V[L])}return V.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var I,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(L)){var T=0;for(x=[],T=0;T<L.length;T+=1)Array.isArray(L[T])?x.push([m(L[T][0]),L[T][1],L[T][2]]):x.push([m(L[T])]);I=x}else I=m(L);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};t.events.push(["preProcessText",C])}(at.API),at.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(I){l=I}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(I){d=I}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(I){C=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),_=u.scaleFactor||this.internal.scaleFactor,m=0,C=0,I=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,U){return j.concat(L.splitTextToSize(U,x))},[])):l=Array.isArray(l)?l:[l];for(var T=0;T<l.length;T++)m<(I=this.getStringUnitWidth(l[T],{font:g})*d)&&(m=I);return m!==0&&(C=l.length),{w:m/=_,h:Math.max((C*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,m&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,g,_){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,C,I,L,x=[],T=[],j=[],U={},ne={},M=[],V=[],S=(_=_||{}).autoSize||!1,N=_.printHeaders!==!1,R=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,b=_.margins||Object.assign({width:this.getPageWidth()},e),E=typeof _.padding=="number"?_.padding:3,P=_.headerBackgroundColor||"#c8c8c8",te=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=b,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=te,this.setFontSize(R),g==null)T=x=Object.keys(d[0]),j=x.map(function(){return"left"});else if(Array.isArray(g)&&ln(g[0])==="object")for(x=g.map(function(pe){return pe.name}),T=g.map(function(pe){return pe.prompt||pe.name||""}),j=g.map(function(pe){return pe.align||"left"}),m=0;m<g.length;m+=1)ne[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&typeof g[0]=="string"&&(T=x=g,j=x.map(function(){return"left"}));if(S||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<x.length;m+=1){for(U[L=x[m]]=d.map(function(pe){return pe[L]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(T[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=U[L],this.setFont(void 0,"normal"),I=0;I<C.length;I+=1)M.push(this.getTextDimensions(C[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[L]=Math.max.apply(null,M)+E+E,M=[]}if(N){var de={};for(m=0;m<x.length;m+=1)de[x[m]]={},de[x[m]].text=T[m],de[x[m]].align=j[m];var ye=o.call(this,de,ne);V=x.map(function(pe){return new s(l,u,ne[pe],ye,de[pe].text,void 0,de[pe].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var fe=g.reduce(function(pe,_e){return pe[_e.name]=_e.align,pe},{});for(m=0;m<d.length;m+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:m,data:d[m]},this);var Z=o.call(this,d[m],ne);for(I=0;I<x.length;I+=1){var G=d[m][x[I]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:m,col:I,data:G},this),a.call(this,new s(l,u,ne[x[I]],Z,G,m+2,fe[x[I]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(m){var C=l[m];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/_+d+d},this).reduce(function(m,C){return Math.max(m,C)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=l;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(C)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(at.API);var QS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},JS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W0=KS(JS),YS=[100,200,300,400,500,600,700,800,900],JD=KS(YS);function c1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return QS[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof W0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function ib(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var YD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ab(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ob(t){return t.trimLeft()}function XD(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function ZD(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Of,lb,ub,Tu,Mf,cb,hb,db,h1=["times"];function fb(t,e,n,r,i){var s=4,a=mb;switch(i){case at.API.image_compression.FAST:s=1,a=pb;break;case at.API.image_compression.MEDIUM:s=6,a=gb;break;case at.API.image_compression.SLOW:s=9,a=vb}t=function(l,u,d,g){for(var _,m=l.length/u,C=new Uint8Array(l.length+m),I=[eO,pb,mb,gb,vb],L=0;L<m;L+=1){var x=L*u,T=l.subarray(x,x+u);if(g)C.set(g(T,d,_),x+L);else{for(var j=I.length,U=[],ne=0;ne<j;ne+=1)U[ne]=I[ne](T,d,_);var M=nO(U.concat());C.set(U[M],x+L)}_=T}return C}(t,e,Math.ceil(n*r/8),a);var o=F0(t,{level:s});return at.API.__addimage__.arrayBufferToBinaryString(o)}function eO(t){var e=Array.apply([],t);return e.unshift(0),e}function pb(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function mb(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function gb(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function vb(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=tO(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function tO(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function nO(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function d1(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return XS(t,i)>>s&a}function yb(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(u,d,g){if(d+1<u.byteLength)u.setUint16(d,g,!1);else{var _=g>>8&255;u.setUint8(d,_)}})(t,s,XS(t,s)&~(o<<a)&65535|l)}function XS(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function rO(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,d=[],g=0,_=null,m=0,C=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((b=t[e++])>=0))throw Error("Invalid block size");if(b===0)break;e+=b}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=t[e++];g=t[e++]|t[e++]<<8,_=t[e++],1&I||(_=null),m=I>>2&7,e++;break;case 254:for(;;){if(!((b=t[e++])>=0))throw Error("Invalid block size");if(b===0)break;e+=b}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var L=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,U=t[e++],ne=U>>6&1,M=1<<1+(7&U),V=o,S=l,N=!1;U>>7&&(N=!0,V=e,S=M,e+=3*M);var R=e;for(e++;;){var b;if(!((b=t[e++])>=0))throw Error("Invalid block size");if(b===0)break;e+=b}d.push({x:L,y:x,width:T,height:j,has_local_palette:N,palette_offset:V,palette_size:S,data_offset:R,data_length:e-R,transparent_index:_,interlaced:!!ne,delay:g,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return C},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,P){var te=this.frameInfo(E),de=te.width*te.height,ye=new Uint8Array(de);_b(t,te.data_offset,ye,de);var fe=te.palette_offset,Z=te.transparent_index;Z===null&&(Z=256);var G=te.width,pe=n-G,_e=G,F=4*(te.y*n+te.x),K=4*((te.y+te.height)*n+te.x),q=F,Q=4*pe;te.interlaced===!0&&(Q+=4*n*7);for(var ie=8,ae=0,ve=ye.length;ae<ve;++ae){var we=ye[ae];if(_e===0&&(_e=G,(q+=Q)>=K&&(Q=4*pe+4*n*(ie-1),q=F+(G+pe)*(ie<<1),ie>>=1)),we===Z)q+=4;else{var xe=t[fe+3*we],Te=t[fe+3*we+1],Fe=t[fe+3*we+2];P[q++]=Fe,P[q++]=Te,P[q++]=xe,P[q++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(E,P){var te=this.frameInfo(E),de=te.width*te.height,ye=new Uint8Array(de);_b(t,te.data_offset,ye,de);var fe=te.palette_offset,Z=te.transparent_index;Z===null&&(Z=256);var G=te.width,pe=n-G,_e=G,F=4*(te.y*n+te.x),K=4*((te.y+te.height)*n+te.x),q=F,Q=4*pe;te.interlaced===!0&&(Q+=4*n*7);for(var ie=8,ae=0,ve=ye.length;ae<ve;++ae){var we=ye[ae];if(_e===0&&(_e=G,(q+=Q)>=K&&(Q=4*pe+4*n*(ie-1),q=F+(G+pe)*(ie<<1),ie>>=1)),we===Z)q+=4;else{var xe=t[fe+3*we],Te=t[fe+3*we+1],Fe=t[fe+3*we+2];P[q++]=xe,P[q++]=Te,P[q++]=Fe,P[q++]=255}--_e}}}function _b(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,d=0,g=0,_=0,m=t[e++],C=new Int32Array(4096),I=null;;){for(;d<16&&m!==0;)g|=t[e++]<<d,d+=8,m===1?m=t[e++]:--m;if(d<l)break;var L=g&u;if(g>>=l,d-=l,L!==s){if(L===a)break;for(var x=L<o?L:I,T=0,j=x;j>s;)j=C[j]>>8,++T;var U=j;if(_+T+(x!==L?1:0)>r)return void pn.log("Warning, gif stream longer than expected.");n[_++]=U;var ne=_+=T;for(x!==L&&(n[_++]=U),j=x;T--;)j=C[j],n[--ne]=255&j,j>>=8;I!==null&&o<4096&&(C[o++]=I<<8|U,o>=u+1&&l<12&&(++l,u=u<<1|1)),I=L}else o=a+1,u=(1<<(l=i+1))-1,I=null}return _!==r&&pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function f1(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),g=new Array(65535),_=new Array(65535),m=new Array(64),C=new Array(64),I=[],L=0,x=7,T=new Array(64),j=new Array(64),U=new Array(64),ne=new Array(256),M=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],b=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(F,K){for(var q=0,Q=0,ie=new Array,ae=1;ae<=16;ae++){for(var ve=1;ve<=F[ae];ve++)ie[K[Q]]=[],ie[K[Q]][0]=q,ie[K[Q]][1]=ae,Q++,q++;q*=2}return ie}function fe(F){for(var K=F[0],q=F[1]-1;q>=0;)K&1<<q&&(L|=1<<x),q--,--x<0&&(L==255?(Z(255),Z(0)):Z(L),x=7,L=0)}function Z(F){I.push(F)}function G(F){Z(F>>8&255),Z(255&F)}function pe(F,K,q,Q,ie){for(var ae,ve=ie[0],we=ie[240],xe=function(Re,Ke){var Ue,wt,Je,Mt,dt,Ye,ke,rt,qe,ot,Xe=0;for(qe=0;qe<8;++qe){Ue=Re[Xe],wt=Re[Xe+1],Je=Re[Xe+2],Mt=Re[Xe+3],dt=Re[Xe+4],Ye=Re[Xe+5],ke=Re[Xe+6];var mt=Ue+(rt=Re[Xe+7]),ft=Ue-rt,ze=wt+ke,lt=wt-ke,Jt=Je+Ye,ht=Je-Ye,Rt=Mt+dt,At=Mt-dt,In=mt+Rt,_n=mt-Rt,Xt=ze+Jt,gt=ze-Jt;Re[Xe]=In+Xt,Re[Xe+4]=In-Xt;var Dt=.707106781*(gt+_n);Re[Xe+2]=_n+Dt,Re[Xe+6]=_n-Dt;var Vs=.382683433*((In=At+ht)-(gt=lt+ft)),Hn=.5411961*In+Vs,Yi=1.306562965*gt+Vs,Mr=.707106781*(Xt=ht+lt),ct=ft+Mr,wn=ft-Mr;Re[Xe+5]=wn+Hn,Re[Xe+3]=wn-Hn,Re[Xe+1]=ct+Yi,Re[Xe+7]=ct-Yi,Xe+=8}for(Xe=0,qe=0;qe<8;++qe){Ue=Re[Xe],wt=Re[Xe+8],Je=Re[Xe+16],Mt=Re[Xe+24],dt=Re[Xe+32],Ye=Re[Xe+40],ke=Re[Xe+48];var Xi=Ue+(rt=Re[Xe+56]),mr=Ue-rt,gr=wt+ke,kn=wt-ke,sr=Je+Ye,Tn=Je-Ye,ga=Mt+dt,Us=Mt-dt,Fr=Xi+ga,Ni=Xi-ga,ni=gr+sr,Vr=gr-sr;Re[Xe]=Fr+ni,Re[Xe+32]=Fr-ni;var Gn=.707106781*(Vr+Ni);Re[Xe+16]=Ni+Gn,Re[Xe+48]=Ni-Gn;var Bs=.382683433*((Fr=Us+Tn)-(Vr=kn+mr)),Ii=.5411961*Fr+Bs,ps=1.306562965*Vr+Bs,zs=.707106781*(ni=Tn+kn),va=mr+zs,ya=mr-zs;Re[Xe+40]=ya+Ii,Re[Xe+24]=ya-Ii,Re[Xe+8]=va+ps,Re[Xe+56]=va-ps,Xe++}for(qe=0;qe<64;++qe)ot=Re[qe]*Ke[qe],m[qe]=ot>0?ot+.5|0:ot-.5|0;return m}(F,K),Te=0;Te<64;++Te)C[V[Te]]=xe[Te];var Fe=C[0]-q;q=C[0],Fe==0?fe(Q[0]):(fe(Q[_[ae=32767+Fe]]),fe(g[ae]));for(var Ve=63;Ve>0&&C[Ve]==0;)Ve--;if(Ve==0)return fe(ve),q;for(var Ae,ee=1;ee<=Ve;){for(var Tt=ee;C[ee]==0&&ee<=Ve;)++ee;var _t=ee-Tt;if(_t>=16){Ae=_t>>4;for(var it=1;it<=Ae;++it)fe(we);_t&=15}ae=32767+C[ee],fe(ie[(_t<<4)+_[ae]]),fe(g[ae]),ee++}return Ve!=63&&fe(ve),q}function _e(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(K){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ie=a((q[Q]*K+50)/100);ie=Math.min(Math.max(ie,1),255),o[V[Q]]=ie}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=a((ae[ve]*K+50)/100);we=Math.min(Math.max(we,1),255),l[V[ve]]=we}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Fe=0;Fe<8;Fe++)for(var Ve=0;Ve<8;Ve++)u[Te]=1/(o[V[Te]]*xe[Fe]*xe[Ve]*8),d[Te]=1/(l[V[Te]]*xe[Fe]*xe[Ve]*8),Te++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,K){K&&_e(K),I=new Array,L=0,x=7,G(65496),G(65504),G(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),G(1),G(1),Z(0),Z(0),function(){G(65499),G(132),Z(0);for(var wt=0;wt<64;wt++)Z(o[wt]);Z(1);for(var Je=0;Je<64;Je++)Z(l[Je])}(),function(wt,Je){G(65472),G(17),Z(8),G(Je),G(wt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(F.width,F.height),function(){G(65476),G(418),Z(0);for(var wt=0;wt<16;wt++)Z(S[wt+1]);for(var Je=0;Je<=11;Je++)Z(N[Je]);Z(16);for(var Mt=0;Mt<16;Mt++)Z(R[Mt+1]);for(var dt=0;dt<=161;dt++)Z(b[dt]);Z(1);for(var Ye=0;Ye<16;Ye++)Z(E[Ye+1]);for(var ke=0;ke<=11;ke++)Z(P[ke]);Z(17);for(var rt=0;rt<16;rt++)Z(te[rt+1]);for(var qe=0;qe<=161;qe++)Z(de[qe])}(),G(65498),G(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var q=0,Q=0,ie=0;L=0,x=7,this.encode.displayName="_encode_";for(var ae,ve,we,xe,Te,Fe,Ve,Ae,ee,Tt=F.data,_t=F.width,it=F.height,Re=4*_t,Ke=0;Ke<it;){for(ae=0;ae<Re;){for(Te=Re*Ke+ae,Ve=-1,Ae=0,ee=0;ee<64;ee++)Fe=Te+(Ae=ee>>3)*Re+(Ve=4*(7&ee)),Ke+Ae>=it&&(Fe-=Re*(Ke+1+Ae-it)),ae+Ve>=Re&&(Fe-=ae+Ve-Re+4),ve=Tt[Fe++],we=Tt[Fe++],xe=Tt[Fe++],T[ee]=(M[ve]+M[we+256|0]+M[xe+512|0]>>16)-128,j[ee]=(M[ve+768|0]+M[we+1024|0]+M[xe+1280|0]>>16)-128,U[ee]=(M[ve+1280|0]+M[we+1536|0]+M[xe+1792|0]>>16)-128;q=pe(T,u,q,e,r),Q=pe(j,d,Q,n,i),ie=pe(U,d,ie,n,i),ae+=32}Ke+=8}if(x>=0){var Ue=[];Ue[1]=x+1,Ue[0]=(1<<x+1)-1,fe(Ue)}return G(65497),new Uint8Array(I)},t=t||50,function(){for(var F=String.fromCharCode,K=0;K<256;K++)ne[K]=F(K)}(),e=ye(S,N),n=ye(E,P),r=ye(R,b),i=ye(te,de),function(){for(var F=1,K=2,q=1;q<=15;q++){for(var Q=F;Q<K;Q++)_[32767+Q]=q,g[32767+Q]=[],g[32767+Q][1]=q,g[32767+Q][0]=Q;for(var ie=-(K-1);ie<=-F;ie++)_[32767+ie]=q,g[32767+ie]=[],g[32767+ie][1]=q,g[32767+ie][0]=K-1+ie;F<<=1,K<<=1}}(),function(){for(var F=0;F<256;F++)M[F]=19595*F,M[F+256|0]=38470*F,M[F+512|0]=7471*F+32768,M[F+768|0]=-11059*F,M[F+1024|0]=-21709*F,M[F+1280|0]=32768*F+8421375,M[F+1536|0]=-27439*F,M[F+1792|0]=-5329*F}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Es(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wb(t){function e(N){if(!N)throw Error("assert :P")}function n(N,R,b){for(var E=0;4>E;E++)if(N[R+E]!=b.charCodeAt(E))return!0;return!1}function r(N,R,b,E,P){for(var te=0;te<P;te++)N[R+te]=b[E+te]}function i(N,R,b,E){for(var P=0;P<E;P++)N[R+P]=b}function s(N){return new Int32Array(N)}function a(N,R){for(var b=[],E=0;E<N;E++)b.push(new R);return b}function o(N,R){var b=[];return function E(P,te,de){for(var ye=de[te],fe=0;fe<ye&&(P.push(de.length>te+1?[]:new R),!(de.length<te+1));fe++)E(P[fe],te+1,de)}(b,0,N),b}var l=function(){var N=this;function R(c,f){for(var y=1<<f-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function b(c,f,y,A,O){e(!(A%y));do c[f+(A-=y)]=O;while(0<A)}function E(c,f,y,A,O){if(e(2328>=O),512>=O)var B=s(512);else if((B=s(O))==null)return 0;return function(z,$,H,Y,se,ge){var X,oe,he=$,Ee=1<<H,me=s(16),Ne=s(16);for(e(se!=0),e(Y!=null),e(z!=null),e(0<H),oe=0;oe<se;++oe){if(15<Y[oe])return 0;++me[Y[oe]]}if(me[0]==se)return 0;for(Ne[1]=0,X=1;15>X;++X){if(me[X]>1<<X)return 0;Ne[X+1]=Ne[X]+me[X]}for(oe=0;oe<se;++oe)X=Y[oe],0<Y[oe]&&(ge[Ne[X]++]=oe);if(Ne[15]==1)return(Y=new P).g=0,Y.value=ge[0],b(z,he,1,Ee,Y),Ee;var Ie,De=-1,Le=Ee-1,st=0,Ge=1,Ct=1,tt=1<<H;for(oe=0,X=1,se=2;X<=H;++X,se<<=1){if(Ge+=Ct<<=1,0>(Ct-=me[X]))return 0;for(;0<me[X];--me[X])(Y=new P).g=X,Y.value=ge[oe++],b(z,he+st,se,tt,Y),st=R(st,X)}for(X=H+1,se=2;15>=X;++X,se<<=1){if(Ge+=Ct<<=1,0>(Ct-=me[X]))return 0;for(;0<me[X];--me[X]){if(Y=new P,(st&Le)!=De){for(he+=tt,Ie=1<<(De=X)-H;15>De&&!(0>=(Ie-=me[De]));)++De,Ie<<=1;Ee+=tt=1<<(Ie=De-H),z[$+(De=st&Le)].g=Ie+H,z[$+De].value=he-$-De}Y.g=X-H,Y.value=ge[oe++],b(z,he+(st>>H),se,tt,Y),st=R(st,X)}}return Ge!=2*Ne[15]-1?0:Ee}(c,f,y,A,O,B)}function P(){this.value=this.g=0}function te(){this.value=this.g=0}function de(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Rl,te)}function ye(c,f,y,A){e(c!=null),e(f!=null),e(2147483648>A),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=y,c.Jd=f,c.Yc=y+A,c.Zc=4<=A?y+A-4+1:y,ve(c)}function fe(c,f){for(var y=0;0<f--;)y|=xe(c,128)<<f;return y}function Z(c,f){var y=fe(c,f);return we(c)?-y:y}function G(c,f,y,A){var O,B=0;for(e(c!=null),e(f!=null),e(4294967288>A),c.Sb=A,c.Ra=0,c.u=0,c.h=0,4<A&&(A=4),O=0;O<A;++O)B+=f[y+O]<<8*O;c.Ra=B,c.bb=A,c.oa=f,c.pa=y}function pe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<mo-8>>>0,++c.bb,c.u-=8;Q(c)&&(c.h=1,c.u=0)}function _e(c,f){if(e(0<=f),!c.h&&f<=Ri){var y=q(c)&Li[f];return c.u+=f,pe(c),y}return c.h=1,c.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(c){return c.Ra>>>(c.u&mo-1)>>>0}function Q(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>mo}function ie(c,f){c.u=f,c.h=Q(c)}function ae(c){c.u>=Sa&&(e(c.u>=Sa),pe(c))}function ve(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function we(c){return fe(c,1)}function xe(c,f){var y=c.Ca;0>c.b&&ve(c);var A=c.b,O=y*f>>>8,B=(c.I>>>A>O)+0;for(B?(y-=O,c.I-=O+1<<A>>>0):y=O+1,A=y,O=0;256<=A;)O+=8,A>>=8;return A=7^O+go[A],c.b-=A,c.Ca=(y<<A)-1,B}function Te(c,f,y){c[f+0]=y>>24&255,c[f+1]=y>>16&255,c[f+2]=y>>8&255,c[f+3]=255&y}function Fe(c,f){return c[f+0]|c[f+1]<<8}function Ve(c,f){return Fe(c,f)|c[f+2]<<16}function Ae(c,f){return Fe(c,f)|Fe(c,f+2)<<16}function ee(c,f){var y=1<<f;return e(c!=null),e(0<f),c.X=s(y),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function Tt(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),r(f.X,0,c.X,0,1<<f.Xa)}function _t(){this.X=[],this.Xa=this.Mb=0}function it(c,f,y,A){e(y!=null),e(A!=null);var O=y[0],B=A[0];return O==0&&(O=(c*B+f/2)/f),B==0&&(B=(f*O+c/2)/c),0>=O||0>=B?0:(y[0]=O,A[0]=B,1)}function Re(c,f){return c+(1<<f)-1>>>f}function Ke(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function Ue(c,f){N[f]=function(y,A,O,B,z,$,H){var Y;for(Y=0;Y<z;++Y){var se=N[c]($[H+Y-1],O,B+Y);$[H+Y]=Ke(y[A+Y],se)}}}function wt(){this.ud=this.hd=this.jd=0}function Je(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function Mt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function dt(c,f){return Mt(c+(c-f+.5>>1))}function Ye(c,f,y){return Math.abs(f-y)-Math.abs(c-y)}function ke(c,f,y,A,O,B,z){for(A=B[z-1],y=0;y<O;++y)B[z+y]=A=Ke(c[f+y],A)}function rt(c,f,y,A,O){var B;for(B=0;B<y;++B){var z=c[f+B],$=z>>8&255,H=16711935&(H=(H=16711935&z)+(($<<16)+$));A[O+B]=(4278255360&z)+H>>>0}}function qe(c,f){f.jd=255&c,f.hd=c>>8&255,f.ud=c>>16&255}function ot(c,f,y,A,O,B){var z;for(z=0;z<A;++z){var $=f[y+z],H=$>>>8,Y=$,se=255&(se=(se=$>>>16)+((c.jd<<24>>24)*(H<<24>>24)>>>5));Y=255&(Y=(Y+=(c.hd<<24>>24)*(H<<24>>24)>>>5)+((c.ud<<24>>24)*(se<<24>>24)>>>5)),O[B+z]=(4278255360&$)+(se<<16)+Y}}function Xe(c,f,y,A,O){N[f]=function(B,z,$,H,Y,se,ge,X,oe){for(H=ge;H<X;++H)for(ge=0;ge<oe;++ge)Y[se++]=O($[A(B[z++])])},N[c]=function(B,z,$,H,Y,se,ge){var X=8>>B.b,oe=B.Ea,he=B.K[0],Ee=B.w;if(8>X)for(B=(1<<B.b)-1,Ee=(1<<X)-1;z<$;++z){var me,Ne=0;for(me=0;me<oe;++me)me&B||(Ne=A(H[Y++])),se[ge++]=O(he[Ne&Ee]),Ne>>=X}else N["VP8LMapColor"+y](H,Y,he,Ee,se,ge,z,$,oe)}}function mt(c,f,y,A,O){for(y=f+y;f<y;){var B=c[f++];A[O++]=B>>16&255,A[O++]=B>>8&255,A[O++]=255&B}}function ft(c,f,y,A,O){for(y=f+y;f<y;){var B=c[f++];A[O++]=B>>16&255,A[O++]=B>>8&255,A[O++]=255&B,A[O++]=B>>24&255}}function ze(c,f,y,A,O){for(y=f+y;f<y;){var B=(z=c[f++])>>16&240|z>>12&15,z=240&z|z>>28&15;A[O++]=B,A[O++]=z}}function lt(c,f,y,A,O){for(y=f+y;f<y;){var B=(z=c[f++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;A[O++]=B,A[O++]=z}}function Jt(c,f,y,A,O){for(y=f+y;f<y;){var B=c[f++];A[O++]=255&B,A[O++]=B>>8&255,A[O++]=B>>16&255}}function ht(c,f,y,A,O,B){if(B==0)for(y=f+y;f<y;)Te(A,((B=c[f++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),O+=32;else r(A,O,c,f,y)}function Rt(c,f){N[f][0]=N[c+"0"],N[f][1]=N[c+"1"],N[f][2]=N[c+"2"],N[f][3]=N[c+"3"],N[f][4]=N[c+"4"],N[f][5]=N[c+"5"],N[f][6]=N[c+"6"],N[f][7]=N[c+"7"],N[f][8]=N[c+"8"],N[f][9]=N[c+"9"],N[f][10]=N[c+"10"],N[f][11]=N[c+"11"],N[f][12]=N[c+"12"],N[f][13]=N[c+"13"],N[f][14]=N[c+"0"],N[f][15]=N[c+"0"]}function At(c){return c==Km||c==Qm||c==Qd||c==Jm}function In(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new In,this.f.kb=new _n,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vs(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Hn(c,f){var y=c.T,A=f.ba.f.RGBA,O=A.eb,B=A.fb+c.ka*A.A,z=is[f.ba.S],$=c.y,H=c.O,Y=c.f,se=c.N,ge=c.ea,X=c.W,oe=f.cc,he=f.dc,Ee=f.Mc,me=f.Nc,Ne=c.ka,Ie=c.ka+c.T,De=c.U,Le=De+1>>1;for(Ne==0?z($,H,null,null,Y,se,ge,X,Y,se,ge,X,O,B,null,null,De):(z(f.ec,f.fc,$,H,oe,he,Ee,me,Y,se,ge,X,O,B-A.A,O,B,De),++y);Ne+2<Ie;Ne+=2)oe=Y,he=se,Ee=ge,me=X,se+=c.Rc,X+=c.Rc,B+=2*A.A,z($,(H+=2*c.fa)-c.fa,$,H,oe,he,Ee,me,Y,se,ge,X,O,B-A.A,O,B,De);return H+=c.fa,c.j+Ie<c.o?(r(f.ec,f.fc,$,H,De),r(f.cc,f.dc,Y,se,Le),r(f.Mc,f.Nc,ge,X,Le),y--):1&Ie||z($,H,null,null,Y,se,ge,X,Y,se,ge,X,O,B+A.A,null,null,De),y}function Yi(c,f,y){var A=c.F,O=[c.J];if(A!=null){var B=c.U,z=f.ba.S,$=z==Kd||z==Qd;f=f.ba.f.RGBA;var H=[0],Y=c.ka;H[0]=c.T,c.Kb&&(Y==0?--H[0]:(--Y,O[0]-=c.width),c.j+c.ka+c.T==c.o&&(H[0]=c.o-c.j-Y));var se=f.eb;Y=f.fb+Y*f.A,c=J2(A,O[0],c.width,B,H,se,Y+($?0:3),f.A),e(y==H),c&&At(z)&&Xc(se,Y,$,B,H,f.A)}return 0}function Mr(c){var f=c.ma,y=f.ba.S,A=11>y,O=y==Hd||y==Gd||y==Kd||y==Gm||y==12||At(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!$c(f.Oa,c,O?11:12))return 0;if(O&&At(y)&&Ll(),c.da)alert("todo:use_scaling");else{if(A){if(f.Ib=Vs,c.Kb){if(y=c.U+1>>1,f.memory=s(c.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=Hn,Ll()}}else alert("todo:EmitYUV");O&&(f.Jb=Yi,A&&mn())}if(A&&!dy){for(c=0;256>c;++c)_N[c]=89858*(c-128)+Yd>>Jd,xN[c]=-22014*(c-128)+Yd,bN[c]=-45773*(c-128),wN[c]=113618*(c-128)+Yd>>Jd;for(c=eh;c<Zm;++c)f=76283*(c-16)+Yd>>Jd,AN[c-eh]=jt(f,255),EN[c-eh]=jt(f+8>>4,15);dy=1}return 1}function ct(c){var f=c.ma,y=c.U,A=c.T;return e(!(1&c.ka)),0>=y||0>=A?0:(y=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,y),f.Dc+=y,1)}function wn(c){c.ma.memory=null}function Xi(c,f,y,A){return _e(c,8)!=47?0:(f[0]=_e(c,14)+1,y[0]=_e(c,14)+1,A[0]=_e(c,1),_e(c,3)!=0?0:!c.h)}function mr(c,f){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+_e(f,y)+1}function gr(c,f){return 120<f?f-120:1<=(y=((y=sN[f-1])>>4)*c+(8-(15&y)))?y:1;var y}function kn(c,f,y){var A=q(y),O=c[f+=255&A].g-8;return 0<O&&(ie(y,y.u+8),A=q(y),f+=c[f].value,f+=A&(1<<O)-1),ie(y,y.u+c[f].g),c[f].value}function sr(c,f,y){return y.g+=c.g,y.value+=c.value<<f>>>0,e(8>=y.g),c.g}function Tn(c,f,y){var A=c.xc;return e((f=A==0?0:c.vc[c.md*(y>>A)+(f>>A)])<c.Wb),c.Ya[f]}function ga(c,f,y,A){var O=c.ab,B=c.c*f,z=c.C;f=z+f;var $=y,H=A;for(A=c.Ta,y=c.Ua;0<O--;){var Y=c.gc[O],se=z,ge=f,X=$,oe=H,he=(H=A,$=y,Y.Ea);switch(e(se<ge),e(ge<=Y.nc),Y.hc){case 2:Kn(X,oe,(ge-se)*he,H,$);break;case 0:var Ee=se,me=ge,Ne=H,Ie=$,De=(tt=Y).Ea;Ee==0&&(Hc(X,oe,null,null,1,Ne,Ie),ke(X,oe+1,0,0,De-1,Ne,Ie+1),oe+=De,Ie+=De,++Ee);for(var Le=1<<tt.b,st=Le-1,Ge=Re(De,tt.b),Ct=tt.K,tt=tt.w+(Ee>>tt.b)*Ge;Ee<me;){var zt=Ct,cr=tt,Lt=1;for(xu(X,oe,Ne,Ie-De,1,Ne,Ie);Lt<De;){var nt=(Lt&~st)+Le;nt>De&&(nt=De),(0,Kc[zt[cr++]>>8&15])(X,oe+ +Lt,Ne,Ie+Lt-De,nt-Lt,Ne,Ie+Lt),Lt=nt}oe+=De,Ie+=De,++Ee&st||(tt+=Ge)}ge!=Y.nc&&r(H,$-he,H,$+(ge-se-1)*he,he);break;case 1:for(he=X,me=oe,De=(X=Y.Ea)-(Ie=X&~(Ne=(oe=1<<Y.b)-1)),Ee=Re(X,Y.b),Le=Y.K,Y=Y.w+(se>>Y.b)*Ee;se<ge;){for(st=Le,Ge=Y,Ct=new wt,tt=me+Ie,zt=me+X;me<tt;)qe(st[Ge++],Ct),Qc(Ct,he,me,oe,H,$),me+=oe,$+=oe;me<zt&&(qe(st[Ge++],Ct),Qc(Ct,he,me,De,H,$),me+=De,$+=De),++se&Ne||(Y+=Ee)}break;case 3:if(X==H&&oe==$&&0<Y.b){for(me=H,X=he=$+(ge-se)*he-(Ie=(ge-se)*Re(Y.Ea,Y.b)),oe=H,Ne=$,Ee=[],Ie=(De=Ie)-1;0<=Ie;--Ie)Ee[Ie]=oe[Ne+Ie];for(Ie=De-1;0<=Ie;--Ie)me[X+Ie]=Ee[Ie];zd(Y,se,ge,H,he,H,$)}else zd(Y,se,ge,X,oe,H,$)}$=A,H=y}H!=y&&r(A,y,$,H,B)}function Us(c,f){var y=c.V,A=c.Ba+c.c*c.C,O=f-c.C;if(e(f<=c.l.o),e(16>=O),0<O){var B=c.l,z=c.Ta,$=c.Ua,H=B.width;if(ga(c,O,y,A),O=$=[$],e((y=c.C)<(A=f)),e(B.v<B.va),A>B.o&&(A=B.o),y<B.j){var Y=B.j-y;y=B.j,O[0]+=Y*H}if(y>=A?y=0:(O[0]+=4*B.v,B.ka=y-B.j,B.U=B.va-B.v,B.T=A-y,y=1),y){if($=$[0],11>(y=c.ca).S){var se=y.f.RGBA,ge=(A=y.S,O=B.U,B=B.T,Y=se.eb,se.A),X=B;for(se=se.fb+c.Ma*se.A;0<X--;){var oe=z,he=$,Ee=O,me=Y,Ne=se;switch(A){case Wd:Jc(oe,he,Ee,me,Ne);break;case Hd:vo(oe,he,Ee,me,Ne);break;case Km:vo(oe,he,Ee,me,Ne),Xc(me,Ne,0,Ee,1,0);break;case ry:jl(oe,he,Ee,me,Ne);break;case Gd:ht(oe,he,Ee,me,Ne,1);break;case Qm:ht(oe,he,Ee,me,Ne,1),Xc(me,Ne,0,Ee,1,0);break;case Kd:ht(oe,he,Ee,me,Ne,0);break;case Qd:ht(oe,he,Ee,me,Ne,0),Xc(me,Ne,1,Ee,1,0);break;case Gm:yo(oe,he,Ee,me,Ne);break;case Jm:yo(oe,he,Ee,me,Ne),Q2(me,Ne,Ee,1,0);break;case iy:_o(oe,he,Ee,me,Ne);break;default:e(0)}$+=H,se+=ge}c.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=f,e(c.C<=c.i)}function Fr(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var y=c.Ya[f].G,A=c.Ya[f].H;if(0<y[1][A[1]+0].g||0<y[2][A[2]+0].g||0<y[3][A[3]+0].g)return 0}return 1}function Ni(c,f,y,A,O,B){if(c.Z!=0){var z=c.qd,$=c.rd;for(e(xo[c.Z]!=null);f<y;++f)xo[c.Z](z,$,A,O,A,O,B),z=A,$=O,O+=B;c.qd=z,c.rd=$}}function ni(c,f){var y=c.l.ma,A=y.Z==0||y.Z==1?c.l.j:c.C;if(A=c.C<A?A:c.C,e(f<=c.l.o),f>A){var O=c.l.width,B=y.ca,z=y.tb+O*A,$=c.V,H=c.Ba+c.c*A,Y=c.gc;e(c.ab==1),e(Y[0].hc==3),Zs(Y[0],A,f,$,H,B,z),Ni(y,A,f,B,z,O)}c.C=c.Ma=f}function Vr(c,f,y,A,O,B,z){var $=c.$/A,H=c.$%A,Y=c.m,se=c.s,ge=y+c.$,X=ge;O=y+A*O;var oe=y+A*B,he=280+se.ua,Ee=c.Pb?$:16777216,me=0<se.ua?se.Wa:null,Ne=se.wc,Ie=ge<oe?Tn(se,H,$):null;e(c.C<B),e(oe<=O);var De=!1;e:for(;;){for(;De||ge<oe;){var Le=0;if($>=Ee){var st=ge-y;e((Ee=c).Pb),Ee.wd=Ee.m,Ee.xd=st,0<Ee.s.ua&&Tt(Ee.s.Wa,Ee.s.vb),Ee=$+oN}if(H&Ne||(Ie=Tn(se,H,$)),e(Ie!=null),Ie.Qb&&(f[ge]=Ie.qb,De=!0),!De)if(ae(Y),Ie.jc){Le=Y,st=f;var Ge=ge,Ct=Ie.pd[q(Le)&Rl-1];e(Ie.jc),256>Ct.g?(ie(Le,Le.u+Ct.g),st[Ge]=Ct.value,Le=0):(ie(Le,Le.u+Ct.g-256),e(256<=Ct.value),Le=Ct.value),Le==0&&(De=!0)}else Le=kn(Ie.G[0],Ie.H[0],Y);if(Y.h)break;if(De||256>Le){if(!De)if(Ie.nd)f[ge]=(Ie.qb|Le<<8)>>>0;else{if(ae(Y),De=kn(Ie.G[1],Ie.H[1],Y),ae(Y),st=kn(Ie.G[2],Ie.H[2],Y),Ge=kn(Ie.G[3],Ie.H[3],Y),Y.h)break;f[ge]=(Ge<<24|De<<16|Le<<8|st)>>>0}if(De=!1,++ge,++H>=A&&(H=0,++$,z!=null&&$<=B&&!($%16)&&z(c,$),me!=null))for(;X<ge;)Le=f[X++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le}else if(280>Le){if(Le=mr(Le-256,Y),st=kn(Ie.G[4],Ie.H[4],Y),ae(Y),st=gr(A,st=mr(st,Y)),Y.h)break;if(ge-y<st||O-ge<Le)break e;for(Ge=0;Ge<Le;++Ge)f[ge+Ge]=f[ge+Ge-st];for(ge+=Le,H+=Le;H>=A;)H-=A,++$,z!=null&&$<=B&&!($%16)&&z(c,$);if(e(ge<=O),H&Ne&&(Ie=Tn(se,H,$)),me!=null)for(;X<ge;)Le=f[X++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le}else{if(!(Le<he))break e;for(De=Le-280,e(me!=null);X<ge;)Le=f[X++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le;Le=ge,e(!(De>>>(st=me).Xa)),f[Le]=st.X[De],De=!0}De||e(Y.h==Q(Y))}if(c.Pb&&Y.h&&ge<O)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Tt(c.s.vb,c.s.Wa);else{if(Y.h)break e;z!=null&&z(c,$>B?B:$),c.a=0,c.$=ge-y}return 1}return c.a=3,0}function Gn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function Bs(){var c=new Ze;return c==null?null:(c.a=0,c.xb=oy,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),Kn=rt,Qc=ot,Jc=mt,vo=ft,yo=ze,_o=lt,jl=Jt,N.VP8LMapColor32b=Xs,N.VP8LMapColor8b=Gc,c)}function Ii(c,f,y,A,O){var B=1,z=[c],$=[f],H=A.m,Y=A.s,se=null,ge=0;e:for(;;){if(y)for(;B&&_e(H,1);){var X=z,oe=$,he=A,Ee=1,me=he.m,Ne=he.gc[he.ab],Ie=_e(me,2);if(he.Oc&1<<Ie)B=0;else{switch(he.Oc|=1<<Ie,Ne.hc=Ie,Ne.Ea=X[0],Ne.nc=oe[0],Ne.K=[null],++he.ab,e(4>=he.ab),Ie){case 0:case 1:Ne.b=_e(me,3)+2,Ee=Ii(Re(Ne.Ea,Ne.b),Re(Ne.nc,Ne.b),0,he,Ne.K),Ne.K=Ne.K[0];break;case 3:var De,Le=_e(me,8)+1,st=16<Le?0:4<Le?1:2<Le?2:3;if(X[0]=Re(Ne.Ea,st),Ne.b=st,De=Ee=Ii(Le,1,0,he,Ne.K)){var Ge,Ct=Le,tt=Ne,zt=1<<(8>>tt.b),cr=s(zt);if(cr==null)De=0;else{var Lt=tt.K[0],nt=tt.w;for(cr[0]=tt.K[0][0],Ge=1;Ge<1*Ct;++Ge)cr[Ge]=Ke(Lt[nt+Ge],cr[Ge-1]);for(;Ge<4*zt;++Ge)cr[Ge]=0;tt.K[0]=null,tt.K[0]=cr,De=1}}Ee=De;break;case 2:break;default:e(0)}B=Ee}}if(z=z[0],$=$[0],B&&_e(H,1)&&!(B=1<=(ge=_e(H,4))&&11>=ge)){A.a=3;break e}var Be;if(Be=B)t:{var Jn,Pt,Wt,bn=A,Ir=z,si=$,zn=ge,Br=y,ai=bn.m,hr=bn.s,Kt=[null],sn=1,qn=0,an=aN[zn];n:for(;;){if(Br&&_e(ai,1)){var kr=_e(ai,3)+2,bs=Re(Ir,kr),Yn=Re(si,kr),gi=bs*Yn;if(!Ii(bs,Yn,0,bn,Kt))break n;for(Kt=Kt[0],hr.xc=kr,Jn=0;Jn<gi;++Jn){var fn=Kt[Jn]>>8&65535;Kt[Jn]=fn,fn>=sn&&(sn=fn+1)}}if(ai.h)break n;for(Pt=0;5>Pt;++Pt){var dr=sy[Pt];!Pt&&0<zn&&(dr+=1<<zn),qn<dr&&(qn=dr)}var Di=a(sn*an,P),oi=sn,Oi=a(oi,de);if(Oi==null)var Mi=null;else e(65536>=oi),Mi=Oi;var vi=s(qn);if(Mi==null||vi==null||Di==null){bn.a=1;break n}var Fi=Di;for(Jn=Wt=0;Jn<sn;++Jn){var vn=Mi[Jn],Vi=vn.G,xs=vn.H,Ol=0,ka=1,Tr=0;for(Pt=0;5>Pt;++Pt){dr=sy[Pt],Vi[Pt]=Fi,xs[Pt]=Wt,!Pt&&0<zn&&(dr+=1<<zn);i:{var Zd,eg=dr,ef=bn,th=vi,IN=Fi,kN=Wt,tg=0,Ao=ef.m,TN=_e(Ao,1);if(i(th,0,0,eg),TN){var PN=_e(Ao,1)+1,CN=_e(Ao,1),my=_e(Ao,CN==0?1:8);th[my]=1,PN==2&&(th[my=_e(Ao,8)]=1);var tf=1}else{var gy=s(19),vy=_e(Ao,4)+4;if(19<vy){ef.a=3;var nf=0;break i}for(Zd=0;Zd<vy;++Zd)gy[iN[Zd]]=_e(Ao,3);var ng=void 0,nh=void 0,yy=ef,LN=gy,rf=eg,_y=th,rg=0,Eo=yy.m,wy=8,by=a(128,P);r:for(;E(by,0,7,LN,19);){if(_e(Eo,1)){var RN=2+2*_e(Eo,3);if((ng=2+_e(Eo,RN))>rf)break r}else ng=rf;for(nh=0;nh<rf&&ng--;){ae(Eo);var xy=by[0+(127&q(Eo))];ie(Eo,Eo.u+xy.g);var Eu=xy.value;if(16>Eu)_y[nh++]=Eu,Eu!=0&&(wy=Eu);else{var jN=Eu==16,Ay=Eu-16,DN=nN[Ay],Ey=_e(Eo,tN[Ay])+DN;if(nh+Ey>rf)break r;for(var ON=jN?wy:0;0<Ey--;)_y[nh++]=ON}}rg=1;break r}rg||(yy.a=3),tf=rg}(tf=tf&&!Ao.h)&&(tg=E(IN,kN,8,th,eg)),tf&&tg!=0?nf=tg:(ef.a=3,nf=0)}if(nf==0)break n;if(ka&&rN[Pt]==1&&(ka=Fi[Wt].g==0),Ol+=Fi[Wt].g,Wt+=nf,3>=Pt){var rh,ig=vi[0];for(rh=1;rh<dr;++rh)vi[rh]>ig&&(ig=vi[rh]);Tr+=ig}}if(vn.nd=ka,vn.Qb=0,ka&&(vn.qb=(Vi[3][xs[3]+0].value<<24|Vi[1][xs[1]+0].value<<16|Vi[2][xs[2]+0].value)>>>0,Ol==0&&256>Vi[0][xs[0]+0].value&&(vn.Qb=1,vn.qb+=Vi[0][xs[0]+0].value<<8)),vn.jc=!vn.Qb&&6>Tr,vn.jc){var sf,Ta=vn;for(sf=0;sf<Rl;++sf){var So=sf,No=Ta.pd[So],af=Ta.G[0][Ta.H[0]+So];256<=af.value?(No.g=af.g+256,No.value=af.value):(No.g=0,No.value=0,So>>=sr(af,8,No),So>>=sr(Ta.G[1][Ta.H[1]+So],16,No),So>>=sr(Ta.G[2][Ta.H[2]+So],0,No),sr(Ta.G[3][Ta.H[3]+So],24,No))}}}hr.vc=Kt,hr.Wb=sn,hr.Ya=Mi,hr.yc=Di,Be=1;break t}Be=0}if(!(B=Be)){A.a=3;break e}if(0<ge){if(Y.ua=1<<ge,!ee(Y.Wa,ge)){A.a=1,B=0;break e}}else Y.ua=0;var sg=A,Sy=z,MN=$,ag=sg.s,og=ag.xc;if(sg.c=Sy,sg.i=MN,ag.md=Re(Sy,og),ag.wc=og==0?-1:(1<<og)-1,y){A.xb=pN;break e}if((se=s(z*$))==null){A.a=1,B=0;break e}B=(B=Vr(A,se,0,z,$,$,null))&&!H.h;break e}return B?(O!=null?O[0]=se:(e(se==null),e(y)),A.$=0,y||Gn(Y)):Gn(Y),B}function ps(c,f){var y=c.c*c.i,A=y+f+16*f;return e(c.c<=f),c.V=s(A),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+f,1)}function zs(c,f){var y=c.C,A=f-y,O=c.V,B=c.Ba+c.c*y;for(e(f<=c.l.o);0<A;){var z=16<A?16:A,$=c.l.ma,H=c.l.width,Y=H*z,se=$.ca,ge=$.tb+H*y,X=c.Ta,oe=c.Ua;ga(c,z,O,B),Y2(X,oe,se,ge,Y),Ni($,y,y+z,se,ge,H),A-=z,O+=z*c.c,y+=z}e(y==f),c.C=c.Ma=f}function va(){this.ub=this.yd=this.td=this.Rb=0}function ya(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function qs(){this.Yb=function(){var c=[];return function f(y,A,O){for(var B=O[A],z=0;z<B&&(y.push(O.length>A+1?[]:0),!(O.length<A+1));z++)f(y[z],A+1,O)}(c,0,[3,11]),c}()}function yl(){this.jb=s(3),this.Wc=o([4,8],qs),this.Xc=o([4,17],qs)}function io(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function ki(){this.Na=this.la=0}function so(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _l(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wl(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new _l),this.aa=0,this.l=new $s}function bl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function xl(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new va,this.Kc=new ya,this.ed=new io,this.Qa=new Mc,this.Ic=this.$c=this.Aa=0,this.D=new wl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,so),this.Pa=new yl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bl),this.Hd=0,this.rb=Array(new ki),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _l),this.L=this.aa=0,this.gd=o([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $s(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Al(){var c=new xl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Zc||(Zc=ms)),c}function Ln(c,f,y){return c.a==0&&(c.a=f,c.sc=y,c.cb=0),0}function El(c,f,y){return 3<=y&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function _u(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return Ln(c,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,A=f.w,O=f.ha;if(4>O)return Ln(c,7,"Truncated header.");var B=y[A+0]|y[A+1]<<8|y[A+2]<<16,z=c.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return Ln(c,3,"Incorrect keyframe parameters.");if(!z.yd)return Ln(c,4,"Frame not displayable.");A+=3,O-=3;var $=c.Kc;if(z.Rb){if(7>O)return Ln(c,7,"cannot parse picture header");if(!El(y,A,O))return Ln(c,3,"Bad code word");$.c=16383&(y[A+4]<<8|y[A+3]),$.Td=y[A+4]>>6,$.i=16383&(y[A+6]<<8|y[A+5]),$.Ud=y[A+6]>>6,A+=7,O-=7,c.za=$.c+15>>4,c.Ub=$.i+15>>4,f.width=$.c,f.height=$.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((B=c.Pa).jb,0,255,B.jb.length),e((B=c.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(z.ub>O)return Ln(c,7,"bad partition length");ye(B=c.m,y,A,z.ub),A+=z.ub,O-=z.ub,z.Rb&&($.Ld=we(B),$.Kd=we(B)),$=c.Qa;var H,Y=c.Pa;if(e(B!=null),e($!=null),$.Cb=we(B),$.Cb){if($.Bb=we(B),we(B)){for($.Fb=we(B),H=0;4>H;++H)$.Zb[H]=we(B)?Z(B,7):0;for(H=0;4>H;++H)$.Lb[H]=we(B)?Z(B,6):0}if($.Bb)for(H=0;3>H;++H)Y.jb[H]=we(B)?fe(B,8):255}else $.Bb=0;if(B.Ka)return Ln(c,3,"cannot parse segment header");if(($=c.ed).zd=we(B),$.Tb=fe(B,6),$.wb=fe(B,3),$.Pc=we(B),$.Pc&&we(B)){for(Y=0;4>Y;++Y)we(B)&&($.vd[Y]=Z(B,6));for(Y=0;4>Y;++Y)we(B)&&($.od[Y]=Z(B,6))}if(c.L=$.Tb==0?0:$.zd?1:2,B.Ka)return Ln(c,3,"cannot parse filter header");var se=O;if(O=H=A,A=H+se,$=se,c.Xb=(1<<fe(c.m,2))-1,se<3*(Y=c.Xb))y=7;else{for(H+=3*Y,$-=3*Y,se=0;se<Y;++se){var ge=y[O+0]|y[O+1]<<8|y[O+2]<<16;ge>$&&(ge=$),ye(c.Jc[+se],y,H,ge),H+=ge,$-=ge,O+=3}ye(c.Jc[+Y],y,H,$),y=H<A?0:5}if(y!=0)return Ln(c,y,"cannot parse partitions");for(y=fe(H=c.m,7),O=we(H)?Z(H,4):0,A=we(H)?Z(H,4):0,$=we(H)?Z(H,4):0,Y=we(H)?Z(H,4):0,H=we(H)?Z(H,4):0,se=c.Qa,ge=0;4>ge;++ge){if(se.Cb){var X=se.Zb[ge];se.Fb||(X+=y)}else{if(0<ge){c.pb[ge]=c.pb[0];continue}X=y}var oe=c.pb[ge];oe.Sc[0]=Ym[jt(X+O,127)],oe.Sc[1]=Xm[jt(X+0,127)],oe.Eb[0]=2*Ym[jt(X+A,127)],oe.Eb[1]=101581*Xm[jt(X+$,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=Ym[jt(X+Y,117)],oe.Qc[1]=Xm[jt(X+H,127)],oe.lc=X+H}if(!z.Rb)return Ln(c,4,"Not a key frame.");for(we(B),z=c.Pa,y=0;4>y;++y){for(O=0;8>O;++O)for(A=0;3>A;++A)for($=0;11>$;++$)Y=xe(B,dN[y][O][A][$])?fe(B,8):cN[y][O][A][$],z.Wc[y][O].Yb[A][$]=Y;for(O=0;17>O;++O)z.Xc[y][O]=z.Wc[y][fN[O]]}return c.kc=we(B),c.kc&&(c.Bd=fe(B,8)),c.cb=1}function ms(c,f,y,A,O,B,z){var $=f[O].Yb[y];for(y=0;16>O;++O){if(!xe(c,$[y+0]))return O;for(;!xe(c,$[y+1]);)if($=f[++O].Yb[0],y=0,O==16)return 16;var H=f[O+1].Yb;if(xe(c,$[y+2])){var Y=c,se=0;if(xe(Y,(X=$)[(ge=y)+3]))if(xe(Y,X[ge+6])){for($=0,ge=2*(se=xe(Y,X[ge+8]))+(X=xe(Y,X[ge+9+se])),se=0,X=lN[ge];X[$];++$)se+=se+xe(Y,X[$]);se+=3+(8<<ge)}else xe(Y,X[ge+7])?(se=7+2*xe(Y,165),se+=xe(Y,145)):se=5+xe(Y,159);else se=xe(Y,X[ge+4])?3+xe(Y,X[ge+5]):2;$=H[2]}else se=1,$=H[1];H=z+uN[O],0>(Y=c).b&&ve(Y);var ge,X=Y.b,oe=(ge=Y.Ca>>1)-(Y.I>>X)>>31;--Y.b,Y.Ca+=oe,Y.Ca|=1,Y.I-=(ge+1&oe)<<X,B[H]=((se^oe)-oe)*A[(0<O)+0]}return 16}function Ws(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function di(c,f,y,A,O){O=c[f+y+32*A]+(O>>3),c[f+y+32*A]=-256&O?0>O?0:255:O}function _a(c,f,y,A,O,B){di(c,f,0,y,A+O),di(c,f,1,y,A+B),di(c,f,2,y,A-B),di(c,f,3,y,A-O)}function nn(c){return(20091*c>>16)+c}function ri(c,f,y,A){var O,B=0,z=s(16);for(O=0;4>O;++O){var $=c[f+0]+c[f+8],H=c[f+0]-c[f+8],Y=(35468*c[f+4]>>16)-nn(c[f+12]),se=nn(c[f+4])+(35468*c[f+12]>>16);z[B+0]=$+se,z[B+1]=H+Y,z[B+2]=H-Y,z[B+3]=$-se,B+=4,f++}for(O=B=0;4>O;++O)$=(c=z[B+0]+4)+z[B+8],H=c-z[B+8],Y=(35468*z[B+4]>>16)-nn(z[B+12]),di(y,A,0,0,$+(se=nn(z[B+4])+(35468*z[B+12]>>16))),di(y,A,1,0,H+Y),di(y,A,2,0,H-Y),di(y,A,3,0,$-se),B++,A+=32}function ao(c,f,y,A){var O=c[f+0]+4,B=35468*c[f+4]>>16,z=nn(c[f+4]),$=35468*c[f+1]>>16;_a(y,A,0,O+z,c=nn(c[f+1]),$),_a(y,A,1,O+B,c,$),_a(y,A,2,O-B,c,$),_a(y,A,3,O-z,c,$)}function oo(c,f,y,A,O){ri(c,f,y,A),O&&ri(c,f+16,y,A+4)}function wu(c,f,y,A){Dl(c,f+0,y,A,1),Dl(c,f+32,y,A+128,1)}function Vt(c,f,y,A){var O;for(c=c[f+0]+4,O=0;4>O;++O)for(f=0;4>f;++f)di(y,A,f,O,c)}function wa(c,f,y,A){c[f+0]&&en(c,f+0,y,A),c[f+16]&&en(c,f+16,y,A+4),c[f+32]&&en(c,f+32,y,A+128),c[f+48]&&en(c,f+48,y,A+128+4)}function Hs(c,f,y,A){var O,B=s(16);for(O=0;4>O;++O){var z=c[f+0+O]+c[f+12+O],$=c[f+4+O]+c[f+8+O],H=c[f+4+O]-c[f+8+O],Y=c[f+0+O]-c[f+12+O];B[0+O]=z+$,B[8+O]=z-$,B[4+O]=Y+H,B[12+O]=Y-H}for(O=0;4>O;++O)z=(c=B[0+4*O]+3)+B[3+4*O],$=B[1+4*O]+B[2+4*O],H=B[1+4*O]-B[2+4*O],Y=c-B[3+4*O],y[A+0]=z+$>>3,y[A+16]=Y+H>>3,y[A+32]=z-$>>3,y[A+48]=Y-H>>3,A+=64}function fi(c,f,y){var A,O=f-32,B=ji,z=255-c[O-1];for(A=0;A<y;++A){var $,H=B,Y=z+c[f-1];for($=0;$<y;++$)c[f+$]=H[Y+c[O+$]];f+=32}}function Sl(c,f){fi(c,f,4)}function bu(c,f){fi(c,f,8)}function Fc(c,f){fi(c,f,16)}function Vc(c,f){var y;for(y=0;16>y;++y)r(c,f+32*y,c,f-32,16)}function Nl(c,f){var y;for(y=16;0<y;--y)i(c,f,c[f-1],16),f+=32}function ba(c,f,y){var A;for(A=0;16>A;++A)i(f,y+32*A,c,16)}function pi(c,f){var y,A=16;for(y=0;16>y;++y)A+=c[f-1+32*y]+c[f+y-32];ba(A>>5,c,f)}function Zi(c,f){var y,A=8;for(y=0;16>y;++y)A+=c[f-1+32*y];ba(A>>4,c,f)}function Gs(c,f){var y,A=8;for(y=0;16>y;++y)A+=c[f+y-32];ba(A>>4,c,f)}function lo(c,f){ba(128,c,f)}function vt(c,f,y){return c+2*f+y+2>>2}function Ks(c,f){var y,A=f-32;for(A=new Uint8Array([vt(c[A-1],c[A+0],c[A+1]),vt(c[A+0],c[A+1],c[A+2]),vt(c[A+1],c[A+2],c[A+3]),vt(c[A+2],c[A+3],c[A+4])]),y=0;4>y;++y)r(c,f+32*y,A,0,A.length)}function Uc(c,f){var y=c[f-1],A=c[f-1+32],O=c[f-1+64],B=c[f-1+96];Te(c,f+0,16843009*vt(c[f-1-32],y,A)),Te(c,f+32,16843009*vt(y,A,O)),Te(c,f+64,16843009*vt(A,O,B)),Te(c,f+96,16843009*vt(O,B,B))}function Bc(c,f){var y,A=4;for(y=0;4>y;++y)A+=c[f+y-32]+c[f-1+32*y];for(A>>=3,y=0;4>y;++y)i(c,f+32*y,A,4)}function zc(c,f){var y=c[f-1+0],A=c[f-1+32],O=c[f-1+64],B=c[f-1-32],z=c[f+0-32],$=c[f+1-32],H=c[f+2-32],Y=c[f+3-32];c[f+0+96]=vt(A,O,c[f-1+96]),c[f+1+96]=c[f+0+64]=vt(y,A,O),c[f+2+96]=c[f+1+64]=c[f+0+32]=vt(B,y,A),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=vt(z,B,y),c[f+3+64]=c[f+2+32]=c[f+1+0]=vt($,z,B),c[f+3+32]=c[f+2+0]=vt(H,$,z),c[f+3+0]=vt(Y,H,$)}function yr(c,f){var y=c[f+1-32],A=c[f+2-32],O=c[f+3-32],B=c[f+4-32],z=c[f+5-32],$=c[f+6-32],H=c[f+7-32];c[f+0+0]=vt(c[f+0-32],y,A),c[f+1+0]=c[f+0+32]=vt(y,A,O),c[f+2+0]=c[f+1+32]=c[f+0+64]=vt(A,O,B),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=vt(O,B,z),c[f+3+32]=c[f+2+64]=c[f+1+96]=vt(B,z,$),c[f+3+64]=c[f+2+96]=vt(z,$,H),c[f+3+96]=vt($,H,H)}function gs(c,f){var y=c[f-1+0],A=c[f-1+32],O=c[f-1+64],B=c[f-1-32],z=c[f+0-32],$=c[f+1-32],H=c[f+2-32],Y=c[f+3-32];c[f+0+0]=c[f+1+64]=B+z+1>>1,c[f+1+0]=c[f+2+64]=z+$+1>>1,c[f+2+0]=c[f+3+64]=$+H+1>>1,c[f+3+0]=H+Y+1>>1,c[f+0+96]=vt(O,A,y),c[f+0+64]=vt(A,y,B),c[f+0+32]=c[f+1+96]=vt(y,B,z),c[f+1+32]=c[f+2+96]=vt(B,z,$),c[f+2+32]=c[f+3+96]=vt(z,$,H),c[f+3+32]=vt($,H,Y)}function qc(c,f){var y=c[f+0-32],A=c[f+1-32],O=c[f+2-32],B=c[f+3-32],z=c[f+4-32],$=c[f+5-32],H=c[f+6-32],Y=c[f+7-32];c[f+0+0]=y+A+1>>1,c[f+1+0]=c[f+0+64]=A+O+1>>1,c[f+2+0]=c[f+1+64]=O+B+1>>1,c[f+3+0]=c[f+2+64]=B+z+1>>1,c[f+0+32]=vt(y,A,O),c[f+1+32]=c[f+0+96]=vt(A,O,B),c[f+2+32]=c[f+1+96]=vt(O,B,z),c[f+3+32]=c[f+2+96]=vt(B,z,$),c[f+3+64]=vt(z,$,H),c[f+3+96]=vt($,H,Y)}function uo(c,f){var y=c[f-1+0],A=c[f-1+32],O=c[f-1+64],B=c[f-1+96];c[f+0+0]=y+A+1>>1,c[f+2+0]=c[f+0+32]=A+O+1>>1,c[f+2+32]=c[f+0+64]=O+B+1>>1,c[f+1+0]=vt(y,A,O),c[f+3+0]=c[f+1+32]=vt(A,O,B),c[f+3+32]=c[f+1+64]=vt(O,B,B),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=B}function vs(c,f){var y=c[f-1+0],A=c[f-1+32],O=c[f-1+64],B=c[f-1+96],z=c[f-1-32],$=c[f+0-32],H=c[f+1-32],Y=c[f+2-32];c[f+0+0]=c[f+2+32]=y+z+1>>1,c[f+0+32]=c[f+2+64]=A+y+1>>1,c[f+0+64]=c[f+2+96]=O+A+1>>1,c[f+0+96]=B+O+1>>1,c[f+3+0]=vt($,H,Y),c[f+2+0]=vt(z,$,H),c[f+1+0]=c[f+3+32]=vt(y,z,$),c[f+1+32]=c[f+3+64]=vt(A,y,z),c[f+1+64]=c[f+3+96]=vt(O,A,y),c[f+1+96]=vt(B,O,A)}function co(c,f){var y;for(y=0;8>y;++y)r(c,f+32*y,c,f-32,8)}function Ti(c,f){var y;for(y=0;8>y;++y)i(c,f,c[f-1],8),f+=32}function es(c,f,y){var A;for(A=0;8>A;++A)i(f,y+32*A,c,8)}function xa(c,f){var y,A=8;for(y=0;8>y;++y)A+=c[f+y-32]+c[f-1+32*y];es(A>>4,c,f)}function Il(c,f){var y,A=4;for(y=0;8>y;++y)A+=c[f+y-32];es(A>>3,c,f)}function hn(c,f){var y,A=4;for(y=0;8>y;++y)A+=c[f-1+32*y];es(A>>3,c,f)}function kl(c,f){es(128,c,f)}function Aa(c,f,y){var A=c[f-y],O=c[f+0],B=3*(O-A)+Hm[1020+c[f-2*y]-c[f+y]],z=$d[112+(B+4>>3)];c[f-y]=ji[255+A+$d[112+(B+3>>3)]],c[f+0]=ji[255+O-z]}function Qs(c,f,y,A){var O=c[f+0],B=c[f+y];return rs[255+c[f-2*y]-c[f-y]]>A||rs[255+B-O]>A}function ho(c,f,y,A){return 4*rs[255+c[f-y]-c[f+0]]+rs[255+c[f-2*y]-c[f+y]]<=A}function Ea(c,f,y,A,O){var B=c[f-3*y],z=c[f-2*y],$=c[f-y],H=c[f+0],Y=c[f+y],se=c[f+2*y],ge=c[f+3*y];return 4*rs[255+$-H]+rs[255+z-Y]>A?0:rs[255+c[f-4*y]-B]<=O&&rs[255+B-z]<=O&&rs[255+z-$]<=O&&rs[255+ge-se]<=O&&rs[255+se-Y]<=O&&rs[255+Y-H]<=O}function Js(c,f,y,A){var O=2*A+1;for(A=0;16>A;++A)ho(c,f+A,y,O)&&Aa(c,f+A,y)}function Ys(c,f,y,A){var O=2*A+1;for(A=0;16>A;++A)ho(c,f+A*y,1,O)&&Aa(c,f+A*y,1)}function mi(c,f,y,A){var O;for(O=3;0<O;--O)Js(c,f+=4*y,y,A)}function Tl(c,f,y,A){var O;for(O=3;0<O;--O)Ys(c,f+=4,y,A)}function ys(c,f,y,A,O,B,z,$){for(B=2*B+1;0<O--;){if(Ea(c,f,y,B,z))if(Qs(c,f,y,$))Aa(c,f,y);else{var H=c,Y=f,se=y,ge=H[Y-2*se],X=H[Y-se],oe=H[Y+0],he=H[Y+se],Ee=H[Y+2*se],me=27*(Ie=Hm[1020+3*(oe-X)+Hm[1020+ge-he]])+63>>7,Ne=18*Ie+63>>7,Ie=9*Ie+63>>7;H[Y-3*se]=ji[255+H[Y-3*se]+Ie],H[Y-2*se]=ji[255+ge+Ne],H[Y-se]=ji[255+X+me],H[Y+0]=ji[255+oe-me],H[Y+se]=ji[255+he-Ne],H[Y+2*se]=ji[255+Ee-Ie]}f+=A}}function ii(c,f,y,A,O,B,z,$){for(B=2*B+1;0<O--;){if(Ea(c,f,y,B,z))if(Qs(c,f,y,$))Aa(c,f,y);else{var H=c,Y=f,se=y,ge=H[Y-se],X=H[Y+0],oe=H[Y+se],he=$d[112+(4+(Ee=3*(X-ge))>>3)],Ee=$d[112+(Ee+3>>3)],me=he+1>>1;H[Y-2*se]=ji[255+H[Y-2*se]+me],H[Y-se]=ji[255+ge+Ee],H[Y+0]=ji[255+X-he],H[Y+se]=ji[255+oe-me]}f+=A}}function Pl(c,f,y,A,O,B){ys(c,f,y,1,16,A,O,B)}function fo(c,f,y,A,O,B){ys(c,f,1,y,16,A,O,B)}function ts(c,f,y,A,O,B){var z;for(z=3;0<z;--z)ii(c,f+=4*y,y,1,16,A,O,B)}function Cl(c,f,y,A,O,B){var z;for(z=3;0<z;--z)ii(c,f+=4,1,y,16,A,O,B)}function v(c,f,y,A,O,B,z,$){ys(c,f,O,1,8,B,z,$),ys(y,A,O,1,8,B,z,$)}function D(c,f,y,A,O,B,z,$){ys(c,f,1,O,8,B,z,$),ys(y,A,1,O,8,B,z,$)}function J(c,f,y,A,O,B,z,$){ii(c,f+4*O,O,1,8,B,z,$),ii(y,A+4*O,O,1,8,B,z,$)}function re(c,f,y,A,O,B,z,$){ii(c,f+4,1,O,8,B,z,$),ii(y,A+4,1,O,8,B,z,$)}function ue(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ce(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $e(){this.ua=0,this.Wa=new _t,this.vb=new _t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new P}function Ze(){this.xb=this.a=0,this.l=new $s,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $e,this.ab=0,this.gc=a(4,Ce),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $s,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bt(c,f,y,A,O,B,z){for(c=c==null?0:c[f+0],f=0;f<z;++f)O[B+f]=c+y[A+f]&255,c=O[B+f]}function $t(c,f,y,A,O,B,z){var $;if(c==null)bt(null,null,y,A,O,B,z);else for($=0;$<z;++$)O[B+$]=c[f+$]+y[A+$]&255}function Zt(c,f,y,A,O,B,z){if(c==null)bt(null,null,y,A,O,B,z);else{var $,H=c[f+0],Y=H,se=H;for($=0;$<z;++$)Y=se+(H=c[f+$])-Y,se=y[A+$]+(-256&Y?0>Y?0:255:Y)&255,Y=H,O[B+$]=se}}function Rn(c,f,y,A){var O=f.width,B=f.o;if(e(c!=null&&f!=null),0>y||0>=A||y+A>B)return null;if(!c.Cc){if(c.ga==null){var z;if(c.ga=new pt,(z=c.ga==null)||(z=f.width*f.o,e(c.Gb.length==0),c.Gb=s(z),c.Uc=0,c.Gb==null?z=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,z=1),z=!z),!z){z=c.ga;var $=c.Fa,H=c.P,Y=c.qc,se=c.mb,ge=c.nb,X=H+1,oe=Y-1,he=z.l;if(e($!=null&&se!=null&&f!=null),xo[0]=null,xo[1]=bt,xo[2]=$t,xo[3]=Zt,z.ca=se,z.tb=ge,z.c=f.width,z.i=f.height,e(0<z.c&&0<z.i),1>=Y)f=0;else if(z.$a=3&$[H+0],z.Z=$[H+0]>>2&3,z.Lc=$[H+0]>>4&3,H=$[H+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||H)f=0;else if(he.put=ct,he.ac=Mr,he.bc=wn,he.ma=z,he.width=f.width,he.height=f.height,he.Da=f.Da,he.v=f.v,he.va=f.va,he.j=f.j,he.o=f.o,z.$a)e:{e(z.$a==1),f=Bs();t:for(;;){if(f==null){f=0;break e}if(e(z!=null),z.mc=f,f.c=z.c,f.i=z.i,f.l=z.l,f.l.ma=z,f.l.width=z.c,f.l.height=z.i,f.a=0,G(f.m,$,X,oe),!Ii(z.c,z.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Fr(f.s)?(z.ic=1,$=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s($),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(z.ic=0,f=ps(f,z.c)),!f))break t;f=1;break e}z.mc=null,f=0}else f=oe>=z.c*z.i;z=!f}if(z)return null;c.ga.Lc!=1?c.Ga=0:A=B-y}e(c.ga!=null),e(y+A<=B);e:{if(f=($=c.ga).c,B=$.l.o,$.$a==0){if(X=c.rc,oe=c.Vc,he=c.Fa,H=c.P+1+y*f,Y=c.mb,se=c.nb+y*f,e(H<=c.P+c.qc),$.Z!=0)for(e(xo[$.Z]!=null),z=0;z<A;++z)xo[$.Z](X,oe,he,H,Y,se,f),X=Y,oe=se,se+=f,H+=f;else for(z=0;z<A;++z)r(Y,se,he,H,f),X=Y,oe=se,se+=f,H+=f;c.rc=X,c.Vc=oe}else{if(e($.mc!=null),f=y+A,e((z=$.mc)!=null),e(f<=z.i),z.C>=f)f=1;else if($.ic||mn(),$.ic){$=z.V,X=z.Ba,oe=z.c;var Ee=z.i,me=(he=1,H=z.$/oe,Y=z.$%oe,se=z.m,ge=z.s,z.$),Ne=oe*Ee,Ie=oe*f,De=ge.wc,Le=me<Ie?Tn(ge,Y,H):null;e(me<=Ne),e(f<=Ee),e(Fr(ge));t:for(;;){for(;!se.h&&me<Ie;){if(Y&De||(Le=Tn(ge,Y,H)),e(Le!=null),ae(se),256>(Ee=kn(Le.G[0],Le.H[0],se)))$[X+me]=Ee,++me,++Y>=oe&&(Y=0,++H<=f&&!(H%16)&&ni(z,H));else{if(!(280>Ee)){he=0;break t}Ee=mr(Ee-256,se);var st,Ge=kn(Le.G[4],Le.H[4],se);if(ae(se),!(me>=(Ge=gr(oe,Ge=mr(Ge,se)))&&Ne-me>=Ee)){he=0;break t}for(st=0;st<Ee;++st)$[X+me+st]=$[X+me+st-Ge];for(me+=Ee,Y+=Ee;Y>=oe;)Y-=oe,++H<=f&&!(H%16)&&ni(z,H);me<Ie&&Y&De&&(Le=Tn(ge,Y,H))}e(se.h==Q(se))}ni(z,H>f?f:H);break t}!he||se.h&&me<Ne?(he=0,z.a=se.h?5:3):z.$=me,f=he}else f=Vr(z,z.V,z.Ba,z.c,z.i,f,zs);if(!f){A=0;break e}}y+A>=B&&(c.Cc=1),A=1}if(!A)return null;if(c.Cc&&((A=c.ga)!=null&&(A.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*O}function rn(c,f,y,A,O,B){for(;0<O--;){var z,$=c,H=f+(y?1:0),Y=c,se=f+(y?0:3);for(z=0;z<A;++z){var ge=Y[se+4*z];ge!=255&&(ge*=32897,$[H+4*z+0]=$[H+4*z+0]*ge>>23,$[H+4*z+1]=$[H+4*z+1]*ge>>23,$[H+4*z+2]=$[H+4*z+2]*ge>>23)}f+=B}}function Un(c,f,y,A,O){for(;0<A--;){var B;for(B=0;B<y;++B){var z=c[f+2*B+0],$=15&(Y=c[f+2*B+1]),H=4369*$,Y=(240&Y|Y>>4)*H>>16;c[f+2*B+0]=(240&z|z>>4)*H>>16&240|(15&z|z<<4)*H>>16>>4&15,c[f+2*B+1]=240&Y|$}f+=O}}function jn(c,f,y,A,O,B,z,$){var H,Y,se=255;for(Y=0;Y<O;++Y){for(H=0;H<A;++H){var ge=c[f+H];B[z+4*H]=ge,se&=ge}f+=y,z+=$}return se!=255}function Bn(c,f,y,A,O){var B;for(B=0;B<O;++B)y[A+B]=c[f+B]>>8}function mn(){Xc=rn,Q2=Un,J2=jn,Y2=Bn}function Sr(c,f,y){N[c]=function(A,O,B,z,$,H,Y,se,ge,X,oe,he,Ee,me,Ne,Ie,De){var Le,st=De-1>>1,Ge=$[H+0]|Y[se+0]<<16,Ct=ge[X+0]|oe[he+0]<<16;e(A!=null);var tt=3*Ge+Ct+131074>>2;for(f(A[O+0],255&tt,tt>>16,Ee,me),B!=null&&(tt=3*Ct+Ge+131074>>2,f(B[z+0],255&tt,tt>>16,Ne,Ie)),Le=1;Le<=st;++Le){var zt=$[H+Le]|Y[se+Le]<<16,cr=ge[X+Le]|oe[he+Le]<<16,Lt=Ge+zt+Ct+cr+524296,nt=Lt+2*(zt+Ct)>>3;tt=nt+Ge>>1,Ge=(Lt=Lt+2*(Ge+cr)>>3)+zt>>1,f(A[O+2*Le-1],255&tt,tt>>16,Ee,me+(2*Le-1)*y),f(A[O+2*Le-0],255&Ge,Ge>>16,Ee,me+(2*Le-0)*y),B!=null&&(tt=Lt+Ct>>1,Ge=nt+cr>>1,f(B[z+2*Le-1],255&tt,tt>>16,Ne,Ie+(2*Le-1)*y),f(B[z+2*Le+0],255&Ge,Ge>>16,Ne,Ie+(2*Le+0)*y)),Ge=zt,Ct=cr}1&De||(tt=3*Ge+Ct+131074>>2,f(A[O+De-1],255&tt,tt>>16,Ee,me+(De-1)*y),B!=null&&(tt=3*Ct+Ge+131074>>2,f(B[z+De-1],255&tt,tt>>16,Ne,Ie+(De-1)*y)))}}function Ll(){is[Wd]=mN,is[Hd]=ly,is[ry]=gN,is[Gd]=uy,is[Kd]=cy,is[Gm]=hy,is[iy]=vN,is[Km]=ly,is[Qm]=uy,is[Qd]=cy,is[Jm]=hy}function Pi(c){return c&-16384?0>c?0:255:c>>yN}function h(c,f){return Pi((19077*c>>8)+(26149*f>>8)-14234)}function w(c,f,y){return Pi((19077*c>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function k(c,f){return Pi((19077*c>>8)+(33050*f>>8)-17685)}function W(c,f,y,A,O){A[O+0]=h(c,y),A[O+1]=w(c,f,y),A[O+2]=k(c,f)}function ce(c,f,y,A,O){A[O+0]=k(c,f),A[O+1]=w(c,f,y),A[O+2]=h(c,y)}function be(c,f,y,A,O){var B=w(c,f,y);f=B<<3&224|k(c,f)>>3,A[O+0]=248&h(c,y)|B>>5,A[O+1]=f}function Me(c,f,y,A,O){var B=240&k(c,f)|15;A[O+0]=240&h(c,y)|w(c,f,y)>>4,A[O+1]=B}function Bt(c,f,y,A,O){A[O+0]=255,W(c,f,y,A,O+1)}function Dn(c,f,y,A,O){ce(c,f,y,A,O),A[O+3]=255}function Ot(c,f,y,A,O){W(c,f,y,A,O),A[O+3]=255}function jt(c,f){return 0>c?0:c>f?f:c}function gn(c,f,y){N[c]=function(A,O,B,z,$,H,Y,se,ge){for(var X=se+(-2&ge)*y;se!=X;)f(A[O+0],B[z+0],$[H+0],Y,se),f(A[O+1],B[z+0],$[H+0],Y,se+y),O+=2,++z,++H,se+=2*y;1&ge&&f(A[O+0],B[z+0],$[H+0],Y,se)}}function Ci(c,f,y){return y==0?c==0?f==0?6:5:f==0?4:0:y}function Ur(c,f,y,A,O){switch(c>>>30){case 3:Dl(f,y,A,O,0);break;case 2:ns(f,y,A,O);break;case 1:en(f,y,A,O)}}function Nr(c,f){var y,A,O=f.M,B=f.Nb,z=c.oc,$=c.pc+40,H=c.oc,Y=c.pc+584,se=c.oc,ge=c.pc+600;for(y=0;16>y;++y)z[$+32*y-1]=129;for(y=0;8>y;++y)H[Y+32*y-1]=129,se[ge+32*y-1]=129;for(0<O?z[$-1-32]=H[Y-1-32]=se[ge-1-32]=129:(i(z,$-32-1,127,21),i(H,Y-32-1,127,9),i(se,ge-32-1,127,9)),A=0;A<c.za;++A){var X=f.ya[f.aa+A];if(0<A){for(y=-1;16>y;++y)r(z,$+32*y-4,z,$+32*y+12,4);for(y=-1;8>y;++y)r(H,Y+32*y-4,H,Y+32*y+4,4),r(se,ge+32*y-4,se,ge+32*y+4,4)}var oe=c.Gd,he=c.Hd+A,Ee=X.ad,me=X.Hc;if(0<O&&(r(z,$-32,oe[he].y,0,16),r(H,Y-32,oe[he].f,0,8),r(se,ge-32,oe[he].ea,0,8)),X.Za){var Ne=z,Ie=$-32+16;for(0<O&&(A>=c.za-1?i(Ne,Ie,oe[he].y[15],4):r(Ne,Ie,oe[he+1].y,0,4)),y=0;4>y;y++)Ne[Ie+128+y]=Ne[Ie+256+y]=Ne[Ie+384+y]=Ne[Ie+0+y];for(y=0;16>y;++y,me<<=2)Ne=z,Ie=$+fy[y],ws[X.Ob[y]](Ne,Ie),Ur(me,Ee,16*+y,Ne,Ie)}else if(Ne=Ci(A,O,X.Ob[0]),bo[Ne](z,$),me!=0)for(y=0;16>y;++y,me<<=2)Ur(me,Ee,16*+y,z,$+fy[y]);for(y=X.Gc,Ne=Ci(A,O,X.Dd),Ia[Ne](H,Y),Ia[Ne](se,ge),me=Ee,Ne=H,Ie=Y,255&(X=0|y)&&(170&X?ea(me,256,Ne,Ie):dn(me,256,Ne,Ie)),X=se,me=ge,255&(y>>=8)&&(170&y?ea(Ee,320,X,me):dn(Ee,320,X,me)),O<c.Ub-1&&(r(oe[he].y,0,z,$+480,16),r(oe[he].f,0,H,Y+224,8),r(oe[he].ea,0,se,ge+224,8)),y=8*B*c.B,oe=c.sa,he=c.ta+16*A+16*B*c.R,Ee=c.qa,X=c.ra+8*A+y,me=c.Ha,Ne=c.Ia+8*A+y,y=0;16>y;++y)r(oe,he+y*c.R,z,$+32*y,16);for(y=0;8>y;++y)r(Ee,X+y*c.B,H,Y+32*y,8),r(me,Ne+y*c.B,se,ge+32*y,8)}}function _s(c,f,y,A,O,B,z,$,H){var Y=[0],se=[0],ge=0,X=H!=null?H.kd:0,oe=H??new Se;if(c==null||12>y)return 7;oe.data=c,oe.w=f,oe.ha=y,f=[f],y=[y],oe.gb=[oe.gb];e:{var he=f,Ee=y,me=oe.gb;if(e(c!=null),e(Ee!=null),e(me!=null),me[0]=0,12<=Ee[0]&&!n(c,he[0],"RIFF")){if(n(c,he[0]+8,"WEBP")){me=3;break e}var Ne=Ae(c,he[0]+4);if(12>Ne||4294967286<Ne){me=3;break e}if(X&&Ne>Ee[0]-8){me=7;break e}me[0]=Ne,he[0]+=12,Ee[0]-=12}me=0}if(me!=0)return me;for(Ne=0<oe.gb[0],y=y[0];;){e:{var Ie=c;Ee=f,me=y;var De=Y,Le=se,st=he=[0];if((tt=ge=[ge])[0]=0,8>me[0])me=7;else{if(!n(Ie,Ee[0],"VP8X")){if(Ae(Ie,Ee[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Ge=Ae(Ie,Ee[0]+8),Ct=1+Ve(Ie,Ee[0]+12);if(2147483648<=Ct*(Ie=1+Ve(Ie,Ee[0]+15))){me=3;break e}st!=null&&(st[0]=Ge),De!=null&&(De[0]=Ct),Le!=null&&(Le[0]=Ie),Ee[0]+=18,me[0]-=18,tt[0]=1}me=0}}if(ge=ge[0],he=he[0],me!=0)return me;if(Ee=!!(2&he),!Ne&&ge)return 3;if(B!=null&&(B[0]=!!(16&he)),z!=null&&(z[0]=Ee),$!=null&&($[0]=0),z=Y[0],he=se[0],ge&&Ee&&H==null){me=0;break}if(4>y){me=7;break}if(Ne&&ge||!Ne&&!ge&&!n(c,f[0],"ALPH")){y=[y],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Ge=c,me=f,Ne=y;var tt=oe.gb;De=oe.na,Le=oe.P,st=oe.Sa,Ct=22,e(Ge!=null),e(Ne!=null),Ie=me[0];var zt=Ne[0];for(e(De!=null),e(st!=null),De[0]=null,Le[0]=null,st[0]=0;;){if(me[0]=Ie,Ne[0]=zt,8>zt){me=7;break e}var cr=Ae(Ge,Ie+4);if(4294967286<cr){me=3;break e}var Lt=8+cr+1&-2;if(Ct+=Lt,0<tt&&Ct>tt){me=3;break e}if(!n(Ge,Ie,"VP8 ")||!n(Ge,Ie,"VP8L")){me=0;break e}if(zt[0]<Lt){me=7;break e}n(Ge,Ie,"ALPH")||(De[0]=Ge,Le[0]=Ie+8,st[0]=cr),Ie+=Lt,zt-=Lt}}if(y=y[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],me!=0)break}y=[y],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(tt=c,me=f,Ne=y,De=oe.gb[0],Le=oe.Ja,st=oe.xa,Ge=me[0],Ie=!n(tt,Ge,"VP8 "),Ct=!n(tt,Ge,"VP8L"),e(tt!=null),e(Ne!=null),e(Le!=null),e(st!=null),8>Ne[0])me=7;else{if(Ie||Ct){if(tt=Ae(tt,Ge+4),12<=De&&tt>De-12){me=3;break e}if(X&&tt>Ne[0]-8){me=7;break e}Le[0]=tt,me[0]+=8,Ne[0]-=8,st[0]=Ct}else st[0]=5<=Ne[0]&&tt[Ge+0]==47&&!(tt[Ge+4]>>5),Le[0]=Ne[0];me=0}if(y=y[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],f=f[0],me!=0)break;if(4294967286<oe.Ja)return 3;if($==null||Ee||($[0]=oe.xa?2:1),z=[z],he=[he],oe.xa){if(5>y){me=7;break}$=z,X=he,Ee=B,c==null||5>y?c=0:5<=y&&c[f+0]==47&&!(c[f+4]>>5)?(Ne=[0],tt=[0],De=[0],G(Le=new K,c,f,y),Xi(Le,Ne,tt,De)?($!=null&&($[0]=Ne[0]),X!=null&&(X[0]=tt[0]),Ee!=null&&(Ee[0]=De[0]),c=1):c=0):c=0}else{if(10>y){me=7;break}$=he,c==null||10>y||!El(c,f+3,y-3)?c=0:(X=c[f+0]|c[f+1]<<8|c[f+2]<<16,Ee=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=oe.Ja||!Ee||!c?c=0:(z&&(z[0]=Ee),$&&($[0]=c),c=1))}if(!c||(z=z[0],he=he[0],ge&&(Y[0]!=z||se[0]!=he)))return 3;H!=null&&(H[0]=oe,H.offset=f-H.w,e(4294967286>f-H.w),e(H.offset==H.ha-y));break}return me==0||me==7&&ge&&H==null?(B!=null&&(B[0]|=oe.na!=null&&0<oe.na.length),A!=null&&(A[0]=z),O!=null&&(O[0]=he),0):me}function $c(c,f,y){var A=f.width,O=f.height,B=0,z=0,$=A,H=O;if(f.Da=c!=null&&0<c.Da,f.Da&&($=c.cd,H=c.bd,B=c.v,z=c.j,11>y||(B&=-2,z&=-2),0>B||0>z||0>=$||0>=H||B+$>A||z+H>O))return 0;if(f.v=B,f.j=z,f.va=B+$,f.o=z+H,f.U=$,f.T=H,f.da=c!=null&&0<c.da,f.da){if(!it($,H,y=[c.ib],B=[c.hb]))return 0;f.ib=y[0],f.hb=B[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*A/4&&f.hb<3*O/4,f.Kb=0),1}function Wc(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function po(c,f,y,A){if(A==null||0>=c||0>=f)return 2;if(y!=null){if(y.Da){var O=y.cd,B=y.bd,z=-2&y.v,$=-2&y.j;if(0>z||0>$||0>=O||0>=B||z+O>c||$+B>f)return 2;c=O,f=B}if(y.da){if(!it(c,f,O=[y.ib],B=[y.hb]))return 2;c=O[0],f=B[0]}}A.width=c,A.height=f;e:{var H=A.width,Y=A.height;if(c=A.S,0>=H||0>=Y||!(c>=Wd&&13>c))c=2;else{if(0>=A.Rd&&A.sd==null){z=B=O=f=0;var se=($=H*py[c])*Y;if(11>c||(B=(Y+1)/2*(f=(H+1)/2),c==12&&(z=(O=H)*Y)),(Y=s(se+2*B+z))==null){c=1;break e}A.sd=Y,11>c?((H=A.f.RGBA).eb=Y,H.fb=0,H.A=$,H.size=se):((H=A.f.kb).y=Y,H.O=0,H.fa=$,H.Fd=se,H.f=Y,H.N=0+se,H.Ab=f,H.Cd=B,H.ea=Y,H.W=0+se+B,H.Db=f,H.Ed=B,c==12&&(H.F=Y,H.J=0+se+2*B),H.Tc=z,H.lb=O)}if(f=1,O=A.S,B=A.width,z=A.height,O>=Wd&&13>O)if(11>O)c=A.f.RGBA,f&=($=Math.abs(c.A))*(z-1)+B<=c.size,f&=$>=B*py[O],f&=c.eb!=null;else{c=A.f.kb,$=(B+1)/2,se=(z+1)/2,H=Math.abs(c.fa),Y=Math.abs(c.Ab);var ge=Math.abs(c.Db),X=Math.abs(c.lb),oe=X*(z-1)+B;f&=H*(z-1)+B<=c.Fd,f&=Y*(se-1)+$<=c.Cd,f=(f&=ge*(se-1)+$<=c.Ed)&H>=B&Y>=$&ge>=$,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,O==12&&(f&=X>=B,f&=oe<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||y!=null&&y.fd&&(c=Wc(A)),c}var Rl=64,Li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ri=24,mo=32,Sa=8,go=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(c){return c},N.Predictor2=function(c,f,y){return f[y+0]},N.Predictor3=function(c,f,y){return f[y+1]},N.Predictor4=function(c,f,y){return f[y-1]},N.Predictor5=function(c,f,y){return Je(Je(c,f[y+1]),f[y+0])},N.Predictor6=function(c,f,y){return Je(c,f[y-1])},N.Predictor7=function(c,f,y){return Je(c,f[y+0])},N.Predictor8=function(c,f,y){return Je(f[y-1],f[y+0])},N.Predictor9=function(c,f,y){return Je(f[y+0],f[y+1])},N.Predictor10=function(c,f,y){return Je(Je(c,f[y-1]),Je(f[y+0],f[y+1]))},N.Predictor11=function(c,f,y){var A=f[y+0];return 0>=Ye(A>>24&255,c>>24&255,(f=f[y-1])>>24&255)+Ye(A>>16&255,c>>16&255,f>>16&255)+Ye(A>>8&255,c>>8&255,f>>8&255)+Ye(255&A,255&c,255&f)?A:c},N.Predictor12=function(c,f,y){var A=f[y+0];return(Mt((c>>24&255)+(A>>24&255)-((f=f[y-1])>>24&255))<<24|Mt((c>>16&255)+(A>>16&255)-(f>>16&255))<<16|Mt((c>>8&255)+(A>>8&255)-(f>>8&255))<<8|Mt((255&c)+(255&A)-(255&f)))>>>0},N.Predictor13=function(c,f,y){var A=f[y-1];return(dt((c=Je(c,f[y+0]))>>24&255,A>>24&255)<<24|dt(c>>16&255,A>>16&255)<<16|dt(c>>8&255,A>>8&255)<<8|dt(255&c,255&A))>>>0};var Hc=N.PredictorAdd0;N.PredictorAdd1=ke,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var xu=N.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Kn,zd=N.ColorIndexInverseTransform,Xs=N.MapARGB,Zs=N.VP8LColorIndexInverseTransformAlpha,Gc=N.MapAlpha,Kc=N.VP8LPredictorsAdd=[];Kc.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Qc,Jc,vo,yo,_o,jl,wo,Dl,ns,ea,en,dn,Qn,ur,Na,Yc,Au,qd,q2,$2,W2,H2,G2,K2,Xc,Q2,J2,Y2,X2=s(511),Z2=s(2041),ey=s(225),ty=s(767),ny=0,Hm=Z2,$d=ey,ji=ty,rs=X2,Wd=0,Hd=1,ry=2,Gd=3,Kd=4,Gm=5,iy=6,Km=7,Qm=8,Qd=9,Jm=10,tN=[2,3,7],nN=[3,3,11],sy=[280,256,256,256,40],rN=[0,1,1,1,0],iN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],aN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oN=8,Ym=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zc=null,lN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ay=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bo=[],ws=[],Ia=[],pN=1,oy=2,xo=[],is=[];Sr("UpsampleRgbLinePair",W,3),Sr("UpsampleBgrLinePair",ce,3),Sr("UpsampleRgbaLinePair",Ot,4),Sr("UpsampleBgraLinePair",Dn,4),Sr("UpsampleArgbLinePair",Bt,4),Sr("UpsampleRgba4444LinePair",Me,2),Sr("UpsampleRgb565LinePair",be,2);var mN=N.UpsampleRgbLinePair,gN=N.UpsampleBgrLinePair,ly=N.UpsampleRgbaLinePair,uy=N.UpsampleBgraLinePair,cy=N.UpsampleArgbLinePair,hy=N.UpsampleRgba4444LinePair,vN=N.UpsampleRgb565LinePair,Jd=16,Yd=1<<Jd-1,eh=-227,Zm=482,yN=6,dy=0,_N=s(256),wN=s(256),bN=s(256),xN=s(256),AN=s(Zm-eh),EN=s(Zm-eh);gn("YuvToRgbRow",W,3),gn("YuvToBgrRow",ce,3),gn("YuvToRgbaRow",Ot,4),gn("YuvToBgraRow",Dn,4),gn("YuvToArgbRow",Bt,4),gn("YuvToRgba4444Row",Me,2),gn("YuvToRgb565Row",be,2);var fy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xd=[0,2,8],SN=[8,7,6,4,4,2,2,2,1,1,1,1],NN=1;this.WebPDecodeRGBA=function(c,f,y,A,O){var B=Hd,z=new ue,$=new Xt;z.ba=$,$.S=B,$.width=[$.width],$.height=[$.height];var H=$.width,Y=$.height,se=new gt;if(se==null||c==null)var ge=2;else e(se!=null),ge=_s(c,f,y,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ge!=0?H=0:(H!=null&&(H[0]=se.width[0]),Y!=null&&(Y[0]=se.height[0]),H=1),H){$.width=$.width[0],$.height=$.height[0],A!=null&&(A[0]=$.width),O!=null&&(O[0]=$.height);e:{if(A=new $s,(O=new Se).data=c,O.w=f,O.ha=y,O.kd=1,f=[0],e(O!=null),((c=_s(O.data,O.w,O.ha,null,null,null,f,null,O))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(z!=null),A.data=O.data,A.w=O.w+O.offset,A.ha=O.ha-O.offset,A.put=ct,A.ac=Mr,A.bc=wn,A.ma=z,O.xa){if((c=Bs())==null){z=1;break e}if(function(X,oe){var he=[0],Ee=[0],me=[0];t:for(;;){if(X==null)return 0;if(oe==null)return X.a=2,0;if(X.l=oe,X.a=0,G(X.m,oe.data,oe.w,oe.ha),!Xi(X.m,he,Ee,me)){X.a=3;break t}if(X.xb=oy,oe.width=he[0],oe.height=Ee[0],!Ii(he[0],Ee[0],1,X,null))break t;return 1}return e(X.a!=0),0}(c,A)){if(A=(f=po(A.width,A.height,z.Oa,z.ba))==0){t:{A=c;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((y=A.l)!=null),e((O=y.ma)!=null),A.xb!=0){if(A.ca=O.ba,A.tb=O.tb,e(A.ca!=null),!$c(O.Oa,y,Gd)){A.a=2;break n}if(!ps(A,y.width)||y.da)break n;if((y.da||At(A.ca.S))&&mn(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&mn()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!ee(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Vr(A,A.V,A.Ba,A.c,A.i,y.o,Us))break n;O.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(f=c.a)}else f=c.a}else{if((c=new Al)==null){z=1;break e}if(c.Fa=O.na,c.P=O.P,c.qc=O.Sa,_u(c,A)){if((f=po(A.width,A.height,z.Oa,z.ba))==0){if(c.Aa=0,y=z.Oa,e((O=c)!=null),y!=null){if(0<(H=0>(H=y.Md)?0:100<H?255:255*H/100)){for(Y=se=0;4>Y;++Y)12>(ge=O.pb[Y]).lc&&(ge.ia=H*SN[0>ge.lc?0:ge.lc]>>3),se|=ge.ia;se&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=y.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(X,oe){if(X==null)return 0;if(oe==null)return Ln(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!_u(X,oe))return 0;if(e(X.cb),oe.ac==null||oe.ac(oe)){oe.ob&&(X.L=0);var he=Xd[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=oe.v-he>>4,X.zb=oe.j-he>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=oe.o+15+he>>4,X.Hb=oe.va+15+he>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Ee=X.ed;for(he=0;4>he;++he){var me;if(X.Qa.Cb){var Ne=X.Qa.Lb[he];X.Qa.Fb||(Ne+=Ee.Tb)}else Ne=Ee.Tb;for(me=0;1>=me;++me){var Ie=X.gd[he][me],De=Ne;if(Ee.Pc&&(De+=Ee.vd[0],me&&(De+=Ee.od[0])),0<(De=0>De?0:63<De?63:De)){var Le=De;0<Ee.wb&&(Le=4<Ee.wb?Le>>2:Le>>1)>9-Ee.wb&&(Le=9-Ee.wb),1>Le&&(Le=1),Ie.dd=Le,Ie.tc=2*De+Le,Ie.ld=40<=De?2:15<=De?1:0}else Ie.tc=0;Ie.La=me}}}he=0}else Ln(X,6,"Frame setup failed"),he=X.a;if(he=he==0){if(he){X.$c=0,0<X.Aa||(X.Ic=NN);t:{he=X.Ic,Ee=4*(Le=X.za);var st=32*Le,Ge=Le+1,Ct=0<X.L?Le*(0<X.Aa?2:1):0,tt=(X.Aa==2?2:1)*Le;if((Ie=Ee+832+(me=3*(16*he+Xd[X.L])/2*st)+(Ne=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Ie)he=0;else{if(Ie>X.Vb){if(X.Vb=0,X.Ec=s(Ie),X.Fc=0,X.Ec==null){he=Ln(X,1,"no memory during frame initialization.");break t}X.Vb=Ie}Ie=X.Ec,De=X.Fc,X.Ac=Ie,X.Bc=De,De+=Ee,X.Gd=a(st,bl),X.Hd=0,X.rb=a(Ge+1,ki),X.sb=1,X.wa=Ct?a(Ct,vr):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Le),e(!0),X.oc=Ie,X.pc=De,De+=832,X.ya=a(tt,_l),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Le),X.R=16*Le,X.B=8*Le,Le=(st=Xd[X.L])*X.R,st=st/2*X.B,X.sa=Ie,X.ta=De+Le,X.qa=X.sa,X.ra=X.ta+16*he*X.R+st,X.Ha=X.qa,X.Ia=X.ra+8*he*X.B+st,X.$c=0,De+=me,X.mb=Ne?Ie:null,X.nb=Ne?De:null,e(De+Ne<=X.Fc+X.Vb),Ws(X),i(X.Ac,X.Bc,0,Ee),he=1}}if(he){if(oe.ka=0,oe.y=X.sa,oe.O=X.ta,oe.f=X.qa,oe.N=X.ra,oe.ea=X.Ha,oe.Vd=X.Ia,oe.fa=X.R,oe.Rc=X.B,oe.F=null,oe.J=0,!ny){for(he=-255;255>=he;++he)X2[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)Z2[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)ey[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)ty[255+he]=0>he?0:255<he?255:he;ny=1}wo=Hs,Dl=oo,ea=wu,en=Vt,dn=wa,ns=ao,Qn=Pl,ur=fo,Na=v,Yc=D,Au=ts,qd=Cl,q2=J,$2=re,W2=Js,H2=Ys,G2=mi,K2=Tl,ws[0]=Bc,ws[1]=Sl,ws[2]=Ks,ws[3]=Uc,ws[4]=zc,ws[5]=gs,ws[6]=yr,ws[7]=qc,ws[8]=vs,ws[9]=uo,bo[0]=pi,bo[1]=Fc,bo[2]=Vc,bo[3]=Nl,bo[4]=Zi,bo[5]=Gs,bo[6]=lo,Ia[0]=xa,Ia[1]=bu,Ia[2]=co,Ia[3]=Ti,Ia[4]=hn,Ia[5]=Il,Ia[6]=kl,he=1}else he=0}he&&(he=function(zt,cr){for(zt.M=0;zt.M<zt.Va;++zt.M){var Lt,nt=zt.Jc[zt.M&zt.Xb],Be=zt.m,Jn=zt;for(Lt=0;Lt<Jn.za;++Lt){var Pt=Be,Wt=Jn,bn=Wt.Ac,Ir=Wt.Bc+4*Lt,si=Wt.zc,zn=Wt.ya[Wt.aa+Lt];if(Wt.Qa.Bb?zn.$b=xe(Pt,Wt.Pa.jb[0])?2+xe(Pt,Wt.Pa.jb[2]):xe(Pt,Wt.Pa.jb[1]):zn.$b=0,Wt.kc&&(zn.Ad=xe(Pt,Wt.Bd)),zn.Za=!xe(Pt,145)+0,zn.Za){var Br=zn.Ob,ai=0;for(Wt=0;4>Wt;++Wt){var hr,Kt=si[0+Wt];for(hr=0;4>hr;++hr){Kt=hN[bn[Ir+hr]][Kt];for(var sn=ay[xe(Pt,Kt[0])];0<sn;)sn=ay[2*sn+xe(Pt,Kt[sn])];Kt=-sn,bn[Ir+hr]=Kt}r(Br,ai,bn,Ir,4),ai+=4,si[0+Wt]=Kt}}else Kt=xe(Pt,156)?xe(Pt,128)?1:3:xe(Pt,163)?2:0,zn.Ob[0]=Kt,i(bn,Ir,Kt,4),i(si,0,Kt,4);zn.Dd=xe(Pt,142)?xe(Pt,114)?xe(Pt,183)?1:3:2:0}if(Jn.m.Ka)return Ln(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(Jn=nt,Pt=(Be=zt).rb[Be.sb-1],bn=Be.rb[Be.sb+Be.ja],Lt=Be.ya[Be.aa+Be.ja],Ir=Be.kc?Lt.Ad:0)Pt.la=bn.la=0,Lt.Za||(Pt.Na=bn.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var qn,an;if(Pt=bn,bn=Jn,Ir=Be.Pa.Xc,si=Be.ya[Be.aa+Be.ja],zn=Be.pb[si.$b],Wt=si.ad,Br=0,ai=Be.rb[Be.sb-1],Kt=hr=0,i(Wt,Br,0,384),si.Za)var kr=0,bs=Ir[3];else{sn=s(16);var Yn=Pt.Na+ai.Na;if(Yn=Zc(bn,Ir[1],Yn,zn.Eb,0,sn,0),Pt.Na=ai.Na=(0<Yn)+0,1<Yn)wo(sn,0,Wt,Br);else{var gi=sn[0]+3>>3;for(sn=0;256>sn;sn+=16)Wt[Br+sn]=gi}kr=1,bs=Ir[0]}var fn=15&Pt.la,dr=15&ai.la;for(sn=0;4>sn;++sn){var Di=1&dr;for(gi=an=0;4>gi;++gi)fn=fn>>1|(Di=(Yn=Zc(bn,bs,Yn=Di+(1&fn),zn.Sc,kr,Wt,Br))>kr)<<7,an=an<<2|(3<Yn?3:1<Yn?2:Wt[Br+0]!=0),Br+=16;fn>>=4,dr=dr>>1|Di<<7,hr=(hr<<8|an)>>>0}for(bs=fn,kr=dr>>4,qn=0;4>qn;qn+=2){for(an=0,fn=Pt.la>>4+qn,dr=ai.la>>4+qn,sn=0;2>sn;++sn){for(Di=1&dr,gi=0;2>gi;++gi)Yn=Di+(1&fn),fn=fn>>1|(Di=0<(Yn=Zc(bn,Ir[2],Yn,zn.Qc,0,Wt,Br)))<<3,an=an<<2|(3<Yn?3:1<Yn?2:Wt[Br+0]!=0),Br+=16;fn>>=2,dr=dr>>1|Di<<5}Kt|=an<<4*qn,bs|=fn<<4<<qn,kr|=(240&dr)<<qn}Pt.la=bs,ai.la=kr,si.Hc=hr,si.Gc=Kt,si.ia=43690&Kt?0:zn.ia,Ir=!(hr|Kt)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[Lt.$b][Lt.Za],Be.wa[Be.Y+Be.ja].La|=!Ir),Jn.Ka)return Ln(zt,7,"Premature end-of-file encountered.")}if(Ws(zt),Be=cr,Jn=1,Lt=(nt=zt).D,Pt=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(Lt.M=nt.M,Lt.uc=Pt,Nr(nt,Lt),Jn=1,Lt=(an=nt.D).Nb,Pt=(Kt=Xd[nt.L])*nt.R,bn=Kt/2*nt.B,sn=16*Lt*nt.R,gi=8*Lt*nt.B,Ir=nt.sa,si=nt.ta-Pt+sn,zn=nt.qa,Wt=nt.ra-bn+gi,Br=nt.Ha,ai=nt.Ia-bn+gi,dr=(fn=an.M)==0,hr=fn>=nt.Va-1,nt.Aa==2&&Nr(nt,an),an.uc)for(Di=(Yn=nt).D.M,e(Yn.D.uc),an=Yn.yb;an<Yn.Hb;++an){kr=an,bs=Di;var oi=(Oi=(Tr=Yn).D).Nb;qn=Tr.R;var Oi=Oi.wa[Oi.Y+kr],Mi=Tr.sa,vi=Tr.ta+16*oi*qn+16*kr,Fi=Oi.dd,vn=Oi.tc;if(vn!=0)if(e(3<=vn),Tr.L==1)0<kr&&H2(Mi,vi,qn,vn+4),Oi.La&&K2(Mi,vi,qn,vn),0<bs&&W2(Mi,vi,qn,vn+4),Oi.La&&G2(Mi,vi,qn,vn);else{var Vi=Tr.B,xs=Tr.qa,Ol=Tr.ra+8*oi*Vi+8*kr,ka=Tr.Ha,Tr=Tr.Ia+8*oi*Vi+8*kr;oi=Oi.ld,0<kr&&(ur(Mi,vi,qn,vn+4,Fi,oi),Yc(xs,Ol,ka,Tr,Vi,vn+4,Fi,oi)),Oi.La&&(qd(Mi,vi,qn,vn,Fi,oi),$2(xs,Ol,ka,Tr,Vi,vn,Fi,oi)),0<bs&&(Qn(Mi,vi,qn,vn+4,Fi,oi),Na(xs,Ol,ka,Tr,Vi,vn+4,Fi,oi)),Oi.La&&(Au(Mi,vi,qn,vn,Fi,oi),q2(xs,Ol,ka,Tr,Vi,vn,Fi,oi))}}if(nt.ia&&alert("todo:DitherRow"),Be.put!=null){if(an=16*fn,fn=16*(fn+1),dr?(Be.y=nt.sa,Be.O=nt.ta+sn,Be.f=nt.qa,Be.N=nt.ra+gi,Be.ea=nt.Ha,Be.W=nt.Ia+gi):(an-=Kt,Be.y=Ir,Be.O=si,Be.f=zn,Be.N=Wt,Be.ea=Br,Be.W=ai),hr||(fn-=Kt),fn>Be.o&&(fn=Be.o),Be.F=null,Be.J=null,nt.Fa!=null&&0<nt.Fa.length&&an<fn&&(Be.J=Rn(nt,Be,an,fn-an),Be.F=nt.mb,Be.F==null&&Be.F.length==0)){Jn=Ln(nt,3,"Could not decode alpha data.");break t}an<Be.j&&(Kt=Be.j-an,an=Be.j,e(!(1&Kt)),Be.O+=nt.R*Kt,Be.N+=nt.B*(Kt>>1),Be.W+=nt.B*(Kt>>1),Be.F!=null&&(Be.J+=Be.width*Kt)),an<fn&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=an-Be.j,Be.U=Be.va-Be.v,Be.T=fn-an,Jn=Be.put(Be))}Lt+1!=nt.Ic||hr||(r(nt.sa,nt.ta-Pt,Ir,si+16*nt.R,Pt),r(nt.qa,nt.ra-bn,zn,Wt+8*nt.B,bn),r(nt.Ha,nt.Ia-bn,Br,ai+8*nt.B,bn))}if(!Jn)return Ln(zt,6,"Output aborted.")}return 1}(X,oe)),oe.bc!=null&&oe.bc(oe),he&=1}return he?(X.cb=0,he):0})(c,A)||(f=c.a)}}else f=c.a}f==0&&z.Oa!=null&&z.Oa.fd&&(f=Wc(z.ba))}z=f}B=z!=0?null:11>B?$.f.RGBA.eb:$.f.kb.y}else B=null;return B};var py=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,R){for(var b="",E=0;E<4;E++)b+=String.fromCharCode(N[R++]);return b}function d(N,R){return N[R+0]|N[R+1]<<8}function g(N,R){return(N[R+0]|N[R+1]<<8|N[R+2]<<16)>>>0}function _(N,R){return(N[R+0]|N[R+1]<<8|N[R+2]<<16|N[R+3]<<24)>>>0}new l;var m=[0],C=[0],I=[],L=new l,x=t,T=function(N,R){var b={},E=0,P=!1,te=0,de=0;if(b.frames=[],!function(F,K){for(var q=0;q<4;q++)if(F[K+q]!="RIFF".charCodeAt(q))return!0;return!1}(N,R)){for(_(N,R+=4),R+=8;R<N.length;){var ye=u(N,R),fe=_(N,R+=4);R+=4;var Z=fe+(1&fe);switch(ye){case"VP8 ":case"VP8L":b.frames[E]===void 0&&(b.frames[E]={}),(_e=b.frames[E]).src_off=P?de:R-8,_e.src_size=te+fe+8,E++,P&&(P=!1,te=0,de=0);break;case"VP8X":(_e=b.header={}).feature_flags=N[R];var G=R+4;_e.canvas_width=1+g(N,G),G+=3,_e.canvas_height=1+g(N,G),G+=3;break;case"ALPH":P=!0,te=Z+8,de=R-8;break;case"ANIM":(_e=b.header).bgcolor=_(N,R),G=R+4,_e.loop_count=d(N,G),G+=2;break;case"ANMF":var pe,_e;(_e=b.frames[E]={}).offset_x=2*g(N,R),R+=3,_e.offset_y=2*g(N,R),R+=3,_e.width=1+g(N,R),R+=3,_e.height=1+g(N,R),R+=3,_e.duration=g(N,R),R+=3,pe=N[R++],_e.dispose=1&pe,_e.blend=pe>>1&1}ye!="ANMF"&&(R+=Z)}return b}}(x,0);T.response=x,T.rgbaoutput=!0,T.dataurl=!1;var j=T.header?T.header:null,U=T.frames?T.frames:null;if(j){j.loop_counter=j.loop_count,m=[j.canvas_height],C=[j.canvas_width];for(var ne=0;ne<U.length&&U[ne].blend!=0;ne++);}var M=U[0],V=L.WebPDecodeRGBA(x,M.src_off,M.src_size,C,m);M.rgba=V,M.imgwidth=C[0],M.imgheight=m[0];for(var S=0;S<C[0]*m[0]*4;S++)I[S]=V[S];return this.width=C,this.height=m,this.data=I,this}(function(t){var e,n,r,i,s,a,o,l,u,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var g=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=F;Object.defineProperty(this,"pdf",{get:function(){return K}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ae){q=!!Ae}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Ae){Q=!!Ae}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ae){isNaN(Ae)||(ie=Ae)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Ae){isNaN(Ae)||(ae=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var ee;typeof Ae=="number"?ee=[Ae,Ae,Ae,Ae]:((ee=new Array(4))[0]=Ae[0],ee[1]=Ae.length>=2?Ae[1]:ee[0],ee[2]=Ae.length>=3?Ae[2]:ee[0],ee[3]=Ae.length>=4?Ae[3]:ee[1]),u.margin=ee}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Ae){ve=Ae}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Ae){we=Ae}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Ae){xe=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof d&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Ae){Te=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var ee;ee=_(Ae),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var ee=_(Ae);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Fe=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Ae){Fe=null,Ve=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var ee;if(this.ctx.font=Ae,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Tt=ee[1];ee[2];var _t=ee[3],it=ee[4];ee[5];var Re=ee[6],Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ke==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Ue=function(ot){var Xe,mt,ft=[],ze=ot.trim();if(ze==="")return h1;if(ze in sb)return[sb[ze]];for(;ze!=="";){switch(mt=null,Xe=(ze=ob(ze)).charAt(0)){case'"':case"'":mt=XD(ze.substring(1),Xe);break;default:mt=ZD(ze)}if(mt===null||(ft.push(mt[0]),(ze=ob(mt[1]))!==""&&ze.charAt(0)!==","))return h1;ze=ze.replace(/^,/,"")}return ft}(Re);if(this.fontFaces){var wt=function(ot,Xe){if(Fe===null){var mt=function(ft){var ze=[];return Object.keys(ft).forEach(function(lt){ft[lt].forEach(function(Jt){var ht=null;switch(Jt){case"bold":ht={family:lt,weight:"bold"};break;case"italic":ht={family:lt,style:"italic"};break;case"bolditalic":ht={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:lt}}ht!==null&&(ht.ref={name:lt,style:Jt},ze.push(ht))})}),ze}(ot.getFontList());Fe=function(ft){for(var ze={},lt=0;lt<ft.length;++lt){var Jt=c1(ft[lt]),ht=Jt.family,Rt=Jt.stretch,At=Jt.style,In=Jt.weight;ze[ht]=ze[ht]||{},ze[ht][Rt]=ze[ht][Rt]||{},ze[ht][Rt][At]=ze[ht][Rt][At]||{},ze[ht][Rt][At][In]=Jt}return ze}(mt.concat(Xe))}return Fe}(this.pdf,this.fontFaces),Je=Ue.map(function(ot){return{family:ot,stretch:"normal",weight:_t,style:Tt}}),Mt=function(ot,Xe,mt){for(var ft=(mt=mt||{}).defaultFontFamily||"times",ze=Object.assign({},YD,mt.genericFontFamilies||{}),lt=null,Jt=null,ht=0;ht<Xe.length;++ht)if(ze[(lt=c1(Xe[ht])).family]&&(lt.family=ze[lt.family]),ot.hasOwnProperty(lt.family)){Jt=ot[lt.family];break}if(!(Jt=Jt||ot[ft]))throw new Error("Could not find a font-family for the rule '"+ab(lt)+"' and default family '"+ft+"'.");if(Jt=function(Rt,At){if(At[Rt])return At[Rt];var In=W0[Rt],_n=In<=W0.normal?-1:1,Xt=ib(At,JS,In,_n);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+Rt);return Xt}(lt.stretch,Jt),Jt=function(Rt,At){if(At[Rt])return At[Rt];for(var In=QS[Rt],_n=0;_n<In.length;++_n)if(At[In[_n]])return At[In[_n]];throw new Error("Could not find a matching font-style for "+Rt)}(lt.style,Jt),!(Jt=function(Rt,At){if(At[Rt])return At[Rt];if(Rt===400&&At[500])return At[500];if(Rt===500&&At[400])return At[400];var In=JD[Rt],_n=ib(At,YS,In,Rt<400?-1:1);if(!_n)throw new Error("Could not find a matching font-weight for value "+Rt);return _n}(lt.weight,Jt)))throw new Error("Failed to resolve a font for the rule '"+ab(lt)+"'.");return Jt}(wt,Je);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var dt="";(_t==="bold"||parseInt(_t,10)>=700||Tt==="bold")&&(dt="bold"),Tt==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var Ye="",ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Ue.length;rt++){if(this.pdf.internal.getFont(Ue[rt],dt,{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ue[rt];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(Ue[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=Ue[rt],dt="bold";else if(this.pdf.internal.getFont(Ue[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ue[rt],dt="normal";break}}if(Ye===""){for(var qe=0;qe<Ue.length;qe++)if(ke[Ue[qe]]){Ye=ke[Ue[qe]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};g.prototype.setLineDash=function(F){this.lineDash=F},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){U.call(this,"fill",!1)},g.prototype.stroke=function(){U.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(F,K){if(isNaN(F)||isNaN(K))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new a(F,K));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(F,K)},g.prototype.closePath=function(){var F=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&ln(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){F=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},g.prototype.lineTo=function(F,K){if(isNaN(F)||isNaN(K))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new a(F,K));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},g.prototype.quadraticCurveTo=function(F,K,q,Q){if(isNaN(q)||isNaN(Q)||isNaN(F)||isNaN(K))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new a(q,Q)),ae=this.ctx.transform.applyToPoint(new a(F,K));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},g.prototype.bezierCurveTo=function(F,K,q,Q,ie,ae){if(isNaN(ie)||isNaN(ae)||isNaN(F)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(ie,ae)),we=this.ctx.transform.applyToPoint(new a(F,K)),xe=this.ctx.transform.applyToPoint(new a(q,Q));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:xe.x,y2:xe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},g.prototype.arc=function(F,K,q,Q,ie,ae){if(isNaN(F)||isNaN(K)||isNaN(q)||isNaN(Q)||isNaN(ie))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(F,K));F=ve.x,K=ve.y;var we=this.ctx.transform.applyToPoint(new a(0,q)),xe=this.ctx.transform.applyToPoint(new a(0,0));q=Math.sqrt(Math.pow(we.x-xe.x,2)+Math.pow(we.y-xe.y,2))}Math.abs(ie-Q)>=2*Math.PI&&(Q=0,ie=2*Math.PI),this.path.push({type:"arc",x:F,y:K,radius:q,startAngle:Q,endAngle:ie,counterclockwise:ae})},g.prototype.arcTo=function(F,K,q,Q,ie){throw new Error("arcTo not implemented.")},g.prototype.rect=function(F,K,q,Q){if(isNaN(F)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,K),this.lineTo(F+q,K),this.lineTo(F+q,K+Q),this.lineTo(F,K+Q),this.lineTo(F,K),this.lineTo(F+q,K),this.lineTo(F,K)},g.prototype.fillRect=function(F,K,q,Q){if(isNaN(F)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,K,q,Q),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},g.prototype.strokeRect=function(F,K,q,Q){if(isNaN(F)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(F,K,q,Q),this.stroke())},g.prototype.clearRect=function(F,K,q,Q){if(isNaN(F)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,K,q,Q))},g.prototype.save=function(F){F=typeof F!="boolean"||F;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},g.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(K),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(F){var K,q,Q,ie;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))K=0,q=0,Q=0,ie=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ae!==null)K=parseInt(ae[1]),q=parseInt(ae[2]),Q=parseInt(ae[3]),ie=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)K=parseInt(ae[1]),q=parseInt(ae[2]),Q=parseInt(ae[3]),ie=parseFloat(ae[4]);else{if(ie=1,typeof F=="string"&&F.charAt(0)!=="#"){var ve=new zS(F);F=ve.ok?ve.toHex():"#000000"}F.length===4?(K=F.substring(1,2),K+=K,q=F.substring(2,3),q+=q,Q=F.substring(3,4),Q+=Q):(K=F.substring(1,3),q=F.substring(3,5),Q=F.substring(5,7)),K=parseInt(K,16),q=parseInt(q,16),Q=parseInt(Q,16)}}return{r:K,g:q,b:Q,a:ie,style:F}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(F,K,q,Q){if(isNaN(K)||isNaN(q)||typeof F!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!m.call(this)){var ie=Z(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:F,x:K,y:q,scale:ae,angle:ie,align:this.textAlign,maxWidth:Q})}},g.prototype.strokeText=function(F,K,q,Q){if(isNaN(K)||isNaN(q)||typeof F!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){Q=isNaN(Q)?void 0:Q;var ie=Z(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:F,x:K,y:q,scale:ae,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Q})}},g.prototype.measureText=function(F){if(typeof F!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,q=this.pdf.internal.scaleFactor,Q=K.internal.getFontSize(),ie=K.getStringUnitWidth(F)*Q/K.internal.scaleFactor;return new function(ae){var ve=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:ie*=Math.round(96*q/72*1e4)/1e4})},g.prototype.scale=function(F,K){if(isNaN(F)||isNaN(K))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(F,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.rotate=function(F){if(isNaN(F))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},g.prototype.translate=function(F,K){if(isNaN(F)||isNaN(K))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,F,K);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.transform=function(F,K,q,Q,ie,ae){if(isNaN(F)||isNaN(K)||isNaN(q)||isNaN(Q)||isNaN(ie)||isNaN(ae))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(F,K,q,Q,ie,ae);this.ctx.transform=this.ctx.transform.multiply(ve)},g.prototype.setTransform=function(F,K,q,Q,ie,ae){F=isNaN(F)?1:F,K=isNaN(K)?0:K,q=isNaN(q)?0:q,Q=isNaN(Q)?1:Q,ie=isNaN(ie)?0:ie,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(F,K,q,Q,ie,ae)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(F,K,q,Q,ie,ae,ve,we,xe){var Te=this.pdf.getImageProperties(F),Fe=1,Ve=1,Ae=1,ee=1;Q!==void 0&&we!==void 0&&(Ae=we/Q,ee=xe/ie,Fe=Te.width/Q*we/Q,Ve=Te.height/ie*xe/ie),ae===void 0&&(ae=K,ve=q,K=0,q=0),Q!==void 0&&we===void 0&&(we=Q,xe=ie),Q===void 0&&we===void 0&&(we=Te.width,xe=Te.height);for(var Tt,_t=this.ctx.transform.decompose(),it=Z(_t.rotate.shx),Re=new l,Ke=(Re=(Re=(Re=Re.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new o(ae-K*Ae,ve-q*ee,Q*Fe,ie*Ve)),Ue=L.call(this,Ke),wt=[],Je=0;Je<Ue.length;Je+=1)wt.indexOf(Ue[Je])===-1&&wt.push(Ue[Je]);if(j(wt),this.autoPaging)for(var Mt=wt[0],dt=wt[wt.length-1],Ye=Mt;Ye<dt+1;Ye++){this.pdf.setPage(Ye);var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=Ye===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ye===1?0:qe+(Ye-2)*ot;if(this.ctx.clip_path.length!==0){var mt=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Tt,this.posX+this.margin[3],-Xe+rt+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=mt}var ft=JSON.parse(JSON.stringify(Ke));ft=T([ft],this.posX+this.margin[3],-Xe+rt+this.ctx.prevPageLastElemOffset)[0];var ze=(Ye>Mt||Ye<dt)&&I.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,ot,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,it),ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,it)};var L=function(F,K,q){var Q=[];K=K||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":Q.push(Math.floor((F.y+ie)/q)+1);break;case"arc":Q.push(Math.floor((F.y+ie-F.radius)/q)+1),Q.push(Math.floor((F.y+ie+F.radius)/q)+1);break;case"qct":var ae=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);Q.push(Math.floor((ae.y+ie)/q)+1),Q.push(Math.floor((ae.y+ae.h+ie)/q)+1);break;case"bct":var ve=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);Q.push(Math.floor((ve.y+ie)/q)+1),Q.push(Math.floor((ve.y+ve.h+ie)/q)+1);break;case"rect":Q.push(Math.floor((F.y+ie)/q)+1),Q.push(Math.floor((F.y+F.h+ie)/q)+1)}for(var we=0;we<Q.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<Q[we];)x.call(this);return Q},x=function(){var F=this.fillStyle,K=this.strokeStyle,q=this.font,Q=this.lineCap,ie=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=K,this.font=q,this.lineCap=Q,this.lineWidth=ie,this.lineJoin=ae},T=function(F,K,q){for(var Q=0;Q<F.length;Q++)switch(F[Q].type){case"bct":F[Q].x2+=K,F[Q].y2+=q;case"qct":F[Q].x1+=K,F[Q].y1+=q;default:F[Q].x+=K,F[Q].y+=q}return F},j=function(F){return F.sort(function(K,q){return K-q})},U=function(F,K){for(var q,Q,ie=this.fillStyle,ae=this.strokeStyle,ve=this.lineCap,we=this.lineWidth,xe=Math.abs(we*this.ctx.transform.scaleX),Te=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Ae=[],ee=0;ee<Ve.length;ee++)if(Ve[ee].x!==void 0)for(var Tt=L.call(this,Ve[ee]),_t=0;_t<Tt.length;_t+=1)Ae.indexOf(Tt[_t])===-1&&Ae.push(Tt[_t]);for(var it=0;it<Ae.length;it++)for(;this.pdf.internal.getNumberOfPages()<Ae[it];)x.call(this);if(j(Ae),this.autoPaging)for(var Re=Ae[0],Ke=Ae[Ae.length-1],Ue=Re;Ue<Ke+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ie,this.strokeStyle=ae,this.lineCap=ve,this.lineWidth=xe,this.lineJoin=Te;var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Ue===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=Ue===1?0:Mt+(Ue-2)*dt;if(this.ctx.clip_path.length!==0){var ke=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(q,this.posX+this.margin[3],-Ye+Je+this.ctx.prevPageLastElemOffset),ne.call(this,F,!0),this.path=ke}if(Q=JSON.parse(JSON.stringify(Fe)),this.path=T(Q,this.posX+this.margin[3],-Ye+Je+this.ctx.prevPageLastElemOffset),K===!1||Ue===0){var rt=(Ue>Re||Ue<Ke)&&I.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,dt,null).clip().discardPath()),ne.call(this,F,K),rt&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=xe,ne.call(this,F,K),this.lineWidth=we;this.path=Fe},ne=function(F,K){if((F!=="stroke"||K||!C.call(this))&&(F==="stroke"||K||!m.call(this))){for(var q,Q,ie=[],ae=this.path,ve=0;ve<ae.length;ve++){var we=ae[ve];switch(we.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:we,deltas:[],abs:[]});break;case"lt":var xe=ie.length;if(ae[ve-1]&&!isNaN(ae[ve-1].x)&&(q=[we.x-ae[ve-1].x,we.y-ae[ve-1].y],xe>0)){for(;xe>=0;xe--)if(ie[xe-1].close!==!0&&ie[xe-1].begin!==!0){ie[xe-1].deltas.push(q),ie[xe-1].abs.push(we);break}}break;case"bct":q=[we.x1-ae[ve-1].x,we.y1-ae[ve-1].y,we.x2-ae[ve-1].x,we.y2-ae[ve-1].y,we.x-ae[ve-1].x,we.y-ae[ve-1].y],ie[ie.length-1].deltas.push(q);break;case"qct":var Te=ae[ve-1].x+2/3*(we.x1-ae[ve-1].x),Fe=ae[ve-1].y+2/3*(we.y1-ae[ve-1].y),Ve=we.x+2/3*(we.x1-we.x),Ae=we.y+2/3*(we.y1-we.y),ee=we.x,Tt=we.y;q=[Te-ae[ve-1].x,Fe-ae[ve-1].y,Ve-ae[ve-1].x,Ae-ae[ve-1].y,ee-ae[ve-1].x,Tt-ae[ve-1].y],ie[ie.length-1].deltas.push(q);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(we)}}Q=K?null:F==="stroke"?"stroke":"fill";for(var _t=!1,it=0;it<ie.length;it++)if(ie[it].arc)for(var Re=ie[it].abs,Ke=0;Ke<Re.length;Ke++){var Ue=Re[Ke];Ue.type==="arc"?S.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,K,!_t):P.call(this,Ue.x,Ue.y),_t=!0}else if(ie[it].close===!0)this.pdf.internal.out("h"),_t=!1;else if(ie[it].begin!==!0){var wt=ie[it].start.x,Je=ie[it].start.y;te.call(this,ie[it].deltas,wt,Je),_t=!0}Q&&N.call(this,Q),K&&R.call(this)}},M=function(F){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-q;case"top":return F+K-q;case"hanging":return F+K-2*q;case"middle":return F+K/2-q;default:return F}},V=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(K,q){this.colorStops.push([K,q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(F,K,q,Q,ie,ae,ve,we,xe){for(var Te=ye.call(this,q,Q,ie,ae),Fe=0;Fe<Te.length;Fe++){var Ve=Te[Fe];Fe===0&&(xe?b.call(this,Ve.x1+F,Ve.y1+K):P.call(this,Ve.x1+F,Ve.y1+K)),de.call(this,F,K,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}we?R.call(this):N.call(this,ve)},N=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},b=function(F,K){this.pdf.internal.out(n(F)+" "+r(K)+" m")},E=function(F){var K;switch(F.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var q=this.pdf.getTextDimensions(F.text),Q=M.call(this,F.y),ie=V.call(this,Q)-q.h,ae=this.ctx.transform.applyToPoint(new a(F.x,Q)),ve=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var xe,Te,Fe,Ve=this.ctx.transform.applyToRectangle(new o(F.x,Q,q.w,q.h)),Ae=we.applyToRectangle(new o(F.x,ie,q.w,q.h)),ee=L.call(this,Ae),Tt=[],_t=0;_t<ee.length;_t+=1)Tt.indexOf(ee[_t])===-1&&Tt.push(ee[_t]);if(j(Tt),this.autoPaging)for(var it=Tt[0],Re=Tt[Tt.length-1],Ke=it;Ke<Re+1;Ke++){this.pdf.setPage(Ke);var Ue=Ke===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],Mt=Je-this.margin[0],dt=this.pdf.internal.pageSize.width-this.margin[1],Ye=dt-this.margin[3],ke=Ke===1?0:wt+(Ke-2)*Mt;if(this.ctx.clip_path.length!==0){var rt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(xe,this.posX+this.margin[3],-1*ke+Ue),ne.call(this,"fill",!0),this.path=rt}var qe=T([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-ke+Ue+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*F.scale),Fe=this.lineWidth,this.lineWidth=Fe*F.scale);var ot=this.autoPaging!=="text";if(ot||qe.y+qe.h<=Je){if(ot||qe.y>=Ue&&qe.x<=dt){var Xe=ot?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||dt-qe.x)[0],mt=T([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ke+Ue+this.ctx.prevPageLastElemOffset)[0],ft=ot&&(Ke>it||Ke<Re)&&I.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Mt,null).clip().discardPath()),this.pdf.text(Xe,mt.x,mt.y,{angle:F.angle,align:K,renderingMode:F.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else qe.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-qe.y);F.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Fe)}else F.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*F.scale),Fe=this.lineWidth,this.lineWidth=Fe*F.scale),this.pdf.text(F.text,ae.x+this.posX,ae.y+this.posY,{angle:F.angle,align:K,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Fe)},P=function(F,K,q,Q){q=q||0,Q=Q||0,this.pdf.internal.out(n(F+q)+" "+r(K+Q)+" l")},te=function(F,K,q){return this.pdf.lines(F,K,q,null,null)},de=function(F,K,q,Q,ie,ae,ve,we){this.pdf.internal.out([e(i(q+F)),e(s(Q+K)),e(i(ie+F)),e(s(ae+K)),e(i(ve+F)),e(s(we+K)),"c"].join(" "))},ye=function(F,K,q,Q){for(var ie=2*Math.PI,ae=Math.PI/2;K>q;)K-=ie;var ve=Math.abs(q-K);ve<ie&&Q&&(ve=ie-ve);for(var we=[],xe=Q?-1:1,Te=K;ve>1e-5;){var Fe=Te+xe*Math.min(ve,ae);we.push(fe.call(this,F,Te,Fe)),ve-=Math.abs(Fe-Te),Te=Fe}return we},fe=function(F,K,q){var Q=(q-K)/2,ie=F*Math.cos(Q),ae=F*Math.sin(Q),ve=ie,we=-ae,xe=ve*ve+we*we,Te=xe+ve*ie+we*ae,Fe=4/3*(Math.sqrt(2*xe*Te)-Te)/(ve*ae-we*ie),Ve=ve-Fe*we,Ae=we+Fe*ve,ee=Ve,Tt=-Ae,_t=Q+K,it=Math.cos(_t),Re=Math.sin(_t);return{x1:F*Math.cos(K),y1:F*Math.sin(K),x2:Ve*it-Ae*Re,y2:Ve*Re+Ae*it,x3:ee*it-Tt*Re,y3:ee*Re+Tt*it,x4:F*Math.cos(q),y4:F*Math.sin(q)}},Z=function(F){return 180*F/Math.PI},G=function(F,K,q,Q,ie,ae){var ve=F+.5*(q-F),we=K+.5*(Q-K),xe=ie+.5*(q-ie),Te=ae+.5*(Q-ae),Fe=Math.min(F,ie,ve,xe),Ve=Math.max(F,ie,ve,xe),Ae=Math.min(K,ae,we,Te),ee=Math.max(K,ae,we,Te);return new o(Fe,Ae,Ve-Fe,ee-Ae)},pe=function(F,K,q,Q,ie,ae,ve,we){var xe,Te,Fe,Ve,Ae,ee,Tt,_t,it,Re,Ke,Ue,wt,Je,Mt=q-F,dt=Q-K,Ye=ie-q,ke=ae-Q,rt=ve-ie,qe=we-ae;for(Te=0;Te<41;Te++)it=(Tt=(Fe=F+(xe=Te/40)*Mt)+xe*((Ae=q+xe*Ye)-Fe))+xe*(Ae+xe*(ie+xe*rt-Ae)-Tt),Re=(_t=(Ve=K+xe*dt)+xe*((ee=Q+xe*ke)-Ve))+xe*(ee+xe*(ae+xe*qe-ee)-_t),Te==0?(Ke=it,Ue=Re,wt=it,Je=Re):(Ke=Math.min(Ke,it),Ue=Math.min(Ue,Re),wt=Math.max(wt,it),Je=Math.max(Je,Re));return new o(Math.round(Ke),Math.round(Ue),Math.round(wt-Ke),Math.round(Je-Ue))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,K,q=(F=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:K}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(at.API),function(t){var e=function(a){var o,l,u,d,g,_,m,C,I,L;for(l=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(g=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(_=(g=((g=((g=((g=(g-(L=g%85))/85)-(I=g%85))/85)-(C=g%85))/85)-(m=g%85))/85)%85,l.push(_+33,m+33,C+33,I+33,L+33)):l.push(122);return function(x,T){for(var j=T;j>0;j--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,u,d,g,_=String,m="length",C=255,I="charCodeAt",L="slice",x="replace";for(a[L](-2),a=a[L](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,g=(a+=o="uuuuu"[L](a[m]%5||5))[m];g>d;d+=5)l=52200625*(a[I](d)-33)+614125*(a[I](d+1)-33)+7225*(a[I](d+2)-33)+85*(a[I](d+3)-33)+(a[I](d+4)-33),u.push(C&l>>24,C&l>>16,C&l>>8,C&l);return function(T,j){for(var U=j;U>0;U--)T.pop()}(u,o[m]),_.fromCharCode.apply(_,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=F0(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,d){var g=new XMLHttpRequest,_=0,m=function(C){var I=C.length,L=[],x=String.fromCharCode;for(_=0;_<I;_+=1)L.push(x(255&C.charCodeAt(_)));return L.join("")};if(g.open("GET",l,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?d(m(this.responseText)):d(void 0)}),g.send(null),u&&g.status===200)return m(g.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):Hg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):Hg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=ln(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(o(g,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var C=d[m],I=C.src.find(function(L){return L.format==="truetype"});I&&u.addFont(I.url,C.ref.name,C.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,u.context2d.save(!0),l(this.prop.container,_)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,g){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(_){return u.updateProgress(null,d),_}).then(d,g).then(function(_){return u.updateProgress(1),_})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),_=u.call(g,o,l);return a.convert(_,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,at.getPageSize=function(o,l,u){if(ln(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var g,_=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var C,I=0,L=0;if(m.hasOwnProperty(_))I=m[_][1]/g,L=m[_][0]/g;else try{I=u[1],L=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",L>I&&(C=L,L=I,I=C);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",I>L&&(C=L,L=I,I=C)}return{width:L,height:I,unit:l,k:g,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(c1):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(at.API),at.API.addJS=function(t){return ub=t,this.internal.events.subscribe("postPutResources",function(){Of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ub+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Of!==void 0&&lb!==void 0&&this.internal.out("/Names <</JavaScript "+Of+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var g=n.internal.newObject();d.push(g);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var _,m=256*g.charCodeAt(4)+g.charCodeAt(5),C=g.length,I={width:0,height:0,numcomponents:1},L=4;L<C;L+=2){if(L+=m,e.indexOf(g.charCodeAt(L+1))!==-1){_=256*g.charCodeAt(L+5)+g.charCodeAt(L+6),I={width:256*g.charCodeAt(L+7)+g.charCodeAt(L+8),height:_,numcomponents:g.charCodeAt(L+9)};break}m=256*g.charCodeAt(L+2)+g.charCodeAt(L+3)}return I}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(at.API),at.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=OD(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,d=s.depth;i=u&&l===1?function(S){for(var N=S.width,R=S.height,b=S.data,E=S.palette,P=S.depth,te=!1,de=[],ye=[],fe=void 0,Z=!1,G=0,pe=0;pe<E.length;pe++){var _e=fw(E[pe],4),F=_e[0],K=_e[1],q=_e[2],Q=_e[3];de.push(F,K,q),Q!=null&&(Q===0?(G++,ye.length<1&&ye.push(pe)):Q<255&&(Z=!0))}if(Z||G>1){te=!0,ye=void 0;var ie=N*R;fe=new Uint8Array(ie);for(var ae=new DataView(b.buffer),ve=0;ve<ie;ve++){var we=d1(ae,ve,P),xe=fw(E[we],4)[3];fe[ve]=xe}}else G===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:b,alphaBytes:fe,needSMask:te,palette:de,mask:ye}}(s):l===2||l===4?function(S){for(var N=S.data,R=S.width,b=S.height,E=S.channels,P=S.depth,te=E===2?"DeviceGray":"DeviceRGB",de=E-1,ye=R*b,fe=de,Z=ye*fe,G=1*ye,pe=Math.ceil(Z*P/8),_e=Math.ceil(G*P/8),F=new Uint8Array(pe),K=new Uint8Array(_e),q=new DataView(N.buffer),Q=new DataView(F.buffer),ie=new DataView(K.buffer),ae=!1,ve=0;ve<ye;ve++){for(var we=ve*E,xe=0;xe<fe;xe++)yb(Q,d1(q,we+xe,P),ve*fe+xe,P);var Te=d1(q,we+fe,P);Te<(1<<P)-1&&(ae=!0),yb(ie,Te,1*ve,P)}return{colorSpace:te,colorsPerPixel:de,sMaskBitsPerComponent:ae?P:void 0,colorBytes:F,alphaBytes:K,needSMask:ae}}(s):function(S){var N=S.data,R=S.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(b){for(var E=b.length,P=new Uint8Array(2*E),te=new DataView(P.buffer,P.byteOffset,P.byteLength),de=0;de<E;de++)te.setUint16(2*de,b[de],!1);return P}(N):N,needSMask:!1}}(s);var g,_,m,C=i,I=C.colorSpace,L=C.colorsPerPixel,x=C.sMaskBitsPerComponent,T=C.colorBytes,j=C.alphaBytes,U=C.needSMask,ne=C.palette,M=C.mask,V=null;return r!==at.API.image_compression.NONE&&typeof F0=="function"?(V=function(S){var N;switch(S){case at.API.image_compression.FAST:N=11;break;case at.API.image_compression.MEDIUM:N=13;break;case at.API.image_compression.SLOW:N=14;break;default:N=12}return N}(r),g=this.decode.FLATE_DECODE,_="/Predictor ".concat(V," /Colors ").concat(L," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=fb(T,Math.ceil(a*L*d/8),L,d,r),U&&(m=fb(j,Math.ceil(a*x/8),1,x,r))):(g=void 0,_=void 0,t=T,U&&(m=j)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:g,decodeParameters:_,transparency:M,palette:ne,sMask:m,predictor:V,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:I}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new rO(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new f1(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(at.API),Es.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Es.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){pn.log("bit decode error:"+n)}},Es.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Es.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Es.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Es.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},Es.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},Es.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Es.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Es.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Es(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new f1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),wb.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new wb(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new f1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=r[u],g=r[u+1],_=r[u+2],m=r[u+3];s[o++]=d,s[o++]=g,s[o++]=_,a[l++]=m}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:C,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tu=at.API,Mf=Tu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,g=e.doKerning!==!1,_=0,m=t.length,C=0,I=o[0]||l,L=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(_=g&&ln(u[r])==="object"&&!isNaN(parseInt(u[r][C],10))?u[r][C]/d:0,L.push((o[r]||I)/l+_)),C=r;return L},cb=Tu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Tu.processArabic&&(t=Tu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Mf.apply(this,arguments).reduce(function(s,a){return s+a},0)},hb=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},db=function(t,e,n){n||(n={});var r,i,s,a,o,l,u,d=[],g=[d],_=n.textIndent||0,m=0,C=0,I=t.split(" "),L=Mf.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),T=[];I.map(function(U){(U=U.split(/\s*\n/)).length>1?T=T.concat(U.map(function(ne,M){return(M&&ne.length?`
`:"")+ne})):T.push(U[0])}),I=T,l=cb.apply(this,[x,n])}for(s=0,a=I.length;s<a;s++){var j=0;if(r=I[s],l&&r[0]==`
`&&(r=r.substr(1),j=1),_+m+(C=(i=Mf.apply(this,[r,n])).reduce(function(U,ne){return U+ne},0))>e||j){if(C>e){for(o=hb.apply(this,[r,i,e-(_+m),e]),d.push(o.shift()),d=[o.pop()];o.length;)g.push([o.shift()]);C=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(U,ne){return U+ne},0)}else d=[r];g.push(d),_=C+l,m=L}else d.push(r),_+=m+C,m=L}return u=l?function(U,ne){return(ne?x:"")+U.join(" ")}:function(U){return U.join(" ")},g.map(u)},Tu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),_="Unicode";return g.metadata[_]?{widths:g.metadata[_].widths||{0:1},kerning:g.metadata[_].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(db.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(_){return"0x"+parseInt(_,10).toString(16)},o=t.__fontmetrics__.compress=function(_){var m,C,I,L,x=["{"];for(var T in _){if(m=_[T],isNaN(parseInt(T,10))?C="'"+T+"'":(T=parseInt(T,10),C=(C=a(T).slice(2)).slice(0,-1)+i[C.slice(-1)]),typeof m=="number")m<0?(I=a(m).slice(3),L="-"):(I=a(m).slice(2),L=""),I=L+I.slice(0,-1)+i[I.slice(-1)];else{if(ln(m)!=="object")throw new Error("Don't know what to do with value type "+ln(m)+".");I=o(m)}x.push(C+I)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,C,I,L,x={},T=1,j=x,U=[],ne="",M="",V=_.length-1,S=1;S<V;S+=1)(L=_[S])=="'"?m?(I=m.join(""),m=void 0):m=[]:m?m.push(L):L=="{"?(U.push([j,I]),j={},I=void 0):L=="}"?((C=U.pop())[0][C[1]]=j,I=void 0,j=C[0]):L=="-"?T=-1:I===void 0?r.hasOwnProperty(L)?(ne+=r[L],I=parseInt(ne,16)*T,T=1,ne=""):ne+=L:r.hasOwnProperty(L)?(M+=r[L],j[I]=parseInt(M,16)*T,T=1,I=void 0,M=""):M+=L;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(_){var m=_.font,C=g.Unicode[m.postScriptName];C&&(m.metadata.Unicode={},m.metadata.Unicode.widths=C.widths,m.metadata.Unicode.kerning=C.kerning);var I=d.Unicode[m.postScriptName];I&&(m.metadata.Unicode.encoding=I,m.encoding=I.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(lp(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),at.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(xt.canvg?Promise.resolve(xt.canvg):Hg(()=>import("./index.es-Bv-d3qNg.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(d)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,g=0;function _(C,I){var L,x=!1;for(L=0;L<C.length;L+=1)C[L]===I&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(g=0;g<m;g+=1)n[o[g]].value=n[o[g]].defaultValue,n[o[g]].explicitSet=!1}if(ln(t)==="object"){for(i in t)if(s=t[i],_(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,I=[];for(C in n)n[C].explicitSet===!0&&(n[C].type==="name"?I.push("/"+C+" /"+n[C].value):I.push("/"+C+" "+n[C].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],g=0,_=s.length;g<_;++g){if(o=a.metadata.characterToGlyph(s.charCodeAt(g)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(g),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(s){var a,o,l,u,d,g,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,_=(o=Object.keys(s).sort(function(m,C){return m-C})).length;g<_;g++)a=o[g],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var g=o.metadata.Unicode.widths,_=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",C=0;C<_.length;C++)m+=String.fromCharCode(_[C]);var I=u();d({data:m,addLength1:!0,objectId:I}),l("endobj");var L=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ju(o.fontName)),l("/FontFile2 "+I+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var T=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ju(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+ju(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+T+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var g=o.metadata.rawData,_="",m=0;m<g.length;m++)_+=String.fromCharCode(g[m]);var C=u();d({data:_,addLength1:!0,objectId:C}),l("endobj");var I=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var L=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+C+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ju(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+ju(o.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,d=s.options||{},g=s.mutex||{},_=g.pdfEscape,m=g.activeFontKey,C=g.fonts,I=m,L="",x=0,T="",j=C[I].encoding;if(C[I].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:g};for(T=o,I=m,Array.isArray(o)&&(T=o[0]),x=0;x<T.length;x+=1)C[I].metadata.hasOwnProperty("cmap")&&(a=C[I].metadata.cmap.unicode.codeMap[T[x].charCodeAt(0)]),a||T[x].charCodeAt(0)<256&&C[I].metadata.hasOwnProperty("Unicode")?L+=T[x]:L+="";var U="";return parseInt(I.slice(1))<14||j==="WinAnsiEncoding"?U=_(L,I).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(U=n(L,C[I])),g.isHex=!0,{text:U,x:l,y:u,options:d,mutex:g}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,d,g=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,j=0;this.__bidiEngine__={};var U=function(b){var E=b.charCodeAt(),P=E>>8,te=I[P];return te!==void 0?g[256*te+(255&E)]:P===252||P===253?"AL":x.test(P)?"L":P===8?"R":"N"},ne=function(b){for(var E,P=0;P<b.length;P++){if((E=U(b.charAt(P)))==="L")return!1;if(E==="R")return!0}return!1},M=function(b,E,P,te){var de,ye,fe,Z,G=E[te];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(G="AN");break;case"AL":T=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":te<1||te+1>=E.length||(de=P[te-1])!=="EN"&&de!=="AN"||(ye=E[te+1])!=="EN"&&ye!=="AN"?G="N":T&&(ye="AN"),G=ye===de?ye:"N";break;case"ES":G=(de=te>0?P[te-1]:"B")==="EN"&&te+1<E.length&&E[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&P[te-1]==="EN"){G="EN";break}if(T){G="N";break}for(fe=te+1,Z=E.length;fe<Z&&E[fe]==="ET";)fe++;G=fe<Z&&E[fe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Z=E.length,fe=te+1;fe<Z&&E[fe]==="NSM";)fe++;if(fe<Z){var pe=b[te],_e=pe>=1425&&pe<=2303||pe===64286;if(de=E[fe],_e&&(de==="R"||de==="AL")){G="R";break}}}G=te<1||(de=E[te-1])==="B"?"N":P[te-1];break;case"B":T=!1,i=!0,G=j;break;case"S":s=!0,G="N"}return G},V=function(b,E,P){var te=b.split("");return P&&S(te,P,{hiLevel:j}),te.reverse(),E&&E.reverse(),te.join("")},S=function(b,E,P){var te,de,ye,fe,Z,G=-1,pe=b.length,_e=0,F=[],K=j?m:_,q=[];for(T=!1,i=!1,s=!1,de=0;de<pe;de++)q[de]=U(b[de]);for(ye=0;ye<pe;ye++){if(Z=_e,F[ye]=M(b,q,F,ye),te=240&(_e=K[Z][C[F[ye]]]),_e&=15,E[ye]=fe=K[_e][5],te>0)if(te===16){for(de=G;de<ye;de++)E[de]=1;G=-1}else G=-1;if(K[_e][6])G===-1&&(G=ye);else if(G>-1){for(de=G;de<ye;de++)E[de]=fe;G=-1}q[ye]==="B"&&(E[ye]=0),P.hiLevel|=fe}s&&function(Q,ie,ae){for(var ve=0;ve<ae;ve++)if(Q[ve]==="S"){ie[ve]=j;for(var we=ve-1;we>=0&&Q[we]==="WS";we--)ie[we]=j}}(q,E,pe)},N=function(b,E,P,te,de){if(!(de.hiLevel<b)){if(b===1&&j===1&&!i)return E.reverse(),void(P&&P.reverse());for(var ye,fe,Z,G,pe=E.length,_e=0;_e<pe;){if(te[_e]>=b){for(Z=_e+1;Z<pe&&te[Z]>=b;)Z++;for(G=_e,fe=Z-1;G<fe;G++,fe--)ye=E[G],E[G]=E[fe],E[fe]=ye,P&&(ye=P[G],P[G]=P[fe],P[fe]=ye);_e=Z}_e++}}},R=function(b,E,P){var te=b.split(""),de={hiLevel:j};return P||(P=[]),S(te,P,de),function(ye,fe,Z){if(Z.hiLevel!==0&&d)for(var G,pe=0;pe<ye.length;pe++)fe[pe]===1&&(G=L.indexOf(ye[pe]))>=0&&(ye[pe]=L[G+1])}(te,P,de),N(2,te,E,P,de),N(1,te,E,P,de),te.join("")};return this.__bidiEngine__.doBidiReorder=function(b,E,P){if(function(de,ye){if(ye)for(var fe=0;fe<de.length;fe++)ye[fe]=fe;o===void 0&&(o=ne(de)),u===void 0&&(u=ne(de))}(b,E),a||!l||u)if(a&&l&&o^u)j=o?1:0,b=V(b,E,P);else if(!a&&l&&u)j=o?1:0,b=R(b,E,P),b=V(b,E);else if(!a||o||l||u){if(a&&!l&&o^u)b=V(b,E),o?(j=0,b=R(b,E,P)):(j=1,b=R(b,E,P),b=V(b,E));else if(a&&o&&!l&&u)j=1,b=R(b,E,P),b=V(b,E);else if(!a&&!l&&o^u){var te=d;o?(j=1,b=R(b,E,P),j=0,d=!1,b=R(b,E,P),d=te):(j=0,b=R(b,E,P),b=V(b,E),j=1,d=!1,b=R(b,E,P),d=te,b=V(b,E))}}else j=0,b=R(b,E,P);else j=o?1:0,b=R(b,E,P);return b},this.__bidiEngine__.setOptions=function(b){b&&(a=b.isInputVisual,l=b.isOutputVisual,o=b.isInputRtl,u=b.isOutputRtl,d=b.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new hl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new yO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new iO(this.contents),this.head=new aO(this),this.name=new hO(this),this.cmap=new ZS(this),this.toUnicode={},this.hhea=new oO(this),this.maxp=new dO(this),this.hmtx=new fO(this),this.post=new uO(this),this.os2=new lO(this),this.loca=new vO(this),this.glyf=new pO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Fs,hl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),iO=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,u,d,g,_,m,C,I;for(I in m=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(m)/l),a=Math.floor(g/l),d=16*m-g,(i=new hl).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(a),i.writeShort(d),s=16*m,u=i.pos+s,o=null,C=[],n)for(_=n[I],i.writeString(I),i.writeInt(t(_)),i.writeInt(u),i.writeInt(_.length),C=C.concat(_),I==="head"&&(o=u),u+=_.length;u%4;)C.push(0),u++;return i.write(C),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=eN.call(n);n.length%4;)n.push(0);for(s=new hl(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),sO={}.hasOwnProperty,ma=function(t,e){for(var n in e)sO.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Fs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var aO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new hl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),bb=function(){function t(e,n){var r,i,s,a,o,l,u,d,g,_,m,C,I,L,x,T,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),_=m/2,e.pos+=6,s=function(){var U,ne;for(ne=[],l=U=0;0<=_?U<_:U>_;l=0<=_?++U:--U)ne.push(e.readUInt16());return ne}(),e.pos+=2,I=function(){var U,ne;for(ne=[],l=U=0;0<=_?U<_:U>_;l=0<=_?++U:--U)ne.push(e.readUInt16());return ne}(),u=function(){var U,ne;for(ne=[],l=U=0;0<=_?U<_:U>_;l=0<=_?++U:--U)ne.push(e.readUInt16());return ne}(),d=function(){var U,ne;for(ne=[],l=U=0;0<=_?U<_:U>_;l=0<=_?++U:--U)ne.push(e.readUInt16());return ne}(),i=(this.length-e.pos+this.offset)/2,o=function(){var U,ne;for(ne=[],l=U=0;0<=i?U<i:U>i;l=0<=i?++U:--U)ne.push(e.readUInt16());return ne}(),l=x=0,j=s.length;x<j;l=++x)for(L=s[l],r=T=C=I[l];C<=L?T<=L:T>=L;r=C<=L?++T:--T)d[l]===0?a=r+u[l]:(a=o[d[l]/2+(r-C)-(_-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=g}return t.encode=function(e,n){var r,i,s,a,o,l,u,d,g,_,m,C,I,L,x,T,j,U,ne,M,V,S,N,R,b,E,P,te,de,ye,fe,Z,G,pe,_e,F,K,q,Q,ie,ae,ve,we,xe,Te,Fe;switch(te=new hl,a=Object.keys(e).sort(function(Ve,Ae){return Ve-Ae}),n){case"macroman":for(I=0,L=function(){var Ve=[];for(C=0;C<256;++C)Ve.push(0);return Ve}(),T={0:0},s={},de=0,G=a.length;de<G;de++)T[we=e[i=a[de]]]==null&&(T[we]=++I),s[i]={old:e[i],new:T[e[i]]},L[i]=T[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(L),{charMap:s,subtable:te.data,maxGlyphID:I+1};case"unicode":for(E=[],g=[],j=0,T={},r={},x=u=null,ye=0,pe=a.length;ye<pe;ye++)T[ne=e[i=a[ye]]]==null&&(T[ne]=++j),r[i]={old:ne,new:T[ne]},o=T[ne]-i,x!=null&&o===u||(x&&g.push(x),E.push(i),u=o),x=i;for(x&&g.push(x),g.push(65535),E.push(65535),R=2*(N=E.length),S=2*Math.pow(Math.log(N)/Math.LN2,2),_=Math.log(S/2)/Math.LN2,V=2*N-S,l=[],M=[],m=[],C=fe=0,_e=E.length;fe<_e;C=++fe){if(b=E[C],d=g[C],b===65535){l.push(0),M.push(0);break}if(b-(P=r[b].new)>=32768)for(l.push(0),M.push(2*(m.length+N-C)),i=Z=b;b<=d?Z<=d:Z>=d;i=b<=d?++Z:--Z)m.push(r[i].new);else l.push(P-b),M.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*N+2*m.length),te.writeUInt16(0),te.writeUInt16(R),te.writeUInt16(S),te.writeUInt16(_),te.writeUInt16(V),ae=0,F=g.length;ae<F;ae++)i=g[ae],te.writeUInt16(i);for(te.writeUInt16(0),ve=0,K=E.length;ve<K;ve++)i=E[ve],te.writeUInt16(i);for(xe=0,q=l.length;xe<q;xe++)o=l[xe],te.writeUInt16(o);for(Te=0,Q=M.length;Te<Q;Te++)U=M[Te],te.writeUInt16(U);for(Fe=0,ie=m.length;Fe<ie;Fe++)I=m[Fe],te.writeUInt16(I);return{charMap:r,subtable:te.data,maxGlyphID:j+1}}},t}(),ZS=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new bb(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=bb.encode(e,n),(i=new hl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),oO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),lO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),uO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),cO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,l,u,d,g,_;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,g=r.length;d<g;s=++d)i=r[s],e.pos=i.offset,u=e.readString(i.length),a=new cO(u,i),l[_=i.nameID]==null&&(l[_]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),dO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),fO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,g,_;for(_=[],u=0,d=(g=this.metrics).length;u<d;u++)s=g[u],_.push(s.advance);return _}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),eN=[].slice,pO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,l,u,d,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new hl(n.read(i))).readShort(),u=o.readShort(),g=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new gO(o,u,g,l,d):new mO(o,a,u,g,l,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t}(),mO=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),gO=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new hl(eN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),vO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ma(t,Fs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),yO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,u,d,g,_,m,C,I,L,x;for(i in r=ZS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},x=r.charMap)m[(l=x[i]).old]=l.new;for(C in _=r.maxGlyphID,a)C in m||(m[C]=_++);return d=function(T){var j,U;for(j in U={},T)U[T[j]]=j;return U}(m),g=Object.keys(d).sort(function(T,j){return T-j}),I=function(){var T,j,U;for(U=[],T=0,j=g.length;T<j;T++)o=g[T],U.push(d[o]);return U}(),s=this.font.glyf.encode(a,I,m),u=this.font.loca.encode(s.offsets,I),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function _O(){var ne;const{dealId:t}=Id(),e=((ne=Ei.currentUser)==null?void 0:ne.uid)||"",[n,r]=le.useState(!0),[i,s]=le.useState(null),[a,o]=le.useState(null),[l,u]=le.useState(null),[d,g]=le.useState({marginTop:72,marginRight:40,marginBottom:60,marginLeft:40,lineHeight:18,titleSize:16,bodySize:12}),_=(M,V)=>g(S=>({...S,[M]:V})),[m,C]=le.useState({mouCity:"Bogor",mouDate:new Date().toISOString().slice(0,10),vendorName:"",vendorRep:"",vendorJobTitle:"Pemilik / Project Manager",vendorAddress:"",vendorPhone:"",clientName:"",clientWa:"",clientAddress:"",groomName:"",groomIg:"",brideName:"",brideIg:"",eventType:"",pricelistName:"",packageType:"",packagePrice:0,addonsSummary:"",total:0,weddingDate:"",akadTime:"",akadPlace:"",resepsiTime:"",resepsiPlace:"",lamaranDate:"",lamaranTime:"",lamaranPlace:"",prewedDate:"",prewedPlace:"",dpAmount:0,dpDate:"",remainingAmount:0,dueDate:"",bankName:"",bankAccountNumber:"",bankAccountHolder:"",clauseDeliverSocial:"Foto pilihan & video highlight 1 menit akan diserahkan 12 minggu setelah acara.",clauseDeliverAll:"Seluruh hasil akhir diserahkan 3045 hari kerja sejak tanggal acara.",clauseCancellation:"DP/termin pertama hangus jika pembatalan sepihak oleh PIHAK KEDUA. Jika sudah pelunasan, pengembalian 60% dari termin kedua.",clausePortfolio:"PIHAK PERTAMA berhak menggunakan hasil karya untuk portfolio dengan menjaga privasi & kesopanan.",clauseDataLoss:"Jika terjadi kehilangan data karena kesalahan internal, kompensasi: 200% porsi jasa foto / 50% porsi jasa video; prewedding: sesi ulang ditanggung PIHAK PERTAMA. Tidak berlaku untuk force majeure atau kejadian di luar kendali wajar.",signVendor:"",signClient:""}),I=(M,V)=>C(S=>({...S,[M]:V}));le.useEffect(()=>{if(!e||!t)return;const M=[];return(async()=>{var V,S,N,R,b,E,P,te,de,ye;try{const fe=En(Gt(Et,"tokens",e),Q=>{var ve;const ie=Q.data(),ae=(ve=ie==null?void 0:ie.expiresAt)!=null&&ve.toMillis?ie.expiresAt.toMillis():0;u(ae>Date.now())});M.push(fe);let Z={};try{Z=(await Ku(Gt(Et,"vendors",e))).data()||{}}catch(Q){throw console.error("ERR vendor:",Q),new Error("Gagal baca vendor (izin/rules?)")}let G;try{const Q=await Ku(Gt(Et,"deals",t));if(!Q.exists())throw new Error("Deal tidak ditemukan");if(G=Q.data(),G.uid!==e)throw new Error("Tidak berhak mengakses deal ini");o({id:Q.id,...G})}catch(Q){throw console.error("ERR deal:",Q),Q}let pe;try{pe=(await Ku(Gt(Et,"mous",t))).data(),pe!=null&&pe.layout&&g({...d,...xb(pe.layout)})}catch(Q){console.warn("WARN mous (optional):",Q)}let _e;try{_e=(await Ku(Gt(Et,"mouDefaults",e))).data(),_e!=null&&_e.layout&&g(ie=>({...ie,...xb(_e.layout)}))}catch(Q){console.warn("WARN mouDefaults (optional):",Q)}const F=G!=null&&G.addonSummary?G.addonSummary.map(Q=>`${Q.name} (${Ml(Q.price||0)})`).join(", "):"Tidak ada",q={...{mouCity:"Bogor",mouDate:new Date().toISOString().slice(0,10),vendorName:Z.name||"",vendorRep:Z.bankAccountHolder||"",vendorJobTitle:"Pemilik / Project Manager",vendorAddress:Z.address||"",vendorPhone:Z.whatsapp||"",clientName:(G==null?void 0:G.clientName)||"",clientWa:(G==null?void 0:G.clientWa)||"",clientAddress:(G==null?void 0:G.address)||"",groomName:(G==null?void 0:G.groomName)||"",groomIg:(G==null?void 0:G.groomIg)||"",brideName:(G==null?void 0:G.brideName)||"",brideIg:(G==null?void 0:G.brideIg)||"",eventType:(G==null?void 0:G.eventType)||(G!=null&&G.isWedding?"wedding":G!=null&&G.isLamaran?"lamaran":G!=null&&G.isPrewed?"prewedding":""),pricelistName:(G==null?void 0:G.parent)||"",packageType:(G==null?void 0:G.packageType)||"",packagePrice:(G==null?void 0:G.packagePrice)||0,addonsSummary:F||"Tidak ada",total:(G==null?void 0:G.total)||0,weddingDate:((V=G==null?void 0:G.wedding)==null?void 0:V.date)||"",akadTime:((S=G==null?void 0:G.wedding)==null?void 0:S.akadTime)||"",akadPlace:((N=G==null?void 0:G.wedding)==null?void 0:N.akadPlace)||"",resepsiTime:((R=G==null?void 0:G.wedding)==null?void 0:R.resepsiTime)||"",resepsiPlace:((b=G==null?void 0:G.wedding)==null?void 0:b.resepsiPlace)||"",lamaranDate:((E=G==null?void 0:G.lamaran)==null?void 0:E.date)||"",lamaranTime:((P=G==null?void 0:G.lamaran)==null?void 0:P.time)||"",lamaranPlace:((te=G==null?void 0:G.lamaran)==null?void 0:te.place)||"",prewedDate:((de=G==null?void 0:G.prewedding)==null?void 0:de.date)||"",prewedPlace:((ye=G==null?void 0:G.prewedding)==null?void 0:ye.place)||"",dpAmount:0,dpDate:"",remainingAmount:Math.max((G==null?void 0:G.total)||0,0),dueDate:"",bankName:Z.bankName||"",bankAccountNumber:Z.bankAccountNumber||"",bankAccountHolder:Z.bankAccountHolder||"",clauseDeliverSocial:"Foto pilihan & video highlight 1 menit akan diserahkan 12 minggu setelah acara.",clauseDeliverAll:"Seluruh hasil akhir diserahkan 3045 hari kerja sejak tanggal acara.",clauseCancellation:"DP/termin pertama hangus jika pembatalan sepihak oleh PIHAK KEDUA. Jika sudah pelunasan, pengembalian 60% dari termin kedua.",clausePortfolio:"PIHAK PERTAMA berhak menggunakan hasil karya untuk portfolio dengan menjaga privasi & kesopanan.",clauseDataLoss:"Jika terjadi kehilangan data karena kesalahan internal, kompensasi: 200% porsi jasa foto / 50% porsi jasa video; prewedding: sesi ulang ditanggung PIHAK PERTAMA. Tidak berlaku untuk force majeure atau kejadian di luar kendali wajar.",signVendor:Z.bankAccountHolder||"",signClient:(G==null?void 0:G.clientName)||""},..._e||{},...pe||{}};C(q),r(!1)}catch(fe){s((fe==null?void 0:fe.message)||"Gagal memuat data MOU"),r(!1)}})(),()=>M.forEach(V=>V())},[e,t]);const L=le.useMemo(()=>{const M=[];return M.push(`Perjanjian ini dibuat dan ditandatangani di ${m.mouCity}, pada ${Fl(m.mouDate)}, oleh dan antara:`),M.push(""),M.push("1. PIHAK PERTAMA:"),M.push(`Nama Usaha: ${tn(m.vendorName)} / Vendor fotografi Wedding`),M.push(`Nama Perwakilan: ${tn(m.vendorRep)}`),M.push(`Jabatan: ${tn(m.vendorJobTitle)}`),M.push(`Alamat: ${tn(m.vendorAddress)}`),M.push(`Nomor Telepon: ${tn(m.vendorPhone)}`),M.push("Selanjutnya disebut PIHAK PERTAMA atau Penyedia Jasa."),M.push(""),M.push("2. PIHAK KEDUA:"),M.push(`Nama Lengkap Klien: ${tn(m.clientName)}`),M.push(`Nomor WhatsApp: ${tn(m.clientWa)}`),M.push(`Alamat Pengiriman: ${tn(m.clientAddress)}`),M.push(`Nama Pria: ${tn(m.groomName)} (Instagram: ${tn(m.groomIg,"-")})`),M.push(`Nama Wanita: ${tn(m.brideName)} (Instagram: ${tn(m.brideIg,"-")})`),M.push("Selanjutnya disebut PIHAK KEDUA atau Klien."),M.push(""),M.push("Pasal 1  RUANG LINGKUP JASA"),M.push(`Jenis acara: ${wO(m.eventType)}.`),M.push(`Nama Pricelist: ${tn(m.pricelistName)}.`),M.push(`Jenis (type): ${tn(m.packageType)}.`),M.push(""),M.push("Pasal 2  JADWAL DAN LOKASI ACARA"),m.eventType==="wedding"?(M.push("Nama acara: Wedding"),M.push(`Tanggal acara: ${Fl(m.weddingDate)||"-"}`),M.push(`Jam akad / pemberkatan: ${tn(m.akadTime,"-")}`),M.push(`Tempat akad / pemberkatan: ${tn(m.akadPlace,"-")}`),M.push(`Jam resepsi: ${tn(m.resepsiTime,"-")}`),M.push(`Tempat resepsi: ${tn(m.resepsiPlace,"-")}`)):m.eventType==="lamaran"?(M.push("Nama acara: Lamaran"),M.push(`Tanggal acara: ${Fl(m.lamaranDate)||"-"}`),M.push(`Jam lamaran: ${tn(m.lamaranTime,"-")}`),M.push(`Tempat lamaran: ${tn(m.lamaranPlace,"-")}`)):m.eventType==="prewedding"?(M.push("Nama acara: Prewedding"),M.push(`Tanggal acara: ${Fl(m.prewedDate)||"-"}`),M.push(`Tempat prewedding: ${tn(m.prewedPlace,"-")}`)):M.push("Nama acara: -"),M.push(""),M.push("Pasal 3  LAYANAN TAMBAHAN (ADD-ON)"),M.push(`Add-ons: ${tn(m.addonsSummary,"Tidak Ada")}.`),M.push(""),M.push("Pasal 4  BIAYA & PEMBAYARAN"),M.push(`Harga Paket Awal: ${Ml(m.packagePrice)}.`),M.push(`Total Disepakati: ${Ml(m.total)}.`),M.push(`Uang Muka (DP): ${Ml(m.dpAmount)} pada ${Fl(m.dpDate)||"-"}.`),M.push(`Sisa Pelunasan: ${Ml(m.remainingAmount)} (batas ${Fl(m.dueDate)||"-"}).`),M.push(`Pembayaran via: ${tn(m.bankName)}  ${tn(m.bankAccountNumber)} a.n. ${tn(m.bankAccountHolder)}.`),M.push(""),M.push("Pasal 5  HAK & KEWAJIBAN"),M.push("Kewajiban PIHAK PERTAMA: profesional sesuai paket; koordinasi; menyerahkan hasil sesuai jadwal; simpan raw file 36 bulan."),M.push("Kewajiban PIHAK KEDUA: beri info akurat; patuhi jadwal pembayaran; kooperatif; biaya venue/izin ditanggung PIHAK KEDUA bila ada."),M.push(""),M.push("Pasal 6  JADWAL PENYERAHAN HASIL"),M.push(m.clauseDeliverSocial||""),M.push(m.clauseDeliverAll||""),M.push(""),M.push("Pasal 7  PEMBATALAN / PERUBAHAN JADWAL"),M.push(m.clauseCancellation||""),M.push(""),M.push("Pasal 8  HAK CIPTA & PORTFOLIO"),M.push(m.clausePortfolio||""),M.push(""),M.push("Pasal 9  BATASAN TANGGUNG JAWAB (KEHILANGAN DATA)"),M.push(m.clauseDataLoss||""),M.push(""),M.push("PENUTUP"),M.push(`Dibuat di: ${tn(m.mouCity)} pada ${Fl(m.mouDate)}.`),M.push(""),M},[m]),x=async()=>{if(!(!e||!t))try{await Ya(Gt(Et,"mous",t),{uid:e,dealId:t,...m,layout:d,updatedAt:Ba(),createdAt:(m==null?void 0:m.createdAt)||Ba()},{merge:!0}),alert("MOU disimpan.")}catch(M){alert("Gagal menyimpan MOU: "+((M==null?void 0:M.message)||"unknown"))}},T=async()=>{if(e)try{const{clauseDeliverSocial:M,clauseDeliverAll:V,clauseCancellation:S,clausePortfolio:N,clauseDataLoss:R,vendorJobTitle:b}=m;await Ya(Gt(Et,"mouDefaults",e),{clauseDeliverSocial:M,clauseDeliverAll:V,clauseCancellation:S,clausePortfolio:N,clauseDataLoss:R,vendorJobTitle:b,layout:d,updatedAt:Ba()},{merge:!0}),alert("Template default MOU disimpan untuk UID ini.")}catch(M){alert("Gagal menyimpan default: "+((M==null?void 0:M.message)||"unknown"))}},j=async()=>{try{const M=new at({unit:"pt",format:"a4"}),V=M.internal.pageSize.getWidth(),S=M.internal.pageSize.getHeight(),{marginTop:N,marginRight:R,marginBottom:b,marginLeft:E,lineHeight:P,titleSize:te,bodySize:de}=d,ye=V-E-R;M.setFont("Times","Normal"),M.setFontSize(te);const fe="MEMORANDUM OF UNDERSTANDING (MoU) / SURAT PERJANJIAN KERJASAMA",Z=N;M.text(fe,V/2,Z,{align:"center",maxWidth:ye});let G=Z+P*1.8;M.setFontSize(de);const pe=()=>{G>S-b&&(M.addPage(),G=N,M.setFontSize(de))},_e=K=>{M.splitTextToSize((K||"").replace(/\r/g,""),ye).forEach(Q=>{pe(),M.text(String(Q),E,G,{maxWidth:ye}),G+=P}),G+=Math.round(P*.25)};L.forEach(_e),G+=P*1.5,pe(),M.text("PIHAK PERTAMA",E,G),M.text("PIHAK KEDUA",V-R,G,{align:"right"}),G+=P*3,pe(),M.text(tn(m.signVendor,"(Tanda tangan & nama jelas)"),E,G),M.text(tn(m.signClient,"(Tanda tangan & nama jelas)"),V-R,G,{align:"right"});const F=M.getNumberOfPages();M.setFontSize(10);for(let K=1;K<=F;K++)M.setPage(K),M.text(`Halaman ${K}/${F}`,V-R,S-18,{align:"right"});M.save(`MOU_${bO(m.clientName||"client")}.pdf`)}catch(M){alert("Gagal export PDF"),console.error(M)}};if(!e)return p.jsx("div",{className:"container",children:p.jsx("div",{className:"card torn",children:"Silakan login"})});if(n)return p.jsx("div",{className:"container",children:p.jsx("div",{className:"card",children:"Memuat"})});if(i)return p.jsx("div",{className:"container",children:p.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:i})});const U=L;return p.jsxs("div",{className:"container",style:{maxWidth:980},children:[p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Buat / Edit MOU"}),l===!1&&p.jsxs("div",{className:"banner",style:{background:"#fff7ed",border:"1px solid #fed7aa",color:"#9a3412"},children:["Masa aktif akun ",p.jsx("b",{children:"habis"}),". Simpan/Export masih bisa dipakai, tapi sebaiknya aktifkan ulang token."]}),p.jsxs("div",{style:{color:"#666"},children:["Draft dari deal: ",p.jsx("b",{children:(a==null?void 0:a.clientName)||"(tanpa nama)"})]})]}),p.jsx("div",{className:"card",children:p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[p.jsxs("div",{children:[p.jsxs("div",{children:[p.jsx("b",{children:"Klien:"})," ",m.clientName||"-"]}),p.jsxs("div",{children:[p.jsx("b",{children:"WA:"})," ",m.clientWa||"-"]}),p.jsxs("div",{children:[p.jsx("b",{children:"Alamat:"})," ",m.clientAddress||"-"]}),p.jsxs("div",{children:[p.jsx("b",{children:"Pasangan:"})," ",m.groomName||"-"," & ",m.brideName||"-"]}),p.jsxs("div",{children:[p.jsx("b",{children:"IG:"})," ",m.groomIg||"-","  ",m.brideIg||"-"]})]}),p.jsxs("div",{children:[p.jsxs("div",{children:[p.jsx("b",{children:"Paket:"})," ",m.pricelistName||"-"," "," ",m.packageType||"-"]}),p.jsxs("div",{children:[p.jsx("b",{children:"Harga Paket:"})," ",Ml(m.packagePrice||0)]}),p.jsxs("div",{children:[p.jsx("b",{children:"Add-ons:"})," ",m.addonsSummary||"Tidak Ada"]}),p.jsxs("div",{children:[p.jsx("b",{children:"Total:"})," ",Ml(m.total||0)]})]})]})}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Detail MOU"}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Kota pembuatan"}),p.jsx("input",{className:"input",value:m.mouCity,onChange:M=>I("mouCity",M.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tanggal MoU"}),p.jsx("input",{className:"input",type:"date",value:m.mouDate,onChange:M=>I("mouDate",M.target.value)})]})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Usaha (Vendor)"}),p.jsx("input",{className:"input",value:m.vendorName,onChange:M=>I("vendorName",M.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Perwakilan (Atas Nama)"}),p.jsx("input",{className:"input",value:m.vendorRep,onChange:M=>I("vendorRep",M.target.value)})]})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jabatan"}),p.jsx("input",{className:"input",value:m.vendorJobTitle,onChange:M=>I("vendorJobTitle",M.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Alamat Vendor"}),p.jsx("input",{className:"input",value:m.vendorAddress,onChange:M=>I("vendorAddress",M.target.value)})]})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"No. Telepon Vendor"}),p.jsx("input",{className:"input",value:m.vendorPhone,onChange:M=>I("vendorPhone",M.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jenis Acara"}),p.jsxs("select",{className:"input",value:m.eventType,onChange:M=>I("eventType",M.target.value),children:[p.jsx("option",{value:"",children:"-- pilih --"}),p.jsx("option",{value:"wedding",children:"Wedding"}),p.jsx("option",{value:"lamaran",children:"Lamaran"}),p.jsx("option",{value:"prewedding",children:"Prewedding"})]})]})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tanggal Wedding"}),p.jsx("input",{className:"input",type:"date",value:m.weddingDate,onChange:M=>I("weddingDate",M.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Akad (jam & tempat)"}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"time",value:m.akadTime,onChange:M=>I("akadTime",M.target.value)})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",placeholder:"Tempat akad",value:m.akadPlace,onChange:M=>I("akadPlace",M.target.value)})})]})]})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Resepsi (jam & tempat)"}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"time",value:m.resepsiTime,onChange:M=>I("resepsiTime",M.target.value)})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",placeholder:"Tempat resepsi",value:m.resepsiPlace,onChange:M=>I("resepsiPlace",M.target.value)})})]})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Lamaran (tanggal, jam, tempat)"}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"date",value:m.lamaranDate,onChange:M=>I("lamaranDate",M.target.value)})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"time",value:m.lamaranTime,onChange:M=>I("lamaranTime",M.target.value)})})]}),p.jsx("input",{className:"input",placeholder:"Lokasi lamaran",value:m.lamaranPlace,onChange:M=>I("lamaranPlace",M.target.value)})]})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Prewedding (tanggal & lokasi)"}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"date",value:m.prewedDate,onChange:M=>I("prewedDate",M.target.value)})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",placeholder:"Lokasi prewedding",value:m.prewedPlace,onChange:M=>I("prewedPlace",M.target.value)})})]})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Bank (Nama/No/Atas Nama)"}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",placeholder:"Bank",value:m.bankName,onChange:M=>I("bankName",M.target.value)})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",placeholder:"No Rekening",value:m.bankAccountNumber,onChange:M=>I("bankAccountNumber",M.target.value)})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",placeholder:"Atas Nama",value:m.bankAccountHolder,onChange:M=>I("bankAccountHolder",M.target.value)})})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Klausul Jadwal Penyerahan (Media Sosial)"}),p.jsx("textarea",{className:"textarea",value:m.clauseDeliverSocial,onChange:M=>I("clauseDeliverSocial",M.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Klausul Jadwal Penyerahan (Hasil Akhir)"}),p.jsx("textarea",{className:"textarea",value:m.clauseDeliverAll,onChange:M=>I("clauseDeliverAll",M.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Klausul Pembatalan/Perubahan Jadwal"}),p.jsx("textarea",{className:"textarea",value:m.clauseCancellation,onChange:M=>I("clauseCancellation",M.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Klausul Hak Cipta & Portfolio"}),p.jsx("textarea",{className:"textarea",value:m.clausePortfolio,onChange:M=>I("clausePortfolio",M.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Klausul Batasan Tanggung Jawab (Kehilangan Data)"}),p.jsx("textarea",{className:"textarea",value:m.clauseDataLoss,onChange:M=>I("clauseDataLoss",M.target.value)})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"TTD Vendor (Nama jelas)"}),p.jsx("input",{className:"input",value:m.signVendor,onChange:M=>I("signVendor",M.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"TTD Klien (Nama jelas)"}),p.jsx("input",{className:"input",value:m.signClient,onChange:M=>I("signClient",M.target.value)})]})]}),p.jsxs("div",{className:"row",style:{marginTop:12,gap:8},children:[p.jsx("button",{className:"btn primary",onClick:x,children:"Simpan MOU"}),p.jsx("button",{className:"btn",onClick:T,children:"Simpan sebagai Default (UID)"}),p.jsx("button",{className:"btn",onClick:j,children:"Export PDF"})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Layout & Preview"}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Margin (Top/Right/Bottom/Left)  pt"}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"number",value:d.marginTop,onChange:M=>_("marginTop",Number(M.target.value||0))})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"number",value:d.marginRight,onChange:M=>_("marginRight",Number(M.target.value||0))})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"number",value:d.marginBottom,onChange:M=>_("marginBottom",Number(M.target.value||0))})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"number",value:d.marginLeft,onChange:M=>_("marginLeft",Number(M.target.value||0))})})]})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Typography"}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"number",value:d.titleSize,onChange:M=>_("titleSize",Number(M.target.value||0)),placeholder:"Title size (pt)"})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"number",value:d.bodySize,onChange:M=>_("bodySize",Number(M.target.value||0)),placeholder:"Body size (pt)"})}),p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"number",value:d.lineHeight,onChange:M=>_("lineHeight",Number(M.target.value||0)),placeholder:"Line height (pt)"})})]})]})]}),p.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,background:"#fff",marginTop:12,width:794,height:1123,maxWidth:"100%",overflow:"auto"},children:p.jsxs("div",{style:{paddingTop:Ss(d.marginTop),paddingRight:Ss(d.marginRight),paddingBottom:Ss(d.marginBottom),paddingLeft:Ss(d.marginLeft)},children:[p.jsxs("div",{style:{textAlign:"center",fontSize:Ss(d.titleSize),fontWeight:600,marginBottom:Math.round(Ss(d.lineHeight)*1.2)},children:["MEMORANDUM OF UNDERSTANDING (MoU) / ",p.jsx("br",{}),"SURAT PERJANJIAN KERJASAMA"]}),p.jsxs("div",{style:{fontSize:Ss(d.bodySize),lineHeight:`${Ss(d.lineHeight)}px`,color:"#111"},children:[U.map((M,V)=>p.jsx("p",{style:{margin:0,marginBottom:Math.round(Ss(d.lineHeight)*.25)},children:M},V)),p.jsx("div",{style:{marginTop:Ss(d.lineHeight)*1.5}}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("div",{children:"PIHAK PERTAMA"}),p.jsx("div",{children:"PIHAK KEDUA"})]}),p.jsx("div",{style:{height:Ss(d.lineHeight)*3}}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("div",{children:tn(m.signVendor,"(Tanda tangan & nama jelas)")}),p.jsx("div",{children:tn(m.signClient,"(Tanda tangan & nama jelas)")})]})]})]})})]})]})}function Ml(t){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(t||0)}catch{return`Rp ${t||0}`}}function wO(t){return t==="wedding"?"Wedding":t==="lamaran"?"Lamaran":t==="prewedding"?"Prewedding":"-"}function bO(t){return(t||"").replace(/[^a-z0-9_\-]+/gi,"_")}function Fl(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return t;const n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];return`${e.getDate()} ${n[e.getMonth()]} ${e.getFullYear()}`}function xb(t){const e={};return Vl(t==null?void 0:t.marginTop)&&(e.marginTop=Number(t.marginTop)),Vl(t==null?void 0:t.marginRight)&&(e.marginRight=Number(t.marginRight)),Vl(t==null?void 0:t.marginBottom)&&(e.marginBottom=Number(t.marginBottom)),Vl(t==null?void 0:t.marginLeft)&&(e.marginLeft=Number(t.marginLeft)),Vl(t==null?void 0:t.lineHeight)&&(e.lineHeight=Number(t.lineHeight)),Vl(t==null?void 0:t.titleSize)&&(e.titleSize=Number(t.titleSize)),Vl(t==null?void 0:t.bodySize)&&(e.bodySize=Number(t.bodySize)),e}function Vl(t){return typeof t=="number"&&!Number.isNaN(t)}function Ss(t){return Math.round(t*(96/72))}function tn(t,e=""){return t==null||typeof t=="string"&&t.trim()===""?e:t}const Ns=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(t||0),p1=t=>{var e,n,r,i,s;return t.parent&&t.typeName&&`${String(t.parent).toUpperCase()}  ${t.typeName}`||t.packageType||t.packageName||((e=t.package)==null?void 0:e.name)||((n=t.package)==null?void 0:n.typeName)||((r=t.selectedPackage)==null?void 0:r.name)||((i=t.selectedPackage)==null?void 0:i.title)||((s=t.dealPackage)==null?void 0:s.name)||""},Ab=t=>{var e,n,r,i,s,a;return typeof t.packagePrice=="number"&&t.packagePrice||typeof((e=t.package)==null?void 0:e.price)=="number"&&((n=t.package)==null?void 0:n.price)||typeof((r=t.selectedPackage)==null?void 0:r.price)=="number"&&((i=t.selectedPackage)==null?void 0:i.price)||typeof((s=t.dealPackage)==null?void 0:s.price)=="number"&&((a=t.dealPackage)==null?void 0:a.price)||0};function xO(){const{dealId:t}=Id(),[e,n]=le.useState(null),[r,i]=le.useState(null),[s,a]=le.useState("INV-2025/10/001"),[o,l]=le.useState(()=>new Date().toISOString().slice(0,10)),[u,d]=le.useState(""),[g,_]=le.useState([]);le.useEffect(()=>{if(!t)return;const R=En(Gt(Et,"deals",t),b=>{b.exists()?n({id:b.id,...b.data()}):n(null)});return()=>R()},[t]),le.useEffect(()=>{if(!(e!=null&&e.uid))return;const R=En(Gt(Et,"vendors",e.uid),b=>{i(b.data()||null)});return()=>R()},[e==null?void 0:e.uid]),le.useEffect(()=>{if(!t)return;const R=En(Gt(Et,"invoices",t),b=>{if(b.exists()){const E=b.data();a(E.invoiceNo||""),l(E.invoiceDate||new Date().toISOString().slice(0,10)),d(E.dueDate||""),_(Array.isArray(E.terms)?E.terms:[])}else{const E=I(),P=Math.round(E*.5);_([{label:"Term 1",dueDate:"",amount:P,paidAmount:0},{label:"Term 2",dueDate:"",amount:E-P,paidAmount:0}])}});return()=>R()},[t]);const m=(e==null?void 0:e.addonSummary)||[],C=(e?Ab(e):0)+m.reduce((R,b)=>R+(b.price||0),0),I=()=>(typeof(e==null?void 0:e.total)=="number"?e.total:C)||0,L=I(),x=le.useMemo(()=>{if(!e)return"";const R=e.eventType;if(R==="wedding"&&e.wedding){const b=e.wedding;return`Wedding  ${b.date||"-"} | Akad ${b.akadTime||"-"} @ ${b.akadPlace||"-"} | Resepsi ${b.resepsiTime||"-"} @ ${b.resepsiPlace||"-"}`}if(R==="lamaran"&&e.lamaran){const b=e.lamaran;return`Lamaran  ${b.date||"-"} ${b.time?`(${b.time})`:""} @ ${b.place||"-"}`}if(R==="prewedding"&&e.prewedding){const b=e.prewedding;return`Prewedding  ${b.date||"-"} @ ${b.place||"-"}`}return(e.parent||p1(e)||"").toString().toUpperCase()},[e]),T=()=>_(R=>[...R,{label:`Term ${R.length+1}`,amount:0,paidAmount:0}]),j=(R,b)=>_(E=>E.map((P,te)=>te===R?{...P,...b}:P)),U=R=>_(b=>b.filter((E,P)=>P!==R)),ne=g.reduce((R,b)=>R+(Number(b.amount)||0),0),M=g.reduce((R,b)=>R+(Number(b.paidAmount)||0),0),V=L-ne,S=async()=>{if(!t)return;const R={dealId:t,invoiceNo:s,invoiceDate:o,dueDate:u||void 0,terms:g.map(b=>({label:b.label||"Term",dueDate:b.dueDate||void 0,amount:Number(b.amount)||0,paidAmount:Number(b.paidAmount)||0})),total:L};await Ya(Gt(Et,"invoices",t),{...R,updatedAt:Ba(),createdAt:Ba()},{merge:!0}),alert("Invoice (termasuk terms) tersimpan.")},N=()=>window.print();return e===null?p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("div",{className:"banner",children:"Deal tidak ditemukan."}),p.jsx("div",{style:{marginTop:8},children:p.jsx(xr,{className:"btn",to:"/dashboard/overview",children:"Kembali"})})]})}):e?p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"card torn no-print",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[p.jsx("h2",{style:{margin:0},children:"Invoice"}),p.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[p.jsx("button",{className:"btn",onClick:S,children:"Simpan"}),p.jsx("button",{className:"btn",onClick:N,children:"Print / PDF"}),p.jsx(xr,{className:"btn",to:"/dashboard/overview",children:"Kembali ke Overview"})]})]}),p.jsx("div",{className:"card no-print",style:{display:"grid",gap:8},children:p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"No. Invoice"}),p.jsx("input",{className:"input",value:s,onChange:R=>a(R.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tanggal Invoice"}),p.jsx("input",{className:"input",type:"date",value:o,onChange:R=>l(R.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jatuh Tempo (opsional)"}),p.jsx("input",{className:"input",type:"date",value:u,onChange:R=>d(R.target.value)})]})]})}),p.jsxs("div",{className:"card no-print",style:{display:"grid",gap:8},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("h3",{style:{margin:0},children:"Invoice Terms"}),p.jsx("button",{className:"btn",onClick:T,children:"Tambah Term"})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb",padding:"6px 4px"},children:"Label"}),p.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb",padding:"6px 4px"},children:"Jatuh Tempo"}),p.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #e5e7eb",padding:"6px 4px",width:160},children:"Nominal"}),p.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #e5e7eb",padding:"6px 4px",width:160},children:"Sudah Dibayar"}),p.jsx("th",{style:{borderBottom:"1px solid #e5e7eb",width:80}})]})}),p.jsx("tbody",{children:g.map((R,b)=>p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px"},children:p.jsx("input",{className:"input",value:R.label,onChange:E=>j(b,{label:E.target.value})})}),p.jsx("td",{style:{padding:"6px 4px"},children:p.jsx("input",{className:"input",type:"date",value:R.dueDate||"",onChange:E=>j(b,{dueDate:E.target.value})})}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:p.jsx("input",{className:"input",type:"number",min:0,value:R.amount,onChange:E=>j(b,{amount:Number(E.target.value)||0})})}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:p.jsx("input",{className:"input",type:"number",min:0,value:R.paidAmount||0,onChange:E=>j(b,{paidAmount:Number(E.target.value)||0})})}),p.jsx("td",{style:{textAlign:"center"},children:p.jsx("button",{className:"btn",onClick:()=>U(b),children:"Hapus"})})]},b))}),p.jsxs("tfoot",{children:[p.jsxs("tr",{children:[p.jsx("td",{colSpan:2,style:{padding:"6px 4px",textAlign:"right"},children:p.jsx("b",{children:"Jumlah Term"})}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:p.jsx("b",{children:Ns(ne)})}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ns(M)}),p.jsx("td",{})]}),p.jsxs("tr",{children:[p.jsx("td",{colSpan:2,style:{padding:"6px 4px",textAlign:"right"},children:"Total Kesepakatan"}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ns(L)}),p.jsx("td",{colSpan:2})]}),Math.abs(V)>0&&p.jsxs("tr",{children:[p.jsx("td",{colSpan:2,style:{padding:"6px 4px",textAlign:"right",color:"#b45309"},children:"Selisih (Term vs Total)"}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right",color:"#b45309"},children:Ns(V)}),p.jsx("td",{colSpan:2})]})]})]})]}),p.jsxs("div",{id:"invoice-print",className:"card",style:{maxWidth:"105mm",margin:"0 auto"},children:[p.jsx("style",{children:`
          /* PRINT HANYA KARTU INVOICE INI */
          @media print {
            body * { visibility: hidden; }
            #invoice-print, #invoice-print * { visibility: visible; }
            #invoice-print { position: absolute; left: 0; top: 0; width: 105mm; }
            .card { box-shadow: none !important; border: 1px solid #ddd; }
          }
        `}),p.jsxs("div",{style:{padding:"8mm",boxSizing:"border-box"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:800,fontSize:18},children:(r==null?void 0:r.name)||"Vendor"}),(r==null?void 0:r.address)&&p.jsx("div",{style:{whiteSpace:"pre-wrap"},children:r.address}),(r==null?void 0:r.whatsapp)&&p.jsxs("div",{children:["WA: ",r.whatsapp]}),(r==null?void 0:r.email)&&p.jsxs("div",{children:["Email: ",r.email]}),(r==null?void 0:r.npwp)&&p.jsxs("div",{children:["NPWP: ",r.npwp]})]}),p.jsxs("div",{style:{textAlign:"right"},children:[p.jsx("div",{style:{fontWeight:800,fontSize:18},children:"INVOICE"}),p.jsxs("div",{children:["No: ",p.jsx("b",{children:s||"-"})]}),p.jsxs("div",{children:["Tanggal: ",p.jsx("b",{children:o||"-"})]}),u&&p.jsxs("div",{children:["Jatuh Tempo: ",p.jsx("b",{children:u})]})]})]}),p.jsx("hr",{}),p.jsxs("div",{style:{marginBottom:8},children:[p.jsx("div",{children:"Kepada Yth:"}),p.jsx("div",{style:{fontWeight:700},children:e.clientName||"-"}),e.address&&p.jsx("div",{style:{whiteSpace:"pre-wrap"},children:e.address}),e.clientWa&&p.jsxs("div",{children:["WA: ",e.clientWa]})]}),p.jsx("div",{style:{margin:"8px 0",fontStyle:"italic",color:"#555"},children:x||p1(e)}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb",padding:"6px 4px"},children:"Deskripsi"}),p.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #e5e7eb",padding:"6px 4px",width:120},children:"Nominal"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsxs("td",{style:{padding:"6px 4px"},children:["Paket: ",p.jsx("b",{children:p1(e)||"-"})]}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ns(Ab(e))})]}),(m||[]).map((R,b)=>p.jsxs("tr",{children:[p.jsxs("td",{style:{padding:"6px 4px"},children:["Add-on: ",R.name]}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ns(R.price||0)})]},b)),p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px",borderTop:"1px dashed #e5e7eb"},children:p.jsx("b",{children:"Sub-total"})}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right",borderTop:"1px dashed #e5e7eb"},children:p.jsx("b",{children:Ns(C)})})]}),L!==C&&p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px"},children:"Penyesuaian"}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ns(L-C)})]}),p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px"},children:p.jsx("b",{children:"Total"})}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:p.jsx("b",{children:Ns(L)})})]})]})]}),g.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{marginTop:8,fontWeight:700},children:"Terms"}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb",padding:"6px 4px"},children:"Term"}),p.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb",padding:"6px 4px"},children:"Jatuh Tempo"}),p.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #e5e7eb",padding:"6px 4px"},children:"Nominal"}),p.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #e5e7eb",padding:"6px 4px"},children:"Dibayar"})]})}),p.jsx("tbody",{children:g.map((R,b)=>p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px"},children:R.label}),p.jsx("td",{style:{padding:"6px 4px"},children:R.dueDate||"-"}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ns(R.amount||0)}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ns(R.paidAmount||0)})]},b))})]})]}),p.jsx("div",{style:{marginTop:16,fontSize:12,color:"#555"},children:"Pembayaran dapat dilakukan via transfer ke rekening yang diinformasikan oleh vendor."}),p.jsxs("div",{style:{marginTop:24,display:"flex",justifyContent:"space-between"},children:[p.jsx("div",{children:"Penerima,"}),p.jsx("div",{children:"Hormat kami,"})]})]})]})]}):p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("div",{className:"banner",children:"Memuat invoice"}),p.jsx("div",{style:{marginTop:8},children:p.jsx(xr,{className:"btn",to:"/dashboard/overview",children:"Kembali"})})]})})}const Ff=t=>typeof Xr=="function"?Xr(t):`Rp ${Number(t||0).toLocaleString("id-ID")}`,AO=t=>{var e,n,r;return t.packageType||t.packageName||((e=t.package)==null?void 0:e.name)||((n=t.selectedPackage)==null?void 0:n.name)||((r=t.dealPackage)==null?void 0:r.name)||""},EO=t=>{var e,n;return typeof t.packagePrice=="number"&&t.packagePrice||typeof((e=t.package)==null?void 0:e.price)=="number"&&((n=t.package)==null?void 0:n.price)||0},SO=t=>{const e=t.addonSummary||[],n=EO(t)+e.reduce((r,i)=>r+(i.price||0),0);return typeof t.total=="number"?t.total:n};function NO(){const{dealId:t}=Id(),[e,n]=le.useState(null),[r,i]=le.useState(null),[s,a]=le.useState(""),[o,l]=le.useState(()=>new Date().toISOString().slice(0,10)),[u,d]=le.useState(0),[g,_]=le.useState("Pembayaran jasa foto sesuai kesepakatan.");if(le.useRef(null),le.useEffect(()=>{if(!t)return;const I=En(Gt(Et,"deals",t),L=>{L.exists()?n({id:L.id,...L.data()}):n(null)});return()=>I()},[t]),le.useEffect(()=>{if(!(e!=null&&e.uid))return;const I=En(Gt(Et,"vendors",e.uid),L=>{i(L.data()||null)});return()=>I()},[e==null?void 0:e.uid]),e===null)return p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("div",{className:"banner",children:"Deal tidak ditemukan."}),p.jsx("div",{style:{marginTop:8},children:p.jsx(xr,{className:"btn",to:"/dashboard/overview",children:"Kembali"})})]})});if(!e)return p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("div",{className:"banner",children:"Memuat kuitansi"}),p.jsx("div",{style:{marginTop:8},children:p.jsx(xr,{className:"btn",to:"/dashboard/overview",children:"Kembali"})})]})});e.addonSummary;const m=SO(e),C=()=>window.print();return p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"card torn",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[p.jsx("h2",{style:{margin:0},children:"Kuitansi"}),p.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[p.jsx("button",{className:"btn",onClick:C,children:"Print / PDF"}),p.jsx(xr,{className:"btn",to:"/dashboard/overview",children:"Kembali ke Overview"})]})]}),p.jsxs("div",{className:"card",style:{display:"grid",gap:8},children:[p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"No. Kuitansi"}),p.jsx("input",{className:"input",value:s,onChange:I=>a(I.target.value),placeholder:"KW-2025/10/001"})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tanggal"}),p.jsx("input",{className:"input",type:"date",value:o,onChange:I=>l(I.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jumlah diterima"}),p.jsx("input",{className:"input",type:"number",min:0,value:u,onChange:I=>d(Number(I.target.value)||0),placeholder:"500000"})]})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Catatan"}),p.jsx("input",{className:"input",value:g,onChange:I=>_(I.target.value)})]})]}),p.jsxs("div",{className:"card",style:{maxWidth:"105mm",margin:"0 auto"},children:[p.jsx("style",{children:`
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .no-print { display:none !important; }
            .a6 { width: 105mm; height: 148mm; padding: 8mm; box-sizing: border-box; }
            .card { box-shadow: none !important; border: 1px solid #ddd; }
          }
        `}),p.jsxs("div",{className:"a6",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:800,fontSize:18},children:(r==null?void 0:r.name)||"Vendor"}),(r==null?void 0:r.address)&&p.jsx("div",{style:{whiteSpace:"pre-wrap"},children:r.address}),(r==null?void 0:r.whatsapp)&&p.jsxs("div",{children:["WA: ",r.whatsapp]})]}),p.jsxs("div",{style:{textAlign:"right"},children:[p.jsx("div",{style:{fontWeight:800,fontSize:18},children:"KUITANSI"}),p.jsxs("div",{children:["No: ",p.jsx("b",{children:s||"-"})]}),p.jsxs("div",{children:["Tanggal: ",p.jsx("b",{children:o||"-"})]})]})]}),p.jsx("hr",{}),p.jsxs("div",{style:{marginBottom:8},children:[p.jsx("div",{children:"Sudah terima dari:"}),p.jsx("div",{style:{fontWeight:700},children:e.clientName||"-"}),e.clientWa&&p.jsxs("div",{children:["WA: ",e.clientWa]})]}),p.jsxs("div",{style:{margin:"8px 0",color:"#111"},children:["Uang sejumlah: ",p.jsx("b",{children:Ff(u||0)})]}),p.jsxs("div",{style:{margin:"4px 0",fontSize:13},children:["Untuk pembayaran: ",g||"-"]}),p.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13,marginTop:8},children:p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px"},children:"Paket"}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:AO(e)||"-"})]}),p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px"},children:"Total Kesepakatan"}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ff(m)})]}),p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px"},children:"Diterima Sekarang"}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right"},children:Ff(u||0)})]}),p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"6px 4px",borderTop:"1px dashed #e5e7eb"},children:p.jsx("b",{children:"Sisa"})}),p.jsx("td",{style:{padding:"6px 4px",textAlign:"right",borderTop:"1px dashed #e5e7eb"},children:p.jsx("b",{children:Ff(Math.max(0,m-(u||0)))})})]})]})}),p.jsxs("div",{style:{marginTop:24,display:"flex",justifyContent:"space-between"},children:[p.jsx("div",{children:"Penyetor,"}),p.jsx("div",{children:"Penerima,"})]})]})]})]})}function IO(){const{uid:t}=Id(),[e,n]=le.useState(null),[r,i]=le.useState([]),[s,a]=le.useState([]),[o,l]=le.useState(null),[u,d]=le.useState(!1),[g,_]=le.useState(null),[m,C]=le.useState(null),[I,L]=le.useState({}),[x,T]=le.useState(null),j=x!=null&&x>Date.now(),U=le.useRef(null),ne=E=>{const P=U.current;if(!P)return;const te=P.querySelector(".item"),ye=te?te.offsetWidth+14:P.clientWidth*.8;P.scrollBy({left:E*ye,behavior:"smooth"})};le.useEffect(()=>{const E=U.current;if(!E)return;let P=!1,te=0,de=0;const ye=_e=>{P=!0,E.classList.add("dragging"),te=_e.pageX-E.getBoundingClientRect().left,de=E.scrollLeft},fe=()=>{P=!1,E.classList.remove("dragging")},Z=()=>{P=!1,E.classList.remove("dragging")},G=_e=>{if(!P)return;_e.preventDefault();const F=_e.pageX-E.getBoundingClientRect().left;E.scrollLeft=de-(F-te)},pe=_e=>{Math.abs(_e.deltaY)>Math.abs(_e.deltaX)&&(_e.preventDefault(),E.scrollLeft+=_e.deltaY)};return E.addEventListener("mousedown",ye),window.addEventListener("mouseup",Z),E.addEventListener("mouseleave",fe),E.addEventListener("mousemove",G),E.addEventListener("wheel",pe,{passive:!1}),()=>{E.removeEventListener("mousedown",ye),window.removeEventListener("mouseup",Z),E.removeEventListener("mouseleave",fe),E.removeEventListener("mousemove",G),E.removeEventListener("wheel",pe)}},[]),le.useEffect(()=>{if(!t)return;const E=En(Gt(Et,"vendors",t),fe=>n(fe.data()||null)),P=En(cl(qi(Et,"packages"),uu("uid","==",t)),fe=>{const Z=[];fe.forEach(G=>Z.push({id:G.id,...G.data()})),i(Z),!g&&Z.length&&_(Z[0].parent)}),te=En(cl(qi(Et,"addons"),uu("uid","==",t)),fe=>{const Z=[];fe.forEach(G=>Z.push({id:G.id,...G.data()})),Z.sort((G,pe)=>(G.name||"").localeCompare(pe.name||"")),a(Z)}),de=En(Gt(Et,"discounts",t),fe=>{const Z=fe.data();if(Z){const G={text:Z.text||"",enabled:!!Z.enabled};l(G),d(!!G.enabled)}}),ye=En(Gt(Et,"tokens",t),fe=>{var G;const Z=fe.data();(G=Z==null?void 0:Z.expiresAt)!=null&&G.toMillis?T(Z.expiresAt.toMillis()):T(null)});return()=>{E(),P(),te(),de(),ye()}},[t,g]);const M=le.useMemo(()=>Array.from(new Set(r.map(E=>E.parent))),[r]),V=le.useMemo(()=>r.filter(E=>E.parent===g),[r,g]),S=le.useMemo(()=>r.find(E=>E.id===m)||null,[r,m]),N=le.useMemo(()=>s.filter(E=>I[E.id]),[s,I]),R=((S==null?void 0:S.price)||0)+N.reduce((E,P)=>E+(P.price||0),0),b=()=>!e||!S?"#":uS({vendorName:e.name||"Vendor",pricelistName:String(g||"").toUpperCase(),typeName:String(S.typeName||"").toUpperCase(),details:S.details||[],price:S.price||0,addons:N.map(E=>({name:E.name,price:E.price||0})),whatsapp:e.whatsapp||"",total:R});return p.jsxs("div",{className:"container",children:[!j&&p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Akun belum aktif"}),p.jsx("p",{children:"Halaman publish terkunci. Harap hubungi admin untuk membeli/aktivasi token."}),p.jsx("a",{className:"btn primary",href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"Hubungi Admin (WhatsApp)"})]}),j?p.jsxs(p.Fragment,{children:[(o==null?void 0:o.enabled)&&u&&p.jsx("div",{className:"modal-backdrop",children:p.jsxs("div",{className:"modal",children:[p.jsx("h3",{style:{marginTop:0},children:"Promo / Diskon"}),p.jsx("div",{style:{whiteSpace:"pre-wrap"},children:o==null?void 0:o.text}),p.jsx("div",{style:{textAlign:"right",marginTop:10},children:p.jsx("button",{className:"btn primary",onClick:()=>d(!1),children:"OK"})})]})}),p.jsxs("div",{className:"card torn",children:[p.jsxs("h2",{style:{marginTop:0},children:["Pricelist Interaktif  ",(e==null?void 0:e.name)||"(Nama Vendor)"]}),p.jsx("div",{className:"tabs",children:M.map(E=>p.jsx("div",{className:["tab",E===g?"active":""].join(" "),onClick:()=>{_(E),C(null)},children:E.toUpperCase()},E))})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Jenis"}),p.jsxs("div",{className:"carousel-wrap",children:[p.jsx("button",{className:"carousel-btn left","aria-label":"Sebelumnya",onClick:()=>ne(-1),children:p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:p.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),p.jsxs("div",{className:"carousel",ref:U,children:[V.map(E=>{var P;return p.jsxs("div",{className:["item",E.id===m?"active":""].join(" "),tabIndex:0,onClick:()=>C(E.id),onKeyDown:te=>{(te.key==="Enter"||te.key===" ")&&C(E.id)},children:[p.jsxs("div",{className:"item__head",children:[p.jsx("div",{className:"item__title",children:E.typeName}),p.jsx("div",{className:"badge item__price",children:Xr(E.price)})]}),p.jsx("ul",{className:"item__details",children:(P=E.details)==null?void 0:P.map((te,de)=>p.jsx("li",{children:te},de))})]},E.id)}),V.length===0&&p.jsxs("div",{className:"item",children:[p.jsx("div",{className:"item__title",children:"Belum ada jenis"}),p.jsx("p",{style:{opacity:.7},children:"Tambahkan jenis di Dashboard > Packages"})]})]}),p.jsx("button",{className:"carousel-btn right","aria-label":"Berikutnya",onClick:()=>ne(1),children:p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:p.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),p.jsxs("div",{className:"addons__list",children:[s.length===0&&p.jsx("div",{children:"(belum ada add-on)"}),s.map(E=>p.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,flex:1},children:[p.jsx("input",{className:"checkbox",type:"checkbox",checked:!!I[E.id],onChange:P=>L(te=>({...te,[E.id]:P.target.checked}))}),p.jsxs("span",{children:[E.name,"  ",p.jsx("span",{className:"badge",children:Xr(E.price)})]})]})},E.id))]})]}),p.jsx("div",{className:"card",children:p.jsxs("div",{className:"row",style:{alignItems:"center"},children:[p.jsxs("div",{className:"col",children:[p.jsx("div",{style:{fontWeight:700},children:"Total Perkiraan"}),p.jsx("div",{style:{fontSize:24},children:Xr(R)})]}),p.jsxs("div",{className:"col",style:{textAlign:"right"},children:[p.jsx("a",{className:"btn primary",href:b(),target:"_blank",rel:"noreferrer",onClick:E=>{S||E.preventDefault()},children:"WhatsApp"}),!S&&p.jsx("div",{className:"badge",style:{marginTop:6},children:"Pilih **Jenis** dulu"})]})]})})]}):null]})}function kO(){const{uid:t}=Id(),[e,n]=le.useState(null),[r,i]=le.useState([]),[s,a]=le.useState([]),[o,l]=le.useState(null),[u,d]=le.useState(null);le.useEffect(()=>{if(!t)return;const ke=En(Gt(Et,"vendors",t),mt=>{n(mt.data()||null)}),rt=En(cl(qi(Et,"packages"),uu("uid","==",t)),mt=>{const ft=[];mt.forEach(ze=>ft.push({id:ze.id,...ze.data()})),ft.sort((ze,lt)=>{const Jt=(ze.parent||"").localeCompare(lt.parent||"");return Jt!==0?Jt:(ze.typeName||"").localeCompare(lt.typeName||"")}),i(ft)}),qe=En(cl(qi(Et,"addons"),uu("uid","==",t)),mt=>{const ft=[];mt.forEach(ze=>ft.push({id:ze.id,...ze.data()})),ft.sort((ze,lt)=>(ze.name||"").localeCompare(lt.name||"")),a(ft)}),ot=En(Gt(Et,"discounts",t),mt=>{const ft=mt.data();ft&&l({text:ft.text||"",enabled:!!ft.enabled})}),Xe=En(Gt(Et,"tokens",t),mt=>{var lt;const ft=mt.data(),ze=(lt=ft==null?void 0:ft.expiresAt)!=null&&lt.toMillis?ft.expiresAt.toMillis():0;d(ze>Date.now())});return()=>{ke(),rt(),qe(),ot(),Xe()}},[t]);const g=le.useMemo(()=>Array.from(new Set(r.map(ke=>ke.parent))),[r]),[_,m]=le.useState(null);le.useEffect(()=>{!_&&g.length&&m(g[0])},[g,_]);const C=le.useMemo(()=>r.filter(ke=>ke.parent===_),[r,_]),[I,L]=le.useState(null),x=le.useMemo(()=>r.find(ke=>ke.id===I)||null,[r,I]),[T,j]=le.useState({}),U=le.useMemo(()=>s.filter(ke=>T[ke.id]),[s,T]),ne=((x==null?void 0:x.price)||0)+U.reduce((ke,rt)=>ke+(rt.price||0),0),[M,V]=le.useState(""),[S,N]=le.useState(""),[R,b]=le.useState(""),[E,P]=le.useState(""),[te,de]=le.useState(""),[ye,fe]=le.useState(""),[Z,G]=le.useState(""),[pe,_e]=le.useState(""),[F,K]=le.useState(""),[q,Q]=le.useState(""),[ie,ae]=le.useState(""),[ve,we]=le.useState(""),[xe,Te]=le.useState(""),[Fe,Ve]=le.useState(""),[Ae,ee]=le.useState(""),[Tt,_t]=le.useState(""),[it,Re]=le.useState(""),[Ke,Ue]=le.useState(""),[wt,Je]=le.useState(null);le.useEffect(()=>{K(""),Q(""),ae(""),we(""),Te(""),Ve(""),ee(""),_t(""),Re(""),Ue("")},[pe]);const Mt=()=>{if(!t)return"URL tidak valid.";if(!x)return"Pilih paket/jenis dulu.";if(!M.trim())return"Nama klien wajib diisi.";if(!S.trim())return"Nomor WA klien wajib diisi.";if(!R.trim())return"Alamat kirim album wajib diisi.";if(!pe)return"Pilih jenis acara.";if(pe==="wedding"){if(!F)return"Tanggal acara (wedding) wajib.";if(!q)return"Jam akad/pemberkatan wajib.";if(!ie.trim())return"Tempat akad/pemberkatan wajib.";if(!ve)return"Jam resepsi wajib.";if(!xe.trim())return"Tempat resepsi wajib."}if(pe==="lamaran"){if(!Fe)return"Tanggal acara (lamaran) wajib.";if(!Ae)return"Jam lamaran wajib.";if(!Tt.trim())return"Tempat lamaran wajib."}if(pe==="prewedding"){if(!it)return"Tanggal prewedding wajib.";if(!Ke.trim())return"Tempat prewedding wajib."}return null},dt=le.useMemo(()=>!e||!x?"#":uS({vendorName:e.name||"Vendor",pricelistName:String(_||"").toUpperCase(),typeName:String(x.typeName||"").toUpperCase(),details:x.details||[],price:x.price||0,addons:U.map(ke=>({name:ke.name,price:ke.price||0})),whatsapp:e.whatsapp||"",total:ne}),[e,x,U,_,ne]),Ye=async ke=>{ke.preventDefault();const rt=Mt();if(rt){Je(rt);return}Je(null);const qe=pe==="wedding",ot=pe==="lamaran",Xe=pe==="prewedding";try{await ap(qi(Et,"deals"),{uid:t,clientName:M,clientWa:S,address:R,groomName:E,brideName:te,groomIg:ye,brideIg:Z,parent:_,packageId:I,packageType:(x==null?void 0:x.typeName)||"",packagePrice:(x==null?void 0:x.price)||0,addonIds:U.map(mt=>mt.id),addonSummary:U.map(mt=>({name:mt.name,price:mt.price||0})),total:ne,eventType:pe,isWedding:qe,isLamaran:ot,isPrewed:Xe,wedding:qe?{date:F||null,akadTime:q||null,akadPlace:ie||null,resepsiTime:ve||null,resepsiPlace:xe||null}:null,lamaran:ot?{date:Fe||null,time:Ae||null,place:Tt||null}:null,prewedding:Xe?{date:it||null,place:Ke||null}:null,source:"deal-publish",createdAt:Ba()}),dt&&dt!=="#"&&window.open(dt,"_blank","noopener,noreferrer")}catch(mt){console.error(mt),Je("Gagal menyimpan deal. Coba lagi.")}};return u===!1?p.jsx("div",{className:"container",style:{maxWidth:720},children:p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:(e==null?void 0:e.name)||"(Vendor)"}),p.jsxs("div",{className:"banner",style:{background:"#fff1f2",border:"1px solid #fecdd3",color:"#991b1b"},children:["Link ini ",p.jsx("b",{children:"tidak aktif"})," atau masa aktif sudah habis. Silakan hubungi vendor."]})]})}):p.jsxs("div",{className:"container",style:{maxWidth:920},children:[p.jsxs("div",{className:"card torn",children:[p.jsxs("h2",{style:{marginTop:0},children:[(e==null?void 0:e.name)||"(Vendor)","  Deal Klien"]}),(o==null?void 0:o.enabled)&&!!o.text&&p.jsx("div",{className:"banner",children:o.text})]}),p.jsxs("div",{className:"card",children:[p.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[g.map(ke=>p.jsx("button",{onClick:()=>{m(ke),L(null)},className:"btn",style:{border:ke===_?"2px solid #7a6a58":"1px solid #ddd",background:ke===_?"#f7f4f1":"white",textTransform:"capitalize"},children:ke},ke)),g.length===0&&p.jsx("div",{children:"(Belum ada parent)"})]}),p.jsxs("div",{style:{marginTop:12,display:"grid",gap:10},children:[C.length===0&&p.jsx("div",{children:"(Belum ada jenis di parent ini)"}),C.map(ke=>{var rt;return p.jsxs("label",{className:"card",style:{padding:10,border:"1px dashed #e6e0da",display:"flex",gap:10,alignItems:"flex-start"},children:[p.jsx("input",{type:"radio",name:"pkgType",checked:ke.id===I,onChange:()=>L(ke.id),style:{marginTop:4}}),p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[p.jsx("strong",{style:{textTransform:"capitalize"},children:ke.typeName}),p.jsx("span",{className:"badge",children:Xr(ke.price)})]}),!!((rt=ke.details)!=null&&rt.length)&&p.jsx("ul",{style:{marginTop:8},children:ke.details.map((qe,ot)=>p.jsx("li",{children:qe},ot))})]})]},ke.id)})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),s.length===0&&p.jsx("div",{children:"(Belum ada add-on)"}),p.jsx("div",{style:{display:"grid",gap:8},children:s.map(ke=>p.jsxs("label",{className:"card",style:{display:"flex",justifyContent:"space-between",padding:8,alignItems:"center"},children:[p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[p.jsx("input",{type:"checkbox",checked:!!T[ke.id],onChange:rt=>j(qe=>({...qe,[ke.id]:rt.target.checked}))}),ke.name]}),p.jsx("span",{children:Xr(ke.price)})]},ke.id))}),p.jsxs("div",{style:{marginTop:10,fontWeight:700},children:["Total sementara: ",Xr(ne)]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Data Klien"}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama klien"}),p.jsx("input",{className:"input",value:M,onChange:ke=>V(ke.target.value),placeholder:"Nama lengkap"})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"No. WA klien"}),p.jsx("input",{className:"input",value:S,onChange:ke=>N(ke.target.value),placeholder:"62xxxxxxxxxx"})]})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Alamat kirim album"}),p.jsx("textarea",{className:"textarea",rows:3,value:R,onChange:ke=>b(ke.target.value),placeholder:"Jalan, kecamatan, kota/kab, kode pos"})]}),p.jsxs("div",{className:"row",style:{marginTop:12},children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Pria"}),p.jsx("input",{className:"input",value:E,onChange:ke=>P(ke.target.value),placeholder:"Nama pengantin laki-laki"})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Nama Wanita"}),p.jsx("input",{className:"input",value:te,onChange:ke=>de(ke.target.value),placeholder:"Nama pengantin perempuan"})]})]}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"IG Pria"}),p.jsx("input",{className:"input",value:ye,onChange:ke=>fe(ke.target.value),placeholder:"@username (contoh: @namapria)"})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"IG Wanita"}),p.jsx("input",{className:"input",value:Z,onChange:ke=>G(ke.target.value),placeholder:"@username (contoh: @namawanita)"})]})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginTop:0},children:"Jenis Acara"}),p.jsx("div",{className:"row",children:p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Pilih jenis acara"}),p.jsxs("select",{className:"input",value:pe,onChange:ke=>_e(ke.target.value),children:[p.jsx("option",{value:"",children:"-- pilih --"}),p.jsx("option",{value:"wedding",children:"Wedding"}),p.jsx("option",{value:"lamaran",children:"Lamaran"}),p.jsx("option",{value:"prewedding",children:"Prewedding"})]})]})}),pe==="wedding"&&p.jsxs("div",{className:"card",style:{marginTop:10},children:[p.jsx("strong",{children:"Detail Wedding"}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tanggal acara"}),p.jsx("input",{className:"input",type:"date",value:F,onChange:ke=>K(ke.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jam akad/pemberkatan"}),p.jsx("input",{className:"input",type:"time",value:q,onChange:ke=>Q(ke.target.value)})]})]}),p.jsx("div",{className:"row",children:p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tempat akad/pemberkatan"}),p.jsx("input",{className:"input",value:ie,onChange:ke=>ae(ke.target.value),placeholder:"Nama venue / alamat"})]})}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jam resepsi"}),p.jsx("input",{className:"input",type:"time",value:ve,onChange:ke=>we(ke.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tempat resepsi"}),p.jsx("input",{className:"input",value:xe,onChange:ke=>Te(ke.target.value),placeholder:"Nama venue / alamat"})]})]})]}),pe==="lamaran"&&p.jsxs("div",{className:"card",style:{marginTop:10},children:[p.jsx("strong",{children:"Detail Lamaran"}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tanggal acara"}),p.jsx("input",{className:"input",type:"date",value:Fe,onChange:ke=>Ve(ke.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jam lamaran"}),p.jsx("input",{className:"input",type:"time",value:Ae,onChange:ke=>ee(ke.target.value)})]})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Tempat lamaran"}),p.jsx("input",{className:"input",value:Tt,onChange:ke=>_t(ke.target.value),placeholder:"Nama tempat / alamat"})]})]}),pe==="prewedding"&&p.jsxs("div",{className:"card",style:{marginTop:10},children:[p.jsx("strong",{children:"Detail Prewedding"}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tanggal acara"}),p.jsx("input",{className:"input",type:"date",value:it,onChange:ke=>Re(ke.target.value)})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Tempat prewedding"}),p.jsx("input",{className:"input",value:Ke,onChange:ke=>Ue(ke.target.value),placeholder:"Lokasi prewedding"})]})]})]})]}),wt&&p.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:wt}),p.jsxs("div",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[p.jsxs("div",{style:{fontWeight:700},children:["Total: ",Xr(ne)]}),p.jsx("a",{className:"btn primary",href:dt,onClick:Ye,target:"_blank",rel:"noreferrer",style:{border:"1px solid #25D366"},children:"Deal via WhatsApp"})]})]})}const TO={VITE_SUPERADMIN_PASSWORD:"Rikimaru08561318222!"},PO=TO;function CO(){return PO.VITE_SUPERADMIN_PASSWORD}function LO(){const[t,e]=le.useState(!1),[n,r]=le.useState(""),[i,s]=le.useState("daily"),[a,o]=le.useState(1),[l,u]=le.useState([]),[d,g]=le.useState([]);le.useEffect(()=>{const L=En(cl(qi(Et,"tokenStore"),uj("createdAt","desc"),cj(200)),x=>{const T=[];x.forEach(j=>T.push(j.data())),u(T)});return()=>L()},[]),le.useEffect(()=>{if(!t)return;Ei.currentUser||HP(Ei).catch(()=>{});const L=En(qi(Et,"tokens"),x=>{const T=[];x.forEach(j=>{var ne,M;const U=j.data();T.push({uid:j.id,vendorName:"",expiresAt:(M=(ne=U==null?void 0:U.expiresAt)==null?void 0:ne.toMillis)==null?void 0:M.call(ne)})}),T.forEach((j,U)=>{En(Gt(Et,"vendors",j.uid),ne=>{const M=ne.data();T[U].vendorName=(M==null?void 0:M.name)||"(Tanpa Nama)",g([...T])})}),g(T)});return()=>{L()}},[t]);const _=()=>{const L=CO();e(n===L),n!==L&&alert("Password salah.")},m=async()=>{for(let L=0;L<a;L++){const x=Ej(16),T=Gt(Et,"tokenStore",x);await Ya(T,{token:x,status:"idle",duration:i,createdAt:Ba()},{merge:!0})}alert("Token dibuat.")};if(!t)return p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Superadmin"}),p.jsx("p",{children:"Halaman ini tidak ada di navbar. Masukkan password lokal."}),p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col",children:p.jsx("input",{className:"input",type:"password",placeholder:"Password Superadmin",value:n,onChange:L=>r(L.target.value)})}),p.jsx("div",{children:p.jsx("button",{className:"btn primary",onClick:_,children:"Masuk"})})]})]})});const C=d.filter(L=>!!L.expiresAt&&L.expiresAt>Date.now()).length,I=d.length-C;return p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"card torn",children:[p.jsx("h2",{style:{marginTop:0},children:"Superadmin  Token Store"}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Durasi"}),p.jsxs("select",{className:"select",value:i,onChange:L=>s(L.target.value),children:[p.jsx("option",{value:"daily",children:"harian (1 hari)"}),p.jsx("option",{value:"weekly",children:"mingguan (7 hari)"}),p.jsx("option",{value:"monthly",children:"bulanan (30 hari)"})]})]}),p.jsxs("div",{className:"col",children:[p.jsx("label",{children:"Jumlah token"}),p.jsx("input",{className:"input",type:"number",min:1,max:50,value:a,onChange:L=>o(Math.max(1,Math.min(50,Number(L.target.value||1))))})]}),p.jsx("div",{style:{alignSelf:"end"},children:p.jsx("button",{className:"btn primary",onClick:m,children:"Generate"})})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:"Daftar Token"}),p.jsxs("div",{className:"row",style:{fontWeight:700},children:[p.jsx("div",{className:"col",children:"Token"}),p.jsx("div",{className:"col",children:"Duration"}),p.jsx("div",{className:"col",children:"Status"}),p.jsx("div",{className:"col",children:"UID"}),p.jsx("div",{className:"col",children:"Used At"})]}),l.map((L,x)=>{var T,j,U,ne;return p.jsxs("div",{className:"row",style:{alignItems:"center",borderTop:"1px dashed var(--muted)",paddingTop:6,marginTop:6},children:[p.jsx("div",{className:"col",style:{fontFamily:"monospace"},children:L.token}),p.jsx("div",{className:"col",children:L.duration}),p.jsx("div",{className:"col",children:p.jsx("span",{className:"badge",children:L.status})}),p.jsx("div",{className:"col",children:L.uid||""}),p.jsx("div",{className:"col",children:((ne=(j=(T=L.usedAt)==null?void 0:T.toDate)==null?void 0:(U=j.call(T)).toLocaleString)==null?void 0:ne.call(U,"id-ID"))||""})]},x)}),l.length===0&&p.jsx("div",{children:"(belum ada)"})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:"Aktivitas Akun"}),p.jsxs("div",{className:"banner",children:["Aktif: ",p.jsx("b",{children:C})," | Tidak aktif: ",p.jsx("b",{children:I})]}),p.jsxs("div",{className:"row",style:{fontWeight:700},children:[p.jsx("div",{className:"col",children:"UID"}),p.jsx("div",{className:"col",children:"Nama Vendor"}),p.jsx("div",{className:"col",children:"Status"}),p.jsx("div",{className:"col",children:"Expires At"})]}),d.map((L,x)=>{const T=!!L.expiresAt&&L.expiresAt>Date.now();return p.jsxs("div",{className:"row",style:{alignItems:"center",borderTop:"1px dashed var(--muted)",paddingTop:6,marginTop:6},children:[p.jsx("div",{className:"col",style:{fontFamily:"monospace"},children:L.uid}),p.jsx("div",{className:"col",children:L.vendorName}),p.jsx("div",{className:"col",children:p.jsx("span",{className:"badge",children:T?"aktif":"tidak aktif"})}),p.jsx("div",{className:"col",children:L.expiresAt?new Date(L.expiresAt).toLocaleString("id-ID"):""})]},x)}),d.length===0&&p.jsx("div",{children:"(belum ada token user)"})]})]})}function RO(){const t=pu(),e=/^\/(publish|deal)\//.test(t.pathname);return p.jsxs(p.Fragment,{children:[!e&&p.jsx(vj,{}),p.jsxs(aT,{children:[p.jsx(Bi,{path:"/",element:p.jsx(yj,{})}),p.jsx(Bi,{path:"/login",element:p.jsx(_j,{})}),p.jsx(Bi,{path:"/register",element:p.jsx(wj,{})}),p.jsx(Bi,{path:"/forgot-password",element:p.jsx(bj,{})}),p.jsx(Bi,{path:"/dashboard",element:p.jsx(fh,{children:p.jsx(Ij,{})})}),p.jsx(Bi,{path:"/dashboard/overview",element:p.jsx(fh,{children:p.jsx(kj,{})})}),p.jsx(Bi,{path:"/dashboard/mou/:dealId",element:p.jsx(fh,{children:p.jsx(_O,{})})}),p.jsx(Bi,{path:"/dashboard/invoice/:dealId",element:p.jsx(fh,{children:p.jsx(xO,{})})}),p.jsx(Bi,{path:"/dashboard/kuitansi/:dealId",element:p.jsx(fh,{children:p.jsx(NO,{})})}),p.jsx(Bi,{path:"/publish/:uid",element:p.jsx(IO,{})}),p.jsx(Bi,{path:"/deal/:uid",element:p.jsx(kO,{})}),p.jsx(Bi,{path:"/superadmin",element:p.jsx(LO,{})})]})]})}m1.createRoot(document.getElementById("root")).render(p.jsx(jb.StrictMode,{children:p.jsx(fT,{children:p.jsx(RO,{})})}));export{ln as _,DO as c,BN as g};
