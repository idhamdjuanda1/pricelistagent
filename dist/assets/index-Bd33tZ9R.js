var DS=Object.defineProperty;var jS=(t,e,n)=>e in t?DS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>jS(t,typeof e!="symbol"?e+"":e,n);function OS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var NO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wb={exports:{}},em={},bb={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),FS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),US=Symbol.for("react.strict_mode"),BS=Symbol.for("react.profiler"),zS=Symbol.for("react.provider"),qS=Symbol.for("react.context"),$S=Symbol.for("react.forward_ref"),WS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),GS=Symbol.for("react.lazy"),Ey=Symbol.iterator;function KS(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var Ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eb=Object.assign,xb={};function xc(t,e,n){this.props=t,this.context=e,this.refs=xb,this.updater=n||Ab}xc.prototype.isReactComponent={};xc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sb(){}Sb.prototype=xc.prototype;function z0(t,e,n){this.props=t,this.context=e,this.refs=xb,this.updater=n||Ab}var q0=z0.prototype=new Sb;q0.constructor=z0;Eb(q0,xc.prototype);q0.isPureReactComponent=!0;var xy=Array.isArray,Nb=Object.prototype.hasOwnProperty,$0={current:null},Ib={key:!0,ref:!0,__self:!0,__source:!0};function kb(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Nb.call(e,r)&&!Ib.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:wf,type:t,key:s,ref:a,props:i,_owner:$0.current}}function QS(t,e){return{$$typeof:wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function W0(t){return typeof t=="object"&&t!==null&&t.$$typeof===wf}function JS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sy=/\/+/g;function ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JS(""+t.key):e.toString(36)}function jd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case wf:case FS:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ig(a,0):r,xy(i)?(n="",t!=null&&(n=t.replace(Sy,"$&/")+"/"),jd(i,e,n,"",function(u){return u})):i!=null&&(W0(i)&&(i=QS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Sy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",xy(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+ig(s,o);a+=jd(s,e,n,l,i)}else if(l=KS(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+ig(s,o++),a+=jd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function id(t,e,n){if(t==null)return t;var r=[],i=0;return jd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var li={current:null},Od={transition:null},XS={ReactCurrentDispatcher:li,ReactCurrentBatchConfig:Od,ReactCurrentOwner:$0};function Tb(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:id,forEach:function(t,e,n){id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return id(t,function(){e++}),e},toArray:function(t){return id(t,function(e){return e})||[]},only:function(t){if(!W0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=xc;Ft.Fragment=VS;Ft.Profiler=BS;Ft.PureComponent=z0;Ft.StrictMode=US;Ft.Suspense=WS;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Ft.act=Tb;Ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Eb({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=$0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Nb.call(e,l)&&!Ib.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:wf,type:t.type,key:i,ref:s,props:r,_owner:a}};Ft.createContext=function(t){return t={$$typeof:qS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zS,_context:t},t.Consumer=t};Ft.createElement=kb;Ft.createFactory=function(t){var e=kb.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:$S,render:t}};Ft.isValidElement=W0;Ft.lazy=function(t){return{$$typeof:GS,_payload:{_status:-1,_result:t},_init:YS}};Ft.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=Od.transition;Od.transition={};try{t()}finally{Od.transition=e}};Ft.unstable_act=Tb;Ft.useCallback=function(t,e){return li.current.useCallback(t,e)};Ft.useContext=function(t){return li.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return li.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return li.current.useEffect(t,e)};Ft.useId=function(){return li.current.useId()};Ft.useImperativeHandle=function(t,e,n){return li.current.useImperativeHandle(t,e,n)};Ft.useInsertionEffect=function(t,e){return li.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return li.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return li.current.useMemo(t,e)};Ft.useReducer=function(t,e,n){return li.current.useReducer(t,e,n)};Ft.useRef=function(t){return li.current.useRef(t)};Ft.useState=function(t){return li.current.useState(t)};Ft.useSyncExternalStore=function(t,e,n){return li.current.useSyncExternalStore(t,e,n)};Ft.useTransition=function(){return li.current.useTransition()};Ft.version="18.3.1";bb.exports=Ft;var he=bb.exports;const Pb=MS(he),ZS=OS({__proto__:null,default:Pb},[he]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN=he,tN=Symbol.for("react.element"),nN=Symbol.for("react.fragment"),rN=Object.prototype.hasOwnProperty,iN=eN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sN={key:!0,ref:!0,__self:!0,__source:!0};function Cb(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)rN.call(e,r)&&!sN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tN,type:t,key:s,ref:a,props:i,_owner:iN.current}}em.Fragment=nN;em.jsx=Cb;em.jsxs=Cb;wb.exports=em;var v=wb.exports,h1={},Lb={exports:{}},Gi={},Rb={exports:{}},Db={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,G){var pe=Z.length;Z.push(G);e:for(;0<pe;){var _e=pe-1>>>1,M=Z[_e];if(0<i(M,G))Z[_e]=G,Z[pe]=M,pe=_e;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var G=Z[0],pe=Z.pop();if(pe!==G){Z[0]=pe;e:for(var _e=0,M=Z.length,K=M>>>1;_e<K;){var q=2*(_e+1)-1,Q=Z[q],ie=q+1,ae=Z[ie];if(0>i(Q,pe))ie<M&&0>i(ae,Q)?(Z[_e]=ae,Z[ie]=pe,_e=ie):(Z[_e]=Q,Z[q]=pe,_e=q);else if(ie<M&&0>i(ae,pe))Z[_e]=ae,Z[ie]=pe,_e=ie;else break e}}return G}function i(Z,G){var pe=Z.sortIndex-G.sortIndex;return pe!==0?pe:Z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,m=null,_=3,p=!1,C=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Z){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=Z)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function B(Z){if(k=!1,R(Z),!C)if(n(l)!==null)C=!0,ye(ne);else{var G=n(u);G!==null&&de(B,G.startTime-Z)}}function ne(Z,G){C=!1,k&&(k=!1,b(x),x=-1),p=!0;var pe=_;try{for(R(G),m=n(l);m!==null&&(!(m.expirationTime>G)||Z&&!E());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,_=m.priorityLevel;var M=_e(m.expirationTime<=G);G=t.unstable_now(),typeof M=="function"?m.callback=M:m===n(l)&&r(l),R(G)}else r(l);m=n(l)}if(m!==null)var K=!0;else{var q=n(u);q!==null&&de(B,q.startTime-G),K=!1}return K}finally{m=null,_=pe,p=!1}}var F=!1,V=null,x=-1,N=5,O=-1;function E(){return!(t.unstable_now()-O<N)}function S(){if(V!==null){var Z=t.unstable_now();O=Z;var G=!0;try{G=V(!0,Z)}finally{G?P():(F=!1,V=null)}}else F=!1}var P;if(typeof T=="function")P=function(){T(S)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,fe=te.port2;te.port1.onmessage=S,P=function(){fe.postMessage(null)}}else P=function(){L(S,0)};function ye(Z){V=Z,F||(F=!0,P())}function de(Z,G){x=L(function(){Z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){C||p||(C=!0,ye(ne))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var pe=_;_=G;try{return Z()}finally{_=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,G){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=_;_=Z;try{return G()}finally{_=pe}},t.unstable_scheduleCallback=function(Z,G,pe){var _e=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?_e+pe:_e):pe=_e,Z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pe+M,Z={id:f++,callback:G,priorityLevel:Z,startTime:pe,expirationTime:M,sortIndex:-1},pe>_e?(Z.sortIndex=pe,e(u,Z),n(l)===null&&Z===n(u)&&(k?(b(x),x=-1):k=!0,de(B,pe-_e))):(Z.sortIndex=M,e(l,Z),C||p||(C=!0,ye(ne))),Z},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(Z){var G=_;return function(){var pe=_;_=G;try{return Z.apply(this,arguments)}finally{_=pe}}}})(Db);Rb.exports=Db;var aN=Rb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN=he,Hi=aN;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jb=new Set,Uh={};function hu(t,e){uc(t,e),uc(t+"Capture",e)}function uc(t,e){for(Uh[t]=e,t=0;t<e.length;t++)jb.add(e[t])}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f1=Object.prototype.hasOwnProperty,lN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},Iy={};function uN(t){return f1.call(Iy,t)?!0:f1.call(Ny,t)?!1:lN.test(t)?Iy[t]=!0:(Ny[t]=!0,!1)}function cN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hN(t,e,n,r){if(e===null||typeof e>"u"||cN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dr[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dr[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dr[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dr[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dr[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dr[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dr[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dr[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dr[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var H0=/[\-:]([a-z])/g;function G0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H0,G0);Dr[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H0,G0);Dr[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H0,G0);Dr[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dr[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dr[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function K0(t,e,n,r){var i=Dr.hasOwnProperty(e)?Dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hN(e,n,i,r)&&(n=null),r||i===null?uN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qa=oN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sd=Symbol.for("react.element"),Du=Symbol.for("react.portal"),ju=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),d1=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),p1=Symbol.for("react.suspense"),m1=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),Fb=Symbol.for("react.offscreen"),ky=Symbol.iterator;function rh(t){return t===null||typeof t!="object"?null:(t=ky&&t[ky]||t["@@iterator"],typeof t=="function"?t:null)}var Mn=Object.assign,sg;function ph(t){if(sg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sg=e&&e[1]||""}return`
`+sg+t}var ag=!1;function og(t,e){if(!t||ag)return"";ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ph(t):""}function fN(t){switch(t.tag){case 5:return ph(t.type);case 16:return ph("Lazy");case 13:return ph("Suspense");case 19:return ph("SuspenseList");case 0:case 2:case 15:return t=og(t.type,!1),t;case 11:return t=og(t.type.render,!1),t;case 1:return t=og(t.type,!0),t;default:return""}}function g1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ju:return"Fragment";case Du:return"Portal";case d1:return"Profiler";case Q0:return"StrictMode";case p1:return"Suspense";case m1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mb:return(t.displayName||"Context")+".Consumer";case Ob:return(t._context.displayName||"Context")+".Provider";case J0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y0:return e=t.displayName||null,e!==null?e:g1(t.type)||"Memo";case ko:e=t._payload,t=t._init;try{return g1(t(e))}catch{}}return null}function dN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g1(e);case 8:return e===Q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pN(t){var e=Vb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ad(t){t._valueTracker||(t._valueTracker=pN(t))}function Ub(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function up(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function v1(t,e){var n=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bb(t,e){e=e.checked,e!=null&&K0(t,"checked",e,!1)}function y1(t,e){Bb(t,e);var n=tl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_1(t,e.type,n):e.hasOwnProperty("defaultValue")&&_1(t,e.type,tl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Py(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _1(t,e,n){(e!=="number"||up(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mh=Array.isArray;function Qu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function w1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(mh(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tl(n)}}function zb(t,e){var n=tl(e.value),r=tl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ly(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var od,$b=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=od.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mN=["Webkit","ms","Moz","O"];Object.keys(xh).forEach(function(t){mN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xh[e]=xh[t]})});function Wb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xh.hasOwnProperty(t)&&xh[t]?(""+e).trim():e+"px"}function Hb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gN=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A1(t,e){if(e){if(gN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function E1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=null;function X0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var S1=null,Ju=null,Yu=null;function Ry(t){if(t=Ef(t)){if(typeof S1!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=sm(e),S1(t.stateNode,t.type,e))}}function Gb(t){Ju?Yu?Yu.push(t):Yu=[t]:Ju=t}function Kb(){if(Ju){var t=Ju,e=Yu;if(Yu=Ju=null,Ry(t),e)for(t=0;t<e.length;t++)Ry(e[t])}}function Qb(t,e){return t(e)}function Jb(){}var lg=!1;function Yb(t,e,n){if(lg)return t(e,n);lg=!0;try{return Qb(t,e,n)}finally{lg=!1,(Ju!==null||Yu!==null)&&(Jb(),Kb())}}function zh(t,e){var n=t.stateNode;if(n===null)return null;var r=sm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var N1=!1;if(Ua)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){N1=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{N1=!1}function vN(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Sh=!1,cp=null,hp=!1,I1=null,yN={onError:function(t){Sh=!0,cp=t}};function _N(t,e,n,r,i,s,a,o,l){Sh=!1,cp=null,vN.apply(yN,arguments)}function wN(t,e,n,r,i,s,a,o,l){if(_N.apply(this,arguments),Sh){if(Sh){var u=cp;Sh=!1,cp=null}else throw Error(Oe(198));hp||(hp=!0,I1=u)}}function fu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dy(t){if(fu(t)!==t)throw Error(Oe(188))}function bN(t){var e=t.alternate;if(!e){if(e=fu(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dy(i),t;if(s===r)return Dy(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function Zb(t){return t=bN(t),t!==null?eA(t):null}function eA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eA(t);if(e!==null)return e;t=t.sibling}return null}var tA=Hi.unstable_scheduleCallback,jy=Hi.unstable_cancelCallback,AN=Hi.unstable_shouldYield,EN=Hi.unstable_requestPaint,Xn=Hi.unstable_now,xN=Hi.unstable_getCurrentPriorityLevel,Z0=Hi.unstable_ImmediatePriority,nA=Hi.unstable_UserBlockingPriority,fp=Hi.unstable_NormalPriority,SN=Hi.unstable_LowPriority,rA=Hi.unstable_IdlePriority,tm=null,aa=null;function NN(t){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(tm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:TN,IN=Math.log,kN=Math.LN2;function TN(t){return t>>>=0,t===0?32:31-(IN(t)/kN|0)|0}var ld=64,ud=4194304;function gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=gh(o):(s&=a,s!==0&&(r=gh(s)))}else a=n&~i,a!==0?r=gh(a):s!==0&&(r=gh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ts(e),i=1<<n,r|=t[n],e&=~i;return r}function PN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ts(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=PN(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function k1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iA(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function ug(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ts(e),t[e]=n}function LN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ts(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function e2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ts(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var un=0;function sA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aA,t2,oA,lA,uA,T1=!1,cd=[],Bo=null,zo=null,qo=null,qh=new Map,$h=new Map,Po=[],RN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(t,e){switch(t){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":qh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(e.pointerId)}}function sh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&t2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DN(t,e,n,r,i){switch(e){case"focusin":return Bo=sh(Bo,t,e,n,r,i),!0;case"dragenter":return zo=sh(zo,t,e,n,r,i),!0;case"mouseover":return qo=sh(qo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qh.set(s,sh(qh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$h.set(s,sh($h.get(s)||null,t,e,n,r,i)),!0}return!1}function cA(t){var e=ql(t.target);if(e!==null){var n=fu(e);if(n!==null){if(e=n.tag,e===13){if(e=Xb(n),e!==null){t.blockedOn=e,uA(t.priority,function(){oA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=P1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x1=r,n.target.dispatchEvent(r),x1=null}else return e=Ef(n),e!==null&&t2(e),t.blockedOn=n,!1;e.shift()}return!0}function My(t,e,n){Md(t)&&n.delete(e)}function jN(){T1=!1,Bo!==null&&Md(Bo)&&(Bo=null),zo!==null&&Md(zo)&&(zo=null),qo!==null&&Md(qo)&&(qo=null),qh.forEach(My),$h.forEach(My)}function ah(t,e){t.blockedOn===e&&(t.blockedOn=null,T1||(T1=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,jN)))}function Wh(t){function e(i){return ah(i,t)}if(0<cd.length){ah(cd[0],t);for(var n=1;n<cd.length;n++){var r=cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bo!==null&&ah(Bo,t),zo!==null&&ah(zo,t),qo!==null&&ah(qo,t),qh.forEach(e),$h.forEach(e),n=0;n<Po.length;n++)r=Po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Po.length&&(n=Po[0],n.blockedOn===null);)cA(n),n.blockedOn===null&&Po.shift()}var Xu=Qa.ReactCurrentBatchConfig,pp=!0;function ON(t,e,n,r){var i=un,s=Xu.transition;Xu.transition=null;try{un=1,n2(t,e,n,r)}finally{un=i,Xu.transition=s}}function MN(t,e,n,r){var i=un,s=Xu.transition;Xu.transition=null;try{un=4,n2(t,e,n,r)}finally{un=i,Xu.transition=s}}function n2(t,e,n,r){if(pp){var i=P1(t,e,n,r);if(i===null)_g(t,e,r,mp,n),Oy(t,r);else if(DN(i,t,e,n,r))r.stopPropagation();else if(Oy(t,r),e&4&&-1<RN.indexOf(t)){for(;i!==null;){var s=Ef(i);if(s!==null&&aA(s),s=P1(t,e,n,r),s===null&&_g(t,e,r,mp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _g(t,e,r,null,n)}}var mp=null;function P1(t,e,n,r){if(mp=null,t=X0(r),t=ql(t),t!==null)if(e=fu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mp=t,null}function hA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xN()){case Z0:return 1;case nA:return 4;case fp:case SN:return 16;case rA:return 536870912;default:return 16}default:return 16}}var Oo=null,r2=null,Fd=null;function fA(){if(Fd)return Fd;var t,e=r2,n=e.length,r,i="value"in Oo?Oo.value:Oo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Fd=i.slice(t,1<r?1-r:void 0)}function Vd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hd(){return!0}function Fy(){return!1}function Ki(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hd:Fy,this.isPropagationStopped=Fy,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i2=Ki(Sc),Af=Mn({},Sc,{view:0,detail:0}),FN=Ki(Af),cg,hg,oh,nm=Mn({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oh&&(oh&&t.type==="mousemove"?(cg=t.screenX-oh.screenX,hg=t.screenY-oh.screenY):hg=cg=0,oh=t),cg)},movementY:function(t){return"movementY"in t?t.movementY:hg}}),Vy=Ki(nm),VN=Mn({},nm,{dataTransfer:0}),UN=Ki(VN),BN=Mn({},Af,{relatedTarget:0}),fg=Ki(BN),zN=Mn({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),qN=Ki(zN),$N=Mn({},Sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WN=Ki($N),HN=Mn({},Sc,{data:0}),Uy=Ki(HN),GN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QN[t])?!!e[t]:!1}function s2(){return JN}var YN=Mn({},Af,{key:function(t){if(t.key){var e=GN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s2,charCode:function(t){return t.type==="keypress"?Vd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XN=Ki(YN),ZN=Mn({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=Ki(ZN),eI=Mn({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s2}),tI=Ki(eI),nI=Mn({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),rI=Ki(nI),iI=Mn({},nm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sI=Ki(iI),aI=[9,13,27,32],a2=Ua&&"CompositionEvent"in window,Nh=null;Ua&&"documentMode"in document&&(Nh=document.documentMode);var oI=Ua&&"TextEvent"in window&&!Nh,dA=Ua&&(!a2||Nh&&8<Nh&&11>=Nh),zy=" ",qy=!1;function pA(t,e){switch(t){case"keyup":return aI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function lI(t,e){switch(t){case"compositionend":return mA(e);case"keypress":return e.which!==32?null:(qy=!0,zy);case"textInput":return t=e.data,t===zy&&qy?null:t;default:return null}}function uI(t,e){if(Ou)return t==="compositionend"||!a2&&pA(t,e)?(t=fA(),Fd=r2=Oo=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dA&&e.locale!=="ko"?null:e.data;default:return null}}var cI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cI[t.type]:e==="textarea"}function gA(t,e,n,r){Gb(r),e=gp(e,"onChange"),0<e.length&&(n=new i2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ih=null,Hh=null;function hI(t){IA(t,0)}function rm(t){var e=Vu(t);if(Ub(e))return t}function fI(t,e){if(t==="change")return e}var vA=!1;if(Ua){var dg;if(Ua){var pg="oninput"in document;if(!pg){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),pg=typeof Wy.oninput=="function"}dg=pg}else dg=!1;vA=dg&&(!document.documentMode||9<document.documentMode)}function Hy(){Ih&&(Ih.detachEvent("onpropertychange",yA),Hh=Ih=null)}function yA(t){if(t.propertyName==="value"&&rm(Hh)){var e=[];gA(e,Hh,t,X0(t)),Yb(hI,e)}}function dI(t,e,n){t==="focusin"?(Hy(),Ih=e,Hh=n,Ih.attachEvent("onpropertychange",yA)):t==="focusout"&&Hy()}function pI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rm(Hh)}function mI(t,e){if(t==="click")return rm(e)}function gI(t,e){if(t==="input"||t==="change")return rm(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cs=typeof Object.is=="function"?Object.is:vI;function Gh(t,e){if(Cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f1.call(e,i)||!Cs(t[i],e[i]))return!1}return!0}function Gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ky(t,e){var n=Gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gy(n)}}function _A(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_A(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wA(){for(var t=window,e=up();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=up(t.document)}return e}function o2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yI(t){var e=wA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_A(n.ownerDocument.documentElement,n)){if(r!==null&&o2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ky(n,s);var a=Ky(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _I=Ua&&"documentMode"in document&&11>=document.documentMode,Mu=null,C1=null,kh=null,L1=!1;function Qy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;L1||Mu==null||Mu!==up(r)||(r=Mu,"selectionStart"in r&&o2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kh&&Gh(kh,r)||(kh=r,r=gp(C1,"onSelect"),0<r.length&&(e=new i2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mu)))}function fd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fu={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},mg={},bA={};Ua&&(bA=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function im(t){if(mg[t])return mg[t];if(!Fu[t])return t;var e=Fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bA)return mg[t]=e[n];return t}var AA=im("animationend"),EA=im("animationiteration"),xA=im("animationstart"),SA=im("transitionend"),NA=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cl(t,e){NA.set(t,e),hu(e,[t])}for(var gg=0;gg<Jy.length;gg++){var vg=Jy[gg],wI=vg.toLowerCase(),bI=vg[0].toUpperCase()+vg.slice(1);cl(wI,"on"+bI)}cl(AA,"onAnimationEnd");cl(EA,"onAnimationIteration");cl(xA,"onAnimationStart");cl("dblclick","onDoubleClick");cl("focusin","onFocus");cl("focusout","onBlur");cl(SA,"onTransitionEnd");uc("onMouseEnter",["mouseout","mouseover"]);uc("onMouseLeave",["mouseout","mouseover"]);uc("onPointerEnter",["pointerout","pointerover"]);uc("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function Yy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wN(r,e,void 0,t),t.currentTarget=null}function IA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Yy(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Yy(i,o,u),s=l}}}if(hp)throw t=I1,hp=!1,I1=null,t}function An(t,e){var n=e[M1];n===void 0&&(n=e[M1]=new Set);var r=t+"__bubble";n.has(r)||(kA(e,t,2,!1),n.add(r))}function yg(t,e,n){var r=0;e&&(r|=4),kA(n,t,r,e)}var dd="_reactListening"+Math.random().toString(36).slice(2);function Kh(t){if(!t[dd]){t[dd]=!0,jb.forEach(function(n){n!=="selectionchange"&&(AI.has(n)||yg(n,!1,t),yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dd]||(e[dd]=!0,yg("selectionchange",!1,e))}}function kA(t,e,n,r){switch(hA(e)){case 1:var i=ON;break;case 4:i=MN;break;default:i=n2}n=i.bind(null,e,n,t),i=void 0,!N1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _g(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ql(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Yb(function(){var u=s,f=X0(n),m=[];e:{var _=NA.get(t);if(_!==void 0){var p=i2,C=t;switch(t){case"keypress":if(Vd(n)===0)break e;case"keydown":case"keyup":p=XN;break;case"focusin":C="focus",p=fg;break;case"focusout":C="blur",p=fg;break;case"beforeblur":case"afterblur":p=fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tI;break;case AA:case EA:case xA:p=qN;break;case SA:p=rI;break;case"scroll":p=FN;break;case"wheel":p=sI;break;case"copy":case"cut":case"paste":p=WN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=By}var k=(e&4)!==0,L=!k&&t==="scroll",b=k?_!==null?_+"Capture":null:_;k=[];for(var T=u,R;T!==null;){R=T;var B=R.stateNode;if(R.tag===5&&B!==null&&(R=B,b!==null&&(B=zh(T,b),B!=null&&k.push(Qh(T,B,R)))),L)break;T=T.return}0<k.length&&(_=new p(_,C,null,n,f),m.push({event:_,listeners:k}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",_&&n!==x1&&(C=n.relatedTarget||n.fromElement)&&(ql(C)||C[Ba]))break e;if((p||_)&&(_=f.window===f?f:(_=f.ownerDocument)?_.defaultView||_.parentWindow:window,p?(C=n.relatedTarget||n.toElement,p=u,C=C?ql(C):null,C!==null&&(L=fu(C),C!==L||C.tag!==5&&C.tag!==6)&&(C=null)):(p=null,C=u),p!==C)){if(k=Vy,B="onMouseLeave",b="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(k=By,B="onPointerLeave",b="onPointerEnter",T="pointer"),L=p==null?_:Vu(p),R=C==null?_:Vu(C),_=new k(B,T+"leave",p,n,f),_.target=L,_.relatedTarget=R,B=null,ql(f)===u&&(k=new k(b,T+"enter",C,n,f),k.target=R,k.relatedTarget=L,B=k),L=B,p&&C)t:{for(k=p,b=C,T=0,R=k;R;R=xu(R))T++;for(R=0,B=b;B;B=xu(B))R++;for(;0<T-R;)k=xu(k),T--;for(;0<R-T;)b=xu(b),R--;for(;T--;){if(k===b||b!==null&&k===b.alternate)break t;k=xu(k),b=xu(b)}k=null}else k=null;p!==null&&Xy(m,_,p,k,!1),C!==null&&L!==null&&Xy(m,L,C,k,!0)}}e:{if(_=u?Vu(u):window,p=_.nodeName&&_.nodeName.toLowerCase(),p==="select"||p==="input"&&_.type==="file")var ne=fI;else if($y(_))if(vA)ne=gI;else{ne=pI;var F=dI}else(p=_.nodeName)&&p.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(ne=mI);if(ne&&(ne=ne(t,u))){gA(m,ne,n,f);break e}F&&F(t,_,u),t==="focusout"&&(F=_._wrapperState)&&F.controlled&&_.type==="number"&&_1(_,"number",_.value)}switch(F=u?Vu(u):window,t){case"focusin":($y(F)||F.contentEditable==="true")&&(Mu=F,C1=u,kh=null);break;case"focusout":kh=C1=Mu=null;break;case"mousedown":L1=!0;break;case"contextmenu":case"mouseup":case"dragend":L1=!1,Qy(m,n,f);break;case"selectionchange":if(_I)break;case"keydown":case"keyup":Qy(m,n,f)}var V;if(a2)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ou?pA(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(dA&&n.locale!=="ko"&&(Ou||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ou&&(V=fA()):(Oo=f,r2="value"in Oo?Oo.value:Oo.textContent,Ou=!0)),F=gp(u,x),0<F.length&&(x=new Uy(x,t,null,n,f),m.push({event:x,listeners:F}),V?x.data=V:(V=mA(n),V!==null&&(x.data=V)))),(V=oI?lI(t,n):uI(t,n))&&(u=gp(u,"onBeforeInput"),0<u.length&&(f=new Uy("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=V))}IA(m,e)})}function Qh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zh(t,n),s!=null&&r.unshift(Qh(t,s,i)),s=zh(t,e),s!=null&&r.push(Qh(t,s,i))),t=t.return}return r}function xu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xy(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=zh(n,s),l!=null&&a.unshift(Qh(n,l,o))):i||(l=zh(n,s),l!=null&&a.push(Qh(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var EI=/\r\n?/g,xI=/\u0000|\uFFFD/g;function Zy(t){return(typeof t=="string"?t:""+t).replace(EI,`
`).replace(xI,"")}function pd(t,e,n){if(e=Zy(e),Zy(t)!==e&&n)throw Error(Oe(425))}function vp(){}var R1=null,D1=null;function j1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,SI=typeof clearTimeout=="function"?clearTimeout:void 0,e5=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof e5<"u"?function(t){return e5.resolve(null).then(t).catch(II)}:O1;function II(t){setTimeout(function(){throw t})}function wg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wh(e)}function $o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),ra="__reactFiber$"+Nc,Jh="__reactProps$"+Nc,Ba="__reactContainer$"+Nc,M1="__reactEvents$"+Nc,kI="__reactListeners$"+Nc,TI="__reactHandles$"+Nc;function ql(t){var e=t[ra];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ba]||n[ra]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t5(t);t!==null;){if(n=t[ra])return n;t=t5(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[ra]||t[Ba],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function sm(t){return t[Jh]||null}var F1=[],Uu=-1;function hl(t){return{current:t}}function Sn(t){0>Uu||(t.current=F1[Uu],F1[Uu]=null,Uu--)}function yn(t,e){Uu++,F1[Uu]=t.current,t.current=e}var nl={},Xr=hl(nl),_i=hl(!1),Xl=nl;function cc(t,e){var n=t.type.contextTypes;if(!n)return nl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wi(t){return t=t.childContextTypes,t!=null}function yp(){Sn(_i),Sn(Xr)}function n5(t,e,n){if(Xr.current!==nl)throw Error(Oe(168));yn(Xr,e),yn(_i,n)}function TA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,dN(t)||"Unknown",i));return Mn({},n,r)}function _p(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nl,Xl=Xr.current,yn(Xr,t),yn(_i,_i.current),!0}function r5(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=TA(t,e,Xl),r.__reactInternalMemoizedMergedChildContext=t,Sn(_i),Sn(Xr),yn(Xr,t)):Sn(_i),yn(_i,n)}var La=null,am=!1,bg=!1;function PA(t){La===null?La=[t]:La.push(t)}function PI(t){am=!0,PA(t)}function fl(){if(!bg&&La!==null){bg=!0;var t=0,e=un;try{var n=La;for(un=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}La=null,am=!1}catch(i){throw La!==null&&(La=La.slice(t+1)),tA(Z0,fl),i}finally{un=e,bg=!1}}return null}var Bu=[],zu=0,wp=null,bp=0,rs=[],is=0,Zl=null,Da=1,ja="";function Fl(t,e){Bu[zu++]=bp,Bu[zu++]=wp,wp=t,bp=e}function CA(t,e,n){rs[is++]=Da,rs[is++]=ja,rs[is++]=Zl,Zl=t;var r=Da;t=ja;var i=32-Ts(r)-1;r&=~(1<<i),n+=1;var s=32-Ts(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Da=1<<32-Ts(e)+i|n<<i|r,ja=s+t}else Da=1<<s|n<<i|r,ja=t}function l2(t){t.return!==null&&(Fl(t,1),CA(t,1,0))}function u2(t){for(;t===wp;)wp=Bu[--zu],Bu[zu]=null,bp=Bu[--zu],Bu[zu]=null;for(;t===Zl;)Zl=rs[--is],rs[is]=null,ja=rs[--is],rs[is]=null,Da=rs[--is],rs[is]=null}var Wi=null,Bi=null,Pn=!1,Is=null;function LA(t,e){var n=ss(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wi=t,Bi=$o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wi=t,Bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zl!==null?{id:Da,overflow:ja}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ss(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wi=t,Bi=null,!0):!1;default:return!1}}function V1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function U1(t){if(Pn){var e=Bi;if(e){var n=e;if(!i5(t,e)){if(V1(t))throw Error(Oe(418));e=$o(n.nextSibling);var r=Wi;e&&i5(t,e)?LA(r,n):(t.flags=t.flags&-4097|2,Pn=!1,Wi=t)}}else{if(V1(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Pn=!1,Wi=t}}}function s5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wi=t}function md(t){if(t!==Wi)return!1;if(!Pn)return s5(t),Pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!j1(t.type,t.memoizedProps)),e&&(e=Bi)){if(V1(t))throw RA(),Error(Oe(418));for(;e;)LA(t,e),e=$o(e.nextSibling)}if(s5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bi=$o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bi=null}}else Bi=Wi?$o(t.stateNode.nextSibling):null;return!0}function RA(){for(var t=Bi;t;)t=$o(t.nextSibling)}function hc(){Bi=Wi=null,Pn=!1}function c2(t){Is===null?Is=[t]:Is.push(t)}var CI=Qa.ReactCurrentBatchConfig;function lh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a5(t){var e=t._init;return e(t._payload)}function DA(t){function e(b,T){if(t){var R=b.deletions;R===null?(b.deletions=[T],b.flags|=16):R.push(T)}}function n(b,T){if(!t)return null;for(;T!==null;)e(b,T),T=T.sibling;return null}function r(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function i(b,T){return b=Ko(b,T),b.index=0,b.sibling=null,b}function s(b,T,R){return b.index=R,t?(R=b.alternate,R!==null?(R=R.index,R<T?(b.flags|=2,T):R):(b.flags|=2,T)):(b.flags|=1048576,T)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,T,R,B){return T===null||T.tag!==6?(T=kg(R,b.mode,B),T.return=b,T):(T=i(T,R),T.return=b,T)}function l(b,T,R,B){var ne=R.type;return ne===ju?f(b,T,R.props.children,B,R.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ko&&a5(ne)===T.type)?(B=i(T,R.props),B.ref=lh(b,T,R),B.return=b,B):(B=Hd(R.type,R.key,R.props,null,b.mode,B),B.ref=lh(b,T,R),B.return=b,B)}function u(b,T,R,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=Tg(R,b.mode,B),T.return=b,T):(T=i(T,R.children||[]),T.return=b,T)}function f(b,T,R,B,ne){return T===null||T.tag!==7?(T=Kl(R,b.mode,B,ne),T.return=b,T):(T=i(T,R),T.return=b,T)}function m(b,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return T=kg(""+T,b.mode,R),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case sd:return R=Hd(T.type,T.key,T.props,null,b.mode,R),R.ref=lh(b,null,T),R.return=b,R;case Du:return T=Tg(T,b.mode,R),T.return=b,T;case ko:var B=T._init;return m(b,B(T._payload),R)}if(mh(T)||rh(T))return T=Kl(T,b.mode,R,null),T.return=b,T;gd(b,T)}return null}function _(b,T,R,B){var ne=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ne!==null?null:o(b,T,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case sd:return R.key===ne?l(b,T,R,B):null;case Du:return R.key===ne?u(b,T,R,B):null;case ko:return ne=R._init,_(b,T,ne(R._payload),B)}if(mh(R)||rh(R))return ne!==null?null:f(b,T,R,B,null);gd(b,R)}return null}function p(b,T,R,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number")return b=b.get(R)||null,o(T,b,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case sd:return b=b.get(B.key===null?R:B.key)||null,l(T,b,B,ne);case Du:return b=b.get(B.key===null?R:B.key)||null,u(T,b,B,ne);case ko:var F=B._init;return p(b,T,R,F(B._payload),ne)}if(mh(B)||rh(B))return b=b.get(R)||null,f(T,b,B,ne,null);gd(T,B)}return null}function C(b,T,R,B){for(var ne=null,F=null,V=T,x=T=0,N=null;V!==null&&x<R.length;x++){V.index>x?(N=V,V=null):N=V.sibling;var O=_(b,V,R[x],B);if(O===null){V===null&&(V=N);break}t&&V&&O.alternate===null&&e(b,V),T=s(O,T,x),F===null?ne=O:F.sibling=O,F=O,V=N}if(x===R.length)return n(b,V),Pn&&Fl(b,x),ne;if(V===null){for(;x<R.length;x++)V=m(b,R[x],B),V!==null&&(T=s(V,T,x),F===null?ne=V:F.sibling=V,F=V);return Pn&&Fl(b,x),ne}for(V=r(b,V);x<R.length;x++)N=p(V,b,x,R[x],B),N!==null&&(t&&N.alternate!==null&&V.delete(N.key===null?x:N.key),T=s(N,T,x),F===null?ne=N:F.sibling=N,F=N);return t&&V.forEach(function(E){return e(b,E)}),Pn&&Fl(b,x),ne}function k(b,T,R,B){var ne=rh(R);if(typeof ne!="function")throw Error(Oe(150));if(R=ne.call(R),R==null)throw Error(Oe(151));for(var F=ne=null,V=T,x=T=0,N=null,O=R.next();V!==null&&!O.done;x++,O=R.next()){V.index>x?(N=V,V=null):N=V.sibling;var E=_(b,V,O.value,B);if(E===null){V===null&&(V=N);break}t&&V&&E.alternate===null&&e(b,V),T=s(E,T,x),F===null?ne=E:F.sibling=E,F=E,V=N}if(O.done)return n(b,V),Pn&&Fl(b,x),ne;if(V===null){for(;!O.done;x++,O=R.next())O=m(b,O.value,B),O!==null&&(T=s(O,T,x),F===null?ne=O:F.sibling=O,F=O);return Pn&&Fl(b,x),ne}for(V=r(b,V);!O.done;x++,O=R.next())O=p(V,b,x,O.value,B),O!==null&&(t&&O.alternate!==null&&V.delete(O.key===null?x:O.key),T=s(O,T,x),F===null?ne=O:F.sibling=O,F=O);return t&&V.forEach(function(S){return e(b,S)}),Pn&&Fl(b,x),ne}function L(b,T,R,B){if(typeof R=="object"&&R!==null&&R.type===ju&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case sd:e:{for(var ne=R.key,F=T;F!==null;){if(F.key===ne){if(ne=R.type,ne===ju){if(F.tag===7){n(b,F.sibling),T=i(F,R.props.children),T.return=b,b=T;break e}}else if(F.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ko&&a5(ne)===F.type){n(b,F.sibling),T=i(F,R.props),T.ref=lh(b,F,R),T.return=b,b=T;break e}n(b,F);break}else e(b,F);F=F.sibling}R.type===ju?(T=Kl(R.props.children,b.mode,B,R.key),T.return=b,b=T):(B=Hd(R.type,R.key,R.props,null,b.mode,B),B.ref=lh(b,T,R),B.return=b,b=B)}return a(b);case Du:e:{for(F=R.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){n(b,T.sibling),T=i(T,R.children||[]),T.return=b,b=T;break e}else{n(b,T);break}else e(b,T);T=T.sibling}T=Tg(R,b.mode,B),T.return=b,b=T}return a(b);case ko:return F=R._init,L(b,T,F(R._payload),B)}if(mh(R))return C(b,T,R,B);if(rh(R))return k(b,T,R,B);gd(b,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,T!==null&&T.tag===6?(n(b,T.sibling),T=i(T,R),T.return=b,b=T):(n(b,T),T=kg(R,b.mode,B),T.return=b,b=T),a(b)):n(b,T)}return L}var fc=DA(!0),jA=DA(!1),Ap=hl(null),Ep=null,qu=null,h2=null;function f2(){h2=qu=Ep=null}function d2(t){var e=Ap.current;Sn(Ap),t._currentValue=e}function B1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zu(t,e){Ep=t,h2=qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yi=!0),t.firstContext=null)}function us(t){var e=t._currentValue;if(h2!==t)if(t={context:t,memoizedValue:e,next:null},qu===null){if(Ep===null)throw Error(Oe(308));qu=t,Ep.dependencies={lanes:0,firstContext:t}}else qu=qu.next=t;return e}var $l=null;function p2(t){$l===null?$l=[t]:$l.push(t)}function OA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,p2(e)):(n.next=i.next,i.next=n),e.interleaved=n,za(t,r)}function za(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var To=!1;function m2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Va(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,za(t,n)}return i=r.interleaved,i===null?(e.next=e,p2(r)):(e.next=i.next,i.next=e),r.interleaved=e,za(t,n)}function Ud(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,e2(t,n)}}function o5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xp(t,e,n,r){var i=t.updateQueue;To=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,f=u=l=null,o=s;do{var _=o.lane,p=o.eventTime;if((r&_)===_){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=t,k=o;switch(_=e,p=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){m=C.call(p,m,_);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,_=typeof C=="function"?C.call(p,m,_):C,_==null)break e;m=Mn({},m,_);break e;case 2:To=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[o]:_.push(o))}else p={eventTime:p,lane:_,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=p,l=m):f=f.next=p,a|=_;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;_=o,o=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);tu|=a,t.lanes=a,t.memoizedState=m}}function l5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var xf={},oa=hl(xf),Yh=hl(xf),Xh=hl(xf);function Wl(t){if(t===xf)throw Error(Oe(174));return t}function g2(t,e){switch(yn(Xh,e),yn(Yh,t),yn(oa,xf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:b1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=b1(e,t)}Sn(oa),yn(oa,e)}function dc(){Sn(oa),Sn(Yh),Sn(Xh)}function FA(t){Wl(Xh.current);var e=Wl(oa.current),n=b1(e,t.type);e!==n&&(yn(Yh,t),yn(oa,n))}function v2(t){Yh.current===t&&(Sn(oa),Sn(Yh))}var jn=hl(0);function Sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ag=[];function y2(){for(var t=0;t<Ag.length;t++)Ag[t]._workInProgressVersionPrimary=null;Ag.length=0}var Bd=Qa.ReactCurrentDispatcher,Eg=Qa.ReactCurrentBatchConfig,eu=0,On=null,dr=null,wr=null,Np=!1,Th=!1,Zh=0,LI=0;function Br(){throw Error(Oe(321))}function _2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cs(t[n],e[n]))return!1;return!0}function w2(t,e,n,r,i,s){if(eu=s,On=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bd.current=t===null||t.memoizedState===null?OI:MI,t=n(r,i),Th){s=0;do{if(Th=!1,Zh=0,25<=s)throw Error(Oe(301));s+=1,wr=dr=null,e.updateQueue=null,Bd.current=FI,t=n(r,i)}while(Th)}if(Bd.current=Ip,e=dr!==null&&dr.next!==null,eu=0,wr=dr=On=null,Np=!1,e)throw Error(Oe(300));return t}function b2(){var t=Zh!==0;return Zh=0,t}function na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?On.memoizedState=wr=t:wr=wr.next=t,wr}function cs(){if(dr===null){var t=On.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=wr===null?On.memoizedState:wr.next;if(e!==null)wr=e,dr=t;else{if(t===null)throw Error(Oe(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},wr===null?On.memoizedState=wr=t:wr=wr.next=t}return wr}function ef(t,e){return typeof e=="function"?e(t):e}function xg(t){var e=cs(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=dr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var f=u.lane;if((eu&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,On.lanes|=f,tu|=f}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Cs(r,e.memoizedState)||(yi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,On.lanes|=s,tu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sg(t){var e=cs(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Cs(s,e.memoizedState)||(yi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VA(){}function UA(t,e){var n=On,r=cs(),i=e(),s=!Cs(r.memoizedState,i);if(s&&(r.memoizedState=i,yi=!0),r=r.queue,A2(qA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,tf(9,zA.bind(null,n,r,i,e),void 0,null),Ar===null)throw Error(Oe(349));eu&30||BA(n,e,i)}return i}function BA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zA(t,e,n,r){e.value=n,e.getSnapshot=r,$A(e)&&WA(t)}function qA(t,e,n){return n(function(){$A(e)&&WA(t)})}function $A(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cs(t,n)}catch{return!0}}function WA(t){var e=za(t,1);e!==null&&Ps(e,t,1,-1)}function u5(t){var e=na();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:t},e.queue=t,t=t.dispatch=jI.bind(null,On,t),[e.memoizedState,t]}function tf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HA(){return cs().memoizedState}function zd(t,e,n,r){var i=na();On.flags|=t,i.memoizedState=tf(1|e,n,void 0,r===void 0?null:r)}function om(t,e,n,r){var i=cs();r=r===void 0?null:r;var s=void 0;if(dr!==null){var a=dr.memoizedState;if(s=a.destroy,r!==null&&_2(r,a.deps)){i.memoizedState=tf(e,n,s,r);return}}On.flags|=t,i.memoizedState=tf(1|e,n,s,r)}function c5(t,e){return zd(8390656,8,t,e)}function A2(t,e){return om(2048,8,t,e)}function GA(t,e){return om(4,2,t,e)}function KA(t,e){return om(4,4,t,e)}function QA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JA(t,e,n){return n=n!=null?n.concat([t]):null,om(4,4,QA.bind(null,e,t),n)}function E2(){}function YA(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XA(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZA(t,e,n){return eu&21?(Cs(n,e)||(n=iA(),On.lanes|=n,tu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yi=!0),t.memoizedState=n)}function RI(t,e){var n=un;un=n!==0&&4>n?n:4,t(!0);var r=Eg.transition;Eg.transition={};try{t(!1),e()}finally{un=n,Eg.transition=r}}function e4(){return cs().memoizedState}function DI(t,e,n){var r=Go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t4(t))n4(e,n);else if(n=OA(t,e,n,r),n!==null){var i=oi();Ps(n,t,r,i),r4(n,e,r)}}function jI(t,e,n){var r=Go(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t4(t))n4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Cs(o,a)){var l=e.interleaved;l===null?(i.next=i,p2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OA(t,e,i,r),n!==null&&(i=oi(),Ps(n,t,r,i),r4(n,e,r))}}function t4(t){var e=t.alternate;return t===On||e!==null&&e===On}function n4(t,e){Th=Np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,e2(t,n)}}var Ip={readContext:us,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},OI={readContext:us,useCallback:function(t,e){return na().memoizedState=[t,e===void 0?null:e],t},useContext:us,useEffect:c5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zd(4194308,4,QA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var n=na();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=na();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DI.bind(null,On,t),[r.memoizedState,t]},useRef:function(t){var e=na();return t={current:t},e.memoizedState=t},useState:u5,useDebugValue:E2,useDeferredValue:function(t){return na().memoizedState=t},useTransition:function(){var t=u5(!1),e=t[0];return t=RI.bind(null,t[1]),na().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=On,i=na();if(Pn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Ar===null)throw Error(Oe(349));eu&30||BA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,c5(qA.bind(null,r,s,t),[t]),r.flags|=2048,tf(9,zA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=na(),e=Ar.identifierPrefix;if(Pn){var n=ja,r=Da;n=(r&~(1<<32-Ts(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MI={readContext:us,useCallback:YA,useContext:us,useEffect:A2,useImperativeHandle:JA,useInsertionEffect:GA,useLayoutEffect:KA,useMemo:XA,useReducer:xg,useRef:HA,useState:function(){return xg(ef)},useDebugValue:E2,useDeferredValue:function(t){var e=cs();return ZA(e,dr.memoizedState,t)},useTransition:function(){var t=xg(ef)[0],e=cs().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:UA,useId:e4,unstable_isNewReconciler:!1},FI={readContext:us,useCallback:YA,useContext:us,useEffect:A2,useImperativeHandle:JA,useInsertionEffect:GA,useLayoutEffect:KA,useMemo:XA,useReducer:Sg,useRef:HA,useState:function(){return Sg(ef)},useDebugValue:E2,useDeferredValue:function(t){var e=cs();return dr===null?e.memoizedState=t:ZA(e,dr.memoizedState,t)},useTransition:function(){var t=Sg(ef)[0],e=cs().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:UA,useId:e4,unstable_isNewReconciler:!1};function Ss(t,e){if(t&&t.defaultProps){e=Mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function z1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lm={isMounted:function(t){return(t=t._reactInternals)?fu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=oi(),i=Go(t),s=Va(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Ps(e,t,i,r),Ud(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=oi(),i=Go(t),s=Va(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Ps(e,t,i,r),Ud(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=oi(),r=Go(t),i=Va(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wo(t,i,r),e!==null&&(Ps(e,t,r,n),Ud(e,t,r))}};function h5(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Gh(n,r)||!Gh(i,s):!0}function i4(t,e,n){var r=!1,i=nl,s=e.contextType;return typeof s=="object"&&s!==null?s=us(s):(i=wi(e)?Xl:Xr.current,r=e.contextTypes,s=(r=r!=null)?cc(t,i):nl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function f5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lm.enqueueReplaceState(e,e.state,null)}function q1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},m2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=us(s):(s=wi(e)?Xl:Xr.current,i.context=cc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(z1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lm.enqueueReplaceState(i,i.state,null),xp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pc(t,e){try{var n="",r=e;do n+=fN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ng(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VI=typeof WeakMap=="function"?WeakMap:Map;function s4(t,e,n){n=Va(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tp||(Tp=!0,e0=r),$1(t,e)},n}function a4(t,e,n){n=Va(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$1(t,e),typeof r!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function d5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZI.bind(null,t,e,n),e.then(t,t))}function p5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Va(-1,1),e.tag=2,Wo(n,e,1))),n.lanes|=1),t)}var UI=Qa.ReactCurrentOwner,yi=!1;function ai(t,e,n,r){e.child=t===null?jA(e,null,n,r):fc(e,t.child,n,r)}function g5(t,e,n,r,i){n=n.render;var s=e.ref;return Zu(e,i),r=w2(t,e,n,r,s,i),n=b2(),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i)):(Pn&&n&&l2(e),e.flags|=1,ai(t,e,r,i),e.child)}function v5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,o4(t,e,s,r,i)):(t=Hd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gh,n(a,r)&&t.ref===e.ref)return qa(t,e,i)}return e.flags|=1,t=Ko(s,r),t.ref=e.ref,t.return=e,e.child=t}function o4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gh(s,r)&&t.ref===e.ref)if(yi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yi=!0);else return e.lanes=t.lanes,qa(t,e,i)}return W1(t,e,n,r,i)}function l4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Wu,Vi),Vi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(Wu,Vi),Vi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(Wu,Vi),Vi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(Wu,Vi),Vi|=r;return ai(t,e,i,n),e.child}function u4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function W1(t,e,n,r,i){var s=wi(n)?Xl:Xr.current;return s=cc(e,s),Zu(e,i),n=w2(t,e,n,r,s,i),r=b2(),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i)):(Pn&&r&&l2(e),e.flags|=1,ai(t,e,n,i),e.child)}function y5(t,e,n,r,i){if(wi(n)){var s=!0;_p(e)}else s=!1;if(Zu(e,i),e.stateNode===null)qd(t,e),i4(e,n,r),q1(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=us(u):(u=wi(n)?Xl:Xr.current,u=cc(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&f5(e,a,r,u),To=!1;var _=e.memoizedState;a.state=_,xp(e,r,a,i),l=e.memoizedState,o!==r||_!==l||_i.current||To?(typeof f=="function"&&(z1(e,n,f,r),l=e.memoizedState),(o=To||h5(e,n,o,r,_,l,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,MA(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ss(e.type,o),a.props=u,m=e.pendingProps,_=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=us(l):(l=wi(n)?Xl:Xr.current,l=cc(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||_!==l)&&f5(e,a,r,l),To=!1,_=e.memoizedState,a.state=_,xp(e,r,a,i);var C=e.memoizedState;o!==m||_!==C||_i.current||To?(typeof p=="function"&&(z1(e,n,p,r),C=e.memoizedState),(u=To||h5(e,n,u,r,_,C,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),a.props=r,a.state=C,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return H1(t,e,n,r,s,i)}function H1(t,e,n,r,i,s){u4(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&r5(e,n,!1),qa(t,e,s);r=e.stateNode,UI.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=fc(e,t.child,null,s),e.child=fc(e,null,o,s)):ai(t,e,o,s),e.memoizedState=r.state,i&&r5(e,n,!0),e.child}function c4(t){var e=t.stateNode;e.pendingContext?n5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n5(t,e.context,!1),g2(t,e.containerInfo)}function _5(t,e,n,r,i){return hc(),c2(i),e.flags|=256,ai(t,e,n,r),e.child}var G1={dehydrated:null,treeContext:null,retryLane:0};function K1(t){return{baseLanes:t,cachePool:null,transitions:null}}function h4(t,e,n){var r=e.pendingProps,i=jn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(jn,i&1),t===null)return U1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=hm(a,r,0,null),t=Kl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=K1(n),e.memoizedState=G1,t):x2(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return BI(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ko(o,s):(s=Kl(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?K1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=G1,r}return s=t.child,t=s.sibling,r=Ko(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x2(t,e){return e=hm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vd(t,e,n,r){return r!==null&&c2(r),fc(e,t.child,null,n),t=x2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BI(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Ng(Error(Oe(422))),vd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hm({mode:"visible",children:r.children},i,0,null),s=Kl(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fc(e,t.child,null,a),e.child.memoizedState=K1(a),e.memoizedState=G1,s);if(!(e.mode&1))return vd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Oe(419)),r=Ng(s,r,void 0),vd(t,e,a,r)}if(o=(a&t.childLanes)!==0,yi||o){if(r=Ar,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,za(t,i),Ps(r,t,i,-1))}return P2(),r=Ng(Error(Oe(421))),vd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ek.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bi=$o(i.nextSibling),Wi=e,Pn=!0,Is=null,t!==null&&(rs[is++]=Da,rs[is++]=ja,rs[is++]=Zl,Da=t.id,ja=t.overflow,Zl=e),e=x2(e,r.children),e.flags|=4096,e)}function w5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),B1(t.return,e,n)}function Ig(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function f4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ai(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w5(t,n,e);else if(t.tag===19)w5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(jn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ig(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ig(e,!0,n,null,s);break;case"together":Ig(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zI(t,e,n){switch(e.tag){case 3:c4(e),hc();break;case 5:FA(e);break;case 1:wi(e.type)&&_p(e);break;case 4:g2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(Ap,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(jn,jn.current&1),e.flags|=128,null):n&e.child.childLanes?h4(t,e,n):(yn(jn,jn.current&1),t=qa(t,e,n),t!==null?t.sibling:null);yn(jn,jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,l4(t,e,n)}return qa(t,e,n)}var d4,Q1,p4,m4;d4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Q1=function(){};p4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wl(oa.current);var s=null;switch(n){case"input":i=v1(t,i),r=v1(t,r),s=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),s=[];break;case"textarea":i=w1(t,i),r=w1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vp)}A1(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&An("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};m4=function(t,e,n,r){n!==r&&(e.flags|=4)};function uh(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qI(t,e,n){var r=e.pendingProps;switch(u2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(e),null;case 1:return wi(e.type)&&yp(),zr(e),null;case 3:return r=e.stateNode,dc(),Sn(_i),Sn(Xr),y2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(r0(Is),Is=null))),Q1(t,e),zr(e),null;case 5:v2(e);var i=Wl(Xh.current);if(n=e.type,t!==null&&e.stateNode!=null)p4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return zr(e),null}if(t=Wl(oa.current),md(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ra]=e,r[Jh]=s,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<vh.length;i++)An(vh[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":Ty(r,s),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},An("invalid",r);break;case"textarea":Cy(r,s),An("invalid",r)}A1(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&pd(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&pd(r.textContent,o,t),i=["children",""+o]):Uh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&An("scroll",r)}switch(n){case"input":ad(r),Py(r,s,!0);break;case"textarea":ad(r),Ly(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ra]=e,t[Jh]=r,d4(t,e,!1,!1),e.stateNode=t;e:{switch(a=E1(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<vh.length;i++)An(vh[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":Ty(t,r),i=v1(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),An("invalid",t);break;case"textarea":Cy(t,r),i=w1(t,r),An("invalid",t);break;default:i=r}A1(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Hb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$b(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bh(t,l):typeof l=="number"&&Bh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&An("scroll",t):l!=null&&K0(t,s,l,a))}switch(n){case"input":ad(t),Py(t,r,!1);break;case"textarea":ad(t),Ly(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zr(e),null;case 6:if(t&&e.stateNode!=null)m4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=Wl(Xh.current),Wl(oa.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[ra]=e,(s=r.nodeValue!==n)&&(t=Wi,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ra]=e,e.stateNode=r}return zr(e),null;case 13:if(Sn(jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pn&&Bi!==null&&e.mode&1&&!(e.flags&128))RA(),hc(),e.flags|=98560,s=!1;else if(s=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[ra]=e}else hc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zr(e),s=!1}else Is!==null&&(r0(Is),Is=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?pr===0&&(pr=3):P2())),e.updateQueue!==null&&(e.flags|=4),zr(e),null);case 4:return dc(),Q1(t,e),t===null&&Kh(e.stateNode.containerInfo),zr(e),null;case 10:return d2(e.type._context),zr(e),null;case 17:return wi(e.type)&&yp(),zr(e),null;case 19:if(Sn(jn),s=e.memoizedState,s===null)return zr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)uh(s,!1);else{if(pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sp(t),a!==null){for(e.flags|=128,uh(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(jn,jn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xn()>mc&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Pn)return zr(e),null}else 2*Xn()-s.renderingStartTime>mc&&n!==1073741824&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xn(),e.sibling=null,n=jn.current,yn(jn,r?n&1|2:n&1),e):(zr(e),null);case 22:case 23:return T2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vi&1073741824&&(zr(e),e.subtreeFlags&6&&(e.flags|=8192)):zr(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function $I(t,e){switch(u2(e),e.tag){case 1:return wi(e.type)&&yp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dc(),Sn(_i),Sn(Xr),y2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v2(e),null;case 13:if(Sn(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));hc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(jn),null;case 4:return dc(),null;case 10:return d2(e.type._context),null;case 22:case 23:return T2(),null;case 24:return null;default:return null}}var yd=!1,Qr=!1,WI=typeof WeakSet=="function"?WeakSet:Set,He=null;function $u(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$n(t,e,r)}else n.current=null}function J1(t,e,n){try{n()}catch(r){$n(t,e,r)}}var b5=!1;function HI(t,e){if(R1=pp,t=wA(),o2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,f=0,m=t,_=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)_=m,m=p;for(;;){if(m===t)break t;if(_===n&&++u===i&&(o=a),_===s&&++f===r&&(l=a),(p=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(D1={focusedElem:t,selectionRange:n},pp=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,L=C.memoizedState,b=e.stateNode,T=b.getSnapshotBeforeUpdate(e.elementType===e.type?k:Ss(e.type,k),L);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(B){$n(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return C=b5,b5=!1,C}function Ph(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&J1(e,n,s)}i=i.next}while(i!==r)}}function um(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Y1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g4(t){var e=t.alternate;e!==null&&(t.alternate=null,g4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ra],delete e[Jh],delete e[M1],delete e[kI],delete e[TI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v4(t){return t.tag===5||t.tag===3||t.tag===4}function A5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function X1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vp));else if(r!==4&&(t=t.child,t!==null))for(X1(t,e,n),t=t.sibling;t!==null;)X1(t,e,n),t=t.sibling}function Z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Z1(t,e,n),t=t.sibling;t!==null;)Z1(t,e,n),t=t.sibling}var Tr=null,Ns=!1;function xo(t,e,n){for(n=n.child;n!==null;)y4(t,e,n),n=n.sibling}function y4(t,e,n){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(tm,n)}catch{}switch(n.tag){case 5:Qr||$u(n,e);case 6:var r=Tr,i=Ns;Tr=null,xo(t,e,n),Tr=r,Ns=i,Tr!==null&&(Ns?(t=Tr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tr.removeChild(n.stateNode));break;case 18:Tr!==null&&(Ns?(t=Tr,n=n.stateNode,t.nodeType===8?wg(t.parentNode,n):t.nodeType===1&&wg(t,n),Wh(t)):wg(Tr,n.stateNode));break;case 4:r=Tr,i=Ns,Tr=n.stateNode.containerInfo,Ns=!0,xo(t,e,n),Tr=r,Ns=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&J1(n,e,a),i=i.next}while(i!==r)}xo(t,e,n);break;case 1:if(!Qr&&($u(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){$n(n,e,o)}xo(t,e,n);break;case 21:xo(t,e,n);break;case 22:n.mode&1?(Qr=(r=Qr)||n.memoizedState!==null,xo(t,e,n),Qr=r):xo(t,e,n);break;default:xo(t,e,n)}}function E5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WI),e.forEach(function(r){var i=tk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Tr=o.stateNode,Ns=!1;break e;case 3:Tr=o.stateNode.containerInfo,Ns=!0;break e;case 4:Tr=o.stateNode.containerInfo,Ns=!0;break e}o=o.return}if(Tr===null)throw Error(Oe(160));y4(s,a,i),Tr=null,Ns=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$n(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_4(e,t),e=e.sibling}function _4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bs(e,t),Zs(t),r&4){try{Ph(3,t,t.return),um(3,t)}catch(k){$n(t,t.return,k)}try{Ph(5,t,t.return)}catch(k){$n(t,t.return,k)}}break;case 1:bs(e,t),Zs(t),r&512&&n!==null&&$u(n,n.return);break;case 5:if(bs(e,t),Zs(t),r&512&&n!==null&&$u(n,n.return),t.flags&32){var i=t.stateNode;try{Bh(i,"")}catch(k){$n(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Bb(i,s),E1(o,a);var u=E1(o,s);for(a=0;a<l.length;a+=2){var f=l[a],m=l[a+1];f==="style"?Hb(i,m):f==="dangerouslySetInnerHTML"?$b(i,m):f==="children"?Bh(i,m):K0(i,f,m,u)}switch(o){case"input":y1(i,s);break;case"textarea":zb(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Qu(i,!!s.multiple,p,!1):_!==!!s.multiple&&(s.defaultValue!=null?Qu(i,!!s.multiple,s.defaultValue,!0):Qu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jh]=s}catch(k){$n(t,t.return,k)}}break;case 6:if(bs(e,t),Zs(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){$n(t,t.return,k)}}break;case 3:if(bs(e,t),Zs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wh(e.containerInfo)}catch(k){$n(t,t.return,k)}break;case 4:bs(e,t),Zs(t);break;case 13:bs(e,t),Zs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(I2=Xn())),r&4&&E5(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Qr=(u=Qr)||f,bs(e,t),Qr=u):bs(e,t),Zs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(He=t,f=t.child;f!==null;){for(m=He=f;He!==null;){switch(_=He,p=_.child,_.tag){case 0:case 11:case 14:case 15:Ph(4,_,_.return);break;case 1:$u(_,_.return);var C=_.stateNode;if(typeof C.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(k){$n(r,n,k)}}break;case 5:$u(_,_.return);break;case 22:if(_.memoizedState!==null){S5(m);continue}}p!==null?(p.return=_,He=p):S5(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Wb("display",a))}catch(k){$n(t,t.return,k)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(k){$n(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bs(e,t),Zs(t),r&4&&E5(t);break;case 21:break;default:bs(e,t),Zs(t)}}function Zs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(v4(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bh(i,""),r.flags&=-33);var s=A5(t);Z1(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=A5(t);X1(t,o,a);break;default:throw Error(Oe(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GI(t,e,n){He=t,w4(t)}function w4(t,e,n){for(var r=(t.mode&1)!==0;He!==null;){var i=He,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||yd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Qr;o=yd;var u=Qr;if(yd=a,(Qr=l)&&!u)for(He=i;He!==null;)a=He,l=a.child,a.tag===22&&a.memoizedState!==null?N5(i):l!==null?(l.return=a,He=l):N5(i);for(;s!==null;)He=s,w4(s),s=s.sibling;He=i,yd=o,Qr=u}x5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,He=s):x5(t)}}function x5(t){for(;He!==null;){var e=He;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ss(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&l5(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l5(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Wh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Qr||e.flags&512&&Y1(e)}catch(_){$n(e,e.return,_)}}if(e===t){He=null;break}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}}function S5(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var n=e.sibling;if(n!==null){n.return=e.return,He=n;break}He=e.return}}function N5(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{um(4,e)}catch(l){$n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$n(e,i,l)}}var s=e.return;try{Y1(e)}catch(l){$n(e,s,l)}break;case 5:var a=e.return;try{Y1(e)}catch(l){$n(e,a,l)}}}catch(l){$n(e,e.return,l)}if(e===t){He=null;break}var o=e.sibling;if(o!==null){o.return=e.return,He=o;break}He=e.return}}var KI=Math.ceil,kp=Qa.ReactCurrentDispatcher,S2=Qa.ReactCurrentOwner,as=Qa.ReactCurrentBatchConfig,Kt=0,Ar=null,or=null,Lr=0,Vi=0,Wu=hl(0),pr=0,nf=null,tu=0,cm=0,N2=0,Ch=null,gi=null,I2=0,mc=1/0,Ca=null,Tp=!1,e0=null,Ho=null,_d=!1,Mo=null,Pp=0,Lh=0,t0=null,$d=-1,Wd=0;function oi(){return Kt&6?Xn():$d!==-1?$d:$d=Xn()}function Go(t){return t.mode&1?Kt&2&&Lr!==0?Lr&-Lr:CI.transition!==null?(Wd===0&&(Wd=iA()),Wd):(t=un,t!==0||(t=window.event,t=t===void 0?16:hA(t.type)),t):1}function Ps(t,e,n,r){if(50<Lh)throw Lh=0,t0=null,Error(Oe(185));bf(t,n,r),(!(Kt&2)||t!==Ar)&&(t===Ar&&(!(Kt&2)&&(cm|=n),pr===4&&Co(t,Lr)),bi(t,r),n===1&&Kt===0&&!(e.mode&1)&&(mc=Xn()+500,am&&fl()))}function bi(t,e){var n=t.callbackNode;CN(t,e);var r=dp(t,t===Ar?Lr:0);if(r===0)n!==null&&jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jy(n),e===1)t.tag===0?PI(I5.bind(null,t)):PA(I5.bind(null,t)),NI(function(){!(Kt&6)&&fl()}),n=null;else{switch(sA(r)){case 1:n=Z0;break;case 4:n=nA;break;case 16:n=fp;break;case 536870912:n=rA;break;default:n=fp}n=k4(n,b4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b4(t,e){if($d=-1,Wd=0,Kt&6)throw Error(Oe(327));var n=t.callbackNode;if(ec()&&t.callbackNode!==n)return null;var r=dp(t,t===Ar?Lr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cp(t,r);else{e=r;var i=Kt;Kt|=2;var s=E4();(Ar!==t||Lr!==e)&&(Ca=null,mc=Xn()+500,Gl(t,e));do try{YI();break}catch(o){A4(t,o)}while(!0);f2(),kp.current=s,Kt=i,or!==null?e=0:(Ar=null,Lr=0,e=pr)}if(e!==0){if(e===2&&(i=k1(t),i!==0&&(r=i,e=n0(t,i))),e===1)throw n=nf,Gl(t,0),Co(t,r),bi(t,Xn()),n;if(e===6)Co(t,r);else{if(i=t.current.alternate,!(r&30)&&!QI(i)&&(e=Cp(t,r),e===2&&(s=k1(t),s!==0&&(r=s,e=n0(t,s))),e===1))throw n=nf,Gl(t,0),Co(t,r),bi(t,Xn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:Vl(t,gi,Ca);break;case 3:if(Co(t,r),(r&130023424)===r&&(e=I2+500-Xn(),10<e)){if(dp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=O1(Vl.bind(null,t,gi,Ca),e);break}Vl(t,gi,Ca);break;case 4:if(Co(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ts(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KI(r/1960))-r,10<r){t.timeoutHandle=O1(Vl.bind(null,t,gi,Ca),r);break}Vl(t,gi,Ca);break;case 5:Vl(t,gi,Ca);break;default:throw Error(Oe(329))}}}return bi(t,Xn()),t.callbackNode===n?b4.bind(null,t):null}function n0(t,e){var n=Ch;return t.current.memoizedState.isDehydrated&&(Gl(t,e).flags|=256),t=Cp(t,e),t!==2&&(e=gi,gi=n,e!==null&&r0(e)),t}function r0(t){gi===null?gi=t:gi.push.apply(gi,t)}function QI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Co(t,e){for(e&=~N2,e&=~cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ts(e),r=1<<n;t[n]=-1,e&=~r}}function I5(t){if(Kt&6)throw Error(Oe(327));ec();var e=dp(t,0);if(!(e&1))return bi(t,Xn()),null;var n=Cp(t,e);if(t.tag!==0&&n===2){var r=k1(t);r!==0&&(e=r,n=n0(t,r))}if(n===1)throw n=nf,Gl(t,0),Co(t,e),bi(t,Xn()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vl(t,gi,Ca),bi(t,Xn()),null}function k2(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(mc=Xn()+500,am&&fl())}}function nu(t){Mo!==null&&Mo.tag===0&&!(Kt&6)&&ec();var e=Kt;Kt|=1;var n=as.transition,r=un;try{if(as.transition=null,un=1,t)return t()}finally{un=r,as.transition=n,Kt=e,!(Kt&6)&&fl()}}function T2(){Vi=Wu.current,Sn(Wu)}function Gl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SI(n)),or!==null)for(n=or.return;n!==null;){var r=n;switch(u2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yp();break;case 3:dc(),Sn(_i),Sn(Xr),y2();break;case 5:v2(r);break;case 4:dc();break;case 13:Sn(jn);break;case 19:Sn(jn);break;case 10:d2(r.type._context);break;case 22:case 23:T2()}n=n.return}if(Ar=t,or=t=Ko(t.current,null),Lr=Vi=e,pr=0,nf=null,N2=cm=tu=0,gi=Ch=null,$l!==null){for(e=0;e<$l.length;e++)if(n=$l[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}$l=null}return t}function A4(t,e){do{var n=or;try{if(f2(),Bd.current=Ip,Np){for(var r=On.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Np=!1}if(eu=0,wr=dr=On=null,Th=!1,Zh=0,S2.current=null,n===null||n.return===null){pr=1,nf=e,or=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Lr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var _=f.alternate;_?(f.updateQueue=_.updateQueue,f.memoizedState=_.memoizedState,f.lanes=_.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=p5(a);if(p!==null){p.flags&=-257,m5(p,a,o,s,e),p.mode&1&&d5(s,u,e),e=p,l=u;var C=e.updateQueue;if(C===null){var k=new Set;k.add(l),e.updateQueue=k}else C.add(l);break e}else{if(!(e&1)){d5(s,u,e),P2();break e}l=Error(Oe(426))}}else if(Pn&&o.mode&1){var L=p5(a);if(L!==null){!(L.flags&65536)&&(L.flags|=256),m5(L,a,o,s,e),c2(pc(l,o));break e}}s=l=pc(l,o),pr!==4&&(pr=2),Ch===null?Ch=[s]:Ch.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=s4(s,l,e);o5(s,b);break e;case 1:o=l;var T=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ho===null||!Ho.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=a4(s,o,e);o5(s,B);break e}}s=s.return}while(s!==null)}S4(n)}catch(ne){e=ne,or===n&&n!==null&&(or=n=n.return);continue}break}while(!0)}function E4(){var t=kp.current;return kp.current=Ip,t===null?Ip:t}function P2(){(pr===0||pr===3||pr===2)&&(pr=4),Ar===null||!(tu&268435455)&&!(cm&268435455)||Co(Ar,Lr)}function Cp(t,e){var n=Kt;Kt|=2;var r=E4();(Ar!==t||Lr!==e)&&(Ca=null,Gl(t,e));do try{JI();break}catch(i){A4(t,i)}while(!0);if(f2(),Kt=n,kp.current=r,or!==null)throw Error(Oe(261));return Ar=null,Lr=0,pr}function JI(){for(;or!==null;)x4(or)}function YI(){for(;or!==null&&!AN();)x4(or)}function x4(t){var e=I4(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,e===null?S4(t):or=e,S2.current=null}function S4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$I(n,e),n!==null){n.flags&=32767,or=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pr=6,or=null;return}}else if(n=qI(n,e,Vi),n!==null){or=n;return}if(e=e.sibling,e!==null){or=e;return}or=e=t}while(e!==null);pr===0&&(pr=5)}function Vl(t,e,n){var r=un,i=as.transition;try{as.transition=null,un=1,XI(t,e,n,r)}finally{as.transition=i,un=r}return null}function XI(t,e,n,r){do ec();while(Mo!==null);if(Kt&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(LN(t,s),t===Ar&&(or=Ar=null,Lr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_d||(_d=!0,k4(fp,function(){return ec(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=as.transition,as.transition=null;var a=un;un=1;var o=Kt;Kt|=4,S2.current=null,HI(t,n),_4(n,t),yI(D1),pp=!!R1,D1=R1=null,t.current=n,GI(n),EN(),Kt=o,un=a,as.transition=s}else t.current=n;if(_d&&(_d=!1,Mo=t,Pp=i),s=t.pendingLanes,s===0&&(Ho=null),NN(n.stateNode),bi(t,Xn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tp)throw Tp=!1,t=e0,e0=null,t;return Pp&1&&t.tag!==0&&ec(),s=t.pendingLanes,s&1?t===t0?Lh++:(Lh=0,t0=t):Lh=0,fl(),null}function ec(){if(Mo!==null){var t=sA(Pp),e=as.transition,n=un;try{if(as.transition=null,un=16>t?16:t,Mo===null)var r=!1;else{if(t=Mo,Mo=null,Pp=0,Kt&6)throw Error(Oe(331));var i=Kt;for(Kt|=4,He=t.current;He!==null;){var s=He,a=s.child;if(He.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(He=u;He!==null;){var f=He;switch(f.tag){case 0:case 11:case 15:Ph(8,f,s)}var m=f.child;if(m!==null)m.return=f,He=m;else for(;He!==null;){f=He;var _=f.sibling,p=f.return;if(g4(f),f===u){He=null;break}if(_!==null){_.return=p,He=_;break}He=p}}}var C=s.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var L=k.sibling;k.sibling=null,k=L}while(k!==null)}}He=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,He=a;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ph(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,He=b;break e}He=s.return}}var T=t.current;for(He=T;He!==null;){a=He;var R=a.child;if(a.subtreeFlags&2064&&R!==null)R.return=a,He=R;else e:for(a=T;He!==null;){if(o=He,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:um(9,o)}}catch(ne){$n(o,o.return,ne)}if(o===a){He=null;break e}var B=o.sibling;if(B!==null){B.return=o.return,He=B;break e}He=o.return}}if(Kt=i,fl(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(tm,t)}catch{}r=!0}return r}finally{un=n,as.transition=e}}return!1}function k5(t,e,n){e=pc(n,e),e=s4(t,e,1),t=Wo(t,e,1),e=oi(),t!==null&&(bf(t,1,e),bi(t,e))}function $n(t,e,n){if(t.tag===3)k5(t,t,n);else for(;e!==null;){if(e.tag===3){k5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ho===null||!Ho.has(r))){t=pc(n,t),t=a4(e,t,1),e=Wo(e,t,1),t=oi(),e!==null&&(bf(e,1,t),bi(e,t));break}}e=e.return}}function ZI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&n,Ar===t&&(Lr&n)===n&&(pr===4||pr===3&&(Lr&130023424)===Lr&&500>Xn()-I2?Gl(t,0):N2|=n),bi(t,e)}function N4(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var n=oi();t=za(t,e),t!==null&&(bf(t,e,n),bi(t,n))}function ek(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N4(t,n)}function tk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),N4(t,n)}var I4;I4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_i.current)yi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yi=!1,zI(t,e,n);yi=!!(t.flags&131072)}else yi=!1,Pn&&e.flags&1048576&&CA(e,bp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qd(t,e),t=e.pendingProps;var i=cc(e,Xr.current);Zu(e,n),i=w2(null,e,r,t,i,n);var s=b2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wi(r)?(s=!0,_p(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,m2(e),i.updater=lm,e.stateNode=i,i._reactInternals=e,q1(e,r,t,n),e=H1(null,e,r,!0,s,n)):(e.tag=0,Pn&&s&&l2(e),ai(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rk(r),t=Ss(r,t),i){case 0:e=W1(null,e,r,t,n);break e;case 1:e=y5(null,e,r,t,n);break e;case 11:e=g5(null,e,r,t,n);break e;case 14:e=v5(null,e,r,Ss(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),W1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),y5(t,e,r,i,n);case 3:e:{if(c4(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,MA(t,e),xp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pc(Error(Oe(423)),e),e=_5(t,e,r,n,i);break e}else if(r!==i){i=pc(Error(Oe(424)),e),e=_5(t,e,r,n,i);break e}else for(Bi=$o(e.stateNode.containerInfo.firstChild),Wi=e,Pn=!0,Is=null,n=jA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hc(),r===i){e=qa(t,e,n);break e}ai(t,e,r,n)}e=e.child}return e;case 5:return FA(e),t===null&&U1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,j1(r,i)?a=null:s!==null&&j1(r,s)&&(e.flags|=32),u4(t,e),ai(t,e,a,n),e.child;case 6:return t===null&&U1(e),null;case 13:return h4(t,e,n);case 4:return g2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fc(e,null,r,n):ai(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),g5(t,e,r,i,n);case 7:return ai(t,e,e.pendingProps,n),e.child;case 8:return ai(t,e,e.pendingProps.children,n),e.child;case 12:return ai(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,yn(Ap,r._currentValue),r._currentValue=a,s!==null)if(Cs(s.value,a)){if(s.children===i.children&&!_i.current){e=qa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Va(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),B1(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Oe(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),B1(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ai(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zu(e,n),i=us(i),r=r(i),e.flags|=1,ai(t,e,r,n),e.child;case 14:return r=e.type,i=Ss(r,e.pendingProps),i=Ss(r.type,i),v5(t,e,r,i,n);case 15:return o4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),qd(t,e),e.tag=1,wi(r)?(t=!0,_p(e)):t=!1,Zu(e,n),i4(e,r,i),q1(e,r,i,n),H1(null,e,r,!0,t,n);case 19:return f4(t,e,n);case 22:return l4(t,e,n)}throw Error(Oe(156,e.tag))};function k4(t,e){return tA(t,e)}function nk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,e,n,r){return new nk(t,e,n,r)}function C2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rk(t){if(typeof t=="function")return C2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J0)return 11;if(t===Y0)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")C2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ju:return Kl(n.children,i,s,e);case Q0:a=8,i|=8;break;case d1:return t=ss(12,n,e,i|2),t.elementType=d1,t.lanes=s,t;case p1:return t=ss(13,n,e,i),t.elementType=p1,t.lanes=s,t;case m1:return t=ss(19,n,e,i),t.elementType=m1,t.lanes=s,t;case Fb:return hm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ob:a=10;break e;case Mb:a=9;break e;case J0:a=11;break e;case Y0:a=14;break e;case ko:a=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=ss(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Kl(t,e,n,r){return t=ss(7,t,r,e),t.lanes=n,t}function hm(t,e,n,r){return t=ss(22,t,r,e),t.elementType=Fb,t.lanes=n,t.stateNode={isHidden:!1},t}function kg(t,e,n){return t=ss(6,t,null,e),t.lanes=n,t}function Tg(t,e,n){return e=ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ik(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L2(t,e,n,r,i,s,a,o,l){return t=new ik(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ss(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},m2(s),t}function sk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T4(t){if(!t)return nl;t=t._reactInternals;e:{if(fu(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(wi(n))return TA(t,n,e)}return e}function P4(t,e,n,r,i,s,a,o,l){return t=L2(n,r,!0,t,i,s,a,o,l),t.context=T4(null),n=t.current,r=oi(),i=Go(n),s=Va(r,i),s.callback=e??null,Wo(n,s,i),t.current.lanes=i,bf(t,i,r),bi(t,r),t}function fm(t,e,n,r){var i=e.current,s=oi(),a=Go(i);return n=T4(n),e.context===null?e.context=n:e.pendingContext=n,e=Va(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wo(i,e,a),t!==null&&(Ps(t,i,a,s),Ud(t,i,a)),a}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function R2(t,e){T5(t,e),(t=t.alternate)&&T5(t,e)}function ak(){return null}var C4=typeof reportError=="function"?reportError:function(t){console.error(t)};function D2(t){this._internalRoot=t}dm.prototype.render=D2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));fm(t,e,null,null)};dm.prototype.unmount=D2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nu(function(){fm(null,t,null,null)}),e[Ba]=null}};function dm(t){this._internalRoot=t}dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=lA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Po.length&&e!==0&&e<Po[n].priority;n++);Po.splice(n,0,t),n===0&&cA(t)}};function j2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function P5(){}function ok(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Lp(a);s.call(u)}}var a=P4(e,r,t,0,null,!1,!1,"",P5);return t._reactRootContainer=a,t[Ba]=a.current,Kh(t.nodeType===8?t.parentNode:t),nu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Lp(l);o.call(u)}}var l=L2(t,0,!1,null,null,!1,!1,"",P5);return t._reactRootContainer=l,t[Ba]=l.current,Kh(t.nodeType===8?t.parentNode:t),nu(function(){fm(e,l,n,r)}),l}function mm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Lp(a);o.call(l)}}fm(e,a,t,i)}else a=ok(n,e,t,i,r);return Lp(a)}aA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gh(e.pendingLanes);n!==0&&(e2(e,n|1),bi(e,Xn()),!(Kt&6)&&(mc=Xn()+500,fl()))}break;case 13:nu(function(){var r=za(t,1);if(r!==null){var i=oi();Ps(r,t,1,i)}}),R2(t,1)}};t2=function(t){if(t.tag===13){var e=za(t,134217728);if(e!==null){var n=oi();Ps(e,t,134217728,n)}R2(t,134217728)}};oA=function(t){if(t.tag===13){var e=Go(t),n=za(t,e);if(n!==null){var r=oi();Ps(n,t,e,r)}R2(t,e)}};lA=function(){return un};uA=function(t,e){var n=un;try{return un=t,e()}finally{un=n}};S1=function(t,e,n){switch(e){case"input":if(y1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sm(r);if(!i)throw Error(Oe(90));Ub(r),y1(r,i)}}}break;case"textarea":zb(t,n);break;case"select":e=n.value,e!=null&&Qu(t,!!n.multiple,e,!1)}};Qb=k2;Jb=nu;var lk={usingClientEntryPoint:!1,Events:[Ef,Vu,sm,Gb,Kb,k2]},ch={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uk={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zb(t),t===null?null:t.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{tm=wd.inject(uk),aa=wd}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;Gi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j2(e))throw Error(Oe(200));return sk(t,e,null,n)};Gi.createRoot=function(t,e){if(!j2(t))throw Error(Oe(299));var n=!1,r="",i=C4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L2(t,1,!1,null,null,n,!1,r,i),t[Ba]=e.current,Kh(t.nodeType===8?t.parentNode:t),new D2(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=Zb(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return nu(t)};Gi.hydrate=function(t,e,n){if(!pm(e))throw Error(Oe(200));return mm(null,t,e,!0,n)};Gi.hydrateRoot=function(t,e,n){if(!j2(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=C4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=P4(e,null,t,1,n??null,i,!1,s,a),t[Ba]=e.current,Kh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dm(e)};Gi.render=function(t,e,n){if(!pm(e))throw Error(Oe(200));return mm(null,t,e,!1,n)};Gi.unmountComponentAtNode=function(t){if(!pm(t))throw Error(Oe(40));return t._reactRootContainer?(nu(function(){mm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ba]=null})}),!0):!1};Gi.unstable_batchedUpdates=k2;Gi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pm(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return mm(t,e,n,!1,r)};Gi.version="18.3.1-next-f1338f8080-20240426";function L4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L4)}catch(t){console.error(t)}}L4(),Lb.exports=Gi;var ck=Lb.exports,C5=ck;h1.createRoot=C5.createRoot,h1.hydrateRoot=C5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}var Fo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fo||(Fo={}));const L5="popstate";function hk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return i0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rp(i)}return dk(e,n,null,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fk(){return Math.random().toString(36).substr(2,8)}function R5(t,e){return{usr:t.state,key:t.key,idx:e}}function i0(t,e,n,r){return n===void 0&&(n=null),rf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ic(e):e,{state:n,key:e&&e.key||r||fk()})}function Rp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Fo.Pop,l=null,u=f();u==null&&(u=0,a.replaceState(rf({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function m(){o=Fo.Pop;let L=f(),b=L==null?null:L-u;u=L,l&&l({action:o,location:k.location,delta:b})}function _(L,b){o=Fo.Push;let T=i0(k.location,L,b);u=f()+1;let R=R5(T,u),B=k.createHref(T);try{a.pushState(R,"",B)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;i.location.assign(B)}s&&l&&l({action:o,location:k.location,delta:1})}function p(L,b){o=Fo.Replace;let T=i0(k.location,L,b);u=f();let R=R5(T,u),B=k.createHref(T);a.replaceState(R,"",B),s&&l&&l({action:o,location:k.location,delta:0})}function C(L){let b=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof L=="string"?L:Rp(L);return T=T.replace(/ $/,"%20"),rr(b,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,b)}let k={get action(){return o},get location(){return t(i,a)},listen(L){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(L5,m),l=L,()=>{i.removeEventListener(L5,m),l=null}},createHref(L){return e(i,L)},createURL:C,encodeLocation(L){let b=C(L);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:p,go(L){return a.go(L)}};return k}var D5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(D5||(D5={}));function pk(t,e,n){return n===void 0&&(n="/"),mk(t,e,n)}function mk(t,e,n,r){let i=typeof e=="string"?Ic(e):e,s=O2(i.pathname||"/",n);if(s==null)return null;let a=D4(t);gk(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=kk(s);o=Sk(a[l],u)}return o}function D4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(rr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qo([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(rr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),D4(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Ek(u,s.index),routesMeta:f})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of j4(s.path))i(s,a,l)}),e}function j4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=j4(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function gk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vk=/^:[\w-]+$/,yk=3,_k=2,wk=1,bk=10,Ak=-2,j5=t=>t==="*";function Ek(t,e){let n=t.split("/"),r=n.length;return n.some(j5)&&(r+=Ak),e&&(r+=_k),n.filter(i=>!j5(i)).reduce((i,s)=>i+(vk.test(s)?yk:s===""?wk:bk),r)}function xk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Sk(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Nk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),_=l.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Qo([s,m.pathname]),pathnameBase:Lk(Qo([s,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(s=Qo([s,m.pathnameBase]))}return a}function Nk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ik(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,f,m)=>{let{paramName:_,isOptional:p}=f;if(_==="*"){let k=o[m]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const C=o[m];return p&&!C?u[_]=void 0:u[_]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Ik(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Tk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ic(t):t;return{pathname:n?n.startsWith("/")?n:Pk(n,e):e,search:Rk(r),hash:Dk(i)}}function Pk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ck(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M2(t,e){let n=Ck(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ic(t):(i=rf({},t),rr(!i.pathname||!i.pathname.includes("?"),Pg("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),Pg("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),Pg("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),m-=1;i.pathname=_.join("/")}o=m>=0?e[m]:"/"}let l=Tk(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),Lk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O4=["post","put","patch","delete"];new Set(O4);const Ok=["get",...O4];new Set(Ok);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}const V2=he.createContext(null),Mk=he.createContext(null),dl=he.createContext(null),gm=he.createContext(null),Ja=he.createContext({outlet:null,matches:[],isDataRoute:!1}),M4=he.createContext(null);function Fk(t,e){let{relative:n}=e===void 0?{}:e;kc()||rr(!1);let{basename:r,navigator:i}=he.useContext(dl),{hash:s,pathname:a,search:o}=V4(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Qo([r,a])),i.createHref({pathname:l,search:o,hash:s})}function kc(){return he.useContext(gm)!=null}function du(){return kc()||rr(!1),he.useContext(gm).location}function F4(t){he.useContext(dl).static||he.useLayoutEffect(t)}function Sf(){let{isDataRoute:t}=he.useContext(Ja);return t?Yk():Vk()}function Vk(){kc()||rr(!1);let t=he.useContext(V2),{basename:e,future:n,navigator:r}=he.useContext(dl),{matches:i}=he.useContext(Ja),{pathname:s}=du(),a=JSON.stringify(M2(i,n.v7_relativeSplatPath)),o=he.useRef(!1);return F4(()=>{o.current=!0}),he.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let m=F2(u,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Qo([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,a,s,t])}function U2(){let{matches:t}=he.useContext(Ja),e=t[t.length-1];return e?e.params:{}}function V4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=he.useContext(dl),{matches:i}=he.useContext(Ja),{pathname:s}=du(),a=JSON.stringify(M2(i,r.v7_relativeSplatPath));return he.useMemo(()=>F2(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Uk(t,e){return Bk(t,e)}function Bk(t,e,n,r){kc()||rr(!1);let{navigator:i}=he.useContext(dl),{matches:s}=he.useContext(Ja),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=du(),f;if(e){var m;let L=typeof e=="string"?Ic(e):e;l==="/"||(m=L.pathname)!=null&&m.startsWith(l)||rr(!1),f=L}else f=u;let _=f.pathname||"/",p=_;if(l!=="/"){let L=l.replace(/^\//,"").split("/");p="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=pk(t,{pathname:p}),k=Hk(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},o,L.params),pathname:Qo([l,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?l:Qo([l,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,r);return e&&k?he.createElement(gm.Provider,{value:{location:sf({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Fo.Pop}},k):k}function zk(){let t=Jk(),e=jk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),n?he.createElement("pre",{style:i},n):null,null)}const qk=he.createElement(zk,null);class $k extends he.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?he.createElement(Ja.Provider,{value:this.props.routeContext},he.createElement(M4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wk(t){let{routeContext:e,match:n,children:r}=t,i=he.useContext(V2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),he.createElement(Ja.Provider,{value:e},r)}function Hk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);f>=0||rr(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:_,errors:p}=n,C=m.route.loader&&_[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||C){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,m,_)=>{let p,C=!1,k=null,L=null;n&&(p=o&&m.route.id?o[m.route.id]:void 0,k=m.route.errorElement||qk,l&&(u<0&&_===0?(Xk("route-fallback"),C=!0,L=null):u===_&&(C=!0,L=m.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,_+1)),T=()=>{let R;return p?R=k:C?R=L:m.route.Component?R=he.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=f,he.createElement(Wk,{match:m,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?he.createElement($k,{location:n.location,revalidation:n.revalidation,component:k,error:p,children:T(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):T()},null)}var U4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U4||{}),B4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(B4||{});function Gk(t){let e=he.useContext(V2);return e||rr(!1),e}function Kk(t){let e=he.useContext(Mk);return e||rr(!1),e}function Qk(t){let e=he.useContext(Ja);return e||rr(!1),e}function z4(t){let e=Qk(),n=e.matches[e.matches.length-1];return n.route.id||rr(!1),n.route.id}function Jk(){var t;let e=he.useContext(M4),n=Kk(),r=z4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Yk(){let{router:t}=Gk(U4.UseNavigateStable),e=z4(B4.UseNavigateStable),n=he.useRef(!1);return F4(()=>{n.current=!0}),he.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sf({fromRouteId:e},s)))},[t,e])}const O5={};function Xk(t,e,n){O5[t]||(O5[t]=!0)}function Zk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function eT(t){let{to:e,replace:n,state:r,relative:i}=t;kc()||rr(!1);let{future:s,static:a}=he.useContext(dl),{matches:o}=he.useContext(Ja),{pathname:l}=du(),u=Sf(),f=F2(e,M2(o,s.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(f);return he.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function xs(t){rr(!1)}function tT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fo.Pop,navigator:s,static:a=!1,future:o}=t;kc()&&rr(!1);let l=e.replace(/^\/*/,"/"),u=he.useMemo(()=>({basename:l,navigator:s,static:a,future:sf({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Ic(r));let{pathname:f="/",search:m="",hash:_="",state:p=null,key:C="default"}=r,k=he.useMemo(()=>{let L=O2(f,l);return L==null?null:{location:{pathname:L,search:m,hash:_,state:p,key:C},navigationType:i}},[l,f,m,_,p,C,i]);return k==null?null:he.createElement(dl.Provider,{value:u},he.createElement(gm.Provider,{children:n,value:k}))}function nT(t){let{children:e,location:n}=t;return Uk(s0(e),n)}new Promise(()=>{});function s0(t,e){e===void 0&&(e=[]);let n=[];return he.Children.forEach(t,(r,i)=>{if(!he.isValidElement(r))return;let s=[...e,i];if(r.type===he.Fragment){n.push.apply(n,s0(r.props.children,s));return}r.type!==xs&&rr(!1),!r.props.index||!r.props.children||rr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=s0(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(this,arguments)}function rT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sT(t,e){return t.button===0&&(!e||e==="_self")&&!iT(t)}const aT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oT="6";try{window.__reactRouterVersion=oT}catch{}const lT="startTransition",M5=ZS[lT];function uT(t){let{basename:e,children:n,future:r,window:i}=t,s=he.useRef();s.current==null&&(s.current=hk({window:i,v5Compat:!0}));let a=s.current,[o,l]=he.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=he.useCallback(m=>{u&&M5?M5(()=>l(m)):l(m)},[l,u]);return he.useLayoutEffect(()=>a.listen(f),[a,f]),he.useEffect(()=>Zk(r),[r]),he.createElement(tT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ia=he.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:m}=e,_=rT(e,aT),{basename:p}=he.useContext(dl),C,k=!1;if(typeof u=="string"&&hT.test(u)&&(C=u,cT))try{let R=new URL(window.location.href),B=u.startsWith("//")?new URL(R.protocol+u):new URL(u),ne=O2(B.pathname,p);B.origin===R.origin&&ne!=null?u=ne+B.search+B.hash:k=!0}catch{}let L=Fk(u,{relative:i}),b=fT(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:m});function T(R){r&&r(R),R.defaultPrevented||b(R)}return he.createElement("a",a0({},_,{href:C||L,onClick:k||s?r:T,ref:n,target:l}))});var F5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(F5||(F5={}));var V5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V5||(V5={}));function fT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Sf(),u=du(),f=V4(t,{relative:a});return he.useCallback(m=>{if(sT(m,n)){m.preventDefault();let _=r!==void 0?r:Rp(u)===Rp(f);l(t,{replace:_,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,f,r,i,n,t,s,a,o])}var U5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|o>>4;let _=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(_=64)),r.push(n[f],n[m],n[_],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||m==null)throw new pT;const _=s<<2|o>>4;if(r.push(_),u!==64){const p=o<<4&240|u>>2;if(r.push(p),m!==64){const C=u<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mT=function(t){const e=q4(t);return $4.encodeByteArray(e,!0)},Dp=function(t){return mT(t).replace(/\./g,"")},W4=function(t){try{return $4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=()=>gT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof U5>"u")return;const t=U5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_T=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W4(t[1]);return e&&JSON.parse(e)},vm=()=>{try{return vT()||yT()||_T()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H4=t=>{var e,n;return(n=(e=vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wT=t=>{const e=H4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G4=()=>{var t;return(t=vm())===null||t===void 0?void 0:t.config},K4=t=>{var e;return(e=vm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dp(JSON.stringify(n)),Dp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ET(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}function xT(){var t;const e=(t=vm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ST(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kT(){const t=Zr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TT(){return!xT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function CT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FirebaseError";class Ya extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LT,Object.setPrototypeOf(this,Ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nf.prototype.create)}}class Nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?RT(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ya(i,o,r)}}function RT(t,e){return t.replace(DT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DT=/\{\$([^}]+)}/g;function jT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(B5(s)&&B5(a)){if(!jp(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _h(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OT(t,e){const n=new MT(t,e);return n.subscribe.bind(n)}class MT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cg),i.error===void 0&&(i.error=Cg),i.complete===void 0&&(i.complete=Cg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){return t&&t._delegate?t._delegate:t}class ru{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BT(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UT(t){return t===Ul?void 0:t}function BT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const qT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},$T=qt.INFO,WT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},HT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B2{constructor(e){this.name=e,this._logLevel=$T,this._logHandler=HT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const GT=(t,e)=>e.some(n=>t instanceof n);let z5,q5;function KT(){return z5||(z5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return q5||(q5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q4=new WeakMap,o0=new WeakMap,J4=new WeakMap,Lg=new WeakMap,z2=new WeakMap;function JT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Jo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Q4.set(n,t)}).catch(()=>{}),z2.set(e,t),e}function YT(t){if(o0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});o0.set(t,e)}let l0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XT(t){l0=t(l0)}function ZT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rg(this),e,...n);return J4.set(r,e.sort?e.sort():[e]),Jo(r)}:QT().includes(t)?function(...e){return t.apply(Rg(this),e),Jo(Q4.get(this))}:function(...e){return Jo(t.apply(Rg(this),e))}}function e6(t){return typeof t=="function"?ZT(t):(t instanceof IDBTransaction&&YT(t),GT(t,KT())?new Proxy(t,l0):t)}function Jo(t){if(t instanceof IDBRequest)return JT(t);if(Lg.has(t))return Lg.get(t);const e=e6(t);return e!==t&&(Lg.set(t,e),z2.set(e,t)),e}const Rg=t=>z2.get(t);function t6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Jo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Jo(a.result),l.oldVersion,l.newVersion,Jo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const n6=["get","getKey","getAll","getAllKeys","count"],r6=["put","add","delete","clear"],Dg=new Map;function $5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=r6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n6.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Dg.set(e,s),s}XT(t=>({...t,get:(e,n,r)=>$5(e,n)||t.get(e,n,r),has:(e,n)=>!!$5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u0="@firebase/app",W5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new B2("@firebase/app"),a6="@firebase/app-compat",o6="@firebase/analytics-compat",l6="@firebase/analytics",u6="@firebase/app-check-compat",c6="@firebase/app-check",h6="@firebase/auth",f6="@firebase/auth-compat",d6="@firebase/database",p6="@firebase/data-connect",m6="@firebase/database-compat",g6="@firebase/functions",v6="@firebase/functions-compat",y6="@firebase/installations",_6="@firebase/installations-compat",w6="@firebase/messaging",b6="@firebase/messaging-compat",A6="@firebase/performance",E6="@firebase/performance-compat",x6="@firebase/remote-config",S6="@firebase/remote-config-compat",N6="@firebase/storage",I6="@firebase/storage-compat",k6="@firebase/firestore",T6="@firebase/vertexai-preview",P6="@firebase/firestore-compat",C6="firebase",L6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="[DEFAULT]",R6={[u0]:"fire-core",[a6]:"fire-core-compat",[l6]:"fire-analytics",[o6]:"fire-analytics-compat",[c6]:"fire-app-check",[u6]:"fire-app-check-compat",[h6]:"fire-auth",[f6]:"fire-auth-compat",[d6]:"fire-rtdb",[p6]:"fire-data-connect",[m6]:"fire-rtdb-compat",[g6]:"fire-fn",[v6]:"fire-fn-compat",[y6]:"fire-iid",[_6]:"fire-iid-compat",[w6]:"fire-fcm",[b6]:"fire-fcm-compat",[A6]:"fire-perf",[E6]:"fire-perf-compat",[x6]:"fire-rc",[S6]:"fire-rc-compat",[N6]:"fire-gcs",[I6]:"fire-gcs-compat",[k6]:"fire-fst",[P6]:"fire-fst-compat",[T6]:"fire-vertex","fire-js":"fire-js",[C6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,D6=new Map,h0=new Map;function H5(t,e){try{t.container.addComponent(e)}catch(n){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gc(t){const e=t.name;if(h0.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;h0.set(e,t);for(const n of af.values())H5(n,t);for(const n of D6.values())H5(n,t);return!0}function q2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ks(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new Nf("app","Firebase",j6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=L6;function Y4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:c0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=G4()),!n)throw Yo.create("no-options");const s=af.get(i);if(s){if(jp(n,s.options)&&jp(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const a=new zT(i);for(const l of h0.values())a.addComponent(l);const o=new O6(n,r,a);return af.set(i,o),o}function $2(t=c0){const e=af.get(t);if(!e&&t===c0&&G4())return Y4();if(!e)throw Yo.create("no-app",{appName:t});return e}function M6(){return Array.from(af.values())}function Xo(t,e,n){var r;let i=(r=R6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(o.join(" "));return}gc(new ru(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="firebase-heartbeat-database",V6=1,of="firebase-heartbeat-store";let jg=null;function X4(){return jg||(jg=t6(F6,V6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(of)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),jg}async function U6(t){try{const n=(await X4()).transaction(of),r=await n.objectStore(of).get(Z4(t));return await n.done,r}catch(e){if(e instanceof Ya)$a.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$a.warn(n.message)}}}async function G5(t,e){try{const r=(await X4()).transaction(of,"readwrite");await r.objectStore(of).put(e,Z4(t)),await r.done}catch(n){if(n instanceof Ya)$a.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$a.warn(r.message)}}}function Z4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=1024,z6=30*24*60*60*1e3;class q6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=z6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K5(),{heartbeatsToSend:r,unsentEntries:i}=$6(this._heartbeatsCache.heartbeats),s=Dp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $a.warn(n),""}}}function K5(){return new Date().toISOString().substring(0,10)}function $6(t,e=B6){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Q5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?CT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Q5(t){return Dp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){gc(new ru("platform-logger",e=>new i6(e),"PRIVATE")),gc(new ru("heartbeat",e=>new q6(e),"PRIVATE")),Xo(u0,W5,t),Xo(u0,W5,"esm2017"),Xo("fire-js","")}H6("");var G6="firebase",K6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(G6,K6,"app");function W2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q6=eE,tE=new Nf("auth","Firebase",eE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new B2("@firebase/auth");function J6(t,...e){Op.logLevel<=qt.WARN&&Op.warn(`Auth (${Tc}): ${t}`,...e)}function Gd(t,...e){Op.logLevel<=qt.ERROR&&Op.error(`Auth (${Tc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,...e){throw H2(t,...e)}function la(t,...e){return H2(t,...e)}function nE(t,e,n){const r=Object.assign(Object.assign({},Q6()),{[e]:n});return new Nf("auth","Firebase",r).create(e,{appName:t.name})}function ua(t){return nE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tE.create(t,...e)}function yt(t,e,...n){if(!t)throw H2(e,...n)}function Oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gd(e),new Error(e)}function Wa(t,e){t||Oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Y6(){return J5()==="http:"||J5()==="https:"}function J5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y6()||NT()||"connection"in navigator)?navigator.onLine:!0}function Z6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wa(n>e,"Short delay should be less than long delay!"),this.isMobile=ET()||IT()}get(){return X6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){Wa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new kf(3e4,6e4);function Xa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Za(t,e,n,r,i={}){return iE(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=If(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return ST()||(u.referrerPolicy="no-referrer"),rE.fetch()(sE(t,t.config.apiHost,n,o),u)})}async function iE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eP),e);try{const i=new rP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw bd(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw bd(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nE(t,f,u);Ls(t,f)}}catch(i){if(i instanceof Ya)throw i;Ls(t,"network-request-failed",{message:String(i)})}}async function Tf(t,e,n,r,i={}){const s=await Za(t,e,n,r,i);return"mfaPendingCredential"in s&&Ls(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?G2(t.config,i):`${t.config.apiScheme}://${i}`}function nP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),tP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=la(t,e,r);return i.customData._tokenResponse=n,i}function Y5(t){return t!==void 0&&t.enterprise!==void 0}class iP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function sP(t,e){return Za(t,"GET","/v2/recaptchaConfig",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function aE(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oP(t,e=!1){const n=Er(t),r=await n.getIdToken(e),i=K2(r);yt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rh(Og(i.auth_time)),issuedAtTime:Rh(Og(i.iat)),expirationTime:Rh(Og(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Og(t){return Number(t)*1e3}function K2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const i=W4(n);return i?JSON.parse(i):(Gd("Failed to decode base64 JWT payload"),null)}catch(i){return Gd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X5(t){const e=K2(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ya&&lP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await lf(t,aE(n,{idToken:r}));yt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oE(s.providerUserInfo):[],o=hP(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),f=l?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new d0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function cP(t){const e=Er(t);await Mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oE(t){return t.map(e=>{var{providerId:n}=e,r=W2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e){const n=await iE(t,{},async()=>{const r=If({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=sE(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",rE.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dP(t,e){return Za(t,"POST","/v2/accounts:revokeToken",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=X5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new tc;return r&&(yt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(yt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(yt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return Oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ma{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=W2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lf(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oP(this,e)}reload(){return cP(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(ua(this.auth));const e=await this.getIdToken();return await lf(this,aP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(o=n.tenantId)!==null&&o!==void 0?o:void 0,L=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,T=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:R,emailVerified:B,isAnonymous:ne,providerData:F,stsTokenManager:V}=n;yt(R&&V,e,"internal-error");const x=tc.fromJSON(this.name,V);yt(typeof R=="string",e,"internal-error"),So(m,e.name),So(_,e.name),yt(typeof B=="boolean",e,"internal-error"),yt(typeof ne=="boolean",e,"internal-error"),So(p,e.name),So(C,e.name),So(k,e.name),So(L,e.name),So(b,e.name),So(T,e.name);const N=new Ma({uid:R,auth:e,email:_,emailVerified:B,displayName:m,isAnonymous:ne,photoURL:C,phoneNumber:p,tenantId:k,stsTokenManager:x,createdAt:b,lastLoginAt:T});return F&&Array.isArray(F)&&(N.providerData=F.map(O=>Object.assign({},O))),L&&(N._redirectEventId=L),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new tc;i.updateFromServerResponse(n);const s=new Ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];yt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oE(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new tc;o.updateFromIdToken(r);const l=new Ma({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new d0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new Map;function Fa(t){Wa(t instanceof Function,"Expected a class definition");let e=Z5.get(t);return e?(Wa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lE.type="NONE";const e_=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e,n){return`firebase:${t}:${e}:${n}`}class nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ma._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nc(Fa(e_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Fa(e_);const a=Kd(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const f=await u._get(a);if(f){const m=Ma._fromJSON(e,f);u!==s&&(o=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new nc(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new nc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pE(e))return"Blackberry";if(mE(e))return"Webos";if(cE(e))return"Safari";if((e.includes("chrome/")||hE(e))&&!e.includes("edge/"))return"Chrome";if(dE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uE(t=Zr()){return/firefox\//i.test(t)}function cE(t=Zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hE(t=Zr()){return/crios\//i.test(t)}function fE(t=Zr()){return/iemobile/i.test(t)}function dE(t=Zr()){return/android/i.test(t)}function pE(t=Zr()){return/blackberry/i.test(t)}function mE(t=Zr()){return/webos/i.test(t)}function Q2(t=Zr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pP(t=Zr()){var e;return Q2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mP(){return kT()&&document.documentMode===10}function gE(t=Zr()){return Q2(t)||dE(t)||mE(t)||pE(t)||/windows phone/i.test(t)||fE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e=[]){let n;switch(t){case"Browser":n=t_(Zr());break;case"Worker":n=`${t_(Zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e={}){return Za(t,"GET","/v2/passwordPolicy",Xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=6;class _P{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:yP,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new gP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fa(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aE(this,{idToken:e}),r=await Ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ks(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(ua(this));const n=e?Er(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vP(this),n=new _P(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fa(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[Fa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&J6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function eo(t){return Er(t)}class n_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OT(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bP(t){ym=t}function yE(t){return ym.loadJS(t)}function AP(){return ym.recaptchaEnterpriseScript}function EP(){return ym.gapiScript}function xP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const SP="recaptcha-enterprise",NP="NO_RECAPTCHA";class IP{constructor(e){this.type=SP,this.auth=eo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{sP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new iP(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;Y5(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(NP)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&Y5(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=AP();l.length!==0&&(l+=o),yE(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function r_(t,e,n,r=!1){const i=new IP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Fp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await r_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await r_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e){const n=q2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jp(s,e??{}))return i;Ls(i,"already-initialized")}return n.initialize({options:e})}function TP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PP(t,e,n){const r=eo(t);yt(r._canInitEmulator,r,"emulator-config-failed"),yt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=_E(e),{host:a,port:o}=CP(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),LP()}function _E(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CP(t){const e=_E(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:i_(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:i_(a)}}}function i_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oa("not implemented")}_getIdTokenResponse(e){return Oa("not implemented")}_linkToIdToken(e,n){return Oa("not implemented")}_getReauthenticationResolver(e){return Oa("not implemented")}}async function RP(t,e){return Za(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){return Tf(t,"POST","/v1/accounts:signInWithPassword",Xa(t,e))}async function jP(t,e){return Za(t,"POST","/v1/accounts:sendOobCode",Xa(t,e))}async function OP(t,e){return jP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}async function FP(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends J2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,n,"signInWithPassword",DP);case"emailLink":return MP(e,{email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,r,"signUpPassword",RP);case"emailLink":return FP(e,{idToken:n,email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e){return Tf(t,"POST","/v1/accounts:signInWithIdp",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="http://localhost";class iu extends J2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=W2(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new iu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:VP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=If(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BP(t){const e=yh(_h(t)).link,n=e?yh(_h(e)).deep_link_id:null,r=yh(_h(t)).deep_link_id;return(r?yh(_h(r)).link:null)||r||n||e||t}class Y2{constructor(e){var n,r,i,s,a,o;const l=yh(_h(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,m=UP((i=l.mode)!==null&&i!==void 0?i:null);yt(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=BP(e);try{return new Y2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.providerId=Pc.PROVIDER_ID}static credential(e,n){return uf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Y2.parseLink(n);return yt(r,"argument-error"),uf._fromEmailAndCode(e,r.code,r.tenantId)}}Pc.PROVIDER_ID="password";Pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends wE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Pf{constructor(){super("facebook.com")}static credential(e){return iu._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return iu._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.GOOGLE_SIGN_IN_METHOD="google.com";Ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Pf{constructor(){super("github.com")}static credential(e){return iu._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com";Do.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Pf{constructor(){super("twitter.com")}static credential(e,n){return iu._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(t,e){return Tf(t,"POST","/v1/accounts:signUp",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ma._fromIdTokenResponse(e,r,i),a=s_(r);return new Ha({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=s_(r);return new Ha({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function s_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t){var e;if(ks(t.app))return Promise.reject(ua(t));const n=eo(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ha({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await bE(n,{returnSecureToken:!0}),i=await Ha._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends Ya{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vp(e,n,r,i)}}function AE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vp._fromErrorAndOperation(t,s,e,r):s})}async function qP(t,e,n=!1){const r=await lf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e,n=!1){const{auth:r}=t;if(ks(r.app))return Promise.reject(ua(r));const i="reauthenticate";try{const s=await lf(t,AE(r,i,e,t),n);yt(s.idToken,r,"internal-error");const a=K2(s.idToken);yt(a,r,"internal-error");const{sub:o}=a;return yt(t.uid===o,r,"user-mismatch"),Ha._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ls(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(t,e,n=!1){if(ks(t.app))return Promise.reject(ua(t));const r="signIn",i=await AE(t,r,e),s=await Ha._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function WP(t,e){return EE(eo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xE(t){const e=eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HP(t,e,n){const r=eo(t);await Fp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",OP)}async function GP(t,e,n){if(ks(t.app))return Promise.reject(ua(t));const r=eo(t),a=await Fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bE).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xE(t),l}),o=await Ha._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function KP(t,e,n){return ks(t.app)?Promise.reject(ua(t)):WP(Er(t),Pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xE(t),r})}function QP(t,e,n,r){return Er(t).onIdTokenChanged(e,n,r)}function JP(t,e,n){return Er(t).beforeAuthStateChanged(e,n)}function YP(t){return Er(t).signOut()}const Up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Up,"1"),this.storage.removeItem(Up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1e3,ZP=10;class NE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);mP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NE.type="LOCAL";const eC=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IE.type="SESSION";const kE=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await tC(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=X2("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(_.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return window}function rC(t){ca().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}async function iC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aC(){return TE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firebaseLocalStorageDb",oC=1,Bp="firebaseLocalStorage",CE="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wm(t,e){return t.transaction([Bp],e?"readwrite":"readonly").objectStore(Bp)}function lC(){const t=indexedDB.deleteDatabase(PE);return new Cf(t).toPromise()}function p0(){const t=indexedDB.open(PE,oC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bp,{keyPath:CE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bp)?e(r):(r.close(),await lC(),e(await p0()))})})}async function a_(t,e,n){const r=wm(t,!0).put({[CE]:e,value:n});return new Cf(r).toPromise()}async function uC(t,e){const n=wm(t,!1).get(e),r=await new Cf(n).toPromise();return r===void 0?null:r.value}function o_(t,e){const n=wm(t,!0).delete(e);return new Cf(n).toPromise()}const cC=800,hC=3;class LE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(aC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p0();return await a_(e,Up,"1"),await o_(e,Up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wm(i,!1).getAll();return new Cf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LE.type="LOCAL";const fC=LE;new kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e){return e?Fa(e):(yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2 extends J2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pC(t){return EE(t.auth,new Z2(t),t.bypassAuthState)}function mC(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),$P(n,new Z2(t),t.bypassAuthState)}async function gC(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),qP(n,new Z2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return gC;case"reauthViaPopup":case"reauthViaRedirect":return mC;default:Ls(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new kf(2e3,1e4);class Hu extends RE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hu.currentPopupAction&&Hu.currentPopupAction.cancel(),Hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=X2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}Hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="pendingRedirect",Qd=new Map;class _C extends RE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const r=await wC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(t,e){const n=EC(e),r=AC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bC(t,e){Qd.set(t._key(),e)}function AC(t){return Fa(t._redirectPersistence)}function EC(t){return Kd(yC,t.config.apiKey,t.name)}async function xC(t,e,n=!1){if(ks(t.app))return Promise.reject(ua(t));const r=eo(t),i=dC(r,e),a=await new _C(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=10*60*1e3;class NC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(la(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SC&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(e))}saveEventToCache(e){this.cachedEventUids.add(l_(e)),this.lastProcessedEventTime=Date.now()}}function l_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PC=/^https?/;async function CC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kC(t);for(const n of e)try{if(LC(n))return}catch{}Ls(t,"unauthorized-domain")}function LC(t){const e=f0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!PC.test(n))return!1;if(TC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new kf(3e4,6e4);function u_(){const t=ca().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DC(t){return new Promise((e,n)=>{var r,i,s;function a(){u_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u_(),n(la(t,"network-request-failed"))},timeout:RC.get()})}if(!((i=(r=ca().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ca().gapi)===null||s===void 0)&&s.load)a();else{const o=xP("iframefcb");return ca()[o]=()=>{gapi.load?a():n(la(t,"network-request-failed"))},yE(`${EP()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Jd=null,e})}let Jd=null;function jC(t){return Jd=Jd||DC(t),Jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new kf(5e3,15e3),MC="__/auth/iframe",FC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(t){const e=t.config;yt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?G2(e,FC):`https://${t.config.authDomain}/${MC}`,r={apiKey:e.apiKey,appName:t.name,v:Tc},i=UC.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${If(r).slice(1)}`}async function zC(t){const e=await jC(t),n=ca().gapi;return yt(n,t,"internal-error"),e.open({where:document.body,url:BC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=la(t,"network-request-failed"),o=ca().setTimeout(()=>{s(a)},OC.get());function l(){ca().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,WC=600,HC="_blank",GC="http://localhost";class c_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(t,e,n,r=$C,i=WC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},qC),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Zr().toLowerCase();n&&(o=hE(u)?HC:n),uE(u)&&(e=e||GC,l.scrollbars="yes");const f=Object.entries(l).reduce((_,[p,C])=>`${_}${p}=${C},`,"");if(pP(u)&&o!=="_self")return QC(e||"",o),new c_(null);const m=window.open(e||"",o,f);yt(m,t,"popup-blocked");try{m.focus()}catch{}return new c_(m)}function QC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="__/auth/handler",YC="emulator/auth/handler",XC=encodeURIComponent("fac");async function h_(t,e,n,r,i,s){yt(t.config.authDomain,t,"auth-domain-config-required"),yt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tc,eventId:i};if(e instanceof wE){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",jT(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof Pf){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),u=l?`#${XC}=${encodeURIComponent(l)}`:"";return`${ZC(t)}?${If(o).slice(1)}${u}`}function ZC({config:t}){return t.emulator?G2(t,YC):`https://${t.authDomain}/${JC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class eL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=xC,this._overrideRedirectResult=bC}async _openPopup(e,n,r,i){var s;Wa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await h_(e,n,r,f0(),i);return KC(e,a,X2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h_(e,n,r,f0(),i);return rC(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zC(e),r=new NC(e);return n.register("authEvent",i=>(yt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mg,{type:Mg},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mg];a!==void 0&&n(!!a),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gE()||cE()||Q2()}}const tL=eL;var f_="@firebase/auth",d_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iL(t){gc(new ru("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;yt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vE(t)},u=new wP(r,i,s,l);return TP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gc(new ru("auth-internal",e=>{const n=eo(e.getProvider("auth").getImmediate());return(r=>new nL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(f_,d_,rL(t)),Xo(f_,d_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=5*60,aL=K4("authIdTokenMaxAge")||sL;let p_=null;const oL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aL)return;const i=n==null?void 0:n.token;p_!==i&&(p_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lL(t=$2()){const e=q2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kP(t,{popupRedirectResolver:tL,persistence:[fC,eC,kE]}),r=K4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=oL(s.toString());JP(n,a,()=>a(n.currentUser)),QP(n,o=>a(o))}}const i=H4("auth");return i&&PP(n,`http://${i}`),n}function uL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=la("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iL("Browser");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ql,jE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,x){function N(){}N.prototype=x.prototype,V.D=x.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(O,E,S){for(var P=Array(arguments.length-2),te=2;te<arguments.length;te++)P[te-2]=arguments[te];return x.prototype[E].apply(O,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,x,N){N||(N=0);var O=Array(16);if(typeof x=="string")for(var E=0;16>E;++E)O[E]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(E=0;16>E;++E)O[E]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=V.g[0],N=V.g[1],E=V.g[2];var S=V.g[3],P=x+(S^N&(E^S))+O[0]+3614090360&4294967295;x=N+(P<<7&4294967295|P>>>25),P=S+(E^x&(N^E))+O[1]+3905402710&4294967295,S=x+(P<<12&4294967295|P>>>20),P=E+(N^S&(x^N))+O[2]+606105819&4294967295,E=S+(P<<17&4294967295|P>>>15),P=N+(x^E&(S^x))+O[3]+3250441966&4294967295,N=E+(P<<22&4294967295|P>>>10),P=x+(S^N&(E^S))+O[4]+4118548399&4294967295,x=N+(P<<7&4294967295|P>>>25),P=S+(E^x&(N^E))+O[5]+1200080426&4294967295,S=x+(P<<12&4294967295|P>>>20),P=E+(N^S&(x^N))+O[6]+2821735955&4294967295,E=S+(P<<17&4294967295|P>>>15),P=N+(x^E&(S^x))+O[7]+4249261313&4294967295,N=E+(P<<22&4294967295|P>>>10),P=x+(S^N&(E^S))+O[8]+1770035416&4294967295,x=N+(P<<7&4294967295|P>>>25),P=S+(E^x&(N^E))+O[9]+2336552879&4294967295,S=x+(P<<12&4294967295|P>>>20),P=E+(N^S&(x^N))+O[10]+4294925233&4294967295,E=S+(P<<17&4294967295|P>>>15),P=N+(x^E&(S^x))+O[11]+2304563134&4294967295,N=E+(P<<22&4294967295|P>>>10),P=x+(S^N&(E^S))+O[12]+1804603682&4294967295,x=N+(P<<7&4294967295|P>>>25),P=S+(E^x&(N^E))+O[13]+4254626195&4294967295,S=x+(P<<12&4294967295|P>>>20),P=E+(N^S&(x^N))+O[14]+2792965006&4294967295,E=S+(P<<17&4294967295|P>>>15),P=N+(x^E&(S^x))+O[15]+1236535329&4294967295,N=E+(P<<22&4294967295|P>>>10),P=x+(E^S&(N^E))+O[1]+4129170786&4294967295,x=N+(P<<5&4294967295|P>>>27),P=S+(N^E&(x^N))+O[6]+3225465664&4294967295,S=x+(P<<9&4294967295|P>>>23),P=E+(x^N&(S^x))+O[11]+643717713&4294967295,E=S+(P<<14&4294967295|P>>>18),P=N+(S^x&(E^S))+O[0]+3921069994&4294967295,N=E+(P<<20&4294967295|P>>>12),P=x+(E^S&(N^E))+O[5]+3593408605&4294967295,x=N+(P<<5&4294967295|P>>>27),P=S+(N^E&(x^N))+O[10]+38016083&4294967295,S=x+(P<<9&4294967295|P>>>23),P=E+(x^N&(S^x))+O[15]+3634488961&4294967295,E=S+(P<<14&4294967295|P>>>18),P=N+(S^x&(E^S))+O[4]+3889429448&4294967295,N=E+(P<<20&4294967295|P>>>12),P=x+(E^S&(N^E))+O[9]+568446438&4294967295,x=N+(P<<5&4294967295|P>>>27),P=S+(N^E&(x^N))+O[14]+3275163606&4294967295,S=x+(P<<9&4294967295|P>>>23),P=E+(x^N&(S^x))+O[3]+4107603335&4294967295,E=S+(P<<14&4294967295|P>>>18),P=N+(S^x&(E^S))+O[8]+1163531501&4294967295,N=E+(P<<20&4294967295|P>>>12),P=x+(E^S&(N^E))+O[13]+2850285829&4294967295,x=N+(P<<5&4294967295|P>>>27),P=S+(N^E&(x^N))+O[2]+4243563512&4294967295,S=x+(P<<9&4294967295|P>>>23),P=E+(x^N&(S^x))+O[7]+1735328473&4294967295,E=S+(P<<14&4294967295|P>>>18),P=N+(S^x&(E^S))+O[12]+2368359562&4294967295,N=E+(P<<20&4294967295|P>>>12),P=x+(N^E^S)+O[5]+4294588738&4294967295,x=N+(P<<4&4294967295|P>>>28),P=S+(x^N^E)+O[8]+2272392833&4294967295,S=x+(P<<11&4294967295|P>>>21),P=E+(S^x^N)+O[11]+1839030562&4294967295,E=S+(P<<16&4294967295|P>>>16),P=N+(E^S^x)+O[14]+4259657740&4294967295,N=E+(P<<23&4294967295|P>>>9),P=x+(N^E^S)+O[1]+2763975236&4294967295,x=N+(P<<4&4294967295|P>>>28),P=S+(x^N^E)+O[4]+1272893353&4294967295,S=x+(P<<11&4294967295|P>>>21),P=E+(S^x^N)+O[7]+4139469664&4294967295,E=S+(P<<16&4294967295|P>>>16),P=N+(E^S^x)+O[10]+3200236656&4294967295,N=E+(P<<23&4294967295|P>>>9),P=x+(N^E^S)+O[13]+681279174&4294967295,x=N+(P<<4&4294967295|P>>>28),P=S+(x^N^E)+O[0]+3936430074&4294967295,S=x+(P<<11&4294967295|P>>>21),P=E+(S^x^N)+O[3]+3572445317&4294967295,E=S+(P<<16&4294967295|P>>>16),P=N+(E^S^x)+O[6]+76029189&4294967295,N=E+(P<<23&4294967295|P>>>9),P=x+(N^E^S)+O[9]+3654602809&4294967295,x=N+(P<<4&4294967295|P>>>28),P=S+(x^N^E)+O[12]+3873151461&4294967295,S=x+(P<<11&4294967295|P>>>21),P=E+(S^x^N)+O[15]+530742520&4294967295,E=S+(P<<16&4294967295|P>>>16),P=N+(E^S^x)+O[2]+3299628645&4294967295,N=E+(P<<23&4294967295|P>>>9),P=x+(E^(N|~S))+O[0]+4096336452&4294967295,x=N+(P<<6&4294967295|P>>>26),P=S+(N^(x|~E))+O[7]+1126891415&4294967295,S=x+(P<<10&4294967295|P>>>22),P=E+(x^(S|~N))+O[14]+2878612391&4294967295,E=S+(P<<15&4294967295|P>>>17),P=N+(S^(E|~x))+O[5]+4237533241&4294967295,N=E+(P<<21&4294967295|P>>>11),P=x+(E^(N|~S))+O[12]+1700485571&4294967295,x=N+(P<<6&4294967295|P>>>26),P=S+(N^(x|~E))+O[3]+2399980690&4294967295,S=x+(P<<10&4294967295|P>>>22),P=E+(x^(S|~N))+O[10]+4293915773&4294967295,E=S+(P<<15&4294967295|P>>>17),P=N+(S^(E|~x))+O[1]+2240044497&4294967295,N=E+(P<<21&4294967295|P>>>11),P=x+(E^(N|~S))+O[8]+1873313359&4294967295,x=N+(P<<6&4294967295|P>>>26),P=S+(N^(x|~E))+O[15]+4264355552&4294967295,S=x+(P<<10&4294967295|P>>>22),P=E+(x^(S|~N))+O[6]+2734768916&4294967295,E=S+(P<<15&4294967295|P>>>17),P=N+(S^(E|~x))+O[13]+1309151649&4294967295,N=E+(P<<21&4294967295|P>>>11),P=x+(E^(N|~S))+O[4]+4149444226&4294967295,x=N+(P<<6&4294967295|P>>>26),P=S+(N^(x|~E))+O[11]+3174756917&4294967295,S=x+(P<<10&4294967295|P>>>22),P=E+(x^(S|~N))+O[2]+718787259&4294967295,E=S+(P<<15&4294967295|P>>>17),P=N+(S^(E|~x))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+x&4294967295,V.g[1]=V.g[1]+(E+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+E&4294967295,V.g[3]=V.g[3]+S&4294967295}r.prototype.u=function(V,x){x===void 0&&(x=V.length);for(var N=x-this.blockSize,O=this.B,E=this.h,S=0;S<x;){if(E==0)for(;S<=N;)i(this,V,S),S+=this.blockSize;if(typeof V=="string"){for(;S<x;)if(O[E++]=V.charCodeAt(S++),E==this.blockSize){i(this,O),E=0;break}}else for(;S<x;)if(O[E++]=V[S++],E==this.blockSize){i(this,O),E=0;break}}this.h=E,this.o+=x},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var x=1;x<V.length-8;++x)V[x]=0;var N=8*this.o;for(x=V.length-8;x<V.length;++x)V[x]=N&255,N/=256;for(this.u(V),V=Array(16),x=N=0;4>x;++x)for(var O=0;32>O;O+=8)V[N++]=this.g[x]>>>O&255;return V};function s(V,x){var N=o;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=x(V)}function a(V,x){this.h=x;for(var N=[],O=!0,E=V.length-1;0<=E;E--){var S=V[E]|0;O&&S==x||(N[E]=S,O=!1)}this.g=N}var o={};function l(V){return-128<=V&&128>V?s(V,function(x){return new a([x|0],0>x?-1:0)}):new a([V|0],0>V?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return m;if(0>V)return L(u(-V));for(var x=[],N=1,O=0;V>=N;O++)x[O]=V/N|0,N*=4294967296;return new a(x,0)}function f(V,x){if(V.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V.charAt(0)=="-")return L(f(V.substring(1),x));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(x,8)),O=m,E=0;E<V.length;E+=8){var S=Math.min(8,V.length-E),P=parseInt(V.substring(E,E+S),x);8>S?(S=u(Math.pow(x,S)),O=O.j(S).add(u(P))):(O=O.j(N),O=O.add(u(P)))}return O}var m=l(0),_=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(k(this))return-L(this).m();for(var V=0,x=1,N=0;N<this.g.length;N++){var O=this.i(N);V+=(0<=O?O:4294967296+O)*x,x*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(k(this))return"-"+L(this).toString(V);for(var x=u(Math.pow(V,6)),N=this,O="";;){var E=B(N,x).g;N=b(N,E.j(x));var S=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=E,C(N))return S+O;for(;6>S.length;)S="0"+S;O=S+O}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var x=0;x<V.g.length;x++)if(V.g[x]!=0)return!1;return!0}function k(V){return V.h==-1}t.l=function(V){return V=b(this,V),k(V)?-1:C(V)?0:1};function L(V){for(var x=V.g.length,N=[],O=0;O<x;O++)N[O]=~V.g[O];return new a(N,~V.h).add(_)}t.abs=function(){return k(this)?L(this):this},t.add=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],O=0,E=0;E<=x;E++){var S=O+(this.i(E)&65535)+(V.i(E)&65535),P=(S>>>16)+(this.i(E)>>>16)+(V.i(E)>>>16);O=P>>>16,S&=65535,P&=65535,N[E]=P<<16|S}return new a(N,N[N.length-1]&-2147483648?-1:0)};function b(V,x){return V.add(L(x))}t.j=function(V){if(C(this)||C(V))return m;if(k(this))return k(V)?L(this).j(L(V)):L(L(this).j(V));if(k(V))return L(this.j(L(V)));if(0>this.l(p)&&0>V.l(p))return u(this.m()*V.m());for(var x=this.g.length+V.g.length,N=[],O=0;O<2*x;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var E=0;E<V.g.length;E++){var S=this.i(O)>>>16,P=this.i(O)&65535,te=V.i(E)>>>16,fe=V.i(E)&65535;N[2*O+2*E]+=P*fe,T(N,2*O+2*E),N[2*O+2*E+1]+=S*fe,T(N,2*O+2*E+1),N[2*O+2*E+1]+=P*te,T(N,2*O+2*E+1),N[2*O+2*E+2]+=S*te,T(N,2*O+2*E+2)}for(O=0;O<x;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=x;O<2*x;O++)N[O]=0;return new a(N,0)};function T(V,x){for(;(V[x]&65535)!=V[x];)V[x+1]+=V[x]>>>16,V[x]&=65535,x++}function R(V,x){this.g=V,this.h=x}function B(V,x){if(C(x))throw Error("division by zero");if(C(V))return new R(m,m);if(k(V))return x=B(L(V),x),new R(L(x.g),L(x.h));if(k(x))return x=B(V,L(x)),new R(L(x.g),x.h);if(30<V.g.length){if(k(V)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var N=_,O=x;0>=O.l(V);)N=ne(N),O=ne(O);var E=F(N,1),S=F(O,1);for(O=F(O,2),N=F(N,2);!C(O);){var P=S.add(O);0>=P.l(V)&&(E=E.add(N),S=P),O=F(O,1),N=F(N,1)}return x=b(V,E.j(x)),new R(E,x)}for(E=m;0<=V.l(x);){for(N=Math.max(1,Math.floor(V.m()/x.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),S=u(N),P=S.j(x);k(P)||0<P.l(V);)N-=O,S=u(N),P=S.j(x);C(S)&&(S=_),E=E.add(S),V=b(V,P)}return new R(E,V)}t.A=function(V){return B(this,V).h},t.and=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)&V.i(O);return new a(N,this.h&V.h)},t.or=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)|V.i(O);return new a(N,this.h|V.h)},t.xor=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)^V.i(O);return new a(N,this.h^V.h)};function ne(V){for(var x=V.g.length+1,N=[],O=0;O<x;O++)N[O]=V.i(O)<<1|V.i(O-1)>>>31;return new a(N,V.h)}function F(V,x){var N=x>>5;x%=32;for(var O=V.g.length-N,E=[],S=0;S<O;S++)E[S]=0<x?V.i(S+N)>>>x|V.i(S+N+1)<<32-x:V.i(S+N);return new a(E,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jE=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,Ql=a}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OE,wh,ME,Yd,m0,FE,VE,UE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,I){return h==Array.prototype||h==Object.prototype||(h[w]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var w=0;w<h.length;++w){var I=h[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var I=r;h=h.split(".");for(var W=0;W<h.length-1;W++){var ue=h[W];if(!(ue in I))break e;I=I[ue]}h=h[h.length-1],W=I[h],w=w(W),w!=W&&w!=null&&e(I,h,{configurable:!0,writable:!0,value:w})}}function s(h,w){h instanceof String&&(h+="");var I=0,W=!1,ue={next:function(){if(!W&&I<h.length){var be=I++;return{value:w(be,h[be]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}i("Array.prototype.values",function(h){return h||function(){return s(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function f(h,w,I){return h.call.apply(h.bind,arguments)}function m(h,w,I){if(!h)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,W),h.apply(w,ue)}}return function(){return h.apply(w,arguments)}}function _(h,w,I){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,_.apply(null,arguments)}function p(h,w){var I=Array.prototype.slice.call(arguments,1);return function(){var W=I.slice();return W.push.apply(W,arguments),h.apply(this,W)}}function C(h,w){function I(){}I.prototype=w.prototype,h.aa=w.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(W,ue,be){for(var Me=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)Me[Bt-2]=arguments[Bt];return w.prototype[ue].apply(W,Me)}}function k(h){const w=h.length;if(0<w){const I=Array(w);for(let W=0;W<w;W++)I[W]=h[W];return I}return[]}function L(h,w){for(let I=1;I<arguments.length;I++){const W=arguments[I];if(l(W)){const ue=h.length||0,be=W.length||0;h.length=ue+be;for(let Me=0;Me<be;Me++)h[ue+Me]=W[Me]}else h.push(W)}}class b{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(h){return/^[\s\xa0]*$/.test(h)}function R(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function B(h){return B[" "](h),h}B[" "]=function(){};var ne=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function F(h,w,I){for(const W in h)w.call(I,h[W],W,h)}function V(h,w){for(const I in h)w.call(void 0,h[I],I,h)}function x(h){const w={};for(const I in h)w[I]=h[I];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,w){let I,W;for(let ue=1;ue<arguments.length;ue++){W=arguments[ue];for(I in W)h[I]=W[I];for(let be=0;be<N.length;be++)I=N[be],Object.prototype.hasOwnProperty.call(W,I)&&(h[I]=W[I])}}function E(h){var w=1;h=h.split(":");const I=[];for(;0<w&&h.length;)I.push(h.shift()),w--;return h.length&&I.push(h.join(":")),I}function S(h){o.setTimeout(()=>{throw h},0)}function P(){var h=G;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class te{constructor(){this.h=this.g=null}add(w,I){const W=fe.get();W.set(w,I),this.h?this.h.next=W:this.g=W,this.h=W}}var fe=new b(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Z=!1,G=new te,pe=()=>{const h=o.Promise.resolve(void 0);de=()=>{h.then(_e)}};var _e=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(I){S(I)}var w=fe;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}Z=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};o.addEventListener("test",I,w),o.removeEventListener("test",I,w)}catch{}return h}();function Q(h,w){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,W=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(ne){e:{try{B(w.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(w=null)}}else I=="mouseover"?w=h.fromElement:I=="mouseout"&&(w=h.toElement);this.relatedTarget=w,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Q.aa.h.call(this)}}C(Q,K);var ie={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ve=0;function we(h,w,I,W,ue){this.listener=h,this.proxy=null,this.src=w,this.type=I,this.capture=!!W,this.ha=ue,this.key=++ve,this.da=this.fa=!1}function Ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,w,I,W,ue){var be=h.toString();h=this.g[be],h||(h=this.g[be]=[],this.h++);var Me=Ve(h,w,W,ue);return-1<Me?(w=h[Me],I||(w.fa=!1)):(w=new we(w,this.src,be,!!W,ue),w.fa=I,h.push(w)),w};function Fe(h,w){var I=w.type;if(I in h.g){var W=h.g[I],ue=Array.prototype.indexOf.call(W,w,void 0),be;(be=0<=ue)&&Array.prototype.splice.call(W,ue,1),be&&(Ae(w),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Ve(h,w,I,W){for(var ue=0;ue<h.length;++ue){var be=h[ue];if(!be.da&&be.listener==w&&be.capture==!!I&&be.ha==W)return ue}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),ee={};function kt(h,w,I,W,ue){if(Array.isArray(w)){for(var be=0;be<w.length;be++)kt(h,w[be],I,W,ue);return null}return I=ft(I),h&&h[ae]?h.K(w,I,u(W)?!!W.capture:!1,ue):_t(h,w,I,!1,W,ue)}function _t(h,w,I,W,ue,be){if(!w)throw Error("Invalid event type");var Me=u(ue)?!!ue.capture:!!ue,Bt=Je(h);if(Bt||(h[Ee]=Bt=new Te(h)),I=Bt.add(w,I,W,Me,be),I.proxy)return I;if(W=it(),I.proxy=W,W.src=h,W.listener=I,h.addEventListener)q||(ue=Me),ue===void 0&&(ue=!1),h.addEventListener(w.toString(),W,ue);else if(h.attachEvent)h.attachEvent(Ue(w.toString()),W);else if(h.addListener&&h.removeListener)h.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return I}function it(){function h(I){return w.call(h.src,h.listener,I)}const w=wt;return h}function Re(h,w,I,W,ue){if(Array.isArray(w))for(var be=0;be<w.length;be++)Re(h,w[be],I,W,ue);else W=u(W)?!!W.capture:!!W,I=ft(I),h&&h[ae]?(h=h.i,w=String(w).toString(),w in h.g&&(be=h.g[w],I=Ve(be,I,W,ue),-1<I&&(Ae(be[I]),Array.prototype.splice.call(be,I,1),be.length==0&&(delete h.g[w],h.h--)))):h&&(h=Je(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ve(w,I,W,ue)),(I=-1<h?w[h]:null)&&Ke(I))}function Ke(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ae])Fe(w.i,h);else{var I=h.type,W=h.proxy;w.removeEventListener?w.removeEventListener(I,W,h.capture):w.detachEvent?w.detachEvent(Ue(I),W):w.addListener&&w.removeListener&&w.removeListener(W),(I=Je(w))?(Fe(I,h),I.h==0&&(I.src=null,w[Ee]=null)):Ae(h)}}}function Ue(h){return h in ee?ee[h]:ee[h]="on"+h}function wt(h,w){if(h.da)h=!0;else{w=new Q(w,this);var I=h.listener,W=h.ha||h.src;h.fa&&Ke(h),h=I.call(W,w)}return h}function Je(h){return h=h[Ee],h instanceof Te?h:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(h){return typeof h=="function"?h:(h[Mt]||(h[Mt]=function(w){return h.handleEvent(w)}),h[Mt])}function Ye(){M.call(this),this.i=new Te(this),this.M=this,this.F=null}C(Ye,M),Ye.prototype[ae]=!0,Ye.prototype.removeEventListener=function(h,w,I,W){Re(this,h,w,I,W)};function ke(h,w){var I,W=h.F;if(W)for(I=[];W;W=W.F)I.push(W);if(h=h.M,W=w.type||w,typeof w=="string")w=new K(w,h);else if(w instanceof K)w.target=w.target||h;else{var ue=w;w=new K(W,h),O(w,ue)}if(ue=!0,I)for(var be=I.length-1;0<=be;be--){var Me=w.g=I[be];ue=rt(Me,W,!0,w)&&ue}if(Me=w.g=h,ue=rt(Me,W,!0,w)&&ue,ue=rt(Me,W,!1,w)&&ue,I)for(be=0;be<I.length;be++)Me=w.g=I[be],ue=rt(Me,W,!1,w)&&ue}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var I=h.g[w],W=0;W<I.length;W++)Ae(I[W]);delete h.g[w],h.h--}}this.F=null},Ye.prototype.K=function(h,w,I,W){return this.i.add(String(h),w,!1,I,W)},Ye.prototype.L=function(h,w,I,W){return this.i.add(String(h),w,!0,I,W)};function rt(h,w,I,W){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var ue=!0,be=0;be<w.length;++be){var Me=w[be];if(Me&&!Me.da&&Me.capture==I){var Bt=Me.listener,Dn=Me.ha||Me.src;Me.fa&&Fe(h.i,Me),ue=Bt.call(Dn,W)!==!1&&ue}}return ue&&!W.defaultPrevented}function qe(h,w,I){if(typeof h=="function")I&&(h=_(h,I));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:o.setTimeout(h,w||0)}function ot(h){h.g=qe(()=>{h.g=null,h.i&&(h.i=!1,ot(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Xe extends M{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(h){M.call(this),this.h=h,this.g={}}C(mt,M);var dt=[];function ze(h){F(h.g,function(w,I){this.g.hasOwnProperty(I)&&Ke(w)},h),h.g={}}mt.prototype.N=function(){mt.aa.N.call(this),ze(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lt=o.JSON.stringify,Qt=o.JSON.parse,ht=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Rt(){}Rt.prototype.h=null;function Et(h){return h.h||(h.h=h.i())}function Nn(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){K.call(this,"d")}C(Yt,K);function gt(){K.call(this,"c")}C(gt,K);var jt={},Ms=null;function Wn(){return Ms=Ms||new Ye}jt.La="serverreachability";function Qi(h){K.call(this,jt.La,h)}C(Qi,K);function Or(h){const w=Wn();ke(w,new Qi(w))}jt.STAT_EVENT="statevent";function ct(h,w){K.call(this,jt.STAT_EVENT,h),this.stat=w}C(ct,K);function wn(h){const w=Wn();ke(w,new ct(w,h))}jt.Ma="timingevent";function Ji(h,w){K.call(this,jt.Ma,h),this.size=w}C(Ji,K);function mr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},w)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function In(h,w,I,W,ue,be){h.info(function(){if(h.g)if(be)for(var Me="",Bt=be.split("&"),Dn=0;Dn<Bt.length;Dn++){var Ot=Bt[Dn].split("=");if(1<Ot.length){var Dt=Ot[0];Ot=Ot[1];var gn=Dt.split("_");Me=2<=gn.length&&gn[1]=="type"?Me+(Dt+"="+Ot+"&"):Me+(Dt+"=redacted&")}}else Me=null;else Me=be;return"XMLHTTP REQ ("+W+") [attempt "+ue+"]: "+w+`
`+I+`
`+Me})}function sr(h,w,I,W,ue,be,Me){h.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ue+"]: "+w+`
`+I+`
`+be+" "+Me})}function kn(h,w,I,W){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Fs(h,I)+(W?" "+W:"")})}function ma(h,w){h.info(function(){return"TIMEOUT: "+w})}gr.prototype.info=function(){};function Fs(h,w){if(!h.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var W=I[h];if(!(2>W.length)){var ue=W[1];if(Array.isArray(ue)&&!(1>ue.length)){var be=ue[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Me=1;Me<ue.length;Me++)ue[Me]=""}}}}return lt(I)}catch{return w}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function Fr(){}C(Fr,Rt),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},ei=new Fr;function Hn(h,w,I,W){this.j=h,this.i=w,this.l=I,this.R=W||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}var Si={},fs={};function Us(h,w,I){h.L=1,h.v=_a(ti(w)),h.m=I,h.P=!0,ga(h,null)}function ga(h,w){h.F=Date.now(),Bs(h),h.A=ti(h.v);var I=h.A,W=h.R;Array.isArray(W)||(W=[String(W)]),vt(I.i,"t",W),h.C=0,I=h.j.J,h.h=new Vs,h.g=Vn(h.j,I?w:null,!h.m),0<h.O&&(h.M=new Xe(_(h.Y,h,h.g),h.O)),w=h.U,I=h.g,W=h.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(dt[0]=ue.toString()),ue=dt);for(var be=0;be<ue.length;be++){var Me=kt(I,ue[be],W||w.handleEvent,!1,w.h||w);if(!Me)break;w.g[Me.key]=Me}w=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Or(),In(h.i,h.u,h.A,h.l,h.R,h.m)}Hn.prototype.ca=function(h){h=h.target;const w=this.M;w&&di(h)==3?w.j():this.Y(h)},Hn.prototype.Y=function(h){try{if(h==this.g)e:{const gn=di(this.g);var w=this.g.Ba();const Ti=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Il(this.g)))){this.J||gn!=4||w==7||(w==8||0>=Ti?Or(3):Or(2)),to(this);var I=this.g.Z();this.X=I;t:if(va(this)){var W=Il(this.g);h="";var ue=W.length,be=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),vr(this);var Me="";break t}this.h.i=new o.TextDecoder}for(w=0;w<ue;w++)this.h.h=!0,h+=this.h.i.decode(W[w],{stream:!(be&&w==ue-1)});W.length=0,this.h.g+=h,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=I==200,sr(this.i,this.u,this.A,this.l,this.R,gn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Bt,Dn=this.g;if((Bt=Dn.g?Dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Bt)){var Ot=Bt;break t}}Ot=null}if(I=Ot)kn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,no(this,I);else{this.o=!1,this.s=3,wn(12),Ni(this),vr(this);break e}}if(this.P){I=!0;let Vr;for(;!this.J&&this.C<Me.length;)if(Vr=Oc(this,Me),Vr==fs){gn==4&&(this.s=4,wn(14),I=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vr==Si){this.s=4,wn(15),kn(this.i,this.l,Me,"[Invalid Chunk]"),I=!1;break}else kn(this.i,this.l,Vr,null),no(this,Vr);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||Me.length!=0||this.h.h||(this.s=1,wn(16),I=!1),this.o=this.o&&I,!I)kn(this.i,this.l,Me,"[Invalid Chunked Response]"),Ni(this),vr(this);else if(0<Me.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),$e(Dt),Dt.M=!0,wn(11))}}else kn(this.i,this.l,Me,null),no(this,Me);gn==4&&Ni(this),this.o&&!this.J&&(gn==4?bt(this.j,this):(this.o=!1,Bs(this)))}else gs(this.g),I==400&&0<Me.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Ni(this),vr(this)}}}catch{}finally{}};function va(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Oc(h,w){var I=h.C,W=w.indexOf(`
`,I);return W==-1?fs:(I=Number(w.substring(I,W)),isNaN(I)?Si:(W+=1,W+I>w.length?fs:(w=w.slice(W,W+I),h.C=W+I,w)))}Hn.prototype.cancel=function(){this.J=!0,Ni(this)};function Bs(h){h.S=Date.now()+h.I,gl(h,h.I)}function gl(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mr(_(h.ba,h),w)}function to(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Hn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ma(this.i,this.A),this.L!=2&&(Or(),wn(17)),Ni(this),this.s=2,vr(this)):gl(this,this.S-h)};function vr(h){h.j.G==0||h.J||bt(h.j,h)}function Ni(h){to(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,ze(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function no(h,w){try{var I=h.j;if(I.G!=0&&(I.g==h||zs(I.h,h))){if(!h.K&&zs(I.h,h)&&I.G==3){try{var W=I.Da.g.parse(w)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ue=W;if(ue[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)pt(I),Zi(I);else break e;Ce(I),wn(18)}}else I.za=ue[1],0<I.za-I.T&&37500>ue[2]&&I.F&&I.v==0&&!I.C&&(I.C=mr(_(I.Za,I),6e3));if(1>=wl(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Xt(I,11)}else if((h.K||I.g==h)&&pt(I),!T(w))for(ue=I.Da.g.parse(w),w=0;w<ue.length;w++){let Ot=ue[w];if(I.T=Ot[0],Ot=Ot[1],I.G==2)if(Ot[0]=="c"){I.K=Ot[1],I.ia=Ot[2];const Dt=Ot[3];Dt!=null&&(I.la=Dt,I.j.info("VER="+I.la));const gn=Ot[4];gn!=null&&(I.Aa=gn,I.j.info("SVER="+I.Aa));const Ti=Ot[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(W=1.5*Ti,I.L=W,I.j.info("backChannelRequestTimeoutMs_="+W)),W=I;const Vr=h.g;if(Vr){const Sr=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var be=W.h;be.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(bl(be,be.h),be.h=null))}if(W.D){const vs=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;vs&&(W.ya=vs,Vt(W.I,W.D,vs))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),W=I;var Me=h;if(W.qa=nn(W,W.J?W.ia:null,W.W),Me.K){Cn(W.h,Me);var Bt=Me,Dn=W.L;Dn&&(Bt.I=Dn),Bt.B&&(to(Bt),Bs(Bt)),W.g=Me}else Se(W);0<I.i.length&&g(I)}else Ot[0]!="stop"&&Ot[0]!="close"||Xt(I,7);else I.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Xt(I,7):uo(I):Ot[0]!="noop"&&I.l&&I.l.ta(Ot),I.v=0)}}Or(4)}catch{}}var vl=class{constructor(h,w){this.g=h,this.map=w}};function yl(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _l(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wl(h){return h.h?1:h.g?h.g.size:0}function zs(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function bl(h,w){h.g?h.g.add(w):h.h=w}function Cn(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}yl.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Al(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const I of h.g.values())w=w.concat(I.D);return w}return k(h.i)}function yu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],I=h.length,W=0;W<I;W++)w.push(h[W]);return w}w=[],I=0;for(W in h)w[I++]=h[W];return w}function ds(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var I=0;I<h;I++)w.push(I);return w}w=[],I=0;for(const W in h)w[I++]=W;return w}}}function qs(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var I=ds(h),W=yu(h),ue=W.length,be=0;be<ue;be++)w.call(void 0,W[be],I&&I[be],h)}var ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(h,w){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var W=h[I].indexOf("="),ue=null;if(0<=W){var be=h[I].substring(0,W);ue=h[I].substring(W+1)}else be=h[I];w(be,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function tn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof tn){this.h=h.h,ro(this,h.j),this.o=h.o,this.g=h.g,io(this,h.s),this.l=h.l;var w=h.i,I=new fi;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),_u(this,I),this.m=h.m}else h&&(w=String(h).match(ci))?(this.h=!1,ro(this,w[1]||"",!0),this.o=$s(w[2]||""),this.g=$s(w[3]||"",!0),io(this,w[4]),this.l=$s(w[5]||"",!0),_u(this,w[6]||"",!0),this.m=$s(w[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}tn.prototype.toString=function(){var h=[],w=this.j;w&&h.push(hi(w,wu,!0),":");var I=this.g;return(I||w=="file")&&(h.push("//"),(w=this.o)&&h.push(hi(w,wu,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(hi(I,I.charAt(0)=="/"?Fc:Mc,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",hi(I,wa)),h.join("")};function ti(h){return new tn(h)}function ro(h,w,I){h.j=I?$s(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function io(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function _u(h,w,I){w instanceof fi?(h.i=w,Vc(h.i,h.h)):(I||(w=hi(w,xl)),h.i=new fi(w,h.h))}function Vt(h,w,I){h.i.set(w,I)}function _a(h){return Vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $s(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function hi(h,w,I){return typeof h=="string"?(h=encodeURI(h).replace(w,El),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function El(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wu=/[#\/\?@]/g,Mc=/[#\?:]/g,Fc=/[#\?]/g,xl=/[#\?@]/g,wa=/#/g;function fi(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Yi(h){h.g||(h.g=new Map,h.h=0,h.i&&ya(h.i,function(w,I){h.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=fi.prototype,t.add=function(h,w){Yi(this),this.i=null,h=Hs(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(w),this.h+=1,this};function Ws(h,w){Yi(h),w=Hs(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function so(h,w){return Yi(h),w=Hs(h,w),h.g.has(w)}t.forEach=function(h,w){Yi(this),this.g.forEach(function(I,W){I.forEach(function(ue){h.call(w,ue,W,this)},this)},this)},t.na=function(){Yi(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let W=0;W<w.length;W++){const ue=h[W];for(let be=0;be<ue.length;be++)I.push(w[W])}return I},t.V=function(h){Yi(this);let w=[];if(typeof h=="string")so(this,h)&&(w=w.concat(this.g.get(Hs(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)w=w.concat(h[I])}return w},t.set=function(h,w){return Yi(this),this.i=null,h=Hs(this,h),so(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function vt(h,w,I){Ws(h,w),0<I.length&&(h.i=null,h.g.set(Hs(h,w),k(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var W=w[I];const be=encodeURIComponent(String(W)),Me=this.V(W);for(W=0;W<Me.length;W++){var ue=be;Me[W]!==""&&(ue+="="+encodeURIComponent(String(Me[W]))),h.push(ue)}}return this.i=h.join("&")};function Hs(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Vc(h,w){w&&!h.j&&(Yi(h),h.i=null,h.g.forEach(function(I,W){var ue=W.toLowerCase();W!=ue&&(Ws(this,W),vt(this,ue,I))},h)),h.j=w}function Uc(h,w){const I=new gr;if(o.Image){const W=new Image;W.onload=p(yr,I,"TestLoadImage: loaded",!0,w,W),W.onerror=p(yr,I,"TestLoadImage: error",!1,w,W),W.onabort=p(yr,I,"TestLoadImage: abort",!1,w,W),W.ontimeout=p(yr,I,"TestLoadImage: timeout",!1,w,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=h}else w(!1)}function Bc(h,w){const I=new gr,W=new AbortController,ue=setTimeout(()=>{W.abort(),yr(I,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:W.signal}).then(be=>{clearTimeout(ue),be.ok?yr(I,"TestPingServer: ok",!0,w):yr(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ue),yr(I,"TestPingServer: error",!1,w)})}function yr(h,w,I,W,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),W(I)}catch{}}function ps(){this.g=new ht}function zc(h,w,I){const W=I||"";try{qs(h,function(ue,be){let Me=ue;u(ue)&&(Me=lt(ue)),w.push(W+be+"="+encodeURIComponent(Me))})}catch(ue){throw w.push(W+"type="+encodeURIComponent("_badmap")),ue}}function ao(h){this.l=h.Ub||null,this.j=h.eb||!1}C(ao,Rt),ao.prototype.g=function(){return new ms(this.l,this.j)},ao.prototype.i=function(h){return function(){return h}}({});function ms(h,w){Ye.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ms,Ye),t=ms.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Xi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||o).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Ii(this):Xi(this),this.readyState==3&&oo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ii(this))},t.Qa=function(h){this.g&&(this.response=h,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Xi(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=w.next();return h.join(`\r
`)};function Xi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ba(h){let w="";return F(h,function(I,W){w+=W,w+=":",w+=I,w+=`\r
`}),w}function Sl(h,w,I){e:{for(W in I){var W=!1;break e}W=!0}W||(I=ba(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):Vt(h,w,I))}function hn(h){Ye.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(hn,Ye);var Nl=/^https?$/i,Aa=["POST","PUT"];t=hn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,I,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Et(this.o):Et(ei),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(be){Gs(this,be);return}if(h=I||"",I=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ue in W)I.set(ue,W[ue]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const be of W.keys())I.set(be,W.get(be));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(I.keys()).find(be=>be.toLowerCase()=="content-type"),ue=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Aa,w,void 0))||W||ue||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Me]of I)this.g.setRequestHeader(be,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(h),this.u=!1}catch(be){Gs(this,be)}};function Gs(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,lo(h),Ks(h)}function lo(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ke(this,"complete"),ke(this,"abort"),Ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},t.bb=function(){Ea(this)};function Ea(h){if(h.h&&typeof a<"u"&&(!h.v[1]||di(h)!=4||h.Z()!=2)){if(h.u&&di(h)==4)qe(h.Ea,0,h);else if(ke(h,"readystatechange"),di(h)==4){h.h=!1;try{const Me=h.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var W;if(W=Me===0){var ue=String(h.D).match(ci)[1]||null;!ue&&o.self&&o.self.location&&(ue=o.self.location.protocol.slice(0,-1)),W=!Nl.test(ue?ue.toLowerCase():"")}I=W}if(I)ke(h,"complete"),ke(h,"success");else{h.m=6;try{var be=2<di(h)?h.g.statusText:""}catch{be=""}h.l=be+" ["+h.Z()+"]",lo(h)}}finally{Ks(h)}}}}function Ks(h,w){if(h.g){Qs(h);const I=h.g,W=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||ke(h,"ready");try{I.onreadystatechange=W}catch{}}}function Qs(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function di(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Qt(w)}};function Il(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(h){const w={};h=(h.g&&2<=di(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<h.length;W++){if(T(h[W]))continue;var I=E(h[W]);const ue=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const be=w[ue]||[];w[ue]=be,be.push(I)}V(w,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(h,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||w}function kl(h){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ni("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ni("baseRetryDelayMs",5e3,h),this.cb=ni("retryDelaySeedMs",1e4,h),this.Wa=ni("forwardChannelMaxRetries",2,h),this.wa=ni("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new yl(h&&h.concurrentRequestLimit),this.Da=new ps,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kl.prototype,t.la=8,t.G=1,t.connect=function(h,w,I,W){wn(0),this.W=h,this.H=w||{},I&&W!==void 0&&(this.H.OSID=I,this.H.OAID=W),this.F=this.X,this.I=nn(this,null,this.W),g(this)};function uo(h){if(Tl(h),h.G==3){var w=h.U++,I=ti(h.I);if(Vt(I,"SID",h.K),Vt(I,"RID",w),Vt(I,"TYPE","terminate"),re(h,I),w=new Hn(h,h.j,w),w.L=2,w.v=_a(ti(I)),I=!1,o.navigator&&o.navigator.sendBeacon)try{I=o.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&o.Image&&(new Image().src=w.v,I=!0),I||(w.g=Vn(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Bs(w)}Ln(h)}function Zi(h){h.g&&($e(h),h.g.cancel(),h.g=null)}function Tl(h){Zi(h),h.u&&(o.clearTimeout(h.u),h.u=null),pt(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function g(h){if(!_l(h.h)&&!h.s){h.s=!0;var w=h.Ga;de||pe(),Z||(de(),Z=!0),G.add(w,h),h.B=0}}function D(h,w){return wl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mr(_(h.Ga,h,w),$t(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ue=new Hn(this,this.j,h);let be=this.o;if(this.S&&(be?(be=x(be),O(be,this.S)):be=this.S),this.m!==null||this.O||(ue.H=be,be=null),this.P)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var W=this.i[I];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(w+=W,4096<w){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=le(this,ue,w),I=ti(this.I),Vt(I,"RID",h),Vt(I,"CVER",22),this.D&&Vt(I,"X-HTTP-Session-Id",this.D),re(this,I),be&&(this.O?w="headers="+encodeURIComponent(String(ba(be)))+"&"+w:this.m&&Sl(I,this.m,be)),bl(this.h,ue),this.Ua&&Vt(I,"TYPE","init"),this.P?(Vt(I,"$req",w),Vt(I,"SID","null"),ue.T=!0,Us(ue,I,null)):Us(ue,I,w),this.G=2}}else this.G==3&&(h?J(this,h):this.i.length==0||_l(this.h)||J(this))};function J(h,w){var I;w?I=w.l:I=h.U++;const W=ti(h.I);Vt(W,"SID",h.K),Vt(W,"RID",I),Vt(W,"AID",h.T),re(h,W),h.m&&h.o&&Sl(W,h.m,h.o),I=new Hn(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),w&&(h.i=w.D.concat(h.i)),w=le(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),bl(h.h,I),Us(I,W,w)}function re(h,w){h.H&&F(h.H,function(I,W){Vt(w,W,I)}),h.l&&qs({},function(I,W){Vt(w,W,I)})}function le(h,w,I){I=Math.min(h.i.length,I);var W=h.l?_(h.l.Na,h.l,h):null;e:{var ue=h.i;let be=-1;for(;;){const Me=["count="+I];be==-1?0<I?(be=ue[0].g,Me.push("ofs="+be)):be=0:Me.push("ofs="+be);let Bt=!0;for(let Dn=0;Dn<I;Dn++){let Ot=ue[Dn].g;const Dt=ue[Dn].map;if(Ot-=be,0>Ot)be=Math.max(0,ue[Dn].g-100),Bt=!1;else try{zc(Dt,Me,"req"+Ot+"_")}catch{W&&W(Dt)}}if(Bt){W=Me.join("&");break e}}}return h=h.i.splice(0,I),w.D=h,W}function Se(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;de||pe(),Z||(de(),Z=!0),G.add(w,h),h.v=0}}function Ce(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mr(_(h.Fa,h),$t(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Ze(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mr(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),Zi(this),Ze(this))};function $e(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function Ze(h){h.g=new Hn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=ti(h.qa);Vt(w,"RID","rpc"),Vt(w,"SID",h.K),Vt(w,"AID",h.T),Vt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Vt(w,"TO",h.ja),Vt(w,"TYPE","xmlhttp"),re(h,w),h.m&&h.o&&Sl(w,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=_a(ti(w)),I.m=null,I.P=!0,ga(I,h)}t.Za=function(){this.C!=null&&(this.C=null,Zi(this),Ce(this),wn(19))};function pt(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function bt(h,w){var I=null;if(h.g==w){pt(h),$e(h),h.g=null;var W=2}else if(zs(h.h,w))I=w.D,Cn(h.h,w),W=1;else return;if(h.G!=0){if(w.o)if(W==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var ue=h.B;W=Wn(),ke(W,new Ji(W,I)),g(h)}else Se(h);else if(ue=w.s,ue==3||ue==0&&0<w.X||!(W==1&&D(h,w)||W==2&&Ce(h)))switch(I&&0<I.length&&(w=h.h,w.i=w.i.concat(I)),ue){case 1:Xt(h,5);break;case 4:Xt(h,10);break;case 3:Xt(h,6);break;default:Xt(h,2)}}}function $t(h,w){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*w}function Xt(h,w){if(h.j.info("Error code "+w),w==2){var I=_(h.fb,h),W=h.Xa;const ue=!W;W=new tn(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ro(W,"https"),_a(W),ue?Uc(W.toString(),I):Bc(W.toString(),I)}else wn(2);h.G=0,h.l&&h.l.sa(w),Ln(h),Tl(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Ln(h){if(h.G=0,h.ka=[],h.l){const w=Al(h.h);(w.length!=0||h.i.length!=0)&&(L(h.ka,w),L(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function nn(h,w,I){var W=I instanceof tn?ti(I):new tn(I);if(W.g!="")w&&(W.g=w+"."+W.g),io(W,W.s);else{var ue=o.location;W=ue.protocol,w=w?w+"."+ue.hostname:ue.hostname,ue=+ue.port;var be=new tn(null);W&&ro(be,W),w&&(be.g=w),ue&&io(be,ue),I&&(be.l=I),W=be}return I=h.D,w=h.ya,I&&w&&Vt(W,I,w),Vt(W,"VER",h.la),re(h,W),W}function Vn(h,w,I){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new hn(new ao({eb:I})):new hn(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rn(){}t=Rn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Un(){}Un.prototype.g=function(h,w){return new mn(h,w)};function mn(h,w){Ye.call(this),this.g=new kl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!T(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!T(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new ki(this)}C(mn,Ye),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){uo(this.g)},mn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=lt(h),h=I);w.i.push(new vl(w.Ya++,h)),w.G==3&&g(w)},mn.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,mn.aa.N.call(this)};function xr(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const I in w){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}C(xr,Yt);function Pl(){gt.call(this),this.status=1}C(Pl,gt);function ki(h){this.g=h}C(ki,Rn),ki.prototype.ua=function(){ke(this.g,"a")},ki.prototype.ta=function(h){ke(this.g,new xr(h))},ki.prototype.sa=function(h){ke(this.g,new Pl)},ki.prototype.ra=function(){ke(this.g,"b")},Un.prototype.createWebChannel=Un.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,UE=function(){return new Un},VE=function(){return Wn()},FE=jt,m0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Yd=Mr,xi.COMPLETE="complete",ME=xi,Nn.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,wh=Nn,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,OE=hn}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new B2("@firebase/firestore");function hh(){return su.logLevel}function et(t,...e){if(su.logLevel<=qt.DEBUG){const n=e.map(ev);su.debug(`Firestore (${Cc}): ${t}`,...n)}}function Ga(t,...e){if(su.logLevel<=qt.ERROR){const n=e.map(ev);su.error(`Firestore (${Cc}): ${t}`,...n)}}function vc(t,...e){if(su.logLevel<=qt.WARN){const n=e.map(ev);su.warn(`Firestore (${Cc}): ${t}`,...n)}}function ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+t;throw Ga(e),new Error(e)}function cn(t,e){t||xt()}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends Ya{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kr.UNAUTHENTICATED))}shutdown(){}}class hL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fL{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){cn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn(typeof r.accessToken=="string"),new BE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string"),new Kr(e)}}class dL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){cn(this.o===void 0);const r=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,et("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(cn(typeof n.token=="string"),this.R=n.token,new mL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Jt(t,e){return t<e?-1:t>e?1:0}function yc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new We(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ir(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new ir(0,0))}static max(){return new Nt(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r){n===void 0?n=0:n>e.length&&xt(),r===void 0?r=e.length-n:r>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class En extends cf{construct(e,n,r){return new En(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new En(n)}static emptyPath(){return new En([])}}const yL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends cf{construct(e,n,r){return new Cr(e,n,r)}static isValidIdentifier(e){return yL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new We(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new We(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new We(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(n)}static emptyPath(){return new Cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(En.fromString(e))}static fromName(e){return new ut(En.fromString(e).popFirst(5))}static empty(){return new ut(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&En.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return En.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new En(e.slice()))}}function _L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(r===1e9?new ir(n+1,0):new ir(n,r));return new rl(i,ut.empty(),e)}function wL(t){return new rl(t.readTime,t.key,-1)}class rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rl(Nt.min(),ut.empty(),-1)}static max(){return new rl(Nt.max(),ut.empty(),-1)}}function bL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ut.comparator(t.documentKey,e.documentKey),n!==0?n:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==AL)throw t;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{a[u]=f,++o,o===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new De((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tv.oe=-1;function bm(t){return t==null}function zp(t){return t===0&&1/t==-1/0}function SL(t){return typeof t=="number"&&Number.isInteger(t)&&!zp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.comparator=e,this.root=n||Pr.EMPTY}insert(e,n){return new Fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new Fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pr.RED,this.left=i??Pr.EMPTY,this.right=s??Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1;Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.comparator=e,this.data=new Fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rr(this.comparator);return n.data=e,n}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new zi([])}unionWith(e){let n=new Rr(Cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $E("Invalid base64 string: "+s):s}}(e);return new jr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new jr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const NL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(cn(!!t),typeof t=="string"){let e=0;const n=NL.exec(t);if(cn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(t.seconds),nanos:Yn(t.nanos)}}function Yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function au(t){return typeof t=="string"?jr.fromBase64String(t):jr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rv(t){const e=t.mapValue.fields.__previous_value__;return nv(e)?rv(e):e}function hf(t){const e=il(t.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r,i,s,a,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class ff{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={mapValue:{}};function ou(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nv(t)?4:TL(t)?9007199254740991:kL(t)?10:11:xt()}function da(t,e){if(t===e)return!0;const n=ou(t);if(n!==ou(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hf(t).isEqual(hf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=il(i.timestampValue),o=il(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return au(i.bytesValue).isEqual(au(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yn(i.geoPointValue.latitude)===Yn(s.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yn(i.integerValue)===Yn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Yn(i.doubleValue),o=Yn(s.doubleValue);return a===o?zp(a)===zp(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(v_(a)!==v_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!da(a[l],o[l])))return!1;return!0}(t,e);default:return xt()}}function df(t,e){return(t.values||[]).find(n=>da(n,e))!==void 0}function _c(t,e){if(t===e)return 0;const n=ou(t),r=ou(e);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Yn(s.integerValue||s.doubleValue),l=Yn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return __(t.timestampValue,e.timestampValue);case 4:return __(hf(t),hf(e));case 5:return Jt(t.stringValue,e.stringValue);case 6:return function(s,a){const o=au(s),l=au(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const f=Jt(o[u],l[u]);if(f!==0)return f}return Jt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Jt(Yn(s.latitude),Yn(a.latitude));return o!==0?o:Jt(Yn(s.longitude),Yn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,f;const m=s.fields||{},_=a.fields||{},p=(o=m.value)===null||o===void 0?void 0:o.arrayValue,C=(l=_.value)===null||l===void 0?void 0:l.arrayValue,k=Jt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:w_(p,C)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===xd.mapValue&&a===xd.mapValue)return 0;if(s===xd.mapValue)return 1;if(a===xd.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const _=Jt(l[m],f[m]);if(_!==0)return _;const p=_c(o[l[m]],u[f[m]]);if(p!==0)return p}return Jt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw xt()}}function __(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const n=il(t),r=il(e),i=Jt(n.seconds,r.seconds);return i!==0?i:Jt(n.nanos,r.nanos)}function w_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_c(n[i],r[i]);if(s)return s}return Jt(n.length,r.length)}function wc(t){return g0(t)}function g0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return au(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ut.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=g0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${g0(n.fields[a])}`;return i+"}"}(t.mapValue):xt()}function b_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function v0(t){return!!t&&"integerValue"in t}function iv(t){return!!t&&"arrayValue"in t}function A_(t){return!!t&&"nullValue"in t}function E_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function kL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dh(n)}setAll(e){let n=Cr.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Dh(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vi(Dh(this.value))}}function WE(t){const e=[];return pu(t.fields,(n,r)=>{const i=new Cr([n]);if(Xd(r)){const s=WE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Jr(e,0,Nt.min(),Nt.min(),Nt.min(),vi.empty(),0)}static newFoundDocument(e,n,r,i){return new Jr(e,1,n,Nt.min(),r,i,0)}static newNoDocument(e,n){return new Jr(e,2,n,Nt.min(),Nt.min(),vi.empty(),0)}static newUnknownDocument(e,n){return new Jr(e,3,n,Nt.min(),Nt.min(),vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.position=e,this.inclusive=n}}function x_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ut.comparator(ut.fromName(a.referenceValue),n.key):r=_c(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!da(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n="asc"){this.field=e,this.dir=n}}function PL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class lr extends HE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LL(e,n,r):n==="array-contains"?new jL(e,r):n==="in"?new OL(e,r):n==="not-in"?new ML(e,r):n==="array-contains-any"?new FL(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RL(e,r):new DL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_c(n,this.value)):n!==null&&ou(this.value)===ou(n)&&this.matchesComparison(_c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rs extends HE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rs(e,n)}matches(e){return GE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GE(t){return t.op==="and"}function KE(t){return CL(t)&&GE(t)}function CL(t){for(const e of t.filters)if(e instanceof Rs)return!1;return!0}function y0(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+wc(t.value);if(KE(t))return t.filters.map(e=>y0(e)).join(",");{const e=t.filters.map(n=>y0(n)).join(",");return`${t.op}(${e})`}}function QE(t,e){return t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&da(r.value,i.value)}(t,e):t instanceof Rs?function(r,i){return i instanceof Rs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&QE(a,i.filters[o]),!0):!1}(t,e):void xt()}function JE(t){return t instanceof lr?function(n){return`${n.field.canonicalString()} ${n.op} ${wc(n.value)}`}(t):t instanceof Rs?function(n){return n.op.toString()+" {"+n.getFilters().map(JE).join(" ,")+"}"}(t):"Filter"}class LL extends lr{constructor(e,n,r){super(e,n,r),this.key=ut.fromName(r.referenceValue)}matches(e){const n=ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class RL extends lr{constructor(e,n){super(e,"in",n),this.keys=YE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DL extends lr{constructor(e,n){super(e,"not-in",n),this.keys=YE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ut.fromName(r.referenceValue))}class jL extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iv(n)&&df(n.arrayValue,this.value)}}class OL extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&df(this.value.arrayValue,n)}}class ML extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!df(this.value.arrayValue,n)}}class FL extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>df(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function N_(t,e=null,n=[],r=[],i=null,s=null,a=null){return new VL(t,e,n,r,i,s,a)}function sv(t){const e=It(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>y0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wc(r)).join(",")),e.ue=n}return e.ue}function av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function _0(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UL(t,e,n,r,i,s,a,o){return new Lc(t,e,n,r,i,s,a,o)}function Am(t){return new Lc(t)}function I_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XE(t){return t.collectionGroup!==null}function jh(t){const e=It(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Rr(Cr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pf(s,r))}),n.has(Cr.keyField().canonicalString())||e.ce.push(new pf(Cr.keyField(),r))}return e.ce}function ha(t){const e=It(t);return e.le||(e.le=BL(e,jh(t))),e.le}function BL(t,e){if(t.limitType==="F")return N_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pf(i.field,s)});const n=t.endAt?new qp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qp(t.startAt.position,t.startAt.inclusive):null;return N_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w0(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $p(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Em(t,e){return av(ha(t),ha(e))&&t.limitType===e.limitType}function ZE(t){return`${sv(ha(t))}|lt:${t.limitType}`}function Tu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JE(i)).join(", ")}]`),bm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wc(i)).join(",")),`Target(${r})`}(ha(t))}; limitType=${t.limitType})`}function xm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ut.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of jh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=x_(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,jh(r),i)||r.endAt&&!function(a,o,l){const u=x_(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,jh(r),i))}(t,e)}function zL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ex(t){return(e,n)=>{let r=!1;for(const i of jh(t)){const s=qL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qL(t,e,n){const r=t.field.isKeyField()?ut.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?_c(l,u):xt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Fn(ut.comparator);function Ka(){return $L}const tx=new Fn(ut.comparator);function bh(...t){let e=tx;for(const n of t)e=e.insert(n.key,n);return e}function nx(t){let e=tx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hl(){return Oh()}function rx(){return Oh()}function Oh(){return new Rc(t=>t.toString(),(t,e)=>t.isEqual(e))}const WL=new Fn(ut.comparator),HL=new Rr(ut.comparator);function Ut(...t){let e=HL;for(const n of t)e=e.add(n);return e}const GL=new Rr(Jt);function KL(){return GL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zp(e)?"-0":e}}function ix(t){return{integerValue:""+t}}function QL(t,e){return SL(e)?ix(e):ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function JL(t,e,n){return t instanceof mf?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nv(s)&&(s=rv(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof gf?ax(t,e):t instanceof vf?ox(t,e):function(i,s){const a=sx(i,s),o=k_(a)+k_(i.Pe);return v0(a)&&v0(i.Pe)?ix(o):ov(i.serializer,o)}(t,e)}function YL(t,e,n){return t instanceof gf?ax(t,e):t instanceof vf?ox(t,e):n}function sx(t,e){return t instanceof Wp?function(r){return v0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mf extends Sm{}class gf extends Sm{constructor(e){super(),this.elements=e}}function ax(t,e){const n=lx(e);for(const r of t.elements)n.some(i=>da(i,r))||n.push(r);return{arrayValue:{values:n}}}class vf extends Sm{constructor(e){super(),this.elements=e}}function ox(t,e){let n=lx(e);for(const r of t.elements)n=n.filter(i=>!da(i,r));return{arrayValue:{values:n}}}class Wp extends Sm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function k_(t){return Yn(t.integerValue||t.doubleValue)}function lx(t){return iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.field=e,this.transform=n}}function ZL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gf&&i instanceof gf||r instanceof vf&&i instanceof vf?yc(r.elements,i.elements,da):r instanceof Wp&&i instanceof Wp?da(r.Pe,i.Pe):r instanceof mf&&i instanceof mf}(t.transform,e.transform)}class eR{constructor(e,n){this.version=e,this.transformResults=n}}class os{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nm{}function ux(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lv(t.key,os.none()):new Df(t.key,t.data,os.none());{const n=t.data,r=vi.empty();let i=new Rr(Cr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new pl(t.key,r,new zi(i.toArray()),os.none())}}function tR(t,e,n){t instanceof Df?function(i,s,a){const o=i.value.clone(),l=P_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof pl?function(i,s,a){if(!Zd(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=P_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(cx(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Mh(t,e,n,r){return t instanceof Df?function(s,a,o,l){if(!Zd(s.precondition,a))return o;const u=s.value.clone(),f=C_(s.fieldTransforms,l,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof pl?function(s,a,o,l){if(!Zd(s.precondition,a))return o;const u=C_(s.fieldTransforms,l,a),f=a.data;return f.setAll(cx(s)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,o){return Zd(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function nR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sx(r.transform,i||null);s!=null&&(n===null&&(n=vi.empty()),n.set(r.field,s))}return n||null}function T_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yc(r,i,(s,a)=>ZL(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Df extends Nm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pl extends Nm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;cn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,YL(a,o,n[i]))}return r}function C_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,JL(s,a,e))}return r}class lv extends Nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rR extends Nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rx();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=ux(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(n,r)=>T_(n,r))&&yc(this.baseMutations,e.baseMutations,(n,r)=>T_(n,r))}}class uv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){cn(e.mutations.length===r.length);let i=function(){return WL}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new uv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar,Ht;function oR(t){switch(t){default:return xt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function hx(t){if(t===void 0)return Ga("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case ar.OK:return Pe.OK;case ar.CANCELLED:return Pe.CANCELLED;case ar.UNKNOWN:return Pe.UNKNOWN;case ar.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case ar.INTERNAL:return Pe.INTERNAL;case ar.UNAVAILABLE:return Pe.UNAVAILABLE;case ar.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case ar.NOT_FOUND:return Pe.NOT_FOUND;case ar.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case ar.ABORTED:return Pe.ABORTED;case ar.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case ar.DATA_LOSS:return Pe.DATA_LOSS;default:return xt()}}(Ht=ar||(ar={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Ql([4294967295,4294967295],0);function L_(t){const e=lR().encode(t),n=new jE;return n.update(e),new Uint8Array(n.digest())}function R_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ql([n,r],0),new Ql([i,s],0)]}class cv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ql.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ql.fromNumber(r)));return i.compare(uR)===1&&(i=new Ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=L_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new cv(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=L_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Im(Nt.min(),i,new Fn(Jt),Ka(),Ut())}}class jf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jf(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class fx{constructor(e,n){this.targetId=e,this.me=n}}class dx{constructor(e,n,r=jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D_{constructor(){this.fe=0,this.ge=O_(),this.pe=jr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ut(),n=Ut(),r=Ut();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt()}}),new jf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=O_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,cn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ka(),this.qe=j_(),this.Qe=new Fn(Jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(_0(s))if(r===0){const a=new ut(s.path);this.Ue(n,a,Jr.newNoDocument(a,Nt.min()))}else cn(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=au(r).toUint8Array()}catch(l){if(l instanceof $E)return vc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new cv(a,i,s)}catch(l){return vc(l instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&_0(o.target)){const l=new ut(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Jr.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Ut();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Im(e,n,this.Qe,this.ke,r);return this.ke=Ka(),this.qe=j_(),this.Qe=new Fn(Jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new D_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rr(Jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new D_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function j_(){return new Fn(ut.comparator)}function O_(){return new Fn(ut.comparator)}const hR={asc:"ASCENDING",desc:"DESCENDING"},fR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dR={and:"AND",or:"OR"};class pR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b0(t,e){return t.useProto3Json||bm(e)?e:{value:e}}function Hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function px(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mR(t,e){return Hp(t,e.toTimestamp())}function fa(t){return cn(!!t),Nt.fromTimestamp(function(n){const r=il(n);return new ir(r.seconds,r.nanos)}(t))}function hv(t,e){return A0(t,e).canonicalString()}function A0(t,e){const n=function(i){return new En(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mx(t){const e=En.fromString(t);return cn(wx(e)),e}function E0(t,e){return hv(t.databaseId,e.path)}function Fg(t,e){const n=mx(e);if(n.get(1)!==t.databaseId.projectId)throw new We(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ut(vx(n))}function gx(t,e){return hv(t.databaseId,e)}function gR(t){const e=mx(t);return e.length===4?En.emptyPath():vx(e)}function x0(t){return new En(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vx(t){return cn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M_(t,e,n){return{name:E0(t,e),fields:n.value.mapValue.fields}}function vR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(cn(f===void 0||typeof f=="string"),jr.fromBase64String(f||"")):(cn(f===void 0||f instanceof Buffer||f instanceof Uint8Array),jr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const f=u.code===void 0?Pe.UNKNOWN:hx(u.code);return new We(f,u.message||"")}(a);n=new dx(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fg(t,r.document.name),s=fa(r.document.updateTime),a=r.document.createTime?fa(r.document.createTime):Nt.min(),o=new vi({mapValue:{fields:r.document.fields}}),l=Jr.newFoundDocument(i,s,a,o),u=r.targetIds||[],f=r.removedTargetIds||[];n=new ep(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fg(t,r.document),s=r.readTime?fa(r.readTime):Nt.min(),a=Jr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ep([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fg(t,r.document),s=r.removedTargetIds||[];n=new ep([],s,i,null)}else{if(!("filter"in e))return xt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new aR(i,s),o=r.targetId;n=new fx(o,a)}}return n}function yR(t,e){let n;if(e instanceof Df)n={update:M_(t,e.key,e.value)};else if(e instanceof lv)n={delete:E0(t,e.key)};else if(e instanceof pl)n={update:M_(t,e.key,e.data),updateMask:IR(e.fieldMask)};else{if(!(e instanceof rR))return xt();n={verify:E0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof mf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wp)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw xt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xt()}(t,e.precondition)),n}function _R(t,e){return t&&t.length>0?(cn(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?fa(i.updateTime):fa(s);return a.isEqual(Nt.min())&&(a=fa(s)),new eR(a,i.transformResults||[])}(n,e))):[]}function wR(t,e){return{documents:[gx(t,e.path)]}}function bR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gx(t,i);const s=function(u){if(u.length!==0)return _x(Rs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(f=>function(_){return{field:Pu(_.field),direction:xR(_.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=b0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function AR(t){let e=gR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cn(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const _=yx(m);return _ instanceof Rs&&KE(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(_=>function(C){return new pf(Cu(C.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(n.orderBy));let o=null;n.limit&&(o=function(m){let _;return _=typeof m=="object"?m.value:m,bm(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(m){const _=!!m.before,p=m.values||[];return new qp(p,_)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const _=!m.before,p=m.values||[];return new qp(p,_)}(n.endAt)),UL(e,i,a,s,o,"F",l,u)}function ER(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cu(n.unaryFilter.field);return lr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cu(n.unaryFilter.field);return lr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(t):t.fieldFilter!==void 0?function(n){return lr.create(Cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rs.create(n.compositeFilter.filters.map(r=>yx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(t):xt()}function xR(t){return hR[t]}function SR(t){return fR[t]}function NR(t){return dR[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Cu(t){return Cr.fromServerFormat(t.fieldPath)}function _x(t){return t instanceof lr?function(n){if(n.op==="=="){if(E_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(A_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(A_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:SR(n.op),value:n.value}}}(t):t instanceof Rs?function(n){const r=n.getFilters().map(i=>_x(i));return r.length===1?r[0]:{compositeFilter:{op:NR(n.op),filters:r}}}(t):xt()}function IR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r,i,s=Nt.min(),a=Nt.min(),o=jr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.ct=e}}function TR(t){const e=AR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.un=new CR}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(rl.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class CR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rr(En.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rr(En.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bc(0)}static kn(){return new bc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.changes=new Rc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mh(r.mutation,i,zi.empty(),ir.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ut()){const i=Hl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=bh();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Hl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Ka();const a=Oh(),o=function(){return Oh()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof pl)?s=s.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),Mh(f.mutation,u,f.mutation.getFieldMask(),ir.now())):a.set(u.key,zi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>a.set(u,f)),n.forEach((u,f)=>{var m;return o.set(u,new RR(f,(m=a.get(u))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Oh();let i=new Fn((a,o)=>a-o),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||zi.empty();f=o.applyToLocalView(u,f),r.set(l,f);const m=(i.get(o.batchId)||Ut()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,f=l.value,m=rx();f.forEach(_=>{if(!s.has(_)){const p=ux(n.get(_),r.get(_));p!==null&&m.set(_,p),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,m))}return De.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):De.resolve(Hl());let o=-1,l=s;return a.next(u=>De.forEach(u,(f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(f)?De.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{l=l.insert(f,_)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ut())).next(f=>({batchId:o,changes:nx(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ut(n)).next(r=>{let i=bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=bh();return this.indexManager.getCollectionParents(e,s).next(o=>De.forEach(o,l=>{const u=function(m,_){return new Lc(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,_)=>{a=a.insert(m,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,Jr.newInvalidDocument(f)))});let o=bh();return a.forEach((l,u)=>{const f=s.get(l);f!==void 0&&Mh(f.mutation,u,zi.empty(),ir.now()),xm(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:TR(i.bundledQuery),readTime:fa(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.overlays=new Fn(ut.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hl();return De.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=Hl(),s=n.length+1,a=new ut(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fn((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Hl(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const o=Hl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>o.set(u,f)),!(o.size()>=i)););return De.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new sR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ut(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.sessionToken=jr.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Tr=new Rr(_r.Er),this.dr=new Rr(_r.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _r(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ut(new En([])),r=new _r(n,e),i=new _r(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ut(new En([])),r=new _r(n,e),i=new _r(n,e+1);let s=Ut();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new _r(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ut.comparator(e.key,n.key)||Jt(e.wr,n.wr)}static Ar(e,n){return Jt(e.wr,n.wr)||ut.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rr(_r.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iR(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new _r(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return De.resolve(a)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rr(Jt);return n.forEach(i=>{const s=new _r(i,0),a=new _r(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),De.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ut.isDocumentKey(s)||(s=s.child(""));const a=new _r(new ut(s),0);let o=new Rr(Jt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),De.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){cn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return De.forEach(n.mutations,i=>{const s=new _r(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new _r(n,0),i=this.br.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.Mr=e,this.docs=function(){return new Fn(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(n))}getEntries(e,n){let r=Ka();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jr.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ka();const a=n.path,o=new ut(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||bL(wL(f),r)<=0||(i.has(f.key)||xm(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xt()}Or(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UR(this)}getSize(e){return De.resolve(this.size)}}class UR extends LR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.persistence=e,this.Nr=new Rc(n=>sv(n),av),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fv,this.targetCount=0,this.kr=bc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),De.waitFor(s).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tv(0),this.Kr=!1,this.Kr=!0,this.$r=new MR,this.referenceDelegate=e(this),this.Ur=new BR(this),this.indexManager=new PR,this.remoteDocumentCache=function(i){return new VR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kR(n),this.Gr=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){et("MemoryPersistence","Starting transaction:",e);const i=new qR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return De.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qR extends EL{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Jr=new fv,this.Yr=null}static Zr(e){return new dv(e)}get Xr(){if(this.Yr)return this.Yr;throw xt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,r=>{const i=ut.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Nt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ut(),i=Ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return TT()?8:xL(Zr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new $R;return this.Xi(e,n,a).next(o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hh()<=qt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(hh()<=qt.DEBUG&&et("QueryEngine","Query:",Tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hh()<=qt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ha(n))):De.resolve())}Yi(e,n){if(I_(n))return De.resolve(null);let r=ha(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$p(n,null,"F"),r=ha(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ut(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,o);return this.ns(n,u,a,l.readTime)?this.Yi(e,$p(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return I_(n)||i.isEqual(Nt.min())?De.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?De.resolve(null):(hh()<=qt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tu(n)),this.rs(e,a,n,_L(i,-1)).next(o=>o))})}ts(e,n){let r=new Rr(ex(e));return n.forEach((i,s)=>{xm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return hh()<=qt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Tu(n)),this.Ji.getDocumentsMatchingQuery(e,n,rl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fn(Jt),this._s=new Rc(s=>sv(s),av),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GR(t,e,n,r){return new HR(t,e,n,r)}async function bx(t,e){const n=It(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Ut();for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function KR(t,e){const n=It(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,f){const m=u.batch,_=m.keys();let p=De.resolve();return _.forEach(C=>{p=p.next(()=>f.getEntry(l,C)).next(k=>{const L=u.docVersions.get(C);cn(L!==null),k.version.compareTo(L)<0&&(m.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),f.addEntry(k)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ut();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ax(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function QR(t,e){const n=It(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((f,m)=>{const _=i.get(m);if(!_)return;o.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let p=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(jr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(m,p),function(k,L,b){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(_,p,f)&&o.push(n.Ur.updateTargetData(s,p))});let l=Ka(),u=Ut();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),o.push(JR(s,a,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(Nt.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(f)}return De.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function JR(t,e,n){let r=Ut(),i=Ut();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ka();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Nt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):et("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function YR(t,e){const n=It(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XR(t,e){const n=It(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,De.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Vo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function S0(t,e,n){const r=It(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Rf(a))throw a;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function F_(t,e,n){const r=It(t);let i=Nt.min(),s=Ut();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,f){const m=It(l),_=m._s.get(f);return _!==void 0?De.resolve(m.os.get(_)):m.Ur.getTargetData(u,f)}(r,a,ha(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Nt.min(),n?s:Ut())).next(o=>(ZR(r,zL(e),o),{documents:o,Ts:s})))}function ZR(t,e,n){let r=t.us.get(e)||Nt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class V_{constructor(){this.activeTargetIds=KL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e8{constructor(){this.so=new V_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new V_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd=null;function Vg(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="WebChannelConnection";class i8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=Vg(),l=this.xo(n,r.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(n,l,u,i).then(f=>(et("RestConnection",`Received RPC '${n}' ${o}: `,f),f),f=>{throw vc("RestConnection",`RPC '${n}' ${o} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=n8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Vg();return new Promise((a,o)=>{const l=new OE;l.setWithCredentials(!0),l.listenOnce(ME.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yd.NO_ERROR:const f=l.getResponseJson();et(qr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Yd.TIMEOUT:et(qr,`RPC '${e}' ${s} timed out`),o(new We(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const m=l.getStatus();if(et(qr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const p=_==null?void 0:_.error;if(p&&p.status&&p.message){const C=function(L){const b=L.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(b)>=0?b:Pe.UNKNOWN}(p.status);o(new We(C,p.message))}else o(new We(Pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new We(Pe.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{et(qr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);et(qr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Vg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=UE(),o=VE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");et(qr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const m=a.createWebChannel(f,l);let _=!1,p=!1;const C=new r8({Io:L=>{p?et(qr,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(_||(et(qr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),et(qr,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},To:()=>m.close()}),k=(L,b,T)=>{L.listen(b,R=>{try{T(R)}catch(B){setTimeout(()=>{throw B},0)}})};return k(m,wh.EventType.OPEN,()=>{p||(et(qr,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),k(m,wh.EventType.CLOSE,()=>{p||(p=!0,et(qr,`RPC '${e}' stream ${i} transport closed`),C.So())}),k(m,wh.EventType.ERROR,L=>{p||(p=!0,vc(qr,`RPC '${e}' stream ${i} transport errored:`,L),C.So(new We(Pe.UNAVAILABLE,"The operation could not be completed")))}),k(m,wh.EventType.MESSAGE,L=>{var b;if(!p){const T=L.data[0];cn(!!T);const R=T,B=R.error||((b=R[0])===null||b===void 0?void 0:b.error);if(B){et(qr,`RPC '${e}' stream ${i} received error:`,B);const ne=B.status;let F=function(N){const O=ar[N];if(O!==void 0)return hx(O)}(ne),V=B.message;F===void 0&&(F=Pe.INTERNAL,V="Unknown error status: "+ne+" with message "+B.message),p=!0,C.So(new We(F,V)),m.close()}else et(qr,`RPC '${e}' stream ${i} received:`,T),C.bo(T)}}),k(o,FE.STAT_EVENT,L=>{L.stat===m0.PROXY?et(qr,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===m0.NOPROXY&&et(qr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){return new pR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i,s,a,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ex(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(Ga(n.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new We(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s8 extends xx{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vR(this.serializer,e),r=function(s){if(!("targetChange"in s))return Nt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?fa(a.readTime):Nt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=x0(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=_0(l)?{documents:wR(s,l)}:{query:bR(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=px(s,a.resumeToken);const u=b0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Nt.min())>0){o.readTime=Hp(s,a.snapshotVersion.toTimestamp());const u=b0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=ER(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=x0(this.serializer),n.removeTarget=e,this.a_(n)}}class a8 extends xx{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return cn(!!e.streamToken),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_R(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=x0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new We(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,A0(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Pe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,A0(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new We(Pe.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class l8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ga(n),this.D_=!1):et("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{mu(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=It(l);u.L_.add(4),await Of(u),u.q_.set("Unknown"),u.L_.delete(4),await Tm(u)}(this))})}),this.q_=new l8(r,i)}}async function Tm(t){if(mu(t))for(const e of t.B_)await e(!0)}async function Of(t){for(const e of t.B_)await e(!1)}function Sx(t,e){const n=It(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yv(n)?vv(n):Dc(n).r_()&&gv(n,e))}function mv(t,e){const n=It(t),r=Dc(n);n.N_.delete(e),r.r_()&&Nx(n,e),n.N_.size===0&&(r.r_()?r.o_():mu(n)&&n.q_.set("Unknown"))}function gv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dc(t).A_(e)}function Nx(t,e){t.Q_.xe(e),Dc(t).R_(e)}function vv(t){t.Q_=new cR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Dc(t).start(),t.q_.v_()}function yv(t){return mu(t)&&!Dc(t).n_()&&t.N_.size>0}function mu(t){return It(t).L_.size===0}function Ix(t){t.Q_=void 0}async function c8(t){t.q_.set("Online")}async function h8(t){t.N_.forEach((e,n)=>{gv(t,e)})}async function f8(t,e){Ix(t),yv(t)?(t.q_.M_(e),vv(t)):t.q_.set("Unknown")}async function d8(t,e,n){if(t.q_.set("Online"),e instanceof dx&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gp(t,r)}else if(e instanceof ep?t.Q_.Ke(e):e instanceof fx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Nt.min()))try{const r=await Ax(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(jr.EMPTY_BYTE_STRING,f.snapshotVersion)),Nx(s,l);const m=new Vo(f.target,l,u,f.sequenceNumber);gv(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await Gp(t,r)}}async function Gp(t,e,n){if(!Rf(e))throw e;t.L_.add(1),await Of(t),t.q_.set("Offline"),n||(n=()=>Ax(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Tm(t)})}function kx(t,e){return e().catch(n=>Gp(t,n,e))}async function Pm(t){const e=It(t),n=sl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p8(e);)try{const i=await YR(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,m8(e,i)}catch(i){await Gp(e,i)}Tx(e)&&Px(e)}function p8(t){return mu(t)&&t.O_.length<10}function m8(t,e){t.O_.push(e);const n=sl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Tx(t){return mu(t)&&!sl(t).n_()&&t.O_.length>0}function Px(t){sl(t).start()}async function g8(t){sl(t).p_()}async function v8(t){const e=sl(t);for(const n of t.O_)e.m_(n.mutations)}async function y8(t,e,n){const r=t.O_.shift(),i=uv.from(r,e,n);await kx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pm(t)}async function _8(t,e){e&&sl(t).V_&&await async function(r,i){if(function(a){return oR(a)&&a!==Pe.ABORTED}(i.code)){const s=r.O_.shift();sl(r).s_(),await kx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pm(r)}}(t,e),Tx(t)&&Px(t)}async function B_(t,e){const n=It(t);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=mu(n);n.L_.add(3),await Of(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Tm(n)}async function w8(t,e){const n=It(t);e?(n.L_.delete(2),await Tm(n)):e||(n.L_.add(2),await Of(n),n.q_.set("Unknown"))}function Dc(t){return t.K_||(t.K_=function(n,r,i){const s=It(n);return s.w_(),new s8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:c8.bind(null,t),Ro:h8.bind(null,t),mo:f8.bind(null,t),d_:d8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yv(t)?vv(t):t.q_.set("Unknown")):(await t.K_.stop(),Ix(t))})),t.K_}function sl(t){return t.U_||(t.U_=function(n,r,i){const s=It(n);return s.w_(),new a8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:g8.bind(null,t),mo:_8.bind(null,t),f_:v8.bind(null,t),g_:y8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Pm(t)):(await t.U_.stop(),t.O_.length>0&&(et("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new _v(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(Ga("AsyncQueue",`${e}: ${t}`),Rf(t))return new We(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new Fn(this.comparator)}static emptySet(e){return new ic(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.W_=new Fn(ut.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ac{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ac(e,n,ic.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class A8{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=It(n),s=i.queries;i.queries=q_(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new We(Pe.ABORTED,"Firestore shutting down"))}}function q_(){return new Rc(t=>ZE(t),Em)}async function Cx(t,e){const n=It(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new b8,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=wv(a,`Initialization of query '${Tu(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&bv(n)}async function Lx(t,e){const n=It(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E8(t,e){const n=It(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&bv(n)}function x8(t,e,n){const r=It(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function bv(t){t.Y_.forEach(e=>{e.next()})}var N0,$_;($_=N0||(N0={})).ea="default",$_.Cache="cache";class Rx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==N0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.key=e}}class jx{constructor(e){this.key=e}}class S8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ut(),this.mutatedKeys=Ut(),this.Aa=ex(e),this.Ra=new ic(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new z_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const _=i.get(f),p=xm(this.query,m)?m:null,C=!!_&&this.mutatedKeys.has(_.key),k=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let L=!1;_&&p?_.data.isEqual(p.data)?C!==k&&(r.track({type:3,doc:p}),L=!0):this.ga(_,p)||(r.track({type:2,doc:p}),L=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(o=!0)):!_&&p?(r.track({type:0,doc:p}),L=!0):_&&!p&&(r.track({type:1,doc:_}),L=!0,(l||u)&&(o=!0)),L&&(p?(a=a.add(p),s=k?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,m)=>function(p,C){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return k(p)-k(C)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Ac(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new z_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ut(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new jx(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Dx(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ut();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ac.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I8{constructor(e){this.key=e,this.va=!1}}class k8{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Rc(o=>ZE(o),Em),this.Ma=new Map,this.xa=new Set,this.Oa=new Fn(ut.comparator),this.Na=new Map,this.La=new fv,this.Ba={},this.ka=new Map,this.qa=bc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function T8(t,e,n=!0){const r=Bx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Ox(r,e,n,!0),i}async function P8(t,e){const n=Bx(t);await Ox(n,e,!0,!1)}async function Ox(t,e,n,r){const i=await XR(t.localStore,ha(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await C8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Sx(t.remoteStore,i),o}async function C8(t,e,n,r,i){t.Ka=(m,_,p)=>async function(k,L,b,T){let R=L.view.ma(b);R.ns&&(R=await F_(k.localStore,L.query,!1).then(({documents:V})=>L.view.ma(V,R)));const B=T&&T.targetChanges.get(L.targetId),ne=T&&T.targetMismatches.get(L.targetId)!=null,F=L.view.applyChanges(R,k.isPrimaryClient,B,ne);return H_(k,L.targetId,F.wa),F.snapshot}(t,m,_,p);const s=await F_(t.localStore,e,!0),a=new S8(e,s.Ts),o=a.ma(s.documents),l=jf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);H_(t,n,u.wa);const f=new N8(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function L8(t,e,n){const r=It(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Em(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mv(r.remoteStore,i.targetId),I0(r,i.targetId)}).catch(Lf)):(I0(r,i.targetId),await S0(r.localStore,i.targetId,!0))}async function R8(t,e){const n=It(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mv(n.remoteStore,r.targetId))}async function D8(t,e,n){const r=B8(t);try{const i=await function(a,o){const l=It(a),u=ir.now(),f=o.reduce((p,C)=>p.add(C.key),Ut());let m,_;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let C=Ka(),k=Ut();return l.cs.getEntries(p,f).next(L=>{C=L,C.forEach((b,T)=>{T.isValidDocument()||(k=k.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,C)).next(L=>{m=L;const b=[];for(const T of o){const R=nR(T,m.get(T.key).overlayedDocument);R!=null&&b.push(new pl(T.key,R,WE(R.value.mapValue),os.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,o)}).next(L=>{_=L;const b=L.applyToLocalDocumentSet(m,k);return l.documentOverlayCache.saveOverlays(p,L.batchId,b)})}).then(()=>({batchId:_.batchId,changes:nx(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new Fn(Jt)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Mf(r,i.changes),await Pm(r.remoteStore)}catch(i){const s=wv(i,"Failed to persist write");n.reject(s)}}async function Mx(t,e){const n=It(t);try{const r=await QR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?cn(a.va):i.removedDocuments.size>0&&(cn(a.va),a.va=!1))}),await Mf(n,r,e)}catch(r){await Lf(r)}}function W_(t,e,n){const r=It(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=It(a);l.onlineState=o;let u=!1;l.queries.forEach((f,m)=>{for(const _ of m.j_)_.Z_(o)&&(u=!0)}),u&&bv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j8(t,e,n){const r=It(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Fn(ut.comparator);a=a.insert(s,Jr.newNoDocument(s,Nt.min()));const o=Ut().add(s),l=new Im(Nt.min(),new Map,new Fn(Jt),a,o);await Mx(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Av(r)}else await S0(r.localStore,e,!1).then(()=>I0(r,e,n)).catch(Lf)}async function O8(t,e){const n=It(t),r=e.batch.batchId;try{const i=await KR(n.localStore,e);Vx(n,r,null),Fx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mf(n,i)}catch(i){await Lf(i)}}async function M8(t,e,n){const r=It(t);try{const i=await function(a,o){const l=It(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,o).next(m=>(cn(m!==null),f=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);Vx(r,e,n),Fx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mf(r,i)}catch(i){await Lf(i)}}function Fx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Vx(t,e,n){const r=It(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function I0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Ux(t,r)})}function Ux(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(mv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Av(t))}function H_(t,e,n){for(const r of n)r instanceof Dx?(t.La.addReference(r.key,e),F8(t,r)):r instanceof jx?(et("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Ux(t,r.key)):xt()}function F8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(et("SyncEngine","New document in limbo: "+n),t.xa.add(r),Av(t))}function Av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ut(En.fromString(e)),r=t.qa.next();t.Na.set(r,new I8(n)),t.Oa=t.Oa.insert(n,r),Sx(t.remoteStore,new Vo(ha(Am(n.path)),r,"TargetPurposeLimboResolution",tv.oe))}}async function Mf(t,e,n){const r=It(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=pv.Wi(l.targetId,u);s.push(m)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const f=It(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>De.forEach(u,_=>De.forEach(_.$i,p=>f.persistence.referenceDelegate.addReference(m,_.targetId,p)).next(()=>De.forEach(_.Ui,p=>f.persistence.referenceDelegate.removeReference(m,_.targetId,p)))))}catch(m){if(!Rf(m))throw m;et("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const _=m.targetId;if(!m.fromCache){const p=f.os.get(_),C=p.snapshotVersion,k=p.withLastLimboFreeSnapshotVersion(C);f.os=f.os.insert(_,k)}}}(r.localStore,s))}async function V8(t,e){const n=It(t);if(!n.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const r=await bx(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new We(Pe.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mf(n,r.hs)}}function U8(t,e){const n=It(t),r=n.Na.get(e);if(r&&r.va)return Ut().add(r.key);{let i=Ut();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function Bx(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j8.bind(null,e),e.Ca.d_=E8.bind(null,e.eventManager),e.Ca.$a=x8.bind(null,e.eventManager),e}function B8(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M8.bind(null,e),e}class Kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GR(this.persistence,new WR,e.initialUser,this.serializer)}Ga(e){return new zR(dv.Zr,this.serializer)}Wa(e){return new e8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kp.provider={build:()=>new Kp};class k0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V8.bind(null,this.syncEngine),await w8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A8}()}createDatastore(e){const n=km(e.databaseInfo.databaseId),r=function(s){return new i8(s)}(e.databaseInfo);return function(s,a,o,l){return new o8(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new u8(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return U_.D()?new U_:new t8}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,f){const m=new k8(i,s,a,o,l,u);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=It(i);et("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Of(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}k0.provider={build:()=>new k0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=zE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{et("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(et("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bg(t,e){t.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q8(t);et("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>B_(e.remoteStore,i)),t._onlineComponents=e}async function q8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vc("Error using user provided cache. Falling back to memory cache: "+n),await Bg(t,new Kp)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await Bg(t,new Kp);return t._offlineComponents}async function qx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await G_(t,t._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await G_(t,new k0))),t._onlineComponents}function $8(t){return qx(t).then(e=>e.syncEngine)}async function T0(t){const e=await qx(t),n=e.eventManager;return n.onListen=T8.bind(null,e.syncEngine),n.onUnlisten=L8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R8.bind(null,e.syncEngine),n}function W8(t,e,n={}){const r=new Zo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const f=new zx({next:_=>{f.Za(),a.enqueueAndForget(()=>Lx(s,m));const p=_.docs.has(o);!p&&_.fromCache?u.reject(new We(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&_.fromCache&&l&&l.source==="server"?u.reject(new We(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),m=new Rx(Am(o.path),f,{includeMetadataChanges:!0,_a:!0});return Cx(s,m)}(await T0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e,n){if(!n)throw new We(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H8(t,e,n,r){if(e===!0&&r===!0)throw new We(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q_(t){if(!ut.isDocumentKey(t))throw new We(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J_(t){if(ut.isDocumentKey(t))throw new We(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt()}function ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new We(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new We(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$x((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cL;switch(r.type){case"firstParty":return new pL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=K_.get(n);r&&(et("ComponentProvider","Removing Datastore"),K_.delete(n),r.terminate())}(this),Promise.resolve()}}function G8(t,e,n,r={}){var i;const s=(t=ls(t,Lm))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Kr.MOCK_USER;else{o=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new We(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kr(u)}t._authCredentials=new hL(new BE(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class Yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class el extends ml{constructor(e,n,r){super(e,n,Am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new ut(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function Ui(t,e,...n){if(t=Er(t),Wx("collection","path",e),t instanceof Lm){const r=En.fromString(e,...n);return J_(r),new el(t,null,r)}{if(!(t instanceof Yr||t instanceof el))throw new We(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(En.fromString(e,...n));return J_(r),new el(t.firestore,null,r)}}function on(t,e,...n){if(t=Er(t),arguments.length===1&&(e=zE.newId()),Wx("doc","path",e),t instanceof Lm){const r=En.fromString(e,...n);return Q_(r),new Yr(t,null,new ut(r))}{if(!(t instanceof Yr||t instanceof el))throw new We(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(En.fromString(e,...n));return Q_(r),new Yr(t.firestore,t instanceof el?t.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ex(this,"async_queue_retry"),this.Vu=()=>{const r=Ug();r&&et("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Rf(e))throw e;et("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Ga("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=_v.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&xt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Z_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class al extends Lm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X_(e),this._firestoreClient=void 0,await e}}}function K8(t,e){const n=typeof t=="object"?t:$2(),r=typeof t=="string"?t:"(default)",i=q2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wT("firestore");s&&G8(i,...s)}return i}function Ev(t){if(t._terminated)throw new We(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q8(t),t._firestoreClient}function Q8(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,f){return new IL(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$x(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new z8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(jr.fromBase64String(e))}catch(n){throw new We(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ec(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=/^__.*__$/;class Y8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Df(e,this.data,n,this.fieldTransforms)}}class Hx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class Nv{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Gx(this.Cu)&&J8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class X8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||km(e)}Qu(e,n,r,i=!1){return new Nv({Cu:e,methodName:n,qu:r,path:Cr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(t){const e=t._freezeSettings(),n=km(t._databaseId);return new X8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kx(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);kv("Data must be an object, but it was:",a,r);const o=Qx(r,a);let l,u;if(s.merge)l=new zi(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const _=P0(e,m,n);if(!a.contains(_))throw new We(Pe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Yx(f,_)||f.push(_)}l=new zi(f),u=a.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=a.fieldTransforms;return new Y8(new vi(o),l,u)}class Om extends Dm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Om}}class Iv extends Dm{_toFieldTransform(e){return new XL(e.path,new mf)}isEqual(e){return e instanceof Iv}}function Z8(t,e,n,r){const i=t.Qu(1,e,n);kv("Data must be an object, but it was:",i,r);const s=[],a=vi.empty();pu(r,(l,u)=>{const f=Tv(e,l,n);u=Er(u);const m=i.Nu(f);if(u instanceof Om)s.push(f);else{const _=Ff(u,m);_!=null&&(s.push(f),a.set(f,_))}});const o=new zi(s);return new Hx(a,o,i.fieldTransforms)}function e7(t,e,n,r,i,s){const a=t.Qu(1,e,n),o=[P0(e,r,n)],l=[i];if(s.length%2!=0)throw new We(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)o.push(P0(e,s[_])),l.push(s[_+1]);const u=[],f=vi.empty();for(let _=o.length-1;_>=0;--_)if(!Yx(u,o[_])){const p=o[_];let C=l[_];C=Er(C);const k=a.Nu(p);if(C instanceof Om)u.push(p);else{const L=Ff(C,k);L!=null&&(u.push(p),f.set(p,L))}}const m=new zi(u);return new Hx(f,m,a.fieldTransforms)}function t7(t,e,n,r=!1){return Ff(n,t.Qu(r?4:3,e))}function Ff(t,e){if(Jx(t=Er(t)))return kv("Unsupported field value:",e,t),Qx(t,e);if(t instanceof Dm)return function(r,i){if(!Gx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Ff(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ir.fromDate(r);return{timestampValue:Hp(i.serializer,s)}}if(r instanceof ir){const s=new ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hp(i.serializer,s)}}if(r instanceof xv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:px(i.serializer,r._byteString)};if(r instanceof Yr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sv)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return ov(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Cm(r)}`)}(t,e)}function Qx(t,e){const n={};return qE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,(r,i)=>{const s=Ff(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Jx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof xv||t instanceof Ec||t instanceof Yr||t instanceof Dm||t instanceof Sv)}function kv(t,e,n){if(!Jx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function P0(t,e,n){if((e=Er(e))instanceof Rm)return e._internalPath;if(typeof e=="string")return Tv(t,e);throw Qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const n7=new RegExp("[~\\*/\\[\\]]");function Tv(t,e,n){if(e.search(n7)>=0)throw Qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rm(...e.split("."))._internalPath}catch{throw Qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qp(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new We(Pe.INVALID_ARGUMENT,o+t+l)}function Yx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r7 extends Xx{data(){return super.data()}}function Mm(t,e){return typeof e=="string"?Tv(t,e):e instanceof Rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pv{}class Cv extends Pv{}function ol(t,e,...n){let r=[];e instanceof Pv&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof Lv).length,o=s.filter(l=>l instanceof Fm).length;if(a>1||a>0&&o>0)throw new We(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Fm extends Cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fm(e,n,r)}_apply(e){const n=this._parse(e);return Zx(e._query,n),new ml(e.firestore,e.converter,w0(e._query,n))}_parse(e){const n=jm(e.firestore);return function(s,a,o,l,u,f,m){let _;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new We(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){tw(m,f);const p=[];for(const C of m)p.push(ew(l,s,C));_={arrayValue:{values:p}}}else _=ew(l,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||tw(m,f),_=t7(o,a,m,f==="in"||f==="not-in");return lr.create(u,f,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lu(t,e,n){const r=e,i=Mm("where",t);return Fm._create(i,r,n)}class Lv extends Pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Zx(a,l),a=w0(a,l)}(e._query,n),new ml(e.firestore,e.converter,w0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rv extends Cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rv(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new We(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new We(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pf(s,a)}(e._query,this._field,this._direction);return new ml(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Lc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function s7(t,e="asc"){const n=e,r=Mm("orderBy",t);return Rv._create(r,n)}class Dv extends Cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dv(e,n,r)}_apply(e){return new ml(e.firestore,e.converter,$p(e._query,this._limit,this._limitType))}}function a7(t){return Dv._create("limit",t,"F")}function ew(t,e,n){if(typeof(n=Er(n))=="string"){if(n==="")throw new We(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&n.indexOf("/")!==-1)throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(En.fromString(n));if(!ut.isDocumentKey(r))throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b_(t,new ut(r))}if(n instanceof Yr)return b_(t,n._key);throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function tw(t,e){if(!Array.isArray(t)||t.length===0)throw new We(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new We(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o7{convertValue(e,n="none"){switch(ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(au(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Yn(a.doubleValue));return new Sv(s)}convertGeoPoint(e){return new xv(Yn(e.latitude),Yn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const n=il(e);return new ir(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=En.fromString(e);cn(wx(r));const i=new ff(r.get(1),r.get(3)),s=new ut(r.popFirst(5));return i.isEqual(n)||Ga(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t3 extends Xx{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tp extends t3{data(e={}){return super.data(e)}}class l7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tp(this._firestore,this._userDataWriter,r.key,r,new Eh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new tp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Eh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new tp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Eh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:u7(o.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){t=ls(t,Yr);const e=ls(t.firestore,al);return W8(Ev(e),t._key).then(n=>r3(e,t,n))}class n3 extends o7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,n)}}function ll(t,e,n){t=ls(t,Yr);const r=ls(t.firestore,al),i=e3(t.converter,e,n);return Vm(r,[Kx(jm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,os.none())])}function nw(t,e,n,...r){t=ls(t,Yr);const i=ls(t.firestore,al),s=jm(i);let a;return a=typeof(e=Er(e))=="string"||e instanceof Rm?e7(s,"updateDoc",t._key,e,n,r):Z8(s,"updateDoc",t._key,e),Vm(i,[a.toMutation(t._key,os.exists(!0))])}function rw(t){return Vm(ls(t.firestore,al),[new lv(t._key,os.none())])}function np(t,e){const n=ls(t.firestore,al),r=on(t),i=e3(t.converter,e);return Vm(n,[Kx(jm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,os.exists(!1))]).then(()=>r)}function nr(t,...e){var n,r,i;t=Er(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Z_(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Z_(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,u,f;if(t instanceof Yr)u=ls(t.firestore,al),f=Am(t._key.path),l={next:m=>{e[a]&&e[a](r3(u,t,m))},error:e[a+1],complete:e[a+2]};else{const m=ls(t,ml);u=ls(m.firestore,al),f=m._query;const _=new n3(u);l={next:p=>{e[a]&&e[a](new l7(u,_,m,p))},error:e[a+1],complete:e[a+2]},i7(t._query)}return function(_,p,C,k){const L=new zx(k),b=new Rx(p,L,C);return _.asyncQueue.enqueueAndForget(async()=>Cx(await T0(_),b)),()=>{L.Za(),_.asyncQueue.enqueueAndForget(async()=>Lx(await T0(_),b))}}(Ev(u),f,o,l)}function Vm(t,e){return function(r,i){const s=new Zo;return r.asyncQueue.enqueueAndForget(async()=>D8(await $8(r),i,s)),s.promise}(Ev(t),e)}function r3(t,e,n){const r=n.docs.get(e._key),i=new n3(t);return new t3(t,i,e._key,r,new Eh(n.hasPendingWrites,n.fromCache),e.converter)}function Jl(){return new Iv("serverTimestamp")}(function(e,n=!0){(function(i){Cc=i})(Tc),gc(new ru("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new al(new fL(r.getProvider("auth-internal")),new gL(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(u.options.projectId,f)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Xo(g_,"4.7.3",e),Xo(g_,"4.7.3","esm2017")})();const c7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBdp5Hzrov0TVhuMLuxxDyyaZDcxvT55MI",VITE_FIREBASE_APP_ID:"1:109244992013:web:e3f4b634404cb43edba344",VITE_FIREBASE_AUTH_DOMAIN:"pricelist---chat-agent.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"109244992013",VITE_FIREBASE_PROJECT_ID:"pricelist---chat-agent",VITE_FIREBASE_STORAGE_BUCKET:"pricelist---chat-agent.appspot.com",VITE_SUPERADMIN_PASSWORD:"Rikimaru08561318222!"},h7=c7;function Su(t,e){for(const n of t){const r=h7[n];if(r&&String(r).length)return String(r)}throw new Error(`[firebase] Missing ENV for ${e}. Provide one of: ${t.join(", ")}`)}const f7={apiKey:Su(["VITE_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_API_KEY"],"API Key"),authDomain:Su(["VITE_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"],"Auth Domain"),projectId:Su(["VITE_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_PROJECT_ID"],"Project ID"),storageBucket:Su(["VITE_FIREBASE_STORAGE_BUCKET","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"],"Storage Bucket"),messagingSenderId:Su(["VITE_FIREBASE_MESSAGING_SENDER_ID","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"],"Messaging Sender ID"),appId:Su(["VITE_FIREBASE_APP_ID","NEXT_PUBLIC_FIREBASE_APP_ID"],"App ID")},i3=M6().length?$2():Y4(f7),Ai=lL(i3),Lt=K8(i3);function d7(){const[t,e]=he.useState(()=>Ai.currentUser),n=Sf(),r=du();he.useEffect(()=>{const a=Ai.onAuthStateChanged(o=>e(o));return()=>a()},[]);const i=async()=>{await YP(Ai),n("/login")};return r.pathname.startsWith("/publish/")?null:v.jsxs("div",{className:"nav",children:[v.jsx("div",{className:"brand",children:v.jsx(ia,{to:"/",children:"Pricelist Interaktif"})}),v.jsx("div",{className:"nav-actions",children:t?v.jsxs(v.Fragment,{children:[v.jsx(ia,{className:"btn",to:"/dashboard",children:"Dashboard"}),v.jsx("button",{className:"btn",onClick:i,children:"Logout"})]}):v.jsxs(v.Fragment,{children:[v.jsx(ia,{className:"btn",to:"/login",children:"Login"}),v.jsx(ia,{className:"btn",to:"/register",children:"Daftar"})]})})]})}function zg({children:t}){const[e,n]=he.useState(!1),[r,i]=he.useState(()=>Ai.currentUser);return he.useEffect(()=>{const s=Ai.onAuthStateChanged(a=>{i(a),n(!0)});return()=>s()},[]),e?r?t:v.jsx(eT,{to:"/login",replace:!0}):v.jsx("div",{className:"container",children:v.jsx("div",{className:"card",children:"Memuat…"})})}function p7(){return v.jsxs("div",{className:"container",children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h1",{style:{marginTop:0},children:"Pricelist Interaktif — Vendor Wedding"}),v.jsx("p",{children:"Gaya klasik-vintage dengan nuansa kertas sobekan. Kelola vendor, paket, jenis, add-on, diskon, dan publish jadi halaman interaktif yang fokus mobile."}),v.jsxs("div",{className:"row",children:[v.jsx(ia,{className:"btn primary",to:"/login",children:"Masuk"}),v.jsx(ia,{className:"btn",to:"/register",children:"Daftar"})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{children:"Fitur Utama"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Authentication (Login/Daftar/Lupa Password)"}),v.jsx("li",{children:"Dashboard: CRUD Vendor, Packages, Add-ons, Diskon Pop-up"}),v.jsx("li",{children:"Publish Page: Tabs Paket, Slide Jenis, Add-on, WhatsApp message"}),v.jsx("li",{children:"Superadmin: generator token + daftar token + **Aktivitas Akun**"}),v.jsx("li",{children:"Overview: simpan tautan penting"})]})]})]})}function m7(){const[t,e]=he.useState(""),[n,r]=he.useState(""),[i,s]=he.useState(!1),[a,o]=he.useState(null),l=Sf(),u=async f=>{f.preventDefault(),o(null);try{await KP(Ai,t,n),l("/dashboard")}catch(m){o(m.message||"Gagal login")}};return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Login"}),v.jsxs("div",{className:"banner",children:["Mau beli token? Hubungi WhatsApp ",v.jsx("a",{href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),"."]}),v.jsxs("form",{onSubmit:u,children:[v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Email"}),v.jsx("input",{className:"input",value:t,onChange:f=>e(f.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Password"}),v.jsxs("div",{style:{display:"flex",gap:8},children:[v.jsx("input",{className:"input",value:n,onChange:f=>r(f.target.value),type:i?"text":"password",placeholder:"••••••••",required:!0}),v.jsx("button",{type:"button",className:"btn",onClick:()=>s(f=>!f),children:i?"Hide":"Show"})]})]}),a&&v.jsx("div",{className:"banner",children:a}),v.jsxs("div",{className:"row",children:[v.jsx("button",{className:"btn primary",type:"submit",children:"Masuk"}),v.jsx(ia,{className:"btn",to:"/register",children:"Daftar"}),v.jsx(ia,{className:"btn",to:"/forgot-password",children:"Lupa Password"})]})]})]})})}function g7(){const[t,e]=he.useState(""),[n,r]=he.useState(""),[i,s]=he.useState(!1),[a,o]=he.useState(null),l=Sf(),u=async f=>{f.preventDefault(),o(null);try{const m=await GP(Ai,t,n);await ll(on(Lt,"vendors",m.user.uid),{name:"Vendor Baru",address:"",whatsapp:"",bankName:"",bankAccountNumber:"",bankAccountHolder:""},{merge:!0}),l("/dashboard")}catch(m){o(m.message||"Gagal daftar")}};return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Daftar"}),v.jsxs("div",{className:"banner",children:["Akun baru akan terkunci sampai aktivasi token. Beli token via WhatsApp ",v.jsx("a",{href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),"."]}),v.jsxs("form",{onSubmit:u,children:[v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Email"}),v.jsx("input",{className:"input",value:t,onChange:f=>e(f.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Password"}),v.jsxs("div",{style:{display:"flex",gap:8},children:[v.jsx("input",{className:"input",value:n,onChange:f=>r(f.target.value),type:i?"text":"password",placeholder:"Minimal 6 karakter",required:!0}),v.jsx("button",{type:"button",className:"btn",onClick:()=>s(f=>!f),children:i?"Hide":"Show"})]})]}),a&&v.jsx("div",{className:"banner",children:a}),v.jsxs("div",{className:"row",children:[v.jsx("button",{className:"btn primary",type:"submit",children:"Buat Akun"}),v.jsx(ia,{className:"btn",to:"/login",children:"Sudah punya akun?"})]})]})]})})}function v7(){const[t,e]=he.useState(""),[n,r]=he.useState(null),i=async s=>{s.preventDefault(),r(null);try{await HP(Ai,t),r("Cek email untuk tautan reset password.")}catch(a){r(a.message||"Gagal kirim email.")}};return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Lupa Password"}),v.jsxs("form",{onSubmit:i,children:[v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Email"}),v.jsx("input",{className:"input",value:t,onChange:s=>e(s.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),v.jsx("button",{className:"btn primary",type:"submit",children:"Kirim"})]}),n&&v.jsx("div",{className:"banner",style:{marginTop:8},children:n})]})})}function qi(t){const e=typeof t=="number"?t:0;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e)}function y7(t){const e=(t||"").replace(/\D/g,"");return e?e.startsWith("0")?"62"+e.slice(1):(e.startsWith("62"),e):""}function s3(t){const e=(t.details||[]).map(s=>`• ${s}`).join(`
`),n=t.addons&&t.addons.length?t.addons.map(s=>`${s.name} (${qi(s.price)})`).join(", "):"–",r=`Halo ${t.vendorName}, saya tertarik paket ${t.pricelistName} – ${t.typeName}.
Rincian singkat:
${e}
Harga paket: ${qi(t.price)}
Add-on: ${n}
Total perkiraan: ${qi(t.total)}

Mohon info ketersediaan & detail lanjut. Terima kasih!`;return`https://wa.me/${y7(t.whatsapp)}?text=${encodeURIComponent(r)}`}function _7(t){return(t||"").trim().toUpperCase()}function w7(t=16){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=new Uint8Array(t);return crypto.getRandomValues(n),Array.from(n).map(r=>e[r%e.length]).join("")}function b7(t){if(t==="daily")return 1;if(t==="weekly")return 7;if(t==="monthly")return 30;throw new Error("Unknown duration: "+t)}function A7(){const[t,e]=he.useState(""),[n,r]=he.useState(null),[i,s]=he.useState(!1),a=async()=>{r(null);const o=Ai.currentUser;if(!o){r("Harus login dulu.");return}const l=_7(t);if(!l){r("Masukkan token.");return}s(!0);try{const u=on(Lt,"tokenStore",l),f=await Gu(u);if(!f.exists()){r("Token tidak ditemukan.");return}const m=f.data();if(m.status!=="idle"){r("Token sudah digunakan / tidak idle.");return}const _=m.duration,p=b7(_),C=ir.now(),k=on(Lt,"tokens",o.uid),L=await Gu(k);let b=C;if(L.exists()){const R=L.data();R.expiresAt&&R.expiresAt.toMillis&&R.expiresAt.toMillis()>C.toMillis()&&(b=R.expiresAt)}const T=ir.fromMillis(b.toMillis()+p*24*60*60*1e3);await ll(u,{status:"used",uid:o.uid,usedAt:Jl()},{merge:!0}),await ll(k,{uid:o.uid,expiresAt:T,lastExtendedAt:Jl()},{merge:!0}),r(`Aktivasi sukses. Berlaku hingga: ${new Date(T.toMillis()).toLocaleString("id-ID")}`),e("")}catch(u){console.error(u),r(u.message||"Gagal aktivasi token.")}finally{s(!1)}};return v.jsxs("div",{className:"card torn",children:[v.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:v.jsx("h3",{style:{margin:0},children:"Token Activation (opsional)"})}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Masukkan token",value:t,onChange:o=>e(o.target.value)})}),v.jsx("div",{children:v.jsx("button",{className:"btn primary",onClick:a,disabled:i,children:"Aktifkan"})})]}),n&&v.jsx("div",{className:"banner",style:{marginTop:8},children:n})]})}function E7(){const t=Ai.currentUser,e=(t==null?void 0:t.uid)||"",[n,r]=he.useState({name:"",address:"",whatsapp:"",bankName:"",bankAccountNumber:"",bankAccountHolder:""}),[i,s]=he.useState(null),[a,o]=he.useState([]),[l,u]=he.useState({parent:"",typeName:"",price:"",details:""}),[f,m]=he.useState(null),[_,p]=he.useState([]),[C,k]=he.useState({name:"",price:""}),[L,b]=he.useState(null),[T,R]=he.useState({name:"",price:""}),[B,ne]=he.useState({text:"",enabled:!1}),[F,V]=he.useState(null),x=F!=null&&F>Date.now(),N=typeof window<"u"?window.location.origin:"",O=typeof window<"u"&&window.location.hash.startsWith("#/"),E=`${N}/${O?"#/":""}`,S=`${E}publish/${e}`,P=`${E}deal/${e}`;he.useEffect(()=>{if(!e)return;const q=nr(on(Lt,"vendors",e),we=>{const Ae=we.data();Ae&&r({name:Ae.name||"",address:Ae.address||"",whatsapp:Ae.whatsapp||"",bankName:Ae.bankName||"",bankAccountNumber:Ae.bankAccountNumber||"",bankAccountHolder:Ae.bankAccountHolder||""})}),Q=nr(ol(Ui(Lt,"packages"),lu("uid","==",e)),we=>{const Ae=[];we.forEach(Te=>Ae.push({id:Te.id,...Te.data()})),Ae.sort((Te,Fe)=>{const Ve=Te.parent||"",Ee=Fe.parent||"";return Ve!==Ee?Ve.localeCompare(Ee):(Te.typeName||"").localeCompare(Fe.typeName||"")}),o(Ae)}),ie=nr(ol(Ui(Lt,"addons"),lu("uid","==",e)),we=>{const Ae=[];we.forEach(Te=>Ae.push({id:Te.id,...Te.data()})),Ae.sort((Te,Fe)=>(Te.name||"").localeCompare(Fe.name||"")),p(Ae)}),ae=nr(on(Lt,"discounts",e),we=>{const Ae=we.data();Ae&&ne({text:Ae.text||"",enabled:!!Ae.enabled})}),ve=nr(on(Lt,"tokens",e),we=>{var Te;const Ae=we.data();(Te=Ae==null?void 0:Ae.expiresAt)!=null&&Te.toMillis?V(Ae.expiresAt.toMillis()):V(null)});return()=>{q(),Q(),ie(),ae(),ve()}},[e]);const te=async()=>{e&&(await ll(on(Lt,"vendors",e),n,{merge:!0}),s("Profil vendor tersimpan."),setTimeout(()=>s(null),2e3))},fe=async()=>{if(!e)return;const q={uid:e,parent:l.parent.trim().toLowerCase(),typeName:l.typeName.trim().toLowerCase(),price:Number(l.price||0),details:l.details.split(`
`).map(Q=>Q.trim()).filter(Boolean)};await np(Ui(Lt,"packages"),q),u({parent:"",typeName:"",price:"",details:""})},ye=q=>{m(q.id),u({parent:q.parent,typeName:q.typeName,price:String(q.price||0),details:(q.details||[]).join(`
`)})},de=async q=>{const Q={parent:l.parent.trim().toLowerCase(),typeName:l.typeName.trim().toLowerCase(),price:Number(l.price||0),details:l.details.split(`
`).map(ie=>ie.trim()).filter(Boolean)};await nw(on(Lt,"packages",q),Q),m(null),u({parent:"",typeName:"",price:"",details:""})},Z=async q=>{await rw(on(Lt,"packages",q))},G=async()=>{if(!e)return;const q=C.name.trim(),Q=Number(C.price);if(!q)return alert("Nama add-on wajib diisi");if(Number.isNaN(Q))return alert("Harga tidak valid");try{const ie={uid:e,name:q,price:Q};await np(Ui(Lt,"addons"),ie),k({name:"",price:""})}catch(ie){console.error(ie),alert("Gagal menambah add-on: "+((ie==null?void 0:ie.message)||"unknown"))}},pe=async q=>{const Q=T.name.trim(),ie=Number(T.price);if(!Q)return alert("Nama add-on wajib diisi");if(Number.isNaN(ie))return alert("Harga tidak valid");try{await nw(on(Lt,"addons",q),{name:Q,price:ie}),b(null),R({name:"",price:""})}catch(ae){alert("Gagal update add-on: "+((ae==null?void 0:ae.message)||"unknown"))}},_e=async q=>{try{await rw(on(Lt,"addons",q))}catch(Q){alert("Gagal hapus add-on: "+((Q==null?void 0:Q.message)||"unknown"))}},M=async()=>{e&&await ll(on(Lt,"discounts",e),B,{merge:!0})},K=async()=>{if(!e)return;const q=[{uid:e,parent:"wedding",typeName:"wedding bronze",price:15e5,details:["Durasi 6 jam","2 fotografer"]},{uid:e,parent:"wedding",typeName:"wedding silver",price:25e5,details:["Durasi 8 jam","2 fotografer","1 videografer"]},{uid:e,parent:"prewedding",typeName:"outdoor basic",price:1e6,details:["2 lokasi","semua file"]}];for(const Q of q)await np(Ui(Lt,"packages"),Q);alert("Seed 3 paket contoh selesai.")};return e?v.jsxs("div",{className:"container",children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Dashboard"}),v.jsxs("div",{className:"banner",children:[v.jsx("div",{style:{fontWeight:600},children:"Link Publish (public):"}),v.jsx("a",{href:S,target:"_blank",rel:"noreferrer",children:S})]}),v.jsxs("div",{className:"banner",children:[v.jsx("div",{style:{fontWeight:600},children:"Link Deal Klien (public):"}),v.jsx("a",{href:P,target:"_blank",rel:"noreferrer",children:P})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Profil Vendor"}),!x&&v.jsxs("div",{className:"lock-note",children:["Akun belum aktif / masa aktif habis. Beli token via WA",v.jsx("a",{className:"note-wa",href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),". Form di bawah dinonaktifkan sampai aktivasi token."]}),v.jsxs("div",{className:x?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Vendor"}),v.jsx("input",{className:"input",value:n.name,onChange:q=>r(Q=>({...Q,name:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No WhatsApp"}),v.jsx("input",{className:"input",value:n.whatsapp,onChange:q=>r(Q=>({...Q,whatsapp:q.target.value}))})]})]}),v.jsx("div",{className:x?"row":"row lock-area",children:v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Alamat"}),v.jsx("input",{className:"input",value:n.address,onChange:q=>r(Q=>({...Q,address:q.target.value}))})]})}),v.jsxs("div",{className:x?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Bank"}),v.jsx("input",{className:"input",value:n.bankName,onChange:q=>r(Q=>({...Q,bankName:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No Rekening"}),v.jsx("input",{className:"input",value:n.bankAccountNumber,onChange:q=>r(Q=>({...Q,bankAccountNumber:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Atas Nama"}),v.jsx("input",{className:"input",value:n.bankAccountHolder,onChange:q=>r(Q=>({...Q,bankAccountHolder:q.target.value}))})]})]}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("button",{className:"btn primary",onClick:te,disabled:!x,children:"Simpan Profil"}),i&&v.jsx("span",{className:"badge",children:i})]})]}),v.jsx("div",{className:"divider"}),v.jsxs("div",{className:"card",children:[v.jsxs("h3",{style:{marginTop:0,display:"flex",gap:8,alignItems:"center"},children:["Pricelist (Packages)",v.jsx("button",{className:"btn ghost",onClick:K,children:"Seed contoh"})]}),!x&&v.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),v.jsxs("div",{className:x?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Pricelist (parent) — contoh: wedding"}),v.jsx("input",{className:"input",placeholder:"mis. wedding",value:l.parent,onChange:q=>u(Q=>({...Q,parent:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jenis (typeName) — contoh: wedding bronze"}),v.jsx("input",{className:"input",placeholder:"wedding bronze",value:l.typeName,onChange:q=>u(Q=>({...Q,typeName:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Harga"}),v.jsx("input",{className:"input",type:"number",placeholder:"1500000",value:l.price,onChange:q=>u(Q=>({...Q,price:q.target.value}))})]})]}),v.jsxs("div",{className:x?"":"lock-area",children:[v.jsx("label",{children:"Detail (1 item per baris)"}),v.jsx("textarea",{className:"textarea",placeholder:`Durasi 8 jam
2 fotografer
...`,value:l.details,onChange:q=>u(Q=>({...Q,details:q.target.value}))})]}),v.jsx("div",{className:"row",style:{marginTop:8},children:f?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn primary",onClick:()=>de(f),disabled:!x,children:"Simpan"}),v.jsx("button",{className:"btn",onClick:()=>{m(null),u({parent:"",typeName:"",price:"",details:""})},children:"Batal"})]}):v.jsx("button",{className:"btn primary",onClick:fe,disabled:!x,children:"Tambah"})}),v.jsx("div",{className:"divider"}),v.jsxs("div",{children:[v.jsx("h4",{children:"Daftar Pricelist"}),a.length===0&&v.jsx("div",{children:"(belum ada)"}),a.length>0&&v.jsxs("div",{className:"row",style:{fontWeight:700,borderBottom:"2px dashed #7a6a58",paddingBottom:6},children:[v.jsx("div",{className:"col",children:"Parent"}),v.jsx("div",{className:"col",children:"Jenis"}),v.jsx("div",{className:"col",children:"Harga"}),v.jsx("div",{className:"col",children:"Detail singkat"}),v.jsx("div",{style:{flex:"0 0 180px"},children:"Aksi"})]}),a.map(q=>{var ie;const Q=f===q.id;return v.jsxs("div",{className:"row",style:{alignItems:"flex-start",padding:"8px 0",borderBottom:"1px dashed #eee"},children:[v.jsx("div",{className:"col",style:{textTransform:"capitalize"},children:Q?v.jsx("input",{className:"input",value:l.parent,onChange:ae=>u(ve=>({...ve,parent:ae.target.value}))}):q.parent}),v.jsx("div",{className:"col",style:{textTransform:"capitalize",fontWeight:600},children:Q?v.jsx("input",{className:"input",value:l.typeName,onChange:ae=>u(ve=>({...ve,typeName:ae.target.value}))}):q.typeName}),v.jsx("div",{className:"col",children:Q?v.jsx("input",{className:"input",type:"number",value:l.price,onChange:ae=>u(ve=>({...ve,price:ae.target.value}))}):v.jsx("span",{className:"badge",children:qi(q.price)})}),v.jsx("div",{className:"col",children:Q?v.jsx("textarea",{className:"textarea",value:l.details,onChange:ae=>u(ve=>({...ve,details:ae.target.value})),placeholder:"1 item per baris"}):v.jsxs("ul",{style:{margin:"6px 0"},children:[(ie=q.details)==null?void 0:ie.slice(0,4).map((ae,ve)=>v.jsx("li",{children:ae},ve)),q.details&&q.details.length>4&&v.jsx("li",{children:"…"})]})}),v.jsx("div",{style:{flex:"0 0 180px",display:"flex",gap:8,flexWrap:"wrap"},children:Q?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn primary",onClick:()=>de(q.id),disabled:!x,children:"Simpan"}),v.jsx("button",{className:"btn",onClick:()=>{m(null),u({parent:"",typeName:"",price:"",details:""})},children:"Batal"})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>ye(q),disabled:!x,children:"Edit"}),v.jsx("button",{className:"btn danger",onClick:()=>q.id&&Z(q.id),disabled:!x,children:"Hapus"})]})})]},q.id)})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),!x&&v.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),v.jsxs("div",{className:x?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Add-on"}),v.jsx("input",{className:"input",value:C.name,onChange:q=>k(Q=>({...Q,name:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Harga"}),v.jsx("input",{className:"input",type:"number",value:C.price,onChange:q=>k(Q=>({...Q,price:q.target.value}))})]}),v.jsx("div",{style:{alignSelf:"end"},children:v.jsx("button",{className:"btn primary",onClick:G,disabled:!x,children:"Tambah"})})]}),v.jsxs("div",{className:"row",children:[_.map(q=>{const Q=L===q.id;return v.jsx("div",{className:"col",children:v.jsx("div",{className:"card",children:Q?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama"}),v.jsx("input",{className:"input",value:T.name,onChange:ie=>R(ae=>({...ae,name:ie.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Harga"}),v.jsx("input",{className:"input",type:"number",value:T.price,onChange:ie=>R(ae=>({...ae,price:ie.target.value}))})]})]}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("button",{className:"btn primary",onClick:()=>pe(q.id),disabled:!x,children:"Simpan"}),v.jsx("button",{className:"btn",onClick:()=>{b(null),R({name:"",price:""})},children:"Batal"})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("div",{children:q.name}),v.jsx("div",{className:"badge",children:qi(q.price)})]}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("button",{className:"btn",onClick:()=>{b(q.id),R({name:q.name,price:String(q.price||0)})},disabled:!x,children:"Edit"}),v.jsx("button",{className:"btn danger",onClick:()=>q.id&&_e(q.id),disabled:!x,children:"Hapus"})]})]})})},q.id)}),_.length===0&&v.jsx("div",{style:{padding:"8px"},children:" (belum ada) "})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Pop-up Diskon"}),!x&&v.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),v.jsxs("div",{className:x?"":"lock-area",children:[v.jsx("label",{children:"Teks"}),v.jsx("textarea",{className:"textarea",value:B.text,onChange:q=>ne(Q=>({...Q,text:q.target.value}))}),v.jsx("div",{className:"row",children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[v.jsx("input",{className:"checkbox",type:"checkbox",checked:B.enabled,onChange:q=>ne(Q=>({...Q,enabled:q.target.checked}))}),"Tampilkan saat publish dibuka"]})}),v.jsx("button",{className:"btn primary",onClick:M,disabled:!x,children:"Simpan Diskon"})]})]}),v.jsx(A7,{}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Overview Links"}),v.jsx("a",{className:"btn",href:`${E}dashboard/overview`,children:"Buka"})]})]}):v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Dashboard"}),v.jsx("div",{className:"banner",children:"Sesi belum siap. Silakan login dulu."})]})})}function x7(){var o;const t=((o=Ai.currentUser)==null?void 0:o.uid)||"",[e,n]=he.useState([]),[r,i]=he.useState(null),[s,a]=he.useState(null);return he.useEffect(()=>{if(!t)return;const l=nr(on(Lt,"tokens",t),m=>{var C;const _=m.data(),p=(C=_==null?void 0:_.expiresAt)!=null&&C.toMillis?_.expiresAt.toMillis():0;i(p>Date.now())}),u=ol(Ui(Lt,"deals"),lu("uid","==",t)),f=nr(u,m=>{const _=[];m.forEach(p=>_.push({id:p.id,...p.data()})),_.sort((p,C)=>{var b,T;const k=(b=p.createdAt)!=null&&b.toMillis?p.createdAt.toMillis():0;return((T=C.createdAt)!=null&&T.toMillis?C.createdAt.toMillis():0)-k}),n(_),a(null)},m=>{console.error("Overview deals error:",m),a("Gagal memuat deals. Cek index/rules di Firestore.")});return()=>{l(),f()}},[t]),t?v.jsxs("div",{className:"container",style:{maxWidth:900},children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Overview — Deals"}),v.jsx("div",{style:{color:"#666"},children:"Riwayat deal terbaru (milik akun ini)."}),r===!1&&v.jsxs("div",{className:"banner",style:{background:"#fff7ed",border:"1px solid #fed7aa",color:"#9a3412"},children:["Masa aktif akun ",v.jsx("b",{children:"habis"}),". Semua tombol aksi terkunci."]})]}),s&&v.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:s}),v.jsxs("div",{className:"card",children:[e.length===0&&!s&&v.jsx("div",{children:"(Belum ada deal)"}),v.jsx("div",{style:{display:"grid",gap:10},children:e.map(l=>{var u;return v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 0.8fr 0.8fr",gap:8,padding:"10px 0",borderBottom:"1px dashed #eee"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:700},children:l.clientName||"(tanpa nama)"}),(l.groomName||l.brideName)&&v.jsxs("div",{style:{fontSize:12,color:"#666"},children:[l.groomName||"-"," & ",l.brideName||"-"]}),(l.groomIg||l.brideIg)&&v.jsxs("div",{style:{fontSize:12,color:"#666"},children:["IG: ",l.groomIg||"-"," • ",l.brideIg||"-"]}),v.jsxs("div",{style:{fontSize:12,color:"#666",textTransform:"capitalize"},children:[l.eventType||"-"," • ",l.parent||"-"," • ",l.packageType||"-"]})]}),v.jsx("div",{style:{alignSelf:"center"},children:v.jsx("span",{className:"badge",children:qi(l.total||0)})}),v.jsxs("div",{style:{textAlign:"right",color:"#666",fontSize:12,alignSelf:"center"},children:[(u=l.createdAt)!=null&&u.toDate?l.createdAt.toDate().toLocaleString():"-",v.jsx("div",{style:{marginTop:6},children:v.jsx(ia,{className:`btn ${r===!1?"disabled":""}`,to:`/dashboard/mou/${l.id}`,onClick:f=>{r===!1&&f.preventDefault()},title:r===!1?"Masa aktif habis":"Buat MOU dari deal ini",children:"Buat MOU"})})]})]},l.id)})})]})]}):v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Overview"}),v.jsx("div",{className:"banner",children:"Silakan login dulu."})]})})}function S7(){const{uid:t}=U2(),[e,n]=he.useState(null),[r,i]=he.useState([]),[s,a]=he.useState([]),[o,l]=he.useState(null),[u,f]=he.useState(!1),[m,_]=he.useState(null),[p,C]=he.useState(null),[k,L]=he.useState({}),[b,T]=he.useState(null),R=b!=null&&b>Date.now(),B=he.useRef(null),ne=S=>{const P=B.current;if(!P)return;const te=P.querySelector(".item"),ye=te?te.offsetWidth+14:P.clientWidth*.8;P.scrollBy({left:S*ye,behavior:"smooth"})};he.useEffect(()=>{const S=B.current;if(!S)return;let P=!1,te=0,fe=0;const ye=_e=>{P=!0,S.classList.add("dragging"),te=_e.pageX-S.getBoundingClientRect().left,fe=S.scrollLeft},de=()=>{P=!1,S.classList.remove("dragging")},Z=()=>{P=!1,S.classList.remove("dragging")},G=_e=>{if(!P)return;_e.preventDefault();const M=_e.pageX-S.getBoundingClientRect().left;S.scrollLeft=fe-(M-te)},pe=_e=>{Math.abs(_e.deltaY)>Math.abs(_e.deltaX)&&(_e.preventDefault(),S.scrollLeft+=_e.deltaY)};return S.addEventListener("mousedown",ye),window.addEventListener("mouseup",Z),S.addEventListener("mouseleave",de),S.addEventListener("mousemove",G),S.addEventListener("wheel",pe,{passive:!1}),()=>{S.removeEventListener("mousedown",ye),window.removeEventListener("mouseup",Z),S.removeEventListener("mouseleave",de),S.removeEventListener("mousemove",G),S.removeEventListener("wheel",pe)}},[]),he.useEffect(()=>{if(!t)return;const S=nr(on(Lt,"vendors",t),de=>n(de.data()||null)),P=nr(ol(Ui(Lt,"packages"),lu("uid","==",t)),de=>{const Z=[];de.forEach(G=>Z.push({id:G.id,...G.data()})),i(Z),!m&&Z.length&&_(Z[0].parent)}),te=nr(ol(Ui(Lt,"addons"),lu("uid","==",t)),de=>{const Z=[];de.forEach(G=>Z.push({id:G.id,...G.data()})),Z.sort((G,pe)=>(G.name||"").localeCompare(pe.name||"")),a(Z)}),fe=nr(on(Lt,"discounts",t),de=>{const Z=de.data();if(Z){const G={text:Z.text||"",enabled:!!Z.enabled};l(G),f(!!G.enabled)}}),ye=nr(on(Lt,"tokens",t),de=>{var G;const Z=de.data();(G=Z==null?void 0:Z.expiresAt)!=null&&G.toMillis?T(Z.expiresAt.toMillis()):T(null)});return()=>{S(),P(),te(),fe(),ye()}},[t,m]);const F=he.useMemo(()=>Array.from(new Set(r.map(S=>S.parent))),[r]),V=he.useMemo(()=>r.filter(S=>S.parent===m),[r,m]),x=he.useMemo(()=>r.find(S=>S.id===p)||null,[r,p]),N=he.useMemo(()=>s.filter(S=>k[S.id]),[s,k]),O=((x==null?void 0:x.price)||0)+N.reduce((S,P)=>S+(P.price||0),0),E=()=>!e||!x?"#":s3({vendorName:e.name||"Vendor",pricelistName:String(m||"").toUpperCase(),typeName:String(x.typeName||"").toUpperCase(),details:x.details||[],price:x.price||0,addons:N.map(S=>({name:S.name,price:S.price||0})),whatsapp:e.whatsapp||"",total:O});return v.jsxs("div",{className:"container",children:[!R&&v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Akun belum aktif"}),v.jsx("p",{children:"Halaman publish terkunci. Harap hubungi admin untuk membeli/aktivasi token."}),v.jsx("a",{className:"btn primary",href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"Hubungi Admin (WhatsApp)"})]}),R?v.jsxs(v.Fragment,{children:[(o==null?void 0:o.enabled)&&u&&v.jsx("div",{className:"modal-backdrop",children:v.jsxs("div",{className:"modal",children:[v.jsx("h3",{style:{marginTop:0},children:"Promo / Diskon"}),v.jsx("div",{style:{whiteSpace:"pre-wrap"},children:o==null?void 0:o.text}),v.jsx("div",{style:{textAlign:"right",marginTop:10},children:v.jsx("button",{className:"btn primary",onClick:()=>f(!1),children:"OK"})})]})}),v.jsxs("div",{className:"card torn",children:[v.jsxs("h2",{style:{marginTop:0},children:["Pricelist Interaktif — ",(e==null?void 0:e.name)||"(Nama Vendor)"]}),v.jsx("div",{className:"tabs",children:F.map(S=>v.jsx("div",{className:["tab",S===m?"active":""].join(" "),onClick:()=>{_(S),C(null)},children:S.toUpperCase()},S))})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Jenis"}),v.jsxs("div",{className:"carousel-wrap",children:[v.jsx("button",{className:"carousel-btn left","aria-label":"Sebelumnya",onClick:()=>ne(-1),children:v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:v.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsxs("div",{className:"carousel",ref:B,children:[V.map(S=>{var P;return v.jsxs("div",{className:["item",S.id===p?"active":""].join(" "),tabIndex:0,onClick:()=>C(S.id),onKeyDown:te=>{(te.key==="Enter"||te.key===" ")&&C(S.id)},children:[v.jsxs("div",{className:"item__head",children:[v.jsx("div",{className:"item__title",children:S.typeName}),v.jsx("div",{className:"badge item__price",children:qi(S.price)})]}),v.jsx("ul",{className:"item__details",children:(P=S.details)==null?void 0:P.map((te,fe)=>v.jsx("li",{children:te},fe))})]},S.id)}),V.length===0&&v.jsxs("div",{className:"item",children:[v.jsx("div",{className:"item__title",children:"Belum ada jenis"}),v.jsx("p",{style:{opacity:.7},children:"Tambahkan jenis di Dashboard > Packages"})]})]}),v.jsx("button",{className:"carousel-btn right","aria-label":"Berikutnya",onClick:()=>ne(1),children:v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:v.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),v.jsxs("div",{className:"addons__list",children:[s.length===0&&v.jsx("div",{children:"(belum ada add-on)"}),s.map(S=>v.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,flex:1},children:[v.jsx("input",{className:"checkbox",type:"checkbox",checked:!!k[S.id],onChange:P=>L(te=>({...te,[S.id]:P.target.checked}))}),v.jsxs("span",{children:[S.name," — ",v.jsx("span",{className:"badge",children:qi(S.price)})]})]})},S.id))]})]}),v.jsx("div",{className:"card",children:v.jsxs("div",{className:"row",style:{alignItems:"center"},children:[v.jsxs("div",{className:"col",children:[v.jsx("div",{style:{fontWeight:700},children:"Total Perkiraan"}),v.jsx("div",{style:{fontSize:24},children:qi(O)})]}),v.jsxs("div",{className:"col",style:{textAlign:"right"},children:[v.jsx("a",{className:"btn primary",href:E(),target:"_blank",rel:"noreferrer",onClick:S=>{x||S.preventDefault()},children:"WhatsApp"}),!x&&v.jsx("div",{className:"badge",style:{marginTop:6},children:"Pilih **Jenis** dulu"})]})]})})]}):null]})}function N7(){const{uid:t}=U2(),[e,n]=he.useState(null),[r,i]=he.useState([]),[s,a]=he.useState([]),[o,l]=he.useState(null),[u,f]=he.useState(null);he.useEffect(()=>{if(!t)return;const ke=nr(on(Lt,"vendors",t),mt=>{n(mt.data()||null)}),rt=nr(ol(Ui(Lt,"packages"),lu("uid","==",t)),mt=>{const dt=[];mt.forEach(ze=>dt.push({id:ze.id,...ze.data()})),dt.sort((ze,lt)=>{const Qt=(ze.parent||"").localeCompare(lt.parent||"");return Qt!==0?Qt:(ze.typeName||"").localeCompare(lt.typeName||"")}),i(dt)}),qe=nr(ol(Ui(Lt,"addons"),lu("uid","==",t)),mt=>{const dt=[];mt.forEach(ze=>dt.push({id:ze.id,...ze.data()})),dt.sort((ze,lt)=>(ze.name||"").localeCompare(lt.name||"")),a(dt)}),ot=nr(on(Lt,"discounts",t),mt=>{const dt=mt.data();dt&&l({text:dt.text||"",enabled:!!dt.enabled})}),Xe=nr(on(Lt,"tokens",t),mt=>{var lt;const dt=mt.data(),ze=(lt=dt==null?void 0:dt.expiresAt)!=null&&lt.toMillis?dt.expiresAt.toMillis():0;f(ze>Date.now())});return()=>{ke(),rt(),qe(),ot(),Xe()}},[t]);const m=he.useMemo(()=>Array.from(new Set(r.map(ke=>ke.parent))),[r]),[_,p]=he.useState(null);he.useEffect(()=>{!_&&m.length&&p(m[0])},[m,_]);const C=he.useMemo(()=>r.filter(ke=>ke.parent===_),[r,_]),[k,L]=he.useState(null),b=he.useMemo(()=>r.find(ke=>ke.id===k)||null,[r,k]),[T,R]=he.useState({}),B=he.useMemo(()=>s.filter(ke=>T[ke.id]),[s,T]),ne=((b==null?void 0:b.price)||0)+B.reduce((ke,rt)=>ke+(rt.price||0),0),[F,V]=he.useState(""),[x,N]=he.useState(""),[O,E]=he.useState(""),[S,P]=he.useState(""),[te,fe]=he.useState(""),[ye,de]=he.useState(""),[Z,G]=he.useState(""),[pe,_e]=he.useState(""),[M,K]=he.useState(""),[q,Q]=he.useState(""),[ie,ae]=he.useState(""),[ve,we]=he.useState(""),[Ae,Te]=he.useState(""),[Fe,Ve]=he.useState(""),[Ee,ee]=he.useState(""),[kt,_t]=he.useState(""),[it,Re]=he.useState(""),[Ke,Ue]=he.useState(""),[wt,Je]=he.useState(null);he.useEffect(()=>{K(""),Q(""),ae(""),we(""),Te(""),Ve(""),ee(""),_t(""),Re(""),Ue("")},[pe]);const Mt=()=>{if(!t)return"URL tidak valid.";if(!b)return"Pilih paket/jenis dulu.";if(!F.trim())return"Nama klien wajib diisi.";if(!x.trim())return"Nomor WA klien wajib diisi.";if(!O.trim())return"Alamat kirim album wajib diisi.";if(!pe)return"Pilih jenis acara.";if(pe==="wedding"){if(!M)return"Tanggal acara (wedding) wajib.";if(!q)return"Jam akad/pemberkatan wajib.";if(!ie.trim())return"Tempat akad/pemberkatan wajib.";if(!ve)return"Jam resepsi wajib.";if(!Ae.trim())return"Tempat resepsi wajib."}if(pe==="lamaran"){if(!Fe)return"Tanggal acara (lamaran) wajib.";if(!Ee)return"Jam lamaran wajib.";if(!kt.trim())return"Tempat lamaran wajib."}if(pe==="prewedding"){if(!it)return"Tanggal prewedding wajib.";if(!Ke.trim())return"Tempat prewedding wajib."}return null},ft=he.useMemo(()=>!e||!b?"#":s3({vendorName:e.name||"Vendor",pricelistName:String(_||"").toUpperCase(),typeName:String(b.typeName||"").toUpperCase(),details:b.details||[],price:b.price||0,addons:B.map(ke=>({name:ke.name,price:ke.price||0})),whatsapp:e.whatsapp||"",total:ne}),[e,b,B,_,ne]),Ye=async ke=>{ke.preventDefault();const rt=Mt();if(rt){Je(rt);return}Je(null);const qe=pe==="wedding",ot=pe==="lamaran",Xe=pe==="prewedding";try{await np(Ui(Lt,"deals"),{uid:t,clientName:F,clientWa:x,address:O,groomName:S,brideName:te,groomIg:ye,brideIg:Z,parent:_,packageId:k,packageType:(b==null?void 0:b.typeName)||"",packagePrice:(b==null?void 0:b.price)||0,addonIds:B.map(mt=>mt.id),addonSummary:B.map(mt=>({name:mt.name,price:mt.price||0})),total:ne,eventType:pe,isWedding:qe,isLamaran:ot,isPrewed:Xe,wedding:qe?{date:M||null,akadTime:q||null,akadPlace:ie||null,resepsiTime:ve||null,resepsiPlace:Ae||null}:null,lamaran:ot?{date:Fe||null,time:Ee||null,place:kt||null}:null,prewedding:Xe?{date:it||null,place:Ke||null}:null,source:"deal-publish",createdAt:Jl()}),ft&&ft!=="#"&&window.open(ft,"_blank","noopener,noreferrer")}catch(mt){console.error(mt),Je("Gagal menyimpan deal. Coba lagi.")}};return u===!1?v.jsx("div",{className:"container",style:{maxWidth:720},children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:(e==null?void 0:e.name)||"(Vendor)"}),v.jsxs("div",{className:"banner",style:{background:"#fff1f2",border:"1px solid #fecdd3",color:"#991b1b"},children:["Link ini ",v.jsx("b",{children:"tidak aktif"})," atau masa aktif sudah habis. Silakan hubungi vendor."]})]})}):v.jsxs("div",{className:"container",style:{maxWidth:920},children:[v.jsxs("div",{className:"card torn",children:[v.jsxs("h2",{style:{marginTop:0},children:[(e==null?void 0:e.name)||"(Vendor)"," — Deal Klien"]}),(o==null?void 0:o.enabled)&&!!o.text&&v.jsx("div",{className:"banner",children:o.text})]}),v.jsxs("div",{className:"card",children:[v.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[m.map(ke=>v.jsx("button",{onClick:()=>{p(ke),L(null)},className:"btn",style:{border:ke===_?"2px solid #7a6a58":"1px solid #ddd",background:ke===_?"#f7f4f1":"white",textTransform:"capitalize"},children:ke},ke)),m.length===0&&v.jsx("div",{children:"(Belum ada parent)"})]}),v.jsxs("div",{style:{marginTop:12,display:"grid",gap:10},children:[C.length===0&&v.jsx("div",{children:"(Belum ada jenis di parent ini)"}),C.map(ke=>{var rt;return v.jsxs("label",{className:"card",style:{padding:10,border:"1px dashed #e6e0da",display:"flex",gap:10,alignItems:"flex-start"},children:[v.jsx("input",{type:"radio",name:"pkgType",checked:ke.id===k,onChange:()=>L(ke.id),style:{marginTop:4}}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[v.jsx("strong",{style:{textTransform:"capitalize"},children:ke.typeName}),v.jsx("span",{className:"badge",children:qi(ke.price)})]}),!!((rt=ke.details)!=null&&rt.length)&&v.jsx("ul",{style:{marginTop:8},children:ke.details.map((qe,ot)=>v.jsx("li",{children:qe},ot))})]})]},ke.id)})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),s.length===0&&v.jsx("div",{children:"(Belum ada add-on)"}),v.jsx("div",{style:{display:"grid",gap:8},children:s.map(ke=>v.jsxs("label",{className:"card",style:{display:"flex",justifyContent:"space-between",padding:8,alignItems:"center"},children:[v.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[v.jsx("input",{type:"checkbox",checked:!!T[ke.id],onChange:rt=>R(qe=>({...qe,[ke.id]:rt.target.checked}))}),ke.name]}),v.jsx("span",{children:qi(ke.price)})]},ke.id))}),v.jsxs("div",{style:{marginTop:10,fontWeight:700},children:["Total sementara: ",qi(ne)]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Data Klien"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama klien"}),v.jsx("input",{className:"input",value:F,onChange:ke=>V(ke.target.value),placeholder:"Nama lengkap"})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No. WA klien"}),v.jsx("input",{className:"input",value:x,onChange:ke=>N(ke.target.value),placeholder:"62xxxxxxxxxx"})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Alamat kirim album"}),v.jsx("textarea",{className:"textarea",rows:3,value:O,onChange:ke=>E(ke.target.value),placeholder:"Jalan, kecamatan, kota/kab, kode pos"})]}),v.jsxs("div",{className:"row",style:{marginTop:12},children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Pria"}),v.jsx("input",{className:"input",value:S,onChange:ke=>P(ke.target.value),placeholder:"Nama pengantin laki-laki"})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Wanita"}),v.jsx("input",{className:"input",value:te,onChange:ke=>fe(ke.target.value),placeholder:"Nama pengantin perempuan"})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"IG Pria"}),v.jsx("input",{className:"input",value:ye,onChange:ke=>de(ke.target.value),placeholder:"@username (contoh: @namapria)"})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"IG Wanita"}),v.jsx("input",{className:"input",value:Z,onChange:ke=>G(ke.target.value),placeholder:"@username (contoh: @namawanita)"})]})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Jenis Acara"}),v.jsx("div",{className:"row",children:v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Pilih jenis acara"}),v.jsxs("select",{className:"input",value:pe,onChange:ke=>_e(ke.target.value),children:[v.jsx("option",{value:"",children:"-- pilih --"}),v.jsx("option",{value:"wedding",children:"Wedding"}),v.jsx("option",{value:"lamaran",children:"Lamaran"}),v.jsx("option",{value:"prewedding",children:"Prewedding"})]})]})}),pe==="wedding"&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Detail Wedding"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:M,onChange:ke=>K(ke.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam akad/pemberkatan"}),v.jsx("input",{className:"input",type:"time",value:q,onChange:ke=>Q(ke.target.value)})]})]}),v.jsx("div",{className:"row",children:v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat akad/pemberkatan"}),v.jsx("input",{className:"input",value:ie,onChange:ke=>ae(ke.target.value),placeholder:"Nama venue / alamat"})]})}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam resepsi"}),v.jsx("input",{className:"input",type:"time",value:ve,onChange:ke=>we(ke.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat resepsi"}),v.jsx("input",{className:"input",value:Ae,onChange:ke=>Te(ke.target.value),placeholder:"Nama venue / alamat"})]})]})]}),pe==="lamaran"&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Detail Lamaran"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:Fe,onChange:ke=>Ve(ke.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam lamaran"}),v.jsx("input",{className:"input",type:"time",value:Ee,onChange:ke=>ee(ke.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Tempat lamaran"}),v.jsx("input",{className:"input",value:kt,onChange:ke=>_t(ke.target.value),placeholder:"Nama tempat / alamat"})]})]}),pe==="prewedding"&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Detail Prewedding"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:it,onChange:ke=>Re(ke.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat prewedding"}),v.jsx("input",{className:"input",value:Ke,onChange:ke=>Ue(ke.target.value),placeholder:"Lokasi prewedding"})]})]})]})]}),wt&&v.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:wt}),v.jsxs("div",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[v.jsxs("div",{style:{fontWeight:700},children:["Total: ",qi(ne)]}),v.jsx("a",{className:"btn primary",href:ft,onClick:Ye,target:"_blank",rel:"noreferrer",style:{border:"1px solid #25D366"},children:"Deal via WhatsApp"})]})]})}const I7={VITE_SUPERADMIN_PASSWORD:"Rikimaru08561318222!"},k7=I7;function T7(){return k7.VITE_SUPERADMIN_PASSWORD}function P7(){const[t,e]=he.useState(!1),[n,r]=he.useState(""),[i,s]=he.useState("daily"),[a,o]=he.useState(1),[l,u]=he.useState([]),[f,m]=he.useState([]);he.useEffect(()=>{const L=nr(ol(Ui(Lt,"tokenStore"),s7("createdAt","desc"),a7(200)),b=>{const T=[];b.forEach(R=>T.push(R.data())),u(T)});return()=>L()},[]),he.useEffect(()=>{if(!t)return;Ai.currentUser||zP(Ai).catch(()=>{});const L=nr(Ui(Lt,"tokens"),b=>{const T=[];b.forEach(R=>{var ne,F;const B=R.data();T.push({uid:R.id,vendorName:"",expiresAt:(F=(ne=B==null?void 0:B.expiresAt)==null?void 0:ne.toMillis)==null?void 0:F.call(ne)})}),T.forEach((R,B)=>{nr(on(Lt,"vendors",R.uid),ne=>{const F=ne.data();T[B].vendorName=(F==null?void 0:F.name)||"(Tanpa Nama)",m([...T])})}),m(T)});return()=>{L()}},[t]);const _=()=>{const L=T7();e(n===L),n!==L&&alert("Password salah.")},p=async()=>{for(let L=0;L<a;L++){const b=w7(16),T=on(Lt,"tokenStore",b);await ll(T,{token:b,status:"idle",duration:i,createdAt:Jl()},{merge:!0})}alert("Token dibuat.")};if(!t)return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Superadmin"}),v.jsx("p",{children:"Halaman ini tidak ada di navbar. Masukkan password lokal."}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"password",placeholder:"Password Superadmin",value:n,onChange:L=>r(L.target.value)})}),v.jsx("div",{children:v.jsx("button",{className:"btn primary",onClick:_,children:"Masuk"})})]})]})});const C=f.filter(L=>!!L.expiresAt&&L.expiresAt>Date.now()).length,k=f.length-C;return v.jsxs("div",{className:"container",children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Superadmin — Token Store"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Durasi"}),v.jsxs("select",{className:"select",value:i,onChange:L=>s(L.target.value),children:[v.jsx("option",{value:"daily",children:"harian (1 hari)"}),v.jsx("option",{value:"weekly",children:"mingguan (7 hari)"}),v.jsx("option",{value:"monthly",children:"bulanan (30 hari)"})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jumlah token"}),v.jsx("input",{className:"input",type:"number",min:1,max:50,value:a,onChange:L=>o(Math.max(1,Math.min(50,Number(L.target.value||1))))})]}),v.jsx("div",{style:{alignSelf:"end"},children:v.jsx("button",{className:"btn primary",onClick:p,children:"Generate"})})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{children:"Daftar Token"}),v.jsxs("div",{className:"row",style:{fontWeight:700},children:[v.jsx("div",{className:"col",children:"Token"}),v.jsx("div",{className:"col",children:"Duration"}),v.jsx("div",{className:"col",children:"Status"}),v.jsx("div",{className:"col",children:"UID"}),v.jsx("div",{className:"col",children:"Used At"})]}),l.map((L,b)=>{var T,R,B,ne;return v.jsxs("div",{className:"row",style:{alignItems:"center",borderTop:"1px dashed var(--muted)",paddingTop:6,marginTop:6},children:[v.jsx("div",{className:"col",style:{fontFamily:"monospace"},children:L.token}),v.jsx("div",{className:"col",children:L.duration}),v.jsx("div",{className:"col",children:v.jsx("span",{className:"badge",children:L.status})}),v.jsx("div",{className:"col",children:L.uid||"—"}),v.jsx("div",{className:"col",children:((ne=(R=(T=L.usedAt)==null?void 0:T.toDate)==null?void 0:(B=R.call(T)).toLocaleString)==null?void 0:ne.call(B,"id-ID"))||"—"})]},b)}),l.length===0&&v.jsx("div",{children:"(belum ada)"})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{children:"Aktivitas Akun"}),v.jsxs("div",{className:"banner",children:["Aktif: ",v.jsx("b",{children:C})," | Tidak aktif: ",v.jsx("b",{children:k})]}),v.jsxs("div",{className:"row",style:{fontWeight:700},children:[v.jsx("div",{className:"col",children:"UID"}),v.jsx("div",{className:"col",children:"Nama Vendor"}),v.jsx("div",{className:"col",children:"Status"}),v.jsx("div",{className:"col",children:"Expires At"})]}),f.map((L,b)=>{const T=!!L.expiresAt&&L.expiresAt>Date.now();return v.jsxs("div",{className:"row",style:{alignItems:"center",borderTop:"1px dashed var(--muted)",paddingTop:6,marginTop:6},children:[v.jsx("div",{className:"col",style:{fontFamily:"monospace"},children:L.uid}),v.jsx("div",{className:"col",children:L.vendorName}),v.jsx("div",{className:"col",children:v.jsx("span",{className:"badge",children:T?"aktif":"tidak aktif"})}),v.jsx("div",{className:"col",children:L.expiresAt?new Date(L.expiresAt).toLocaleString("id-ID"):"—"})]},b)}),f.length===0&&v.jsx("div",{children:"(belum ada token user)"})]})]})}const C7="modulepreload",L7=function(t){return"/"+t},iw={},qg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=L7(l),l in iw)return;iw[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":C7,u||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((_,p)=>{m.addEventListener("load",_),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function ln(t){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(t)}var Ds=Uint8Array,$i=Uint16Array,jv=Int32Array,Ov=new Ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mv=new Ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sw=new Ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a3=function(t,e){for(var n=new $i(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new jv(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},o3=a3(Ov,2),R7=o3.b,C0=o3.r;R7[28]=258,C0[258]=28;var D7=a3(Mv,0),aw=D7.r,L0=new $i(32768);for(var xn=0;xn<32768;++xn){var No=(xn&43690)>>1|(xn&21845)<<1;No=(No&52428)>>2|(No&13107)<<2,No=(No&61680)>>4|(No&3855)<<4,L0[xn]=((No&65280)>>8|(No&255)<<8)>>1}var Fh=function(t,e,n){for(var r=t.length,i=0,s=new $i(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new $i(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new $i(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],m=a[t[i]-1]++<<f,_=m|(1<<f)-1;m<=_;++m)o[L0[m]>>l]=u}else for(o=new $i(r),i=0;i<r;++i)t[i]&&(o[i]=L0[a[t[i]-1]++]>>15-t[i]);return o},uu=new Ds(288);for(var xn=0;xn<144;++xn)uu[xn]=8;for(var xn=144;xn<256;++xn)uu[xn]=9;for(var xn=256;xn<280;++xn)uu[xn]=7;for(var xn=280;xn<288;++xn)uu[xn]=8;var Jp=new Ds(32);for(var xn=0;xn<32;++xn)Jp[xn]=5;var j7=Fh(uu,9,0),O7=Fh(Jp,5,0),l3=function(t){return(t+7)/8|0},M7=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ds(t.subarray(e,n))},Ta=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},fh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},$g=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:c3,l:0};if(i==1){var a=new Ds(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(ne,F){return ne.f-F.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,f=1,m=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=n[n[u].f<n[m].f?u++:m++],l=n[u!=f&&n[u].f<n[m].f?u++:m++],n[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var p=new $i(_+1),C=R0(n[f-1],p,0);if(C>e){var r=0,k=0,L=C-e,b=1<<L;for(s.sort(function(F,V){return p[V.s]-p[F.s]||F.f-V.f});r<i;++r){var T=s[r].s;if(p[T]>e)k+=b-(1<<C-p[T]),p[T]=e;else break}for(k>>=L;k>0;){var R=s[r].s;p[R]<e?k-=1<<e-p[R]++-1:++r}for(;r>=0&&k;--r){var B=s[r].s;p[B]==e&&(--p[B],++k)}C=e}return{t:new Ds(p),l:C}},R0=function(t,e,n){return t.s==-1?Math.max(R0(t.l,e,n+1),R0(t.r,e,n+1)):e[t.s]=n},ow=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new $i(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},dh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},u3=function(t,e,n){var r=n.length,i=l3(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},lw=function(t,e,n,r,i,s,a,o,l,u,f){Ta(e,f++,n),++i[256];for(var m=$g(i,15),_=m.t,p=m.l,C=$g(s,15),k=C.t,L=C.l,b=ow(_),T=b.c,R=b.n,B=ow(k),ne=B.c,F=B.n,V=new $i(19),x=0;x<T.length;++x)++V[T[x]&31];for(var x=0;x<ne.length;++x)++V[ne[x]&31];for(var N=$g(V,7),O=N.t,E=N.l,S=19;S>4&&!O[sw[S-1]];--S);var P=u+5<<3,te=dh(i,uu)+dh(s,Jp)+a,fe=dh(i,_)+dh(s,k)+a+14+3*S+dh(V,O)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&P<=te&&P<=fe)return u3(e,f,t.subarray(l,l+u));var ye,de,Z,G;if(Ta(e,f,1+(fe<te)),f+=2,fe<te){ye=Fh(_,p,0),de=_,Z=Fh(k,L,0),G=k;var pe=Fh(O,E,0);Ta(e,f,R-257),Ta(e,f+5,F-1),Ta(e,f+10,S-4),f+=14;for(var x=0;x<S;++x)Ta(e,f+3*x,O[sw[x]]);f+=3*S;for(var _e=[T,ne],M=0;M<2;++M)for(var K=_e[M],x=0;x<K.length;++x){var q=K[x]&31;Ta(e,f,pe[q]),f+=O[q],q>15&&(Ta(e,f,K[x]>>5&127),f+=K[x]>>12)}}else ye=j7,de=uu,Z=O7,G=Jp;for(var x=0;x<o;++x){var Q=r[x];if(Q>255){var q=Q>>18&31;fh(e,f,ye[q+257]),f+=de[q+257],q>7&&(Ta(e,f,Q>>23&31),f+=Ov[q]);var ie=Q&31;fh(e,f,Z[ie]),f+=G[ie],ie>3&&(fh(e,f,Q>>5&8191),f+=Mv[ie])}else fh(e,f,ye[Q]),f+=de[Q]}return fh(e,f,ye[256]),f+de[256]},F7=new jv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c3=new Ds(0),V7=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Ds(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var m=F7[e-1],_=m>>13,p=m&8191,C=(1<<n)-1,k=s.p||new $i(32768),L=s.h||new $i(C+1),b=Math.ceil(n/3),T=2*b,R=function(Ee){return(t[Ee]^t[Ee+1]<<b^t[Ee+2]<<T)&C},B=new jv(25e3),ne=new $i(288),F=new $i(32),V=0,x=0,N=s.i||0,O=0,E=s.w||0,S=0;N+2<a;++N){var P=R(N),te=N&32767,fe=L[P];if(k[te]=fe,L[P]=te,E<=N){var ye=a-N;if((V>7e3||O>24576)&&(ye>423||!u)){f=lw(t,l,0,B,ne,F,x,O,S,N-S,f),O=V=x=0,S=N;for(var de=0;de<286;++de)ne[de]=0;for(var de=0;de<30;++de)F[de]=0}var Z=2,G=0,pe=p,_e=te-fe&32767;if(ye>2&&P==R(N-_e))for(var M=Math.min(_,ye)-1,K=Math.min(32767,N),q=Math.min(258,ye);_e<=K&&--pe&&te!=fe;){if(t[N+Z]==t[N+Z-_e]){for(var Q=0;Q<q&&t[N+Q]==t[N+Q-_e];++Q);if(Q>Z){if(Z=Q,G=_e,Q>M)break;for(var ie=Math.min(_e,Q-2),ae=0,de=0;de<ie;++de){var ve=N-_e+de&32767,we=k[ve],Ae=ve-we&32767;Ae>ae&&(ae=Ae,fe=ve)}}}te=fe,fe=k[te],_e+=te-fe&32767}if(G){B[O++]=268435456|C0[Z]<<18|aw[G];var Te=C0[Z]&31,Fe=aw[G]&31;x+=Ov[Te]+Mv[Fe],++ne[257+Te],++F[Fe],E=N+Z,++V}else B[O++]=t[N],++ne[t[N]]}}for(N=Math.max(N,E);N<a;++N)B[O++]=t[N],++ne[t[N]];f=lw(t,l,u,B,ne,F,x,O,S,N-S,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=L,s.p=k,s.i=N,s.w=E)}else{for(var N=s.w||0;N<a+u;N+=65535){var Ve=N+65535;Ve>=a&&(l[f/8|0]=u,Ve=a),f=u3(l,f+1,t.subarray(N,Ve))}s.i=a}return M7(o,0,r+l3(f)+i)},h3=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},U7=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ds(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return V7(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},f3=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},B7=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=h3();i.p(e.dictionary),f3(t,2,i.d())}};function D0(t,e){e||(e={});var n=h3();n.p(t);var r=U7(t,e,e.dictionary?6:2,4);return B7(r,e),f3(r,r.length-4,n.d()),r}var z7=typeof TextDecoder<"u"&&new TextDecoder,q7=0;try{z7.decode(c3,{stream:!0}),q7=1}catch{}function $7(t){if(Array.isArray(t))return t}function W7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function H7(t,e){if(t){if(typeof t=="string")return uw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uw(t,e):void 0}}function G7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cw(t,e){return $7(t)||W7(t,e)||H7(t,e)||G7()}function hw(t,e="utf8"){return new TextDecoder(e).decode(t)}const K7=new TextEncoder;function Q7(t){return K7.encode(t)}const J7=1024*8,Y7=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Wg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Fv{constructor(e=J7,n={}){an(this,"buffer");an(this,"byteLength");an(this,"byteOffset");an(this,"length");an(this,"offset");an(this,"lastWrittenByte");an(this,"littleEndian");an(this,"_data");an(this,"_mark");an(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Fv)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Wg[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Y7&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new Wg[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new Wg[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return hw(this.readBytes(e))}decodeText(e=1,n="utf8"){return hw(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Q7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jc(t){let e=t.length;for(;--e>=0;)t[e]=0}const X7=3,Z7=258,d3=29,eD=256,tD=eD+1+d3,p3=30,nD=512,rD=new Array((tD+2)*2);jc(rD);const iD=new Array(p3*2);jc(iD);const sD=new Array(nD);jc(sD);const aD=new Array(Z7-X7+1);jc(aD);const oD=new Array(d3);jc(oD);const lD=new Array(p3);jc(lD);const uD=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var j0=uD;const cD=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},hD=new Uint32Array(cD()),fD=(t,e,n,r)=>{const i=hD,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var ea=fD,O0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},m3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const dD=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var pD=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)dD(n,r)&&(t[r]=n[r])}}return t},mD=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},g3={assign:pD,flattenChunks:mD};let v3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v3=!1}const yf=new Uint8Array(256);for(let t=0;t<256;t++)yf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;yf[254]=yf[254]=1;var gD=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const vD=(t,e)=>{if(e<65534&&t.subarray&&v3)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var yD=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=yf[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return vD(s,i)},_D=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+yf[t[n]]>e?n:e},M0={string2buf:gD,buf2string:yD,utf8border:_D};function wD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bD=wD;const Nd=16209,AD=16191;var ED=function(e,n){let r,i,s,a,o,l,u,f,m,_,p,C,k,L,b,T,R,B,ne,F,V,x,N,O;const E=e.state;r=e.next_in,N=e.input,i=r+(e.avail_in-5),s=e.next_out,O=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=E.dmax,u=E.wsize,f=E.whave,m=E.wnext,_=E.window,p=E.hold,C=E.bits,k=E.lencode,L=E.distcode,b=(1<<E.lenbits)-1,T=(1<<E.distbits)-1;e:do{C<15&&(p+=N[r++]<<C,C+=8,p+=N[r++]<<C,C+=8),R=k[p&b];t:for(;;){if(B=R>>>24,p>>>=B,C-=B,B=R>>>16&255,B===0)O[s++]=R&65535;else if(B&16){ne=R&65535,B&=15,B&&(C<B&&(p+=N[r++]<<C,C+=8),ne+=p&(1<<B)-1,p>>>=B,C-=B),C<15&&(p+=N[r++]<<C,C+=8,p+=N[r++]<<C,C+=8),R=L[p&T];n:for(;;){if(B=R>>>24,p>>>=B,C-=B,B=R>>>16&255,B&16){if(F=R&65535,B&=15,C<B&&(p+=N[r++]<<C,C+=8,C<B&&(p+=N[r++]<<C,C+=8)),F+=p&(1<<B)-1,F>l){e.msg="invalid distance too far back",E.mode=Nd;break e}if(p>>>=B,C-=B,B=s-a,F>B){if(B=F-B,B>f&&E.sane){e.msg="invalid distance too far back",E.mode=Nd;break e}if(V=0,x=_,m===0){if(V+=u-B,B<ne){ne-=B;do O[s++]=_[V++];while(--B);V=s-F,x=O}}else if(m<B){if(V+=u+m-B,B-=m,B<ne){ne-=B;do O[s++]=_[V++];while(--B);if(V=0,m<ne){B=m,ne-=B;do O[s++]=_[V++];while(--B);V=s-F,x=O}}}else if(V+=m-B,B<ne){ne-=B;do O[s++]=_[V++];while(--B);V=s-F,x=O}for(;ne>2;)O[s++]=x[V++],O[s++]=x[V++],O[s++]=x[V++],ne-=3;ne&&(O[s++]=x[V++],ne>1&&(O[s++]=x[V++]))}else{V=s-F;do O[s++]=O[V++],O[s++]=O[V++],O[s++]=O[V++],ne-=3;while(ne>2);ne&&(O[s++]=O[V++],ne>1&&(O[s++]=O[V++]))}}else if(B&64){e.msg="invalid distance code",E.mode=Nd;break e}else{R=L[(R&65535)+(p&(1<<B)-1)];continue n}break}}else if(B&64)if(B&32){E.mode=AD;break e}else{e.msg="invalid literal/length code",E.mode=Nd;break e}else{R=k[(R&65535)+(p&(1<<B)-1)];continue t}break}}while(r<i&&s<o);ne=C>>3,r-=ne,C-=ne<<3,p&=(1<<C)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),E.hold=p,E.bits=C};const Nu=15,fw=852,dw=592,pw=0,Hg=1,mw=2,xD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),SD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ND=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ID=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kD=(t,e,n,r,i,s,a,o)=>{const l=o.bits;let u=0,f=0,m=0,_=0,p=0,C=0,k=0,L=0,b=0,T=0,R,B,ne,F,V,x=null,N;const O=new Uint16Array(Nu+1),E=new Uint16Array(Nu+1);let S=null,P,te,fe;for(u=0;u<=Nu;u++)O[u]=0;for(f=0;f<r;f++)O[e[n+f]]++;for(p=l,_=Nu;_>=1&&O[_]===0;_--);if(p>_&&(p=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<_&&O[m]===0;m++);for(p<m&&(p=m),L=1,u=1;u<=Nu;u++)if(L<<=1,L-=O[u],L<0)return-1;if(L>0&&(t===pw||_!==1))return-1;for(E[1]=0,u=1;u<Nu;u++)E[u+1]=E[u]+O[u];for(f=0;f<r;f++)e[n+f]!==0&&(a[E[e[n+f]]++]=f);if(t===pw?(x=S=a,N=20):t===Hg?(x=xD,S=SD,N=257):(x=ND,S=ID,N=0),T=0,f=0,u=m,V=s,C=p,k=0,ne=-1,b=1<<p,F=b-1,t===Hg&&b>fw||t===mw&&b>dw)return 1;for(;;){P=u-k,a[f]+1<N?(te=0,fe=a[f]):a[f]>=N?(te=S[a[f]-N],fe=x[a[f]-N]):(te=96,fe=0),R=1<<u-k,B=1<<C,m=B;do B-=R,i[V+(T>>k)+B]=P<<24|te<<16|fe|0;while(B!==0);for(R=1<<u-1;T&R;)R>>=1;if(R!==0?(T&=R-1,T+=R):T=0,f++,--O[u]===0){if(u===_)break;u=e[n+a[f]]}if(u>p&&(T&F)!==ne){for(k===0&&(k=p),V+=m,C=u-k,L=1<<C;C+k<_&&(L-=O[C+k],!(L<=0));)C++,L<<=1;if(b+=1<<C,t===Hg&&b>fw||t===mw&&b>dw)return 1;ne=T&F,i[ne]=p<<24|C<<16|V-s|0}}return T!==0&&(i[V+T]=u-k<<24|64<<16|0),o.bits=p,0};var Vh=kD;const TD=0,y3=1,_3=2,{Z_FINISH:gw,Z_BLOCK:PD,Z_TREES:Id,Z_OK:cu,Z_STREAM_END:CD,Z_NEED_DICT:LD,Z_STREAM_ERROR:hs,Z_DATA_ERROR:w3,Z_MEM_ERROR:b3,Z_BUF_ERROR:RD,Z_DEFLATED:vw}=m3,Um=16180,yw=16181,_w=16182,ww=16183,bw=16184,Aw=16185,Ew=16186,xw=16187,Sw=16188,Nw=16189,Yp=16190,Pa=16191,Gg=16192,Iw=16193,Kg=16194,kw=16195,Tw=16196,Pw=16197,Cw=16198,kd=16199,Td=16200,Lw=16201,Rw=16202,Dw=16203,jw=16204,Ow=16205,Qg=16206,Mw=16207,Fw=16208,Tn=16209,A3=16210,E3=16211,DD=852,jD=592,OD=15,MD=OD,Vw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function FD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Um||e.mode>E3?1:0},x3=t=>{if(gu(t))return hs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Um,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(DD),e.distcode=e.distdyn=new Int32Array(jD),e.sane=1,e.back=-1,cu},S3=t=>{if(gu(t))return hs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,x3(t)},N3=(t,e)=>{let n;if(gu(t))return hs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,S3(t))},I3=(t,e)=>{if(!t)return hs;const n=new FD;t.state=n,n.strm=t,n.window=null,n.mode=Um;const r=N3(t,e);return r!==cu&&(t.state=null),r},VD=t=>I3(t,MD);let Uw=!0,Jg,Yg;const UD=t=>{if(Uw){Jg=new Int32Array(512),Yg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Vh(y3,t.lens,0,288,Jg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Vh(_3,t.lens,0,32,Yg,0,t.work,{bits:5}),Uw=!1}t.lencode=Jg,t.lenbits=9,t.distcode=Yg,t.distbits=5},k3=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},BD=(t,e)=>{let n,r,i,s,a,o,l,u,f,m,_,p,C,k,L=0,b,T,R,B,ne,F,V,x;const N=new Uint8Array(4);let O,E;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gu(t)||!t.output||!t.input&&t.avail_in!==0)return hs;n=t.state,n.mode===Pa&&(n.mode=Gg),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,f=n.bits,m=o,_=l,x=cu;e:for(;;)switch(n.mode){case Um:if(n.wrap===0){n.mode=Gg;break}for(;f<16;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0),u=0,f=0,n.mode=yw;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Tn;break}if((u&15)!==vw){t.msg="unknown compression method",n.mode=Tn;break}if(u>>>=4,f-=4,V=(u&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=Tn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Nw:Pa,u=0,f=0;break;case yw:for(;f<16;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==vw){t.msg="unknown compression method",n.mode=Tn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Tn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0)),u=0,f=0,n.mode=_w;case _w:for(;f<32;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,n.check=ea(n.check,N,4,0)),u=0,f=0,n.mode=ww;case ww:for(;f<16;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0)),u=0,f=0,n.mode=bw;case bw:if(n.flags&1024){for(;f<16;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=Aw;case Aw:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),V)),n.flags&512&&n.wrap&4&&(n.check=ea(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Ew;case Ew:if(n.flags&2048){if(o===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=ea(n.check,r,p,s)),o-=p,s+=p,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=xw;case xw:if(n.flags&4096){if(o===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=ea(n.check,r,p,s)),o-=p,s+=p,V)break e}else n.head&&(n.head.comment=null);n.mode=Sw;case Sw:if(n.flags&512){for(;f<16;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Tn;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Pa;break;case Nw:for(;f<32;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}t.adler=n.check=Vw(u),u=0,f=0,n.mode=Yp;case Yp:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=f,LD;t.adler=n.check=1,n.mode=Pa;case Pa:if(e===PD||e===Id)break e;case Gg:if(n.last){u>>>=f&7,f-=f&7,n.mode=Qg;break}for(;f<3;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=Iw;break;case 1:if(UD(n),n.mode=kd,e===Id){u>>>=2,f-=2;break e}break;case 2:n.mode=Tw;break;case 3:t.msg="invalid block type",n.mode=Tn}u>>>=2,f-=2;break;case Iw:for(u>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Tn;break}if(n.length=u&65535,u=0,f=0,n.mode=Kg,e===Id)break e;case Kg:n.mode=kw;case kw:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=Pa;break;case Tw:for(;f<14;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Tn;break}n.have=0,n.mode=Pw;case Pw:for(;n.have<n.ncode;){for(;f<3;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}n.lens[S[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},x=Vh(TD,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,x){t.msg="invalid code lengths set",n.mode=Tn;break}n.have=0,n.mode=Cw;case Cw:for(;n.have<n.nlen+n.ndist;){for(;L=n.lencode[u&(1<<n.lenbits)-1],b=L>>>24,T=L>>>16&255,R=L&65535,!(b<=f);){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(R<16)u>>>=b,f-=b,n.lens[n.have++]=R;else{if(R===16){for(E=b+2;f<E;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(u>>>=b,f-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=Tn;break}V=n.lens[n.have-1],p=3+(u&3),u>>>=2,f-=2}else if(R===17){for(E=b+3;f<E;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}u>>>=b,f-=b,V=0,p=3+(u&7),u>>>=3,f-=3}else{for(E=b+7;f<E;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}u>>>=b,f-=b,V=0,p=11+(u&127),u>>>=7,f-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Tn;break}for(;p--;)n.lens[n.have++]=V}}if(n.mode===Tn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Tn;break}if(n.lenbits=9,O={bits:n.lenbits},x=Vh(y3,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,x){t.msg="invalid literal/lengths set",n.mode=Tn;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},x=Vh(_3,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,x){t.msg="invalid distances set",n.mode=Tn;break}if(n.mode=kd,e===Id)break e;case kd:n.mode=Td;case Td:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=f,ED(t,_),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,f=n.bits,n.mode===Pa&&(n.back=-1);break}for(n.back=0;L=n.lencode[u&(1<<n.lenbits)-1],b=L>>>24,T=L>>>16&255,R=L&65535,!(b<=f);){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(T&&!(T&240)){for(B=b,ne=T,F=R;L=n.lencode[F+((u&(1<<B+ne)-1)>>B)],b=L>>>24,T=L>>>16&255,R=L&65535,!(B+b<=f);){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}u>>>=B,f-=B,n.back+=B}if(u>>>=b,f-=b,n.back+=b,n.length=R,T===0){n.mode=Ow;break}if(T&32){n.back=-1,n.mode=Pa;break}if(T&64){t.msg="invalid literal/length code",n.mode=Tn;break}n.extra=T&15,n.mode=Lw;case Lw:if(n.extra){for(E=n.extra;f<E;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Rw;case Rw:for(;L=n.distcode[u&(1<<n.distbits)-1],b=L>>>24,T=L>>>16&255,R=L&65535,!(b<=f);){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(!(T&240)){for(B=b,ne=T,F=R;L=n.distcode[F+((u&(1<<B+ne)-1)>>B)],b=L>>>24,T=L>>>16&255,R=L&65535,!(B+b<=f);){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}u>>>=B,f-=B,n.back+=B}if(u>>>=b,f-=b,n.back+=b,T&64){t.msg="invalid distance code",n.mode=Tn;break}n.offset=R,n.extra=T&15,n.mode=Dw;case Dw:if(n.extra){for(E=n.extra;f<E;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Tn;break}n.mode=jw;case jw:if(l===0)break e;if(p=_-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Tn;break}p>n.wnext?(p-=n.wnext,C=n.wsize-p):C=n.wnext-p,p>n.length&&(p=n.length),k=n.window}else k=i,C=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[a++]=k[C++];while(--p);n.length===0&&(n.mode=Td);break;case Ow:if(l===0)break e;i[a++]=n.length,l--,n.mode=Td;break;case Qg:if(n.wrap){for(;f<32;){if(o===0)break e;o--,u|=r[s++]<<f,f+=8}if(_-=l,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?ea(n.check,i,_,a-_):j0(n.check,i,_,a-_)),_=l,n.wrap&4&&(n.flags?u:Vw(u))!==n.check){t.msg="incorrect data check",n.mode=Tn;break}u=0,f=0}n.mode=Mw;case Mw:if(n.wrap&&n.flags){for(;f<32;){if(o===0)break e;o--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Tn;break}u=0,f=0}n.mode=Fw;case Fw:x=CD;break e;case Tn:x=w3;break e;case A3:return b3;case E3:default:return hs}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=f,(n.wsize||_!==t.avail_out&&n.mode<Tn&&(n.mode<Qg||e!==gw))&&k3(t,t.output,t.next_out,_-t.avail_out),m-=t.avail_in,_-=t.avail_out,t.total_in+=m,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?ea(n.check,i,_,t.next_out-_):j0(n.check,i,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Pa?128:0)+(n.mode===kd||n.mode===Kg?256:0),(m===0&&_===0||e===gw)&&x===cu&&(x=RD),x},zD=t=>{if(gu(t))return hs;let e=t.state;return e.window&&(e.window=null),t.state=null,cu},qD=(t,e)=>{if(gu(t))return hs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,cu):hs},$D=(t,e)=>{const n=e.length;let r,i,s;return gu(t)||(r=t.state,r.wrap!==0&&r.mode!==Yp)?hs:r.mode===Yp&&(i=1,i=j0(i,e,n,0),i!==r.check)?w3:(s=k3(t,e,n,n),s?(r.mode=A3,b3):(r.havedict=1,cu))};var WD=S3,HD=N3,GD=x3,KD=VD,QD=I3,JD=BD,YD=zD,XD=qD,ZD=$D,ej="pako inflate (from Nodeca project)",Ra={inflateReset:WD,inflateReset2:HD,inflateResetKeep:GD,inflateInit:KD,inflateInit2:QD,inflate:JD,inflateEnd:YD,inflateGetHeader:XD,inflateSetDictionary:ZD,inflateInfo:ej};function tj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nj=tj;const T3=Object.prototype.toString,{Z_NO_FLUSH:rj,Z_FINISH:ij,Z_OK:_f,Z_STREAM_END:Xg,Z_NEED_DICT:Zg,Z_STREAM_ERROR:sj,Z_DATA_ERROR:Bw,Z_MEM_ERROR:aj}=m3;function Vf(t){this.options=g3.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bD,this.strm.avail_out=0;let n=Ra.inflateInit2(this.strm,e.windowBits);if(n!==_f)throw new Error(O0[n]);if(this.header=new nj,Ra.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=M0.string2buf(e.dictionary):T3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ra.inflateSetDictionary(this.strm,e.dictionary),n!==_f)))throw new Error(O0[n])}Vf.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?ij:rj,T3.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Ra.inflate(n,a),s===Zg&&i&&(s=Ra.inflateSetDictionary(n,i),s===_f?s=Ra.inflate(n,a):s===Bw&&(s=Zg));n.avail_in>0&&s===Xg&&n.state.wrap>0&&t[n.next_in]!==0;)Ra.inflateReset(n),s=Ra.inflate(n,a);switch(s){case sj:case Bw:case Zg:case aj:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===Xg))if(this.options.to==="string"){let l=M0.utf8border(n.output,n.next_out),u=n.next_out-l,f=M0.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===_f&&o===0)){if(s===Xg)return s=Ra.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Vf.prototype.onData=function(t){this.chunks.push(t)};Vf.prototype.onEnd=function(t){t===_f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g3.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function oj(t,e){const n=new Vf(e);if(n.push(t),n.err)throw n.msg||O0[n.err];return n.result}var lj=Vf,uj=oj,cj={Inflate:lj,inflate:uj};const{Inflate:hj,inflate:fj}=cj;var zw=hj,dj=fj;const P3=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;P3[t]=e}const qw=4294967295;function pj(t,e,n){let r=t;for(let i=0;i<n;i++)r=P3[(r^e[i])&255]^r>>>8;return r}function mj(t,e){return(pj(qw,t,e)^qw)>>>0}function $w(t,e,n){const r=t.readUint32(),i=mj(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function C3(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function L3(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function R3(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function D3(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function j3(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+gj(e[s-i],n[s],n[s-i])&255}}function gj(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function vj(t,e,n,r,i,s){switch(t){case 0:C3(e,n,i);break;case 1:L3(e,n,i,s);break;case 2:R3(e,n,r,i);break;case 3:D3(e,n,r,i,s);break;case 4:j3(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const yj=new Uint16Array([255]),_j=new Uint8Array(yj.buffer),wj=_j[0]===255;function bj(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let f=0;f<7;f++){const m=a[f],_=Math.ceil((n-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(_<=0||p<=0)continue;const C=_*o,k=new Uint8Array(C);for(let L=0;L<p;L++){const b=e[u++],T=e.subarray(u,u+C);u+=C;const R=new Uint8Array(C);vj(b,T,R,k,C,o),k.set(R);for(let B=0;B<_;B++){const ne=m.x+B*m.xStep,F=m.y+L*m.yStep;if(!(ne>=n||F>=r))for(let V=0;V<o;V++)l[(F*n+ne)*o+V]=R[B*o+V]}}}if(s===16){const f=new Uint16Array(l.buffer);if(wj)for(let m=0;m<f.length;m++)f[m]=Aj(f[m]);return f}else return l}function Aj(t){return(t&255)<<8|t>>8&255}const Ej=new Uint16Array([255]),xj=new Uint8Array(Ej.buffer),Sj=xj[0]===255,Nj=new Uint8Array(0);function Ww(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let u=Nj,f=0,m,_;for(let p=0;p<r;p++){switch(m=e.subarray(f+1,f+1+o),_=l.subarray(p*o,(p+1)*o),e[f]){case 0:C3(m,_,o);break;case 1:L3(m,_,o,a);break;case 2:R3(m,_,u,o);break;case 3:D3(m,_,u,o,a);break;case 4:j3(m,_,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=_,f+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(Sj)for(let C=0;C<p.length;C++)p[C]=Ij(p[C]);return p}else return l}function Ij(t){return(t&255)<<8|t>>8&255}const rp=Uint8Array.of(137,80,78,71,13,10,26,10);function Hw(t){if(!kj(t.readBytes(rp.length)))throw new Error("wrong PNG signature")}function kj(t){if(t.length<rp.length)return!1;for(let e=0;e<rp.length;e++)if(t[e]!==rp[e])return!1;return!0}const Tj="tEXt",Pj=0,O3=new TextDecoder("latin1");function Cj(t){if(Rj(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Lj=/^[\u0000-\u00FF]*$/;function Rj(t){if(!Lj.test(t))throw new Error("invalid latin1 text")}function Dj(t,e,n){const r=M3(e);t[r]=jj(e,n-r.length-1)}function M3(t){for(t.mark();t.readByte()!==Pj;);const e=t.offset;t.reset();const n=O3.decode(t.readBytes(e-t.offset-1));return t.skip(1),Cj(n),n}function jj(t,e){return O3.decode(t.readBytes(e))}const Fi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},e1={UNKNOWN:-1,DEFLATE:0},Gw={UNKNOWN:-1,ADAPTIVE:0},t1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Pd={NONE:0,BACKGROUND:1,PREVIOUS:2},n1={SOURCE:0,OVER:1};class Oj extends Fv{constructor(n,r={}){super(n);an(this,"_checkCrc");an(this,"_inflator");an(this,"_png");an(this,"_apng");an(this,"_end");an(this,"_hasPalette");an(this,"_palette");an(this,"_hasTransparency");an(this,"_transparency");an(this,"_compressionMethod");an(this,"_filterMethod");an(this,"_interlaceMethod");an(this,"_colorType");an(this,"_isAnimated");an(this,"_numberOfFrames");an(this,"_numberOfPlays");an(this,"_frames");an(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new zw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=e1.UNKNOWN,this._filterMethod=Gw.UNKNOWN,this._interlaceMethod=t1.UNKNOWN,this._colorType=Fi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Hw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Hw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Tj:Dj(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?$w(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?$w(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Mj(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Fi.GREYSCALE:i=1;break;case Fi.TRUECOLOUR:i=3;break;case Fi.INDEXED_COLOUR:i=1;break;case Fi.GREYSCALE_ALPHA:i=2;break;case Fi.TRUECOLOUR_ALPHA:i=4;break;case Fi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==e1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Fi.GREYSCALE:case Fi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Fi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Fi.UNKNOWN:case Fi.GREYSCALE_ALPHA:case Fi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=M3(this),i=this.readUint8();if(i!==e1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:dj(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Ww({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Pd.NONE:break;case Pd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Pd.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case n1.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let f=0;f<this._png.channels;f++)n.data[l+f]=r.data[u+f]}break;case n1.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let f=0;f<this._png.channels;f++){const m=r.data[u+this._png.channels-1]/i,_=f%(this._png.channels-1)===0?1:r.data[u+f],p=Math.floor(m*_+(1-m)*n.data[l+f]);n.data[l+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Gw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===t1.NO_INTERLACE)this._png.data=Ww({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===t1.ADAM7)this._png.data=bj({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Pd.NONE,blendOp:n1.SOURCE,data:n}),this._inflator=new zw,this._writingDataChunks=!1}}function Mj(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Kw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Kw||(Kw={}));function Fj(t,e){return new Oj(t,e).decode()}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function r1(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var pn={log:r1,warn:function(t){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):r1.call(null,arguments))},error:function(t){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):r1(t))}};function i1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Bl(r.response,e,n)},r.onerror=function(){pn.error("could not download file")},r.send()}function Qw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bl=At.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=At.URL||At.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Qw(i.href)?i1(t,e,n):Cd(i,i.target="_blank"):Cd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Qw(t))i1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Cd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ln(s)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return i1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(At.HTMLElement)||At.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},o.readAsDataURL(t)}else{var l=At.URL||At.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function F3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var ip=At.atob.bind(At),Jw=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=$r(n,r,i,s,e[0],7,-680876936),s=$r(s,n,r,i,e[1],12,-389564586),i=$r(i,s,n,r,e[2],17,606105819),r=$r(r,i,s,n,e[3],22,-1044525330),n=$r(n,r,i,s,e[4],7,-176418897),s=$r(s,n,r,i,e[5],12,1200080426),i=$r(i,s,n,r,e[6],17,-1473231341),r=$r(r,i,s,n,e[7],22,-45705983),n=$r(n,r,i,s,e[8],7,1770035416),s=$r(s,n,r,i,e[9],12,-1958414417),i=$r(i,s,n,r,e[10],17,-42063),r=$r(r,i,s,n,e[11],22,-1990404162),n=$r(n,r,i,s,e[12],7,1804603682),s=$r(s,n,r,i,e[13],12,-40341101),i=$r(i,s,n,r,e[14],17,-1502002290),n=Wr(n,r=$r(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Wr(s,n,r,i,e[6],9,-1069501632),i=Wr(i,s,n,r,e[11],14,643717713),r=Wr(r,i,s,n,e[0],20,-373897302),n=Wr(n,r,i,s,e[5],5,-701558691),s=Wr(s,n,r,i,e[10],9,38016083),i=Wr(i,s,n,r,e[15],14,-660478335),r=Wr(r,i,s,n,e[4],20,-405537848),n=Wr(n,r,i,s,e[9],5,568446438),s=Wr(s,n,r,i,e[14],9,-1019803690),i=Wr(i,s,n,r,e[3],14,-187363961),r=Wr(r,i,s,n,e[8],20,1163531501),n=Wr(n,r,i,s,e[13],5,-1444681467),s=Wr(s,n,r,i,e[2],9,-51403784),i=Wr(i,s,n,r,e[7],14,1735328473),n=Hr(n,r=Wr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Hr(s,n,r,i,e[8],11,-2022574463),i=Hr(i,s,n,r,e[11],16,1839030562),r=Hr(r,i,s,n,e[14],23,-35309556),n=Hr(n,r,i,s,e[1],4,-1530992060),s=Hr(s,n,r,i,e[4],11,1272893353),i=Hr(i,s,n,r,e[7],16,-155497632),r=Hr(r,i,s,n,e[10],23,-1094730640),n=Hr(n,r,i,s,e[13],4,681279174),s=Hr(s,n,r,i,e[0],11,-358537222),i=Hr(i,s,n,r,e[3],16,-722521979),r=Hr(r,i,s,n,e[6],23,76029189),n=Hr(n,r,i,s,e[9],4,-640364487),s=Hr(s,n,r,i,e[12],11,-421815835),i=Hr(i,s,n,r,e[15],16,530742520),n=Gr(n,r=Hr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Gr(s,n,r,i,e[7],10,1126891415),i=Gr(i,s,n,r,e[14],15,-1416354905),r=Gr(r,i,s,n,e[5],21,-57434055),n=Gr(n,r,i,s,e[12],6,1700485571),s=Gr(s,n,r,i,e[3],10,-1894986606),i=Gr(i,s,n,r,e[10],15,-1051523),r=Gr(r,i,s,n,e[1],21,-2054922799),n=Gr(n,r,i,s,e[8],6,1873313359),s=Gr(s,n,r,i,e[15],10,-30611744),i=Gr(i,s,n,r,e[6],15,-1560198380),r=Gr(r,i,s,n,e[13],21,1309151649),n=Gr(n,r,i,s,e[4],6,-145523070),s=Gr(s,n,r,i,e[11],10,-1120210379),i=Gr(i,s,n,r,e[2],15,718787259),r=Gr(r,i,s,n,e[9],21,-343485551),t[0]=Uo(n,t[0]),t[1]=Uo(r,t[1]),t[2]=Uo(i,t[2]),t[3]=Uo(s,t[3])}function Bm(t,e,n,r,i,s){return e=Uo(Uo(e,t),Uo(r,s)),Uo(e<<i|e>>>32-i,n)}function $r(t,e,n,r,i,s,a){return Bm(e&n|~e&r,t,e,i,s,a)}function Wr(t,e,n,r,i,s,a){return Bm(e&r|n&~r,t,e,i,s,a)}function Hr(t,e,n,r,i,s,a){return Bm(e^n^r,t,e,i,s,a)}function Gr(t,e,n,r,i,s,a){return Bm(n^(e|~r),t,e,i,s,a)}function V3(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)s1(r,Vj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,s1(r,i),r}function Vj(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Yw="0123456789abcdef".split("");function Uj(t){for(var e="",n=0;n<4;n++)e+=Yw[t>>8*n+4&15]+Yw[t>>8*n&15];return e}function Bj(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function F0(t){return V3(t).map(Bj).join("")}var zj=function(t){for(var e=0;e<t.length;e++)t[e]=Uj(t[e]);return t.join("")}(V3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uo(t,e){if(zj){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function V0(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var f=o[l];u=(u+f+a.charCodeAt(l))%256,o[l]=o[u],o[u]=f}n=t,r=o}else o=r;var m=e.length,_=0,p=0,C="";for(l=0;l<m;l++)p=(p+(f=o[_=(_+1)%256]))%256,o[_]=o[p],o[p]=f,a=o[(o[_]+o[p])%256],C+=String.fromCharCode(e.charCodeAt(l)^a);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xw={print:4,modify:8,copy:16,"annot-forms":32};function Lu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Xw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Xw[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=F0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=V0(this.encryptionKey,this.padding)}function Ru(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Zw(t){if(ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){At.console&&pn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Xp(t){if(!(this instanceof Xp))return new Xp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function U3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function zl(t,e,n,r,i){if(!(this instanceof zl))return new zl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,U3.call(this,r,i)}function Ku(t,e,n,r,i){if(!(this instanceof Ku))return new Ku(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,U3.call(this,r,i)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",f=null;ln(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,_={},p={internal:{},__private__:{}};p.__private__.PubSub=Zw;var C="1.3",k=p.__private__.getPdfVersion=function(){return C};p.__private__.setPdfVersion=function(g){C=g};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return L};var b=p.__private__.getPageFormat=function(g){return L[g]};i=i||"a4";var T="compat",R="advanced",B=T;function ne(){this.saveGraphicsState(),ee(new ct(ot,0,0,-ot,0,Zi()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),u="n",B=R}function F(){this.restoreGraphicsState(),u="S",B=T}var V=p.__private__.combineFontStyleAndFontWeight=function(g,D){if(g=="bold"&&D=="normal"||g=="bold"&&D==400||g=="normal"&&D=="italic"||g=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(g=D==400||D==="normal"?g==="italic"?"italic":"normal":D!=700&&D!=="bold"||g!=="normal"?(D==700?"bold":D)+""+g:"bold"),g};p.advancedAPI=function(g){var D=B===T;return D&&ne.call(this),typeof g!="function"||(g(this),D&&F.call(this)),this},p.compatAPI=function(g){var D=B===R;return D&&F.call(this),typeof g!="function"||(g(this),D&&ne.call(this)),this},p.isAdvancedAPI=function(){return B===R};var x,N=function(g){if(B!==R)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(g,D){var J=e||D;if(isNaN(g)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(J).replace(/0+$/,"")};x=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,16)};var E=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return O(g,2)},S=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return O(g,3)},P=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return B===T?g*ot:B===R?g:void 0},te=function(g){return P(function(D){return B===T?Zi()-D:B===R?D:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var fe,ye="00000000000000000000000000000000",de=p.__private__.getFileId=function(){return ye},Z=p.__private__.setFileId=function(g){return ye=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(tn=new Lu(f.userPermissions,f.userPassword,f.ownerPassword,ye)),ye};p.setFileId=function(g){return Z(g),this},p.getFileId=function(){return de()};var G=p.__private__.convertDateToPDFDate=function(g){var D=g.getTimezoneOffset(),J=D<0?"+":"-",re=Math.floor(Math.abs(D/60)),le=Math.abs(D%60),Se=[J,q(re),"'",q(le),"'"].join("");return["D:",g.getFullYear(),q(g.getMonth()+1),q(g.getDate()),q(g.getHours()),q(g.getMinutes()),q(g.getSeconds()),Se].join("")},pe=p.__private__.convertPDFDateToDate=function(g){var D=parseInt(g.substr(2,4),10),J=parseInt(g.substr(6,2),10)-1,re=parseInt(g.substr(8,2),10),le=parseInt(g.substr(10,2),10),Se=parseInt(g.substr(12,2),10),Ce=parseInt(g.substr(14,2),10);return new Date(D,J,re,le,Se,Ce,0)},_e=p.__private__.setCreationDate=function(g){var D;if(g===void 0&&(g=new Date),g instanceof Date)D=G(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=g}return fe=D},M=p.__private__.getCreationDate=function(g){var D=fe;return g==="jsDate"&&(D=pe(fe)),D};p.setCreationDate=function(g){return _e(g),this},p.getCreationDate=function(g){return M(g)};var K,q=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Q=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ie=0,ae=[],ve=[],we=0,Ae=[],Te=[],Fe=!1,Ve=ve;p.__private__.setCustomOutputDestination=function(g){Fe=!0,Ve=g};var Ee=function(g){Fe||(Ve=g)};p.__private__.resetCustomOutputDestination=function(){Fe=!1,Ve=ve};var ee=p.__private__.out=function(g){return g=g.toString(),we+=g.length+1,Ve.push(g),Ve},kt=p.__private__.write=function(g){return ee(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},_t=p.__private__.getArrayBuffer=function(g){for(var D=g.length,J=new ArrayBuffer(D),re=new Uint8Array(J);D--;)re[D]=g.charCodeAt(D);return J},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var Re=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Re=B===R?g/ot:g,this};var Ke,Ue=p.__private__.getFontSize=p.getFontSize=function(){return B===T?Re:Re*ot},wt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return wt=g,this},p.__private__.getR2L=p.getR2L=function(){return wt};var Je,Mt=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ke=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ke=g}else Ke=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ke};var ft,Ye=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Je=g};p.__private__.getPageMode=function(){return Je};var ke=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');ft=g};p.__private__.getLayoutMode=function(){return ft},p.__private__.setDisplayMode=p.setDisplayMode=function(g,D,J){return Mt(g),ke(D),Ye(J),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(rt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[g]},p.__private__.getDocumentProperties=function(){return rt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var D in rt)rt.hasOwnProperty(D)&&g[D]&&(rt[D]=g[D]);return this},p.__private__.setDocumentProperty=function(g,D){if(Object.keys(rt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[g]=D};var qe,ot,Xe,mt,dt,ze={},lt={},Qt=[],ht={},Rt={},Et={},Nn={},_n=null,Yt=0,gt=[],jt=new Zw(p),Ms=t.hotfixes||[],Wn={},Qi={},Or=[],ct=function g(D,J,re,le,Se,Ce){if(!(this instanceof g))return new g(D,J,re,le,Se,Ce);isNaN(D)&&(D=1),isNaN(J)&&(J=0),isNaN(re)&&(re=0),isNaN(le)&&(le=1),isNaN(Se)&&(Se=0),isNaN(Ce)&&(Ce=0),this._matrix=[D,J,re,le,Se,Ce]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(g)},ct.prototype.multiply=function(g){var D=g.sx*this.sx+g.shy*this.shx,J=g.sx*this.shy+g.shy*this.sy,re=g.shx*this.sx+g.sy*this.shx,le=g.shx*this.shy+g.sy*this.sy,Se=g.tx*this.sx+g.ty*this.shx+this.tx,Ce=g.tx*this.shy+g.ty*this.sy+this.ty;return new ct(D,J,re,le,Se,Ce)},ct.prototype.decompose=function(){var g=this.sx,D=this.shy,J=this.shx,re=this.sy,le=this.tx,Se=this.ty,Ce=Math.sqrt(g*g+D*D),$e=(g/=Ce)*J+(D/=Ce)*re;J-=g*$e,re-=D*$e;var Ze=Math.sqrt(J*J+re*re);return $e/=Ze,g*(re/=Ze)<D*(J/=Ze)&&(g=-g,D=-D,$e=-$e,Ce=-Ce),{scale:new ct(Ce,0,0,Ze,0,0),translate:new ct(1,0,0,1,le,Se),rotate:new ct(g,D,-D,g,0,0),skew:new ct(1,0,$e,1,0,0)}},ct.prototype.toString=function(g){return this.join(" ")},ct.prototype.inversed=function(){var g=this.sx,D=this.shy,J=this.shx,re=this.sy,le=this.tx,Se=this.ty,Ce=1/(g*re-D*J),$e=re*Ce,Ze=-D*Ce,pt=-J*Ce,bt=g*Ce;return new ct($e,Ze,pt,bt,-$e*le-pt*Se,-Ze*le-bt*Se)},ct.prototype.applyToPoint=function(g){var D=g.x*this.sx+g.y*this.shx+this.tx,J=g.x*this.shy+g.y*this.sy+this.ty;return new Gs(D,J)},ct.prototype.applyToRectangle=function(g){var D=this.applyToPoint(g),J=this.applyToPoint(new Gs(g.x+g.w,g.y+g.h));return new lo(D.x,D.y,J.x-D.x,J.y-D.y)},ct.prototype.clone=function(){var g=this.sx,D=this.shy,J=this.shx,re=this.sy,le=this.tx,Se=this.ty;return new ct(g,D,J,re,le,Se)},p.Matrix=ct;var wn=p.matrixMult=function(g,D){return D.multiply(g)},Ji=new ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ji;var mr=function(g,D){if(!Rt[g]){var J=(D instanceof zl?"Sh":"P")+(Object.keys(ht).length+1).toString(10);D.id=J,Rt[g]=J,ht[J]=D,jt.publish("addPattern",D)}};p.ShadingPattern=zl,p.TilingPattern=Ku,p.addShadingPattern=function(g,D){return N("addShadingPattern()"),mr(g,D),this},p.beginTilingPattern=function(g){N("beginTilingPattern()"),Ks(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,D){N("endTilingPattern()"),D.stream=Te[K].join(`
`),mr(g,D),jt.publish("endTilingPattern",D),Or.pop().restore()};var gr,In=p.__private__.newObject=function(){var g=sr();return kn(g,!0),g},sr=p.__private__.newObjectDeferred=function(){return ie++,ae[ie]=function(){return we},ie},kn=function(g,D){return D=typeof D=="boolean"&&D,ae[g]=we,D&&ee(g+" 0 obj"),g},ma=p.__private__.newAdditionalObject=function(){var g={objId:sr(),content:""};return Ae.push(g),g},Fs=sr(),Mr=sr(),xi=p.__private__.decodeColorString=function(g){var D=g.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var J=parseFloat(D[0]);D=[J,J,J,"r"]}for(var re="#",le=0;le<3;le++)re+=("0"+Math.floor(255*parseFloat(D[le])).toString(16)).slice(-2);return re},ei=p.__private__.encodeColorString=function(g){var D;typeof g=="string"&&(g={ch1:g});var J=g.ch1,re=g.ch2,le=g.ch3,Se=g.ch4,Ce=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var $e=new F3(J);if($e.ok)J=$e.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var Ze=parseInt(J.substr(1),16);J=Ze>>16&255,re=Ze>>8&255,le=255&Ze}if(re===void 0||Se===void 0&&J===re&&re===le)D=typeof J=="string"?J+" "+Ce[0]:g.precision===2?E(J/255)+" "+Ce[0]:S(J/255)+" "+Ce[0];else if(Se===void 0||ln(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",Ce[1]].join(" ");D=typeof J=="string"?[J,re,le,Ce[1]].join(" "):g.precision===2?[E(J/255),E(re/255),E(le/255),Ce[1]].join(" "):[S(J/255),S(re/255),S(le/255),Ce[1]].join(" ")}else D=typeof J=="string"?[J,re,le,Se,Ce[2]].join(" "):g.precision===2?[E(J),E(re),E(le),E(Se),Ce[2]].join(" "):[S(J),S(re),S(le),S(Se),Ce[2]].join(" ");return D},Fr=p.__private__.getFilters=function(){return a},Hn=p.__private__.putStream=function(g){var D=(g=g||{}).data||"",J=g.filters||Fr(),re=g.alreadyAppliedFilters||[],le=g.addLength1||!1,Se=D.length,Ce=g.objectId,$e=function(Vn){return Vn};if(f!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&($e=tn.encryptor(Ce,0));var Ze={};J===!0&&(J=["FlateEncode"]);var pt=g.additionalKeyValues||[],bt=(Ze=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(D,J):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(Ze.data.length!==0&&(pt.push({key:"Length",value:Ze.data.length}),le===!0&&pt.push({key:"Length1",value:Se})),bt.length!=0)if(bt.split("/").length-1==1)pt.push({key:"Filter",value:bt});else{pt.push({key:"Filter",value:"["+bt+"]"});for(var $t=0;$t<pt.length;$t+=1)if(pt[$t].key==="DecodeParms"){for(var Xt=[],Ln=0;Ln<Ze.reverseChain.split("/").length-1;Ln+=1)Xt.push("null");Xt.push(pt[$t].value),pt[$t].value="["+Xt.join(" ")+"]"}}ee("<<");for(var nn=0;nn<pt.length;nn++)ee("/"+pt[nn].key+" "+pt[nn].value);ee(">>"),Ze.data.length!==0&&(ee("stream"),ee($e(Ze.data)),ee("endstream"))},Vs=p.__private__.putPage=function(g){var D=g.number,J=g.data,re=g.objId,le=g.contentsObjId;kn(re,!0),ee("<</Type /Page"),ee("/Parent "+g.rootDictionaryObjId+" 0 R"),ee("/Resources "+g.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(x(g.mediaBox.bottomLeftX))+" "+parseFloat(x(g.mediaBox.bottomLeftY))+" "+x(g.mediaBox.topRightX)+" "+x(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&ee("/CropBox ["+x(g.cropBox.bottomLeftX)+" "+x(g.cropBox.bottomLeftY)+" "+x(g.cropBox.topRightX)+" "+x(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&ee("/BleedBox ["+x(g.bleedBox.bottomLeftX)+" "+x(g.bleedBox.bottomLeftY)+" "+x(g.bleedBox.topRightX)+" "+x(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&ee("/TrimBox ["+x(g.trimBox.bottomLeftX)+" "+x(g.trimBox.bottomLeftY)+" "+x(g.trimBox.topRightX)+" "+x(g.trimBox.topRightY)+"]"),g.artBox!==null&&ee("/ArtBox ["+x(g.artBox.bottomLeftX)+" "+x(g.artBox.bottomLeftY)+" "+x(g.artBox.topRightX)+" "+x(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&ee("/UserUnit "+g.userUnit),jt.publish("putPage",{objId:re,pageContext:gt[D],pageNumber:D,page:J}),ee("/Contents "+le+" 0 R"),ee(">>"),ee("endobj");var Se=J.join(`
`);return B===R&&(Se+=`
Q`),kn(le,!0),Hn({data:Se,filters:Fr(),objectId:le}),ee("endobj"),re},Si=p.__private__.putPages=function(){var g,D,J=[];for(g=1;g<=Yt;g++)gt[g].objId=sr(),gt[g].contentsObjId=sr();for(g=1;g<=Yt;g++)J.push(Vs({number:g,data:Te[g],objId:gt[g].objId,contentsObjId:gt[g].contentsObjId,mediaBox:gt[g].mediaBox,cropBox:gt[g].cropBox,bleedBox:gt[g].bleedBox,trimBox:gt[g].trimBox,artBox:gt[g].artBox,userUnit:gt[g].userUnit,rootDictionaryObjId:Fs,resourceDictionaryObjId:Mr}));kn(Fs,!0),ee("<</Type /Pages");var re="/Kids [";for(D=0;D<Yt;D++)re+=J[D]+" 0 R ";ee(re+"]"),ee("/Count "+Yt),ee(">>"),ee("endobj"),jt.publish("postPutPages")},fs=function(g){jt.publish("putFont",{font:g,out:ee,newObject:In,putStream:Hn}),g.isAlreadyPutted!==!0&&(g.objectNumber=In(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Ru(g.postScriptName)),ee("/Subtype /Type1"),typeof g.encoding=="string"&&ee("/Encoding /"+g.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Us=function(g){g.objectNumber=In();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[x(g.x),x(g.y),x(g.x+g.width),x(g.y+g.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var J=g.pages[1].join(`
`);Hn({data:J,additionalKeyValues:D,objectId:g.objectNumber}),ee("endobj")},ga=function(g,D){D||(D=21);var J=In(),re=function(Ce,$e){var Ze,pt=[],bt=1/($e-1);for(Ze=0;Ze<1;Ze+=bt)pt.push(Ze);if(pt.push(1),Ce[0].offset!=0){var $t={offset:0,color:Ce[0].color};Ce.unshift($t)}if(Ce[Ce.length-1].offset!=1){var Xt={offset:1,color:Ce[Ce.length-1].color};Ce.push(Xt)}for(var Ln="",nn=0,Vn=0;Vn<pt.length;Vn++){for(Ze=pt[Vn];Ze>Ce[nn+1].offset;)nn++;var Rn=Ce[nn].offset,Un=(Ze-Rn)/(Ce[nn+1].offset-Rn),mn=Ce[nn].color,xr=Ce[nn+1].color;Ln+=Q(Math.round((1-Un)*mn[0]+Un*xr[0]).toString(16))+Q(Math.round((1-Un)*mn[1]+Un*xr[1]).toString(16))+Q(Math.round((1-Un)*mn[2]+Un*xr[2]).toString(16))}return Ln.trim()}(g.colors,D),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+D+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:re,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),ee("endobj"),g.objectNumber=In(),ee("<< /ShadingType "+g.type),ee("/ColorSpace /DeviceRGB");var Se="/Coords ["+x(parseFloat(g.coords[0]))+" "+x(parseFloat(g.coords[1]))+" ";g.type===2?Se+=x(parseFloat(g.coords[2]))+" "+x(parseFloat(g.coords[3])):Se+=x(parseFloat(g.coords[2]))+" "+x(parseFloat(g.coords[3]))+" "+x(parseFloat(g.coords[4]))+" "+x(parseFloat(g.coords[5])),ee(Se+="]"),g.matrix&&ee("/Matrix ["+g.matrix.toString()+"]"),ee("/Function "+J+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},va=function(g,D){var J=sr(),re=In();D.push({resourcesOid:J,objectOid:re}),g.objectNumber=re;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+g.boundingBox.map(x).join(" ")+"]"}),le.push({key:"XStep",value:x(g.xStep)}),le.push({key:"YStep",value:x(g.yStep)}),le.push({key:"Resources",value:J+" 0 R"}),g.matrix&&le.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Hn({data:g.stream,additionalKeyValues:le,objectId:g.objectNumber}),ee("endobj")},Oc=function(g){for(var D in g.objectNumber=In(),ee("<<"),g)switch(D){case"opacity":ee("/ca "+E(g[D]));break;case"stroke-opacity":ee("/CA "+E(g[D]))}ee(">>"),ee("endobj")},Bs=function(g){kn(g.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var D in ee("/Font <<"),ze)ze.hasOwnProperty(D)&&(m===!1||m===!0&&_.hasOwnProperty(D))&&ee("/"+D+" "+ze[D].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(ht).length>0){for(var D in ee("/Shading <<"),ht)ht.hasOwnProperty(D)&&ht[D]instanceof zl&&ht[D].objectNumber>=0&&ee("/"+D+" "+ht[D].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),ee(">>")}}(),function(D){if(Object.keys(ht).length>0){for(var J in ee("/Pattern <<"),ht)ht.hasOwnProperty(J)&&ht[J]instanceof p.TilingPattern&&ht[J].objectNumber>=0&&ht[J].objectNumber<D&&ee("/"+J+" "+ht[J].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),ee(">>")}}(g.objectOid),function(){if(Object.keys(Et).length>0){var D;for(D in ee("/ExtGState <<"),Et)Et.hasOwnProperty(D)&&Et[D].objectNumber>=0&&ee("/"+D+" "+Et[D].objectNumber+" 0 R");jt.publish("putGStateDict"),ee(">>")}}(),function(){for(var D in ee("/XObject <<"),Wn)Wn.hasOwnProperty(D)&&Wn[D].objectNumber>=0&&ee("/"+D+" "+Wn[D].objectNumber+" 0 R");jt.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},gl=function(g){lt[g.fontName]=lt[g.fontName]||{},lt[g.fontName][g.fontStyle]=g.id},to=function(g,D,J,re,le){var Se={id:"F"+(Object.keys(ze).length+1).toString(10),postScriptName:g,fontName:D,fontStyle:J,encoding:re,isStandardFont:le||!1,metadata:{}};return jt.publish("addFont",{font:Se,instance:this}),ze[Se.id]=Se,gl(Se),Se.id},vr=p.__private__.pdfEscape=p.pdfEscape=function(g,D){return function(J,re){var le,Se,Ce,$e,Ze,pt,bt,$t,Xt;if(Ce=(re=re||{}).sourceEncoding||"Unicode",Ze=re.outputEncoding,(re.autoencode||Ze)&&ze[qe].metadata&&ze[qe].metadata[Ce]&&ze[qe].metadata[Ce].encoding&&($e=ze[qe].metadata[Ce].encoding,!Ze&&ze[qe].encoding&&(Ze=ze[qe].encoding),!Ze&&$e.codePages&&(Ze=$e.codePages[0]),typeof Ze=="string"&&(Ze=$e[Ze]),Ze)){for(bt=!1,pt=[],le=0,Se=J.length;le<Se;le++)($t=Ze[J.charCodeAt(le)])?pt.push(String.fromCharCode($t)):pt.push(J[le]),pt[le].charCodeAt(0)>>8&&(bt=!0);J=pt.join("")}for(le=J.length;bt===void 0&&le!==0;)J.charCodeAt(le-1)>>8&&(bt=!0),le--;if(!bt)return J;for(pt=re.noBOM?[]:[254,255],le=0,Se=J.length;le<Se;le++){if((Xt=($t=J.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(Xt),pt.push($t-(Xt<<8))}return String.fromCharCode.apply(void 0,pt)}(g,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ni=p.__private__.beginPage=function(g){Te[++Yt]=[],gt[Yt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},yl(Yt),Ee(Te[K])},no=function(g,D){var J,re,le;switch(n=D||n,typeof g=="string"&&(J=b(g.toLowerCase()),Array.isArray(J)&&(re=J[0],le=J[1])),Array.isArray(g)&&(re=g[0]*ot,le=g[1]*ot),isNaN(re)&&(re=i[0],le=i[1]),(re>14400||le>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),le=Math.min(14400,le)),i=[re,le],n.substr(0,1)){case"l":le>re&&(i=[le,re]);break;case"p":re>le&&(i=[le,re])}Ni(i),Hs(so),ee(ms),hn!==0&&ee(hn+" J"),Nl!==0&&ee(Nl+" j"),jt.publish("addPage",{pageNumber:Yt})},vl=function(g){g>0&&g<=Yt&&(Te.splice(g,1),gt.splice(g,1),Yt--,K>Yt&&(K=Yt),this.setPage(K))},yl=function(g){g>0&&g<=Yt&&(K=g)},_l=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Te.length-1},wl=function(g,D,J){var re,le=void 0;return J=J||{},g=g!==void 0?g:ze[qe].fontName,D=D!==void 0?D:ze[qe].fontStyle,re=g.toLowerCase(),lt[re]!==void 0&&lt[re][D]!==void 0?le=lt[re][D]:lt[g]!==void 0&&lt[g][D]!==void 0?le=lt[g][D]:J.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+g+"', '"+D+"'. Refer to getFontList() for available fonts."),le||J.noFallback||(le=lt.times[D])==null&&(le=lt.times.normal),le},zs=p.__private__.putInfo=function(){var g=In(),D=function(re){return re};for(var J in f!==null&&(D=tn.encryptor(g,0)),ee("<<"),ee("/Producer ("+vr(D("jsPDF "+at.version))+")"),rt)rt.hasOwnProperty(J)&&rt[J]&&ee("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+vr(D(rt[J]))+")");ee("/CreationDate ("+vr(D(fe))+")"),ee(">>"),ee("endobj")},bl=p.__private__.putCatalog=function(g){var D=(g=g||{}).rootDictionaryObjId||Fs;switch(In(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+D+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+Ke;J.substr(J.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+E(Ke)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Je&&ee("/PageMode /"+Je),jt.publish("putCatalog"),ee(">>"),ee("endobj")},Cn=p.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ie+1)),ee("/Root "+ie+" 0 R"),ee("/Info "+(ie-1)+" 0 R"),f!==null&&ee("/Encrypt "+tn.oid+" 0 R"),ee("/ID [ <"+ye+"> <"+ye+"> ]"),ee(">>")},Al=p.__private__.putHeader=function(){ee("%PDF-"+C),ee("%ºß¬à")},yu=p.__private__.putXRef=function(){var g="0000000000";ee("xref"),ee("0 "+(ie+1)),ee("0000000000 65535 f ");for(var D=1;D<=ie;D++)typeof ae[D]=="function"?ee((g+ae[D]()).slice(-10)+" 00000 n "):ae[D]!==void 0?ee((g+ae[D]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ds=p.__private__.buildDocument=function(){var g;ie=0,we=0,ve=[],ae=[],Ae=[],Fs=sr(),Mr=sr(),Ee(ve),jt.publish("buildDocument"),Al(),Si(),function(){jt.publish("putAdditionalObjects");for(var J=0;J<Ae.length;J++){var re=Ae[J];kn(re.objId,!0),ee(re.content),ee("endobj")}jt.publish("postPutAdditionalObjects")}(),g=[],function(){for(var J in ze)ze.hasOwnProperty(J)&&(m===!1||m===!0&&_.hasOwnProperty(J))&&fs(ze[J])}(),function(){var J;for(J in Et)Et.hasOwnProperty(J)&&Oc(Et[J])}(),function(){for(var J in Wn)Wn.hasOwnProperty(J)&&Us(Wn[J])}(),function(J){var re;for(re in ht)ht.hasOwnProperty(re)&&(ht[re]instanceof zl?ga(ht[re]):ht[re]instanceof Ku&&va(ht[re],J))}(g),jt.publish("putResources"),g.forEach(Bs),Bs({resourcesOid:Mr,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources"),f!==null&&(tn.oid=In(),ee("<<"),ee("/Filter /Standard"),ee("/V "+tn.v),ee("/R "+tn.r),ee("/U <"+tn.toHexString(tn.U)+">"),ee("/O <"+tn.toHexString(tn.O)+">"),ee("/P "+tn.P),ee(">>"),ee("endobj")),zs(),bl();var D=we;return yu(),Cn(),ee("startxref"),ee(""+D),ee("%%EOF"),Ee(Te[K]),ve.join(`
`)},qs=p.__private__.getBlob=function(g){return new Blob([_t(g)],{type:"application/pdf"})},ci=p.output=p.__private__.output=(gr=function(g,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",g){case void 0:return ds();case"save":p.save(D.filename);break;case"arraybuffer":return _t(ds());case"blob":return qs(ds());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(qs(ds()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",re=ds();try{J=Jw(re)}catch{J=Jw(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+D.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(le=D.pdfObjectUrl,Se="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",$e=At.open();return $e!==null&&$e.document.write(Ce),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',pt=At.open();if(pt!==null){pt.document.write(Ze);var bt=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=D.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Xt=At.open();if(Xt!==null&&(Xt.document.write($t),Xt.document.title=D.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",D);default:return null}},gr.foo=function(){try{return gr.apply(this,arguments)}catch(J){var g=J.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var D="Error in function "+g.split(`
`)[0].split("<")[0]+": "+J.message;if(!At.console)throw new Error(D);At.console.error(D,J),At.alert&&alert(D)}},gr.foo.bar=gr,gr.foo),ya=function(g){return Array.isArray(Ms)===!0&&Ms.indexOf(g)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=ya("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var tn=null;_e(),Z();var ti=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[g].objId,pageNumber:g,pageContext:gt[g]}},ro=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in gt)if(gt[D].objId===g)break;return ti(D)},io=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:gt[K].objId,pageNumber:K,pageContext:gt[K]}};p.addPage=function(){return no.apply(this,arguments),this},p.setPage=function(){return yl.apply(this,arguments),Ee.call(this,Te[K]),this},p.insertPage=function(g){return this.addPage(),this.movePage(K,g),this},p.movePage=function(g,D){var J,re;if(g>D){J=Te[g],re=gt[g];for(var le=g;le>D;le--)Te[le]=Te[le-1],gt[le]=gt[le-1];Te[D]=J,gt[D]=re,this.setPage(D)}else if(g<D){J=Te[g],re=gt[g];for(var Se=g;Se<D;Se++)Te[Se]=Te[Se+1],gt[Se]=gt[Se+1];Te[D]=J,gt[D]=re,this.setPage(D)}return this},p.deletePage=function(){return vl.apply(this,arguments),this},p.__private__.text=p.text=function(g,D,J,re,le){var Se,Ce,$e,Ze,pt,bt,$t,Xt,Ln,nn=(re=re||{}).scope||this;if(typeof g=="number"&&typeof D=="number"&&(typeof J=="string"||Array.isArray(J))){var Vn=J;J=D,D=g,g=Vn}if(arguments[3]instanceof ct==0?($e=arguments[4],Ze=arguments[5],ln($t=arguments[3])==="object"&&$t!==null||(typeof $e=="string"&&(Ze=$e,$e=null),typeof $t=="string"&&(Ze=$t,$t=null),typeof $t=="number"&&($e=$t,$t=null),re={flags:$t,angle:$e,align:Ze})):(N("The transform parameter of text() with a Matrix value"),Ln=le),isNaN(D)||isNaN(J)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return nn;var Rn,Un="",mn=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Ws,xr=nn.internal.scaleFactor;function Pl(Zt){return Zt=Zt.split("	").join(Array(re.TabLen||9).join(" ")),vr(Zt,$t)}function ki(Zt){for(var fn,Kn=Zt.concat(),ur=[],Sa=Kn.length;Sa--;)typeof(fn=Kn.shift())=="string"?ur.push(fn):Array.isArray(Zt)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?ur.push(fn[0]):ur.push([fn[0],fn[1],fn[2]]);return ur}function h(Zt,fn){var Kn;if(typeof Zt=="string")Kn=fn(Zt)[0];else if(Array.isArray(Zt)){for(var ur,Sa,Jc=Zt.concat(),Au=[],Bf=Jc.length;Bf--;)typeof(ur=Jc.shift())=="string"?Au.push(fn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Sa=fn(ur[0],ur[1],ur[2]),Au.push([Sa[0],Sa[1],Sa[2]]));Kn=Au}return Kn}var w=!1,I=!0;if(typeof g=="string")w=!0;else if(Array.isArray(g)){var W=g.concat();Ce=[];for(var ue,be=W.length;be--;)(typeof(ue=W.shift())!="string"||Array.isArray(ue)&&typeof ue[0]!="string")&&(I=!1);w=I}if(w===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Me=Re/nn.internal.scaleFactor,Bt=Me*(mn-1);switch(re.baseline){case"bottom":J-=Bt;break;case"top":J+=Me-Bt;break;case"hanging":J+=Me-2*Bt;break;case"middle":J+=Me/2-Bt}if((bt=re.maxWidth||0)>0&&(typeof g=="string"?g=nn.splitTextToSize(g,bt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Zt,fn){return Zt.concat(nn.splitTextToSize(fn,bt))},[]))),Se={text:g,x:D,y:J,options:re,mutex:{pdfEscape:vr,activeFontKey:qe,fonts:ze,activeFontSize:Re}},jt.publish("preProcessText",Se),g=Se.text,$e=(re=Se.options).angle,Ln instanceof ct==0&&$e&&typeof $e=="number"){$e*=Math.PI/180,re.rotationDirection===0&&($e=-$e),B===R&&($e=-$e);var Dn=Math.cos($e),Ot=Math.sin($e);Ln=new ct(Dn,Ot,-Ot,Dn,0,0)}else $e&&$e instanceof ct&&(Ln=$e);B!==R||Ln||(Ln=Ji),(pt=re.charSpace||ba)!==void 0&&(Un+=x(P(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=re.horizontalScale)!==void 0&&(Un+=x(100*Xt)+` Tz
`),re.lang;var Dt=-1,gn=re.renderingMode!==void 0?re.renderingMode:re.stroke,Ti=nn.internal.getCurrentPageInfo().pageContext;switch(gn){case 0:case!1:case"fill":Dt=0;break;case 1:case!0:case"stroke":Dt=1;break;case 2:case"fillThenStroke":Dt=2;break;case 3:case"invisible":Dt=3;break;case 4:case"fillAndAddForClipping":Dt=4;break;case 5:case"strokeAndAddPathForClipping":Dt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dt=6;break;case 7:case"addToPathForClipping":Dt=7}var Vr=Ti.usedRenderingMode!==void 0?Ti.usedRenderingMode:-1;Dt!==-1?Un+=Dt+` Tr
`:Vr!==-1&&(Un+=`0 Tr
`),Dt!==-1&&(Ti.usedRenderingMode=Dt),Ze=re.align||"left";var Sr,vs=Re*mn,qc=nn.internal.pageSize.getWidth(),$c=ze[qe];pt=re.charSpace||ba,bt=re.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},re.flags);var co=[],Cl=function(Zt){return nn.getStringUnitWidth(Zt,{font:$c,charSpace:pt,fontSize:Re,doKerning:!1})*Re/xr};if(Object.prototype.toString.call(g)==="[object Array]"){var Pi;Ce=ki(g),Ze!=="left"&&(Sr=Ce.map(Cl));var Ci,ho=0;if(Ze==="right"){D-=Sr[0],g=[],be=Ce.length;for(var xa=0;xa<be;xa++)xa===0?(Ci=yr(D),Pi=ps(J)):(Ci=P(ho-Sr[xa]),Pi=-vs),g.push([Ce[xa],Ci,Pi]),ho=Sr[xa]}else if(Ze==="center"){D-=Sr[0]/2,g=[],be=Ce.length;for(var fo=0;fo<be;fo++)fo===0?(Ci=yr(D),Pi=ps(J)):(Ci=P((ho-Sr[fo])/2),Pi=-vs),g.push([Ce[fo],Ci,Pi]),ho=Sr[fo]}else if(Ze==="left"){g=[],be=Ce.length;for(var Wc=0;Wc<be;Wc++)g.push(Ce[Wc])}else if(Ze==="justify"&&$c.encoding==="Identity-H"){g=[],be=Ce.length,bt=bt!==0?bt:qc;for(var bu=0,Gn=0;Gn<be;Gn++)if(Pi=Gn===0?ps(J):-vs,Ci=Gn===0?yr(D):bu,Gn<be-1){var Uf=P((bt-Sr[Gn])/(Ce[Gn].split(" ").length-1)),Js=Ce[Gn].split(" ");g.push([Js[0]+" ",Ci,Pi]),bu=0;for(var Ys=1;Ys<Js.length;Ys++){var Hc=(Cl(Js[Ys-1]+" "+Js[Ys])-Cl(Js[Ys]))*xr+Uf;Ys==Js.length-1?g.push([Js[Ys],Hc,0]):g.push([Js[Ys]+" ",Hc,0]),bu-=Hc}}else g.push([Ce[Gn],Ci,Pi]);g.push(["",bu,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],be=Ce.length,bt=bt!==0?bt:qc,Gn=0;Gn<be;Gn++){Pi=Gn===0?ps(J):-vs,Ci=Gn===0?yr(D):0;var Gc=Ce[Gn].split(" ").length-1,Kc=Gc>0?(bt-Sr[Gn])/Gc:0;Gn<be-1?co.push(x(P(Kc))):co.push(0),g.push([Ce[Gn],Ci,Pi])}}}(typeof re.R2L=="boolean"?re.R2L:wt)===!0&&(g=h(g,function(Zt,fn,Kn){return[Zt.split("").reverse().join(""),fn,Kn]})),Se={text:g,x:D,y:J,options:re,mutex:{pdfEscape:vr,activeFontKey:qe,fonts:ze,activeFontSize:Re}},jt.publish("postProcessText",Se),g=Se.text,Rn=Se.mutex.isHex||!1;var Qc=ze[qe].encoding;Qc!=="WinAnsiEncoding"&&Qc!=="StandardEncoding"||(g=h(g,function(Zt,fn,Kn){return[Pl(Zt),fn,Kn]})),Ce=ki(g),g=[];for(var po,mo,go,Ll=Array.isArray(Ce[0])?1:0,vo="",Rl=function(Zt,fn,Kn){var ur="";return Kn instanceof ct?(Kn=typeof re.angle=="number"?wn(Kn,new ct(1,0,0,1,Zt,fn)):wn(new ct(1,0,0,1,Zt,fn),Kn),B===R&&(Kn=wn(new ct(1,0,0,-1,0,0),Kn)),ur=Kn.join(" ")+` Tm
`):ur=x(Zt)+" "+x(fn)+` Td
`,ur},es=0;es<Ce.length;es++){switch(vo="",Ll){case 1:go=(Rn?"<":"(")+Ce[es][0]+(Rn?">":")"),po=parseFloat(Ce[es][1]),mo=parseFloat(Ce[es][2]);break;case 0:go=(Rn?"<":"(")+Ce[es]+(Rn?">":")"),po=yr(D),mo=ps(J)}co!==void 0&&co[es]!==void 0&&(vo=co[es]+` Tw
`),es===0?g.push(vo+Rl(po,mo,Ln)+go):Ll===0?g.push(vo+go):Ll===1&&g.push(vo+Rl(po,mo,Ln)+go)}g=Ll===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Xs=`BT
/`;return Xs+=qe+" "+Re+` Tf
`,Xs+=x(Re*mn)+` TL
`,Xs+=Ii+`
`,Xs+=Un,Xs+=g,ee(Xs+="ET"),_[qe]=!0,nn};var _u=p.__private__.clip=p.clip=function(g){return ee(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return _u("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ee("n"),this};var Vt=p.__private__.isValidStyle=function(g){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Vt(g)&&(u=g),this};var _a=p.__private__.getStyle=p.getStyle=function(g){var D=u;switch(g){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=g}return D},$s=p.close=function(){return ee("h"),this};p.stroke=function(){return ee("S"),this},p.fill=function(g){return hi("f",g),this},p.fillEvenOdd=function(g){return hi("f*",g),this},p.fillStroke=function(g){return hi("B",g),this},p.fillStrokeEvenOdd=function(g){return hi("B*",g),this};var hi=function(g,D){ln(D)==="object"?Mc(D,g):ee(g)},El=function(g){g===null||B===R&&g===void 0||(g=_a(g),ee(g))};function wu(g,D,J,re,le){var Se=new Ku(D||this.boundingBox,J||this.xStep,re||this.yStep,this.gState,le||this.matrix);Se.stream=this.stream;var Ce=g+"$$"+this.cloneIndex+++"$$";return mr(Ce,Se),Se}var Mc=function(g,D){var J=Rt[g.key],re=ht[J];if(re instanceof zl)ee("q"),ee(Fc(D)),re.gState&&p.setGState(re.gState),ee(g.matrix.toString()+" cm"),ee("/"+J+" sh"),ee("Q");else if(re instanceof Ku){var le=new ct(1,0,0,-1,0,Zi());g.matrix&&(le=le.multiply(g.matrix||Ji),J=wu.call(re,g.key,g.boundingBox,g.xStep,g.yStep,le).id),ee("q"),ee("/Pattern cs"),ee("/"+J+" scn"),re.gState&&p.setGState(re.gState),ee(D),ee("Q")}},Fc=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xl=p.moveTo=function(g,D){return ee(x(P(g))+" "+x(te(D))+" m"),this},wa=p.lineTo=function(g,D){return ee(x(P(g))+" "+x(te(D))+" l"),this},fi=p.curveTo=function(g,D,J,re,le,Se){return ee([x(P(g)),x(te(D)),x(P(J)),x(te(re)),x(P(le)),x(te(Se)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,D,J,re,le){if(isNaN(g)||isNaN(D)||isNaN(J)||isNaN(re)||!Vt(le))throw new Error("Invalid arguments passed to jsPDF.line");return B===T?this.lines([[J-g,re-D]],g,D,[1,1],le||"S"):this.lines([[J-g,re-D]],g,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,D,J,re,le,Se){var Ce,$e,Ze,pt,bt,$t,Xt,Ln,nn,Vn,Rn,Un;if(typeof g=="number"&&(Un=J,J=D,D=g,g=Un),re=re||[1,1],Se=Se||!1,isNaN(D)||isNaN(J)||!Array.isArray(g)||!Array.isArray(re)||!Vt(le)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(D,J),Ce=re[0],$e=re[1],pt=g.length,Vn=D,Rn=J,Ze=0;Ze<pt;Ze++)(bt=g[Ze]).length===2?(Vn=bt[0]*Ce+Vn,Rn=bt[1]*$e+Rn,wa(Vn,Rn)):($t=bt[0]*Ce+Vn,Xt=bt[1]*$e+Rn,Ln=bt[2]*Ce+Vn,nn=bt[3]*$e+Rn,Vn=bt[4]*Ce+Vn,Rn=bt[5]*$e+Rn,fi($t,Xt,Ln,nn,Vn,Rn));return Se&&$s(),El(le),this},p.path=function(g){for(var D=0;D<g.length;D++){var J=g[D],re=J.c;switch(J.op){case"m":xl(re[0],re[1]);break;case"l":wa(re[0],re[1]);break;case"c":fi.apply(this,re);break;case"h":$s()}}return this},p.__private__.rect=p.rect=function(g,D,J,re,le){if(isNaN(g)||isNaN(D)||isNaN(J)||isNaN(re)||!Vt(le))throw new Error("Invalid arguments passed to jsPDF.rect");return B===T&&(re=-re),ee([x(P(g)),x(te(D)),x(P(J)),x(P(re)),"re"].join(" ")),El(le),this},p.__private__.triangle=p.triangle=function(g,D,J,re,le,Se,Ce){if(isNaN(g)||isNaN(D)||isNaN(J)||isNaN(re)||isNaN(le)||isNaN(Se)||!Vt(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-g,re-D],[le-J,Se-re],[g-le,D-Se]],g,D,[1,1],Ce,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,D,J,re,le,Se,Ce){if(isNaN(g)||isNaN(D)||isNaN(J)||isNaN(re)||isNaN(le)||isNaN(Se)||!Vt(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*J),Se=Math.min(Se,.5*re),this.lines([[J-2*le,0],[le*$e,0,le,Se-Se*$e,le,Se],[0,re-2*Se],[0,Se*$e,-le*$e,Se,-le,Se],[2*le-J,0],[-le*$e,0,-le,-Se*$e,-le,-Se],[0,2*Se-re],[0,-Se*$e,le*$e,-Se,le,-Se]],g+le,D,[1,1],Ce,!0),this},p.__private__.ellipse=p.ellipse=function(g,D,J,re,le){if(isNaN(g)||isNaN(D)||isNaN(J)||isNaN(re)||!Vt(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*J,Ce=4/3*(Math.SQRT2-1)*re;return xl(g+J,D),fi(g+J,D-Ce,g+Se,D-re,g,D-re),fi(g-Se,D-re,g-J,D-Ce,g-J,D),fi(g-J,D+Ce,g-Se,D+re,g,D+re),fi(g+Se,D+re,g+J,D+Ce,g+J,D),El(le),this},p.__private__.circle=p.circle=function(g,D,J,re){if(isNaN(g)||isNaN(D)||isNaN(J)||!Vt(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,D,J,J,re)},p.setFont=function(g,D,J){return J&&(D=V(D,J)),qe=wl(g,D,{disableWarning:!1}),this};var Yi=p.__private__.getFont=p.getFont=function(){return ze[wl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,D,J={};for(g in lt)if(lt.hasOwnProperty(g))for(D in J[g]=[],lt[g])lt[g].hasOwnProperty(D)&&J[g].push(D);return J},p.addFont=function(g,D,J,re,le){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(J=V(J,re)),to.call(this,g,D,J,le=le||"Identity-H")};var Ws,so=t.lineWidth||.200025,vt=p.__private__.getLineWidth=p.getLineWidth=function(){return so},Hs=p.__private__.setLineWidth=p.setLineWidth=function(g){return so=g,ee(x(P(g))+" w"),this};p.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(g,D){if(g=g||[],D=D||0,isNaN(D)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(J){return x(P(J))}).join(" "),D=x(P(D)),ee("["+g+"] "+D+" d"),this};var Vc=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Ws};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Ws};var Uc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Ws=g),this},Bc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ws};Uc(t.lineHeight);var yr=p.__private__.getHorizontalCoordinate=function(g){return P(g)},ps=p.__private__.getVerticalCoordinate=function(g){return B===R?g:gt[K].mediaBox.topRightY-gt[K].mediaBox.bottomLeftY-P(g)},zc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return x(yr(g))},ao=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return x(ps(g))},ms=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xi(ms)},p.__private__.setStrokeColor=p.setDrawColor=function(g,D,J,re){return ms=ei({ch1:g,ch2:D,ch3:J,ch4:re,pdfColorType:"draw",precision:2}),ee(ms),this};var oo=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xi(oo)},p.__private__.setFillColor=p.setFillColor=function(g,D,J,re){return oo=ei({ch1:g,ch2:D,ch3:J,ch4:re,pdfColorType:"fill",precision:2}),ee(oo),this};var Ii=t.textColor||"0 g",Xi=p.__private__.getTextColor=p.getTextColor=function(){return xi(Ii)};p.__private__.setTextColor=p.setTextColor=function(g,D,J,re){return Ii=ei({ch1:g,ch2:D,ch3:J,ch4:re,pdfColorType:"text",precision:3}),this};var ba=t.charSpace,Sl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ba||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ba=g,this};var hn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var D=p.CapJoinStyles[g];if(D===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hn=D,ee(D+" J"),this};var Nl=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var D=p.CapJoinStyles[g];if(D===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=D,ee(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(x(P(g))+" M"),this},p.GState=Xp,p.setGState=function(g){(g=typeof g=="string"?Et[Nn[g]]:Aa(null,g)).equals(_n)||(ee("/"+g.id+" gs"),_n=g)};var Aa=function(g,D){if(!g||!Nn[g]){var J=!1;for(var re in Et)if(Et.hasOwnProperty(re)&&Et[re].equals(D)){J=!0;break}if(J)D=Et[re];else{var le="GS"+(Object.keys(Et).length+1).toString(10);Et[le]=D,D.id=le}return g&&(Nn[g]=D.id),jt.publish("addGState",D),D}};p.addGState=function(g,D){return Aa(g,D),this},p.saveGraphicsState=function(){return ee("q"),Qt.push({key:qe,size:Re,color:Ii}),this},p.restoreGraphicsState=function(){ee("Q");var g=Qt.pop();return qe=g.key,Re=g.size,Ii=g.color,_n=null,this},p.setCurrentTransformationMatrix=function(g){return ee(g.toString()+" cm"),this},p.comment=function(g){return ee("#"+g),this};var Gs=function(g,D){var J=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Se){isNaN(Se)||(J=parseFloat(Se))}});var re=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Se){isNaN(Se)||(re=parseFloat(Se))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(Se){le=Se.toString()}}),this},lo=function(g,D,J,re){Gs.call(this,g,D),this.type="rect";var le=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Ce){isNaN(Ce)||(le=parseFloat(Ce))}});var Se=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Ce){isNaN(Ce)||(Se=parseFloat(Ce))}}),this},Ea=function(){this.page=Yt,this.currentPage=K,this.pages=Te.slice(0),this.pagesContext=gt.slice(0),this.x=Xe,this.y=mt,this.matrix=dt,this.width=di(K),this.height=gs(K),this.outputDestination=Ve,this.id="",this.objectNumber=-1};Ea.prototype.restore=function(){Yt=this.page,K=this.currentPage,gt=this.pagesContext,Te=this.pages,Xe=this.x,mt=this.y,dt=this.matrix,Il(K,this.width),ni(K,this.height),Ve=this.outputDestination};var Ks=function(g,D,J,re,le){Or.push(new Ea),Yt=K=0,Te=[],Xe=g,mt=D,dt=le,Ni([J,re])};for(var Qs in p.beginFormObject=function(g,D,J,re,le){return Ks(g,D,J,re,le),this},p.endFormObject=function(g){return function(D){if(Qi[D])Or.pop().restore();else{var J=new Ea,re="Xo"+(Object.keys(Wn).length+1).toString(10);J.id=re,Qi[D]=re,Wn[re]=J,jt.publish("addFormObject",J),Or.pop().restore()}}(g),this},p.doFormObject=function(g,D){var J=Wn[Qi[g]];return ee("q"),ee(D.toString()+" cm"),ee("/"+J.id+" Do"),ee("Q"),this},p.getFormObject=function(g){var D=Wn[Qi[g]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(g,D){return g=g||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Bl(qs(ds()),g),typeof Bl.unload=="function"&&At.setTimeout&&setTimeout(Bl.unload,911),this):new Promise(function(J,re){try{var le=Bl(qs(ds()),g);typeof Bl.unload=="function"&&At.setTimeout&&setTimeout(Bl.unload,911),J(le)}catch(Se){re(Se.message)}})},at.API)at.API.hasOwnProperty(Qs)&&(Qs==="events"&&at.API.events.length?function(g,D){var J,re,le;for(le=D.length-1;le!==-1;le--)J=D[le][0],re=D[le][1],g.subscribe.apply(g,[J].concat(typeof re=="function"?[re]:re))}(jt,at.API.events):p[Qs]=at.API[Qs]);function di(g){return gt[g].mediaBox.topRightX-gt[g].mediaBox.bottomLeftX}function Il(g,D){gt[g].mediaBox.topRightX=D+gt[g].mediaBox.bottomLeftX}function gs(g){return gt[g].mediaBox.topRightY-gt[g].mediaBox.bottomLeftY}function ni(g,D){gt[g].mediaBox.topRightY=D+gt[g].mediaBox.bottomLeftY}var kl=p.getPageWidth=function(g){return di(g=g||K)/ot},uo=p.setPageWidth=function(g,D){Il(g,D*ot)},Zi=p.getPageHeight=function(g){return gs(g=g||K)/ot},Tl=p.setPageHeight=function(g,D){ni(g,D*ot)};return p.internal={pdfEscape:vr,getStyle:_a,getFont:Yi,getFontSize:Ue,getCharSpace:Sl,getTextColor:Xi,getLineHeight:Vc,getLineHeightFactor:Bc,getLineWidth:vt,write:kt,getHorizontalCoordinate:yr,getVerticalCoordinate:ps,getCoordinateString:zc,getVerticalCoordinateString:ao,collections:{},newObject:In,newAdditionalObject:ma,newObjectDeferred:sr,newObjectDeferredBegin:kn,getFilters:Fr,putStream:Hn,events:jt,scaleFactor:ot,pageSize:{getWidth:function(){return kl(K)},setWidth:function(g){uo(K,g)},getHeight:function(){return Zi(K)},setHeight:function(g){Tl(K,g)}},encryptionOptions:f,encryption:tn,getEncryptor:function(g){return f!==null?tn.encryptor(g,0):function(D){return D}},output:ci,getNumberOfPages:_l,pages:Te,out:ee,f2:E,f3:S,getPageInfo:ti,getPageInfoByObjId:ro,getCurrentPageInfo:io,getPDFVersion:k,Point:Gs,Rectangle:lo,Matrix:ct,hasHotfix:ya},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return kl(K)},set:function(g){uo(K,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Zi(K)},set:function(g){Tl(K,g)},enumerable:!0,configurable:!0}),(function(g){for(var D=0,J=it.length;D<J;D++){var re=to.call(this,g[D][0],g[D][1],g[D][2],it[D][3],!0);m===!1&&(_[re]=!0);var le=g[D][0].split("-");gl({id:re,fontName:le[0],fontStyle:le[1]||""})}jt.publish("addFonts",{fonts:ze,dictionary:lt})}).call(p,it),qe="F1",no(i,n),jt.publish("initialized"),p}Lu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Lu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lu.prototype.processOwnerPassword=function(t,e){return V0(F0(e).substr(0,5),t)},Lu.prototype.encryptor=function(t,e){var n=F0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return V0(n,r)}},Xp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ln(t)!==ln(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="3.0.3";var qn=at.API,Vv=1,vu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Iu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(t){return t.toFixed(2)},Io=function(t){return t.toFixed(5)};qn.__acroform__={};var Ei=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},eb=function(t){return t*Vv},ta=function(t){var e=new z3,n=Qe.internal.getHeight(t)||0,r=Qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(St(r)),Number(St(n))],e},qj=qn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},$j=qn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Wj=qn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zn=qn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Wj(t,e-1)},er=qn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qj(t,e-1)},tr=qn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $j(t,e-1)},Hj=qn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},Gj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=U0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ta(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},U0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,a=Qe.internal.getHeight(t)||0;a=a<0?-a:a;var o=Qe.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(E,S,P){if(E+1<i.length){var te=S+" "+i[E+1][0];return Ld(te,t,P).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,m=Ld("3",t,s).height,_=t.multiline?a-s:(a-m)/2,p=_+=2,C=0,k=0,L=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ld(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var b="",T=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var B=!1;if(i[R].length!==1&&L!==i[R].length-1){if((m+2)*(T+2)+2>a)continue e;b+=i[R][L],B=!0,k=R,R--}else{b=(b+=i[R][L]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var ne=parseInt(R),F=l(ne,b,s),V=R>=i.length-1;if(F&&!V){b+=" ",L=0;continue}if(F||V){if(V)k=ne;else if(t.multiline&&(m+2)*(T+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(T+2)+2>a)continue e;k=ne}}for(var x="",N=C;N<=k;N++){var O=i[N];if(t.multiline){if(N===k){x+=O[L]+" ",L=(L+1)%O.length;continue}if(N===C){x+=O[O.length-1]+" ";continue}}x+=O[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,f=Ld(x,t,s).width,t.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;default:u=2}e+=St(u)+" "+St(p)+` Td
`,e+="("+vu(x)+`) Tj
`,e+=-St(u)+` 0 Td
`,p=-(s+2),f=0,C=B?k:k+1,T++,b=""}break}return r.text=e,r.fontSize=s,r},Ld=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Kj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qj=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Jj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(js.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Kj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new q3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Qj(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=Hj(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Qe.createDefaultAppearanceStream(o),ln(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Gj(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var m="";for(var _ in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(_)){var p=o.appearanceStreamContent[_];if(m+="/"+_+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var C=p[a];typeof C=="function"&&(C=C.call(i,o)),m+="/"+a+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=p)=="function"&&(C=C.call(i,o)),m+="/"+a+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(k,L){for(var b in k)if(k.hasOwnProperty(b)){var T=b,R=k[b];L.internal.newObjectDeferredBegin(R.objId,!0),ln(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete k[T]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},B3=qn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ln(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+vu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+vu(r(t))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:B3(i,this.objId,this.scope)}):i instanceof sa?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var z3=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ei(z3,sa);var q3=function(){sa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+vu(n(t))+")"}},set:function(n){t=n}})};Ei(q3,sa);var js=function t(){sa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(e,3)},set:function(b){b?this.F=er(e,3):this.F=tr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Zp)return;s="FieldObject"+t.FieldNum++}var b=function(T){return T};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+vu(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Vv:u},set:function(b){u=b}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(b){f=b}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Zp||this instanceof Yl))return a1(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=b}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof br==0?a1(_,this.objId,this.scope):_},set:function(b){b=b.toString(),_=this instanceof br==0?b.substr(0,1)==="("?Iu(b.substr(1,b.length-2)):Iu(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?Iu(_.substr(1,_.length-1)):_},set:function(b){b=b.toString(),_=this instanceof br==1?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof br==0?a1(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof br==0?b.substr(0,1)==="("?Iu(b.substr(1,b.length-2)):Iu(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?Iu(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof br==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(b){b=!!b,k=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(b){C=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(b){b?this.Ff=er(this.Ff,1):this.Ff=tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(b){b?this.Ff=er(this.Ff,2):this.Ff=tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(b){b?this.Ff=er(this.Ff,3):this.Ff=tr(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');L=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(L){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};Ei(js,sa);var sc=function(){js.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return B3(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(n){n?this.Ff=er(this.Ff,18):this.Ff=tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=er(this.Ff,19):this.Ff=tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(n){n?(this.Ff=er(this.Ff,20),e.sort()):this.Ff=tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(n){n?this.Ff=er(this.Ff,22):this.Ff=tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(n){n?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(n){n?this.Ff=er(this.Ff,27):this.Ff=tr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ei(sc,js);var ac=function(){sc.call(this),this.fontName="helvetica",this.combo=!1};Ei(ac,sc);var oc=function(){ac.call(this),this.combo=!0};Ei(oc,ac);var sp=function(){oc.call(this),this.edit=!0};Ei(sp,oc);var br=function(){js.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(n){n?this.Ff=er(this.Ff,15):this.Ff=tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(n){n?this.Ff=er(this.Ff,16):this.Ff=tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(n){n?this.Ff=er(this.Ff,17):this.Ff=tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(n){n?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+vu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ln(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ei(br,js);var ap=function(){br.call(this),this.pushButton=!0};Ei(ap,br);var lc=function(){br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ei(lc,br);var Zp=function(){var t,e;js.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+vu(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){ln(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ei(Zp,js),lc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},lc.prototype.createOption=function(t){var e=new Zp;return e.Parent=this,e.optionName=t,this.Kids.push(e),Yj.call(this.scope,e),e};var op=function(){br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Ei(op,br);var Yl=function(){js.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(e){e?this.Ff=er(this.Ff,13):this.Ff=tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(e){e?this.Ff=er(this.Ff,21):this.Ff=tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(e){e?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(e){e?this.Ff=er(this.Ff,24):this.Ff=tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(e){e?this.Ff=er(this.Ff,25):this.Ff=tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(e){e?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ei(Yl,js);var lp=function(){Yl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(t){t?this.Ff=er(this.Ff,14):this.Ff=tr(this.Ff,14)}}),this.password=!0};Ei(lp,Yl);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=U0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+St(Qe.internal.getWidth(t))+" "+St(Qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+St(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Qe.internal.getHeight(t),a=Qe.internal.getWidth(t),o=U0(t,t.caption);return i.push("1 g"),i.push("0 0 "+St(a)+" "+St(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(a-1)+" "+St(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+St(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(Qe.internal.getWidth(t))+" "+St(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Circle.YesNormal,e.D[t]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Qe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Io(Qe.internal.getWidth(t)/2)+" "+Io(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5)),a=Number((r*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Io(Qe.internal.getWidth(t)/2)+" "+Io(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Io(Qe.internal.getWidth(t)/2)+" "+Io(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Io(Qe.internal.getWidth(t)/2)+" "+Io(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Cross.YesNormal,e.D[t]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+St(Qe.internal.getWidth(t)-2)+" "+St(Qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),n.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),n.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),n.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=Qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Qe.internal.getWidth(t))+" "+St(Qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(Qe.internal.getWidth(t)-2)+" "+St(Qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),r.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),r.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),r.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(Qe.internal.getWidth(t))+" "+St(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Qe.internal.getWidth(t),n=Qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Qe.internal.getWidth=function(t){var e=0;return ln(t)==="object"&&(e=eb(t.Rect[2])),e},Qe.internal.getHeight=function(t){var e=0;return ln(t)==="object"&&(e=eb(t.Rect[3])),e};var Yj=qn.addField=function(t){if(Jj(this,t),!(t instanceof js))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=sc,qn.AcroFormListBox=ac,qn.AcroFormComboBox=oc,qn.AcroFormEditBox=sp,qn.AcroFormButton=br,qn.AcroFormPushButton=ap,qn.AcroFormRadioButton=lc,qn.AcroFormCheckBox=op,qn.AcroFormTextField=Yl,qn.AcroFormPasswordField=lp,qn.AcroFormAppearance=Qe,qn.AcroForm={ChoiceField:sc,ListBox:ac,ComboBox:oc,EditBox:sp,Button:br,PushButton:ap,RadioButton:lc,CheckBox:op,TextField:Yl,PasswordField:lp,Appearance:Qe},at.AcroForm={ChoiceField:sc,ListBox:ac,ComboBox:oc,EditBox:sp,Button:br,PushButton:ap,RadioButton:lc,CheckBox:op,TextField:Yl,PasswordField:lp,Appearance:Qe};at.AcroForm;function $3(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,S){var P,te,fe,ye,de,Z=n;if((S=S||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(F(E))for(de in r)for(fe=r[de],P=0;P<fe.length;P+=1){for(ye=!0,te=0;te<fe[P].length;te+=1)if(fe[P][te]!==void 0&&fe[P][te]!==E[te]){ye=!1;break}if(ye===!0){Z=de;break}}else for(de in r)for(fe=r[de],P=0;P<fe.length;P+=1){for(ye=!0,te=0;te<fe[P].length;te+=1)if(fe[P][te]!==void 0&&fe[P][te]!==E.charCodeAt(te)){ye=!1;break}if(ye===!0){Z=de;break}}return Z===n&&S!==n&&(Z=S),Z},s=function E(S){for(var P=this.internal.write,te=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:S.width}),ye.push({key:"Height",value:S.height}),S.colorSpace===b.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===b.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)&&S.transparency.length>0){for(var de="",Z=0,G=S.transparency.length;Z<G;Z++)de+=S.transparency[Z]+" "+S.transparency[Z]+" ";ye.push({key:"Mask",value:"["+de+"]"})}S.sMask!==void 0&&ye.push({key:"SMask",value:S.objectId+1+" 0 R"});var pe=S.filter!==void 0?["/"+S.filter]:void 0;if(te({data:S.data,additionalKeyValues:ye,alreadyAppliedFilters:pe,objectId:S.objectId}),P("endobj"),"sMask"in S&&S.sMask!==void 0){var _e,M=(_e=S.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:S.bitsPerComponent,K={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:S.sMask};"filter"in S&&(K.decodeParameters="/Predictor ".concat(S.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(S.width),K.filter=S.filter),E.call(this,K)}if(S.colorSpace===b.INDEXED){var q=this.internal.newObject();te({data:x(new Uint8Array(S.palette)),objectId:q}),P("endobj")}},a=function(){var E=this.internal.collections[e+"images"];for(var S in E)s.call(this,E[S])},o=function(){var E,S=this.internal.collections[e+"images"],P=this.internal.write;for(var te in S)P("/I"+(E=S[te]).index,E.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var E=this.internal.collections[e+"images"];return l.call(this),E},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(E){return typeof t["process"+E.toUpperCase()]=="function"},_=function(E){return ln(E)==="object"&&E.nodeType===1},p=function(E,S){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var P=""+E.getAttribute("src");if(P.indexOf("data:image/")===0)return ip(unescape(P).split("base64,").pop());var te=t.loadFile(P,!0);if(te!==void 0)return te}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var fe;switch(S){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return ip(E.toDataURL(fe,1).split("base64,").pop())}},C=function(E){var S=this.internal.collections[e+"images"];if(S){for(var P in S)if(E===S[P].alias)return S[P]}},k=function(E,S,P){return E||S||(E=-96,S=-96),E<0&&(E=-1*P.width*72/E/this.internal.scaleFactor),S<0&&(S=-1*P.height*72/S/this.internal.scaleFactor),E===0&&(E=S*P.width/P.height),S===0&&(S=E*P.height/P.width),[E,S]},L=function(E,S,P,te,fe,ye){var de=k.call(this,P,te,fe),Z=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,pe=u.call(this);if(P=de[0],te=de[1],pe[fe.index]=fe,ye){ye*=Math.PI/180;var _e=Math.cos(ye),M=Math.sin(ye),K=function(Q){return Q.toFixed(4)},q=[K(_e),K(M),K(-1*M),K(_e),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,Z(E),G(S+te),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Z(P),"0","0",Z(te),"0","0","cm"].join(" "))):this.internal.write([Z(P),"0","0",Z(te),Z(E),G(S+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(E){var S,P,te=0;if(typeof E=="string")for(P=E.length,S=0;S<P;S++)te=(te<<5)-te+E.charCodeAt(S),te|=0;else if(F(E))for(P=E.byteLength/2,S=0;S<P;S++)te=(te<<5)-te+E[S],te|=0;return te},B=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var S=!0;return E.length===0&&(S=!1),E.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(S=!1),S},ne=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var S=E.indexOf(",");return S<0?null:E.substring(0,S).trim().endsWith("base64")?E.substring(S+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(E){for(var S=E.length,P=new Uint8Array(S),te=0;te<S;te++)P[te]=E.charCodeAt(te);return P},x=t.__addimage__.arrayBufferToBinaryString=function(E){for(var S="",P=F(E)?E:new Uint8Array(E),te=0;te<P.length;te+=8192)S+=String.fromCharCode.apply(null,P.subarray(te,te+8192));return S};t.addImage=function(){var E,S,P,te,fe,ye,de,Z,G;if(typeof arguments[1]=="number"?(S=n,P=arguments[1],te=arguments[2],fe=arguments[3],ye=arguments[4],de=arguments[5],Z=arguments[6],G=arguments[7]):(S=arguments[1],P=arguments[2],te=arguments[3],fe=arguments[4],ye=arguments[5],de=arguments[6],Z=arguments[7],G=arguments[8]),ln(E=arguments[0])==="object"&&!_(E)&&"imageData"in E){var pe=E;E=pe.imageData,S=pe.format||S||n,P=pe.x||P||0,te=pe.y||te||0,fe=pe.w||pe.width||fe,ye=pe.h||pe.height||ye,de=pe.alias||de,Z=pe.compression||Z,G=pe.rotation||pe.angle||G}var _e=this.internal.getFilters();if(Z===void 0&&_e.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(P)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=N.call(this,E,S,de,Z);return L.call(this,P,te,fe,ye,M,G),this};var N=function(E,S,P,te){var fe,ye,de;if(typeof E=="string"&&i(E)===n){E=unescape(E);var Z=O(E,!1);(Z!==""||(Z=t.loadFile(E,!0))!==void 0)&&(E=Z)}if(_(E)&&(E=p(E,S)),S=i(E,S),!m(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((de=P)==null||de.length===0)&&(P=function(G){return typeof G=="string"||F(G)?R(G):F(G.data)?R(G.data):null}(E)),(fe=C.call(this,P))||(E instanceof Uint8Array||S==="RGBA"||(ye=E,E=V(E)),fe=this["process"+S.toUpperCase()](E,f.call(this),P,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in t.image_compression?G:T.NONE}(te),ye)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},O=t.__addimage__.convertBase64ToBinaryString=function(E,S){S=typeof S!="boolean"||S;var P,te="";if(typeof E=="string"){var fe;P=(fe=ne(E))!==null&&fe!==void 0?fe:E;try{te=ip(P)}catch(ye){if(S)throw B(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};t.getImageProperties=function(E){var S,P,te="";if(_(E)&&(E=p(E)),typeof E=="string"&&i(E)===n&&((te=O(E,!1))===""&&(te=t.loadFile(E)||""),E=te),P=i(E),!m(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(E instanceof Uint8Array||(E=V(E)),!(S=this["process"+P.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=P,S}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var _=0;_<u.length;_++){r=u[_];var p=this.internal.pdfEscape,C=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(k.objId),T=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(b(r.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(b(T))+") >>",k.content=s;var R=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(k.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(C(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ne=this.annotations._nameMap[r.options.name];r.options.pageNumber=ne.page,r.options.top=ne.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var F=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(n,o).length;a=Math.ceil(u*f)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},o=t.__arabicParser__.isArabicEndLetter=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(k){return a(k)&&i.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(k){var L=0,b=n,T="",R=0;for(L=0;L<k.length;L+=1)b[k.charCodeAt(L)]!==void 0?(R++,typeof(b=b[k.charCodeAt(L)])=="number"&&(T+=String.fromCharCode(b),b=n,R=0),L===k.length-1&&(b=n,T+=k.charAt(L-(R-1)),L-=R-1,R=0)):(b=n,T+=k.charAt(L-R),L-=R,R=0);return T};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(k,L,b){return a(k)?s(k)===!1?-1:!u(k)||!a(L)&&!a(b)||!a(b)&&o(L)||o(k)&&!a(L)||o(k)&&l(L)||o(k)&&o(L)?0:f(k)&&a(L)&&!o(L)&&a(b)&&u(b)?3:o(k)||!a(b)?1:2:-1},p=function(k){var L=0,b=0,T=0,R="",B="",ne="",F=(k=k||"").split("\\s+"),V=[];for(L=0;L<F.length;L+=1){for(V.push(""),b=0;b<F[L].length;b+=1)R=F[L][b],B=F[L][b-1],ne=F[L][b+1],a(R)?(T=_(R,B,ne),V[L]+=T!==-1?String.fromCharCode(e[R.charCodeAt(0)][T]):R):V[L]+=R;V[L]=m(V[L])}return V.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var k,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(L)){var T=0;for(b=[],T=0;T<L.length;T+=1)Array.isArray(L[T])?b.push([p(L[T][0]),L[T][1],L[T][2]]):b.push([p(L[T])]);k=b}else k=p(L);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",C])}(at.API),at.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(k){l=k}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(k){_=k}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(k){C=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),_=u.scaleFactor||this.internal.scaleFactor,p=0,C=0,k=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=u.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,B){return R.concat(L.splitTextToSize(B,b))},[])):l=Array.isArray(l)?l:[l];for(var T=0;T<l.length;T++)p<(k=this.getStringUnitWidth(l[T],{font:m})*f)&&(p=k);return p!==0&&(C=l.length),{w:p/=_,h:Math.max((C*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,m,_){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,C,k,L,b=[],T=[],R=[],B={},ne={},F=[],V=[],x=(_=_||{}).autoSize||!1,N=_.printHeaders!==!1,O=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,E=_.margins||Object.assign({width:this.getPageWidth()},e),S=typeof _.padding=="number"?_.padding:3,P=_.headerBackgroundColor||"#c8c8c8",te=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=te,this.setFontSize(O),m==null)T=b=Object.keys(f[0]),R=b.map(function(){return"left"});else if(Array.isArray(m)&&ln(m[0])==="object")for(b=m.map(function(pe){return pe.name}),T=m.map(function(pe){return pe.prompt||pe.name||""}),R=m.map(function(pe){return pe.align||"left"}),p=0;p<m.length;p+=1)ne[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(T=b=m,R=b.map(function(){return"left"}));if(x||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<b.length;p+=1){for(B[L=b[p]]=f.map(function(pe){return pe[L]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(T[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=B[L],this.setFont(void 0,"normal"),k=0;k<C.length;k+=1)F.push(this.getTextDimensions(C[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[L]=Math.max.apply(null,F)+S+S,F=[]}if(N){var fe={};for(p=0;p<b.length;p+=1)fe[b[p]]={},fe[b[p]].text=T[p],fe[b[p]].align=R[p];var ye=o.call(this,fe,ne);V=b.map(function(pe){return new s(l,u,ne[pe],ye,fe[pe].text,void 0,fe[pe].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var de=m.reduce(function(pe,_e){return pe[_e.name]=_e.align,pe},{});for(p=0;p<f.length;p+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:p,data:f[p]},this);var Z=o.call(this,f[p],ne);for(k=0;k<b.length;k+=1){var G=f[p][b[k]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:p,col:k,data:G},this),a.call(this,new s(l,u,ne[b[k]],Z,G,p+2,de[b[k]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(p){var C=l[p];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/_+f+f},this).reduce(function(p,C){return Math.max(p,C)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,_.push(f)),f.lineNumber=l;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(C)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(at.API);var W3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},H3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],B0=$3(H3),G3=[100,200,300,400,500,600,700,800,900],Xj=$3(G3);function o1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return W3[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof B0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function tb(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Zj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rb(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ib(t){return t.trimLeft()}function eO(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function tO(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Rd,sb,ab,ku,Dd,ob,lb,ub,l1=["times"];function cb(t,e,n,r,i){var s=4,a=fb;switch(i){case at.API.image_compression.FAST:s=1,a=hb;break;case at.API.image_compression.MEDIUM:s=6,a=db;break;case at.API.image_compression.SLOW:s=9,a=pb}t=function(l,u,f,m){for(var _,p=l.length/u,C=new Uint8Array(l.length+p),k=[nO,hb,fb,db,pb],L=0;L<p;L+=1){var b=L*u,T=l.subarray(b,b+u);if(m)C.set(m(T,f,_),b+L);else{for(var R=k.length,B=[],ne=0;ne<R;ne+=1)B[ne]=k[ne](T,f,_);var F=iO(B.concat());C.set(B[F],b+L)}_=T}return C}(t,e,Math.ceil(n*r/8),a);var o=D0(t,{level:s});return at.API.__addimage__.arrayBufferToBinaryString(o)}function nO(t){var e=Array.apply([],t);return e.unshift(0),e}function hb(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function fb(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function db(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function pb(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=rO(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function rO(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function iO(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function u1(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return K3(t,i)>>s&a}function mb(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(u,f,m){if(f+1<u.byteLength)u.setUint16(f,m,!1);else{var _=m>>8&255;u.setUint8(f,_)}})(t,s,K3(t,s)&~(o<<a)&65535|l)}function K3(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function sO(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,f=[],m=0,_=null,p=0,C=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];m=t[e++]|t[e++]<<8,_=t[e++],1&k||(_=null),p=k>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var L=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,B=t[e++],ne=B>>6&1,F=1<<1+(7&B),V=o,x=l,N=!1;B>>7&&(N=!0,V=e,x=F,e+=3*F);var O=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}f.push({x:L,y:b,width:T,height:R,has_local_palette:N,palette_offset:V,palette_size:x,data_offset:O,data_length:e-O,transparent_index:_,interlaced:!!ne,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return C},this.frameInfo=function(S){if(S<0||S>=f.length)throw new Error("Frame index out of range.");return f[S]},this.decodeAndBlitFrameBGRA=function(S,P){var te=this.frameInfo(S),fe=te.width*te.height,ye=new Uint8Array(fe);gb(t,te.data_offset,ye,fe);var de=te.palette_offset,Z=te.transparent_index;Z===null&&(Z=256);var G=te.width,pe=n-G,_e=G,M=4*(te.y*n+te.x),K=4*((te.y+te.height)*n+te.x),q=M,Q=4*pe;te.interlaced===!0&&(Q+=4*n*7);for(var ie=8,ae=0,ve=ye.length;ae<ve;++ae){var we=ye[ae];if(_e===0&&(_e=G,(q+=Q)>=K&&(Q=4*pe+4*n*(ie-1),q=M+(G+pe)*(ie<<1),ie>>=1)),we===Z)q+=4;else{var Ae=t[de+3*we],Te=t[de+3*we+1],Fe=t[de+3*we+2];P[q++]=Fe,P[q++]=Te,P[q++]=Ae,P[q++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(S,P){var te=this.frameInfo(S),fe=te.width*te.height,ye=new Uint8Array(fe);gb(t,te.data_offset,ye,fe);var de=te.palette_offset,Z=te.transparent_index;Z===null&&(Z=256);var G=te.width,pe=n-G,_e=G,M=4*(te.y*n+te.x),K=4*((te.y+te.height)*n+te.x),q=M,Q=4*pe;te.interlaced===!0&&(Q+=4*n*7);for(var ie=8,ae=0,ve=ye.length;ae<ve;++ae){var we=ye[ae];if(_e===0&&(_e=G,(q+=Q)>=K&&(Q=4*pe+4*n*(ie-1),q=M+(G+pe)*(ie<<1),ie>>=1)),we===Z)q+=4;else{var Ae=t[de+3*we],Te=t[de+3*we+1],Fe=t[de+3*we+2];P[q++]=Ae,P[q++]=Te,P[q++]=Fe,P[q++]=255}--_e}}}function gb(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,f=0,m=0,_=0,p=t[e++],C=new Int32Array(4096),k=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var L=m&u;if(m>>=l,f-=l,L!==s){if(L===a)break;for(var b=L<o?L:k,T=0,R=b;R>s;)R=C[R]>>8,++T;var B=R;if(_+T+(b!==L?1:0)>r)return void pn.log("Warning, gif stream longer than expected.");n[_++]=B;var ne=_+=T;for(b!==L&&(n[_++]=B),R=b;T--;)R=C[R],n[--ne]=255&R,R>>=8;k!==null&&o<4096&&(C[o++]=k<<8|B,o>=u+1&&l<12&&(++l,u=u<<1|1)),k=L}else o=a+1,u=(1<<(l=i+1))-1,k=null}return _!==r&&pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function c1(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),_=new Array(65535),p=new Array(64),C=new Array(64),k=[],L=0,b=7,T=new Array(64),R=new Array(64),B=new Array(64),ne=new Array(256),F=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(M,K){for(var q=0,Q=0,ie=new Array,ae=1;ae<=16;ae++){for(var ve=1;ve<=M[ae];ve++)ie[K[Q]]=[],ie[K[Q]][0]=q,ie[K[Q]][1]=ae,Q++,q++;q*=2}return ie}function de(M){for(var K=M[0],q=M[1]-1;q>=0;)K&1<<q&&(L|=1<<b),q--,--b<0&&(L==255?(Z(255),Z(0)):Z(L),b=7,L=0)}function Z(M){k.push(M)}function G(M){Z(M>>8&255),Z(255&M)}function pe(M,K,q,Q,ie){for(var ae,ve=ie[0],we=ie[240],Ae=function(Re,Ke){var Ue,wt,Je,Mt,ft,Ye,ke,rt,qe,ot,Xe=0;for(qe=0;qe<8;++qe){Ue=Re[Xe],wt=Re[Xe+1],Je=Re[Xe+2],Mt=Re[Xe+3],ft=Re[Xe+4],Ye=Re[Xe+5],ke=Re[Xe+6];var mt=Ue+(rt=Re[Xe+7]),dt=Ue-rt,ze=wt+ke,lt=wt-ke,Qt=Je+Ye,ht=Je-Ye,Rt=Mt+ft,Et=Mt-ft,Nn=mt+Rt,_n=mt-Rt,Yt=ze+Qt,gt=ze-Qt;Re[Xe]=Nn+Yt,Re[Xe+4]=Nn-Yt;var jt=.707106781*(gt+_n);Re[Xe+2]=_n+jt,Re[Xe+6]=_n-jt;var Ms=.382683433*((Nn=Et+ht)-(gt=lt+dt)),Wn=.5411961*Nn+Ms,Qi=1.306562965*gt+Ms,Or=.707106781*(Yt=ht+lt),ct=dt+Or,wn=dt-Or;Re[Xe+5]=wn+Wn,Re[Xe+3]=wn-Wn,Re[Xe+1]=ct+Qi,Re[Xe+7]=ct-Qi,Xe+=8}for(Xe=0,qe=0;qe<8;++qe){Ue=Re[Xe],wt=Re[Xe+8],Je=Re[Xe+16],Mt=Re[Xe+24],ft=Re[Xe+32],Ye=Re[Xe+40],ke=Re[Xe+48];var Ji=Ue+(rt=Re[Xe+56]),mr=Ue-rt,gr=wt+ke,In=wt-ke,sr=Je+Ye,kn=Je-Ye,ma=Mt+ft,Fs=Mt-ft,Mr=Ji+ma,xi=Ji-ma,ei=gr+sr,Fr=gr-sr;Re[Xe]=Mr+ei,Re[Xe+32]=Mr-ei;var Hn=.707106781*(Fr+xi);Re[Xe+16]=xi+Hn,Re[Xe+48]=xi-Hn;var Vs=.382683433*((Mr=Fs+kn)-(Fr=In+mr)),Si=.5411961*Mr+Vs,fs=1.306562965*Fr+Vs,Us=.707106781*(ei=kn+In),ga=mr+Us,va=mr-Us;Re[Xe+40]=va+Si,Re[Xe+24]=va-Si,Re[Xe+8]=ga+fs,Re[Xe+56]=ga-fs,Xe++}for(qe=0;qe<64;++qe)ot=Re[qe]*Ke[qe],p[qe]=ot>0?ot+.5|0:ot-.5|0;return p}(M,K),Te=0;Te<64;++Te)C[V[Te]]=Ae[Te];var Fe=C[0]-q;q=C[0],Fe==0?de(Q[0]):(de(Q[_[ae=32767+Fe]]),de(m[ae]));for(var Ve=63;Ve>0&&C[Ve]==0;)Ve--;if(Ve==0)return de(ve),q;for(var Ee,ee=1;ee<=Ve;){for(var kt=ee;C[ee]==0&&ee<=Ve;)++ee;var _t=ee-kt;if(_t>=16){Ee=_t>>4;for(var it=1;it<=Ee;++it)de(we);_t&=15}ae=32767+C[ee],de(ie[(_t<<4)+_[ae]]),de(m[ae]),ee++}return Ve!=63&&de(ve),q}function _e(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(K){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ie=a((q[Q]*K+50)/100);ie=Math.min(Math.max(ie,1),255),o[V[Q]]=ie}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=a((ae[ve]*K+50)/100);we=Math.min(Math.max(we,1),255),l[V[ve]]=we}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Fe=0;Fe<8;Fe++)for(var Ve=0;Ve<8;Ve++)u[Te]=1/(o[V[Te]]*Ae[Fe]*Ae[Ve]*8),f[Te]=1/(l[V[Te]]*Ae[Fe]*Ae[Ve]*8),Te++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,K){K&&_e(K),k=new Array,L=0,b=7,G(65496),G(65504),G(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),G(1),G(1),Z(0),Z(0),function(){G(65499),G(132),Z(0);for(var wt=0;wt<64;wt++)Z(o[wt]);Z(1);for(var Je=0;Je<64;Je++)Z(l[Je])}(),function(wt,Je){G(65472),G(17),Z(8),G(Je),G(wt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(M.width,M.height),function(){G(65476),G(418),Z(0);for(var wt=0;wt<16;wt++)Z(x[wt+1]);for(var Je=0;Je<=11;Je++)Z(N[Je]);Z(16);for(var Mt=0;Mt<16;Mt++)Z(O[Mt+1]);for(var ft=0;ft<=161;ft++)Z(E[ft]);Z(1);for(var Ye=0;Ye<16;Ye++)Z(S[Ye+1]);for(var ke=0;ke<=11;ke++)Z(P[ke]);Z(17);for(var rt=0;rt<16;rt++)Z(te[rt+1]);for(var qe=0;qe<=161;qe++)Z(fe[qe])}(),G(65498),G(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var q=0,Q=0,ie=0;L=0,b=7,this.encode.displayName="_encode_";for(var ae,ve,we,Ae,Te,Fe,Ve,Ee,ee,kt=M.data,_t=M.width,it=M.height,Re=4*_t,Ke=0;Ke<it;){for(ae=0;ae<Re;){for(Te=Re*Ke+ae,Ve=-1,Ee=0,ee=0;ee<64;ee++)Fe=Te+(Ee=ee>>3)*Re+(Ve=4*(7&ee)),Ke+Ee>=it&&(Fe-=Re*(Ke+1+Ee-it)),ae+Ve>=Re&&(Fe-=ae+Ve-Re+4),ve=kt[Fe++],we=kt[Fe++],Ae=kt[Fe++],T[ee]=(F[ve]+F[we+256|0]+F[Ae+512|0]>>16)-128,R[ee]=(F[ve+768|0]+F[we+1024|0]+F[Ae+1280|0]>>16)-128,B[ee]=(F[ve+1280|0]+F[we+1536|0]+F[Ae+1792|0]>>16)-128;q=pe(T,u,q,e,r),Q=pe(R,f,Q,n,i),ie=pe(B,f,ie,n,i),ae+=32}Ke+=8}if(b>=0){var Ue=[];Ue[1]=b+1,Ue[0]=(1<<b+1)-1,de(Ue)}return G(65497),new Uint8Array(k)},t=t||50,function(){for(var M=String.fromCharCode,K=0;K<256;K++)ne[K]=M(K)}(),e=ye(x,N),n=ye(S,P),r=ye(O,E),i=ye(te,fe),function(){for(var M=1,K=2,q=1;q<=15;q++){for(var Q=M;Q<K;Q++)_[32767+Q]=q,m[32767+Q]=[],m[32767+Q][1]=q,m[32767+Q][0]=Q;for(var ie=-(K-1);ie<=-M;ie++)_[32767+ie]=q,m[32767+ie]=[],m[32767+ie][1]=q,m[32767+ie][0]=K-1+ie;M<<=1,K<<=1}}(),function(){for(var M=0;M<256;M++)F[M]=19595*M,F[M+256|0]=38470*M,F[M+512|0]=7471*M+32768,F[M+768|0]=-11059*M,F[M+1024|0]=-21709*M,F[M+1280|0]=32768*M+8421375,F[M+1536|0]=-27439*M,F[M+1792|0]=-5329*M}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function As(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vb(t){function e(N){if(!N)throw Error("assert :P")}function n(N,O,E){for(var S=0;4>S;S++)if(N[O+S]!=E.charCodeAt(S))return!0;return!1}function r(N,O,E,S,P){for(var te=0;te<P;te++)N[O+te]=E[S+te]}function i(N,O,E,S){for(var P=0;P<S;P++)N[O+P]=E}function s(N){return new Int32Array(N)}function a(N,O){for(var E=[],S=0;S<N;S++)E.push(new O);return E}function o(N,O){var E=[];return function S(P,te,fe){for(var ye=fe[te],de=0;de<ye&&(P.push(fe.length>te+1?[]:new O),!(fe.length<te+1));de++)S(P[de],te+1,fe)}(E,0,N),E}var l=function(){var N=this;function O(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function E(c,d,y,A,j){e(!(A%y));do c[d+(A-=y)]=j;while(0<A)}function S(c,d,y,A,j){if(e(2328>=j),512>=j)var U=s(512);else if((U=s(j))==null)return 0;return function(z,$,H,Y,se,ge){var X,oe,ce=$,xe=1<<H,me=s(16),Ne=s(16);for(e(se!=0),e(Y!=null),e(z!=null),e(0<H),oe=0;oe<se;++oe){if(15<Y[oe])return 0;++me[Y[oe]]}if(me[0]==se)return 0;for(Ne[1]=0,X=1;15>X;++X){if(me[X]>1<<X)return 0;Ne[X+1]=Ne[X]+me[X]}for(oe=0;oe<se;++oe)X=Y[oe],0<Y[oe]&&(ge[Ne[X]++]=oe);if(Ne[15]==1)return(Y=new P).g=0,Y.value=ge[0],E(z,ce,1,xe,Y),xe;var Ie,je=-1,Le=xe-1,st=0,Ge=1,Pt=1,tt=1<<H;for(oe=0,X=1,se=2;X<=H;++X,se<<=1){if(Ge+=Pt<<=1,0>(Pt-=me[X]))return 0;for(;0<me[X];--me[X])(Y=new P).g=X,Y.value=ge[oe++],E(z,ce+st,se,tt,Y),st=O(st,X)}for(X=H+1,se=2;15>=X;++X,se<<=1){if(Ge+=Pt<<=1,0>(Pt-=me[X]))return 0;for(;0<me[X];--me[X]){if(Y=new P,(st&Le)!=je){for(ce+=tt,Ie=1<<(je=X)-H;15>je&&!(0>=(Ie-=me[je]));)++je,Ie<<=1;xe+=tt=1<<(Ie=je-H),z[$+(je=st&Le)].g=Ie+H,z[$+je].value=ce-$-je}Y.g=X-H,Y.value=ge[oe++],E(z,ce+(st>>H),se,tt,Y),st=O(st,X)}}return Ge!=2*Ne[15]-1?0:xe}(c,d,y,A,j,U)}function P(){this.value=this.g=0}function te(){this.value=this.g=0}function fe(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Cl,te)}function ye(c,d,y,A){e(c!=null),e(d!=null),e(2147483648>A),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+A,c.Zc=4<=A?y+A-4+1:y,ve(c)}function de(c,d){for(var y=0;0<d--;)y|=Ae(c,128)<<d;return y}function Z(c,d){var y=de(c,d);return we(c)?-y:y}function G(c,d,y,A){var j,U=0;for(e(c!=null),e(d!=null),e(4294967288>A),c.Sb=A,c.Ra=0,c.u=0,c.h=0,4<A&&(A=4),j=0;j<A;++j)U+=d[y+j]<<8*j;c.Ra=U,c.bb=A,c.oa=d,c.pa=y}function pe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ho-8>>>0,++c.bb,c.u-=8;Q(c)&&(c.h=1,c.u=0)}function _e(c,d){if(e(0<=d),!c.h&&d<=Ci){var y=q(c)&Pi[d];return c.u+=d,pe(c),y}return c.h=1,c.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(c){return c.Ra>>>(c.u&ho-1)>>>0}function Q(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ho}function ie(c,d){c.u=d,c.h=Q(c)}function ae(c){c.u>=xa&&(e(c.u>=xa),pe(c))}function ve(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function we(c){return de(c,1)}function Ae(c,d){var y=c.Ca;0>c.b&&ve(c);var A=c.b,j=y*d>>>8,U=(c.I>>>A>j)+0;for(U?(y-=j,c.I-=j+1<<A>>>0):y=j+1,A=y,j=0;256<=A;)j+=8,A>>=8;return A=7^j+fo[A],c.b-=A,c.Ca=(y<<A)-1,U}function Te(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Fe(c,d){return c[d+0]|c[d+1]<<8}function Ve(c,d){return Fe(c,d)|c[d+2]<<16}function Ee(c,d){return Fe(c,d)|Fe(c,d+2)<<16}function ee(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function kt(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),r(d.X,0,c.X,0,1<<d.Xa)}function _t(){this.X=[],this.Xa=this.Mb=0}function it(c,d,y,A){e(y!=null),e(A!=null);var j=y[0],U=A[0];return j==0&&(j=(c*U+d/2)/d),U==0&&(U=(d*j+c/2)/c),0>=j||0>=U?0:(y[0]=j,A[0]=U,1)}function Re(c,d){return c+(1<<d)-1>>>d}function Ke(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function Ue(c,d){N[d]=function(y,A,j,U,z,$,H){var Y;for(Y=0;Y<z;++Y){var se=N[c]($[H+Y-1],j,U+Y);$[H+Y]=Ke(y[A+Y],se)}}}function wt(){this.ud=this.hd=this.jd=0}function Je(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Mt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function ft(c,d){return Mt(c+(c-d+.5>>1))}function Ye(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function ke(c,d,y,A,j,U,z){for(A=U[z-1],y=0;y<j;++y)U[z+y]=A=Ke(c[d+y],A)}function rt(c,d,y,A,j){var U;for(U=0;U<y;++U){var z=c[d+U],$=z>>8&255,H=16711935&(H=(H=16711935&z)+(($<<16)+$));A[j+U]=(4278255360&z)+H>>>0}}function qe(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function ot(c,d,y,A,j,U){var z;for(z=0;z<A;++z){var $=d[y+z],H=$>>>8,Y=$,se=255&(se=(se=$>>>16)+((c.jd<<24>>24)*(H<<24>>24)>>>5));Y=255&(Y=(Y+=(c.hd<<24>>24)*(H<<24>>24)>>>5)+((c.ud<<24>>24)*(se<<24>>24)>>>5)),j[U+z]=(4278255360&$)+(se<<16)+Y}}function Xe(c,d,y,A,j){N[d]=function(U,z,$,H,Y,se,ge,X,oe){for(H=ge;H<X;++H)for(ge=0;ge<oe;++ge)Y[se++]=j($[A(U[z++])])},N[c]=function(U,z,$,H,Y,se,ge){var X=8>>U.b,oe=U.Ea,ce=U.K[0],xe=U.w;if(8>X)for(U=(1<<U.b)-1,xe=(1<<X)-1;z<$;++z){var me,Ne=0;for(me=0;me<oe;++me)me&U||(Ne=A(H[Y++])),se[ge++]=j(ce[Ne&xe]),Ne>>=X}else N["VP8LMapColor"+y](H,Y,ce,xe,se,ge,z,$,oe)}}function mt(c,d,y,A,j){for(y=d+y;d<y;){var U=c[d++];A[j++]=U>>16&255,A[j++]=U>>8&255,A[j++]=255&U}}function dt(c,d,y,A,j){for(y=d+y;d<y;){var U=c[d++];A[j++]=U>>16&255,A[j++]=U>>8&255,A[j++]=255&U,A[j++]=U>>24&255}}function ze(c,d,y,A,j){for(y=d+y;d<y;){var U=(z=c[d++])>>16&240|z>>12&15,z=240&z|z>>28&15;A[j++]=U,A[j++]=z}}function lt(c,d,y,A,j){for(y=d+y;d<y;){var U=(z=c[d++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;A[j++]=U,A[j++]=z}}function Qt(c,d,y,A,j){for(y=d+y;d<y;){var U=c[d++];A[j++]=255&U,A[j++]=U>>8&255,A[j++]=U>>16&255}}function ht(c,d,y,A,j,U){if(U==0)for(y=d+y;d<y;)Te(A,((U=c[d++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),j+=32;else r(A,j,c,d,y)}function Rt(c,d){N[d][0]=N[c+"0"],N[d][1]=N[c+"1"],N[d][2]=N[c+"2"],N[d][3]=N[c+"3"],N[d][4]=N[c+"4"],N[d][5]=N[c+"5"],N[d][6]=N[c+"6"],N[d][7]=N[c+"7"],N[d][8]=N[c+"8"],N[d][9]=N[c+"9"],N[d][10]=N[c+"10"],N[d][11]=N[c+"11"],N[d][12]=N[c+"12"],N[d][13]=N[c+"13"],N[d][14]=N[c+"0"],N[d][15]=N[c+"0"]}function Et(c){return c==$m||c==Wm||c==Gf||c==Hm}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new _n,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ms(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Wn(c,d){var y=c.T,A=d.ba.f.RGBA,j=A.eb,U=A.fb+c.ka*A.A,z=ns[d.ba.S],$=c.y,H=c.O,Y=c.f,se=c.N,ge=c.ea,X=c.W,oe=d.cc,ce=d.dc,xe=d.Mc,me=d.Nc,Ne=c.ka,Ie=c.ka+c.T,je=c.U,Le=je+1>>1;for(Ne==0?z($,H,null,null,Y,se,ge,X,Y,se,ge,X,j,U,null,null,je):(z(d.ec,d.fc,$,H,oe,ce,xe,me,Y,se,ge,X,j,U-A.A,j,U,je),++y);Ne+2<Ie;Ne+=2)oe=Y,ce=se,xe=ge,me=X,se+=c.Rc,X+=c.Rc,U+=2*A.A,z($,(H+=2*c.fa)-c.fa,$,H,oe,ce,xe,me,Y,se,ge,X,j,U-A.A,j,U,je);return H+=c.fa,c.j+Ie<c.o?(r(d.ec,d.fc,$,H,je),r(d.cc,d.dc,Y,se,Le),r(d.Mc,d.Nc,ge,X,Le),y--):1&Ie||z($,H,null,null,Y,se,ge,X,Y,se,ge,X,j,U+A.A,null,null,je),y}function Qi(c,d,y){var A=c.F,j=[c.J];if(A!=null){var U=c.U,z=d.ba.S,$=z==Hf||z==Gf;d=d.ba.f.RGBA;var H=[0],Y=c.ka;H[0]=c.T,c.Kb&&(Y==0?--H[0]:(--Y,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(H[0]=c.o-c.j-Y));var se=d.eb;Y=d.fb+Y*d.A,c=Gv(A,j[0],c.width,U,H,se,Y+($?0:3),d.A),e(y==H),c&&Et(z)&&Yc(se,Y,$,U,H,d.A)}return 0}function Or(c){var d=c.ma,y=d.ba.S,A=11>y,j=y==$f||y==Wf||y==Hf||y==qm||y==12||Et(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!qc(d.Oa,c,j?11:12))return 0;if(j&&Et(y)&&Pl(),c.da)alert("todo:use_scaling");else{if(A){if(d.Ib=Ms,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=Wn,Pl()}}else alert("todo:EmitYUV");j&&(d.Jb=Qi,A&&mn())}if(A&&!uy){for(c=0;256>c;++c)mS[c]=89858*(c-128)+Qf>>Kf,yS[c]=-22014*(c-128)+Qf,vS[c]=-45773*(c-128),gS[c]=113618*(c-128)+Qf>>Kf;for(c=Zc;c<Qm;++c)d=76283*(c-16)+Qf>>Kf,_S[c-Zc]=Dt(d,255),wS[c-Zc]=Dt(d+8>>4,15);uy=1}return 1}function ct(c){var d=c.ma,y=c.U,A=c.T;return e(!(1&c.ka)),0>=y||0>=A?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function wn(c){c.ma.memory=null}function Ji(c,d,y,A){return _e(c,8)!=47?0:(d[0]=_e(c,14)+1,y[0]=_e(c,14)+1,A[0]=_e(c,1),_e(c,3)!=0?0:!c.h)}function mr(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+_e(d,y)+1}function gr(c,d){return 120<d?d-120:1<=(y=((y=tS[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function In(c,d,y){var A=q(y),j=c[d+=255&A].g-8;return 0<j&&(ie(y,y.u+8),A=q(y),d+=c[d].value,d+=A&(1<<j)-1),ie(y,y.u+c[d].g),c[d].value}function sr(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function kn(c,d,y){var A=c.xc;return e((d=A==0?0:c.vc[c.md*(y>>A)+(d>>A)])<c.Wb),c.Ya[d]}function ma(c,d,y,A){var j=c.ab,U=c.c*d,z=c.C;d=z+d;var $=y,H=A;for(A=c.Ta,y=c.Ua;0<j--;){var Y=c.gc[j],se=z,ge=d,X=$,oe=H,ce=(H=A,$=y,Y.Ea);switch(e(se<ge),e(ge<=Y.nc),Y.hc){case 2:Gn(X,oe,(ge-se)*ce,H,$);break;case 0:var xe=se,me=ge,Ne=H,Ie=$,je=(tt=Y).Ea;xe==0&&(Wc(X,oe,null,null,1,Ne,Ie),ke(X,oe+1,0,0,je-1,Ne,Ie+1),oe+=je,Ie+=je,++xe);for(var Le=1<<tt.b,st=Le-1,Ge=Re(je,tt.b),Pt=tt.K,tt=tt.w+(xe>>tt.b)*Ge;xe<me;){var zt=Pt,cr=tt,Ct=1;for(bu(X,oe,Ne,Ie-je,1,Ne,Ie);Ct<je;){var nt=(Ct&~st)+Le;nt>je&&(nt=je),(0,Gc[zt[cr++]>>8&15])(X,oe+ +Ct,Ne,Ie+Ct-je,nt-Ct,Ne,Ie+Ct),Ct=nt}oe+=je,Ie+=je,++xe&st||(tt+=Ge)}ge!=Y.nc&&r(H,$-ce,H,$+(ge-se-1)*ce,ce);break;case 1:for(ce=X,me=oe,je=(X=Y.Ea)-(Ie=X&~(Ne=(oe=1<<Y.b)-1)),xe=Re(X,Y.b),Le=Y.K,Y=Y.w+(se>>Y.b)*xe;se<ge;){for(st=Le,Ge=Y,Pt=new wt,tt=me+Ie,zt=me+X;me<tt;)qe(st[Ge++],Pt),Kc(Pt,ce,me,oe,H,$),me+=oe,$+=oe;me<zt&&(qe(st[Ge++],Pt),Kc(Pt,ce,me,je,H,$),me+=je,$+=je),++se&Ne||(Y+=xe)}break;case 3:if(X==H&&oe==$&&0<Y.b){for(me=H,X=ce=$+(ge-se)*ce-(Ie=(ge-se)*Re(Y.Ea,Y.b)),oe=H,Ne=$,xe=[],Ie=(je=Ie)-1;0<=Ie;--Ie)xe[Ie]=oe[Ne+Ie];for(Ie=je-1;0<=Ie;--Ie)me[X+Ie]=xe[Ie];Uf(Y,se,ge,H,ce,H,$)}else Uf(Y,se,ge,X,oe,H,$)}$=A,H=y}H!=y&&r(A,y,$,H,U)}function Fs(c,d){var y=c.V,A=c.Ba+c.c*c.C,j=d-c.C;if(e(d<=c.l.o),e(16>=j),0<j){var U=c.l,z=c.Ta,$=c.Ua,H=U.width;if(ma(c,j,y,A),j=$=[$],e((y=c.C)<(A=d)),e(U.v<U.va),A>U.o&&(A=U.o),y<U.j){var Y=U.j-y;y=U.j,j[0]+=Y*H}if(y>=A?y=0:(j[0]+=4*U.v,U.ka=y-U.j,U.U=U.va-U.v,U.T=A-y,y=1),y){if($=$[0],11>(y=c.ca).S){var se=y.f.RGBA,ge=(A=y.S,j=U.U,U=U.T,Y=se.eb,se.A),X=U;for(se=se.fb+c.Ma*se.A;0<X--;){var oe=z,ce=$,xe=j,me=Y,Ne=se;switch(A){case qf:Qc(oe,ce,xe,me,Ne);break;case $f:po(oe,ce,xe,me,Ne);break;case $m:po(oe,ce,xe,me,Ne),Yc(me,Ne,0,xe,1,0);break;case ey:Ll(oe,ce,xe,me,Ne);break;case Wf:ht(oe,ce,xe,me,Ne,1);break;case Wm:ht(oe,ce,xe,me,Ne,1),Yc(me,Ne,0,xe,1,0);break;case Hf:ht(oe,ce,xe,me,Ne,0);break;case Gf:ht(oe,ce,xe,me,Ne,0),Yc(me,Ne,1,xe,1,0);break;case qm:mo(oe,ce,xe,me,Ne);break;case Hm:mo(oe,ce,xe,me,Ne),Hv(me,Ne,xe,1,0);break;case ty:go(oe,ce,xe,me,Ne);break;default:e(0)}$+=H,se+=ge}c.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function Mr(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,A=c.Ya[d].H;if(0<y[1][A[1]+0].g||0<y[2][A[2]+0].g||0<y[3][A[3]+0].g)return 0}return 1}function xi(c,d,y,A,j,U){if(c.Z!=0){var z=c.qd,$=c.rd;for(e(_o[c.Z]!=null);d<y;++d)_o[c.Z](z,$,A,j,A,j,U),z=A,$=j,j+=U;c.qd=z,c.rd=$}}function ei(c,d){var y=c.l.ma,A=y.Z==0||y.Z==1?c.l.j:c.C;if(A=c.C<A?A:c.C,e(d<=c.l.o),d>A){var j=c.l.width,U=y.ca,z=y.tb+j*A,$=c.V,H=c.Ba+c.c*A,Y=c.gc;e(c.ab==1),e(Y[0].hc==3),Ys(Y[0],A,d,$,H,U,z),xi(y,A,d,U,z,j)}c.C=c.Ma=d}function Fr(c,d,y,A,j,U,z){var $=c.$/A,H=c.$%A,Y=c.m,se=c.s,ge=y+c.$,X=ge;j=y+A*j;var oe=y+A*U,ce=280+se.ua,xe=c.Pb?$:16777216,me=0<se.ua?se.Wa:null,Ne=se.wc,Ie=ge<oe?kn(se,H,$):null;e(c.C<U),e(oe<=j);var je=!1;e:for(;;){for(;je||ge<oe;){var Le=0;if($>=xe){var st=ge-y;e((xe=c).Pb),xe.wd=xe.m,xe.xd=st,0<xe.s.ua&&kt(xe.s.Wa,xe.s.vb),xe=$+rS}if(H&Ne||(Ie=kn(se,H,$)),e(Ie!=null),Ie.Qb&&(d[ge]=Ie.qb,je=!0),!je)if(ae(Y),Ie.jc){Le=Y,st=d;var Ge=ge,Pt=Ie.pd[q(Le)&Cl-1];e(Ie.jc),256>Pt.g?(ie(Le,Le.u+Pt.g),st[Ge]=Pt.value,Le=0):(ie(Le,Le.u+Pt.g-256),e(256<=Pt.value),Le=Pt.value),Le==0&&(je=!0)}else Le=In(Ie.G[0],Ie.H[0],Y);if(Y.h)break;if(je||256>Le){if(!je)if(Ie.nd)d[ge]=(Ie.qb|Le<<8)>>>0;else{if(ae(Y),je=In(Ie.G[1],Ie.H[1],Y),ae(Y),st=In(Ie.G[2],Ie.H[2],Y),Ge=In(Ie.G[3],Ie.H[3],Y),Y.h)break;d[ge]=(Ge<<24|je<<16|Le<<8|st)>>>0}if(je=!1,++ge,++H>=A&&(H=0,++$,z!=null&&$<=U&&!($%16)&&z(c,$),me!=null))for(;X<ge;)Le=d[X++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le}else if(280>Le){if(Le=mr(Le-256,Y),st=In(Ie.G[4],Ie.H[4],Y),ae(Y),st=gr(A,st=mr(st,Y)),Y.h)break;if(ge-y<st||j-ge<Le)break e;for(Ge=0;Ge<Le;++Ge)d[ge+Ge]=d[ge+Ge-st];for(ge+=Le,H+=Le;H>=A;)H-=A,++$,z!=null&&$<=U&&!($%16)&&z(c,$);if(e(ge<=j),H&Ne&&(Ie=kn(se,H,$)),me!=null)for(;X<ge;)Le=d[X++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le}else{if(!(Le<ce))break e;for(je=Le-280,e(me!=null);X<ge;)Le=d[X++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le;Le=ge,e(!(je>>>(st=me).Xa)),d[Le]=st.X[je],je=!0}je||e(Y.h==Q(Y))}if(c.Pb&&Y.h&&ge<j)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&kt(c.s.vb,c.s.Wa);else{if(Y.h)break e;z!=null&&z(c,$>U?U:$),c.a=0,c.$=ge-y}return 1}return c.a=3,0}function Hn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function Vs(){var c=new Ze;return c==null?null:(c.a=0,c.xb=iy,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),Gn=rt,Kc=ot,Qc=mt,po=dt,mo=ze,go=lt,Ll=Qt,N.VP8LMapColor32b=Js,N.VP8LMapColor8b=Hc,c)}function Si(c,d,y,A,j){var U=1,z=[c],$=[d],H=A.m,Y=A.s,se=null,ge=0;e:for(;;){if(y)for(;U&&_e(H,1);){var X=z,oe=$,ce=A,xe=1,me=ce.m,Ne=ce.gc[ce.ab],Ie=_e(me,2);if(ce.Oc&1<<Ie)U=0;else{switch(ce.Oc|=1<<Ie,Ne.hc=Ie,Ne.Ea=X[0],Ne.nc=oe[0],Ne.K=[null],++ce.ab,e(4>=ce.ab),Ie){case 0:case 1:Ne.b=_e(me,3)+2,xe=Si(Re(Ne.Ea,Ne.b),Re(Ne.nc,Ne.b),0,ce,Ne.K),Ne.K=Ne.K[0];break;case 3:var je,Le=_e(me,8)+1,st=16<Le?0:4<Le?1:2<Le?2:3;if(X[0]=Re(Ne.Ea,st),Ne.b=st,je=xe=Si(Le,1,0,ce,Ne.K)){var Ge,Pt=Le,tt=Ne,zt=1<<(8>>tt.b),cr=s(zt);if(cr==null)je=0;else{var Ct=tt.K[0],nt=tt.w;for(cr[0]=tt.K[0][0],Ge=1;Ge<1*Pt;++Ge)cr[Ge]=Ke(Ct[nt+Ge],cr[Ge-1]);for(;Ge<4*zt;++Ge)cr[Ge]=0;tt.K[0]=null,tt.K[0]=cr,je=1}}xe=je;break;case 2:break;default:e(0)}U=xe}}if(z=z[0],$=$[0],U&&_e(H,1)&&!(U=1<=(ge=_e(H,4))&&11>=ge)){A.a=3;break e}var Be;if(Be=U)t:{var Qn,Tt,Wt,bn=A,Nr=z,ri=$,Bn=ge,Ur=y,ii=bn.m,hr=bn.s,Gt=[null],rn=1,zn=0,sn=nS[Bn];n:for(;;){if(Ur&&_e(ii,1)){var Ir=_e(ii,3)+2,_s=Re(Nr,Ir),Jn=Re(ri,Ir),pi=_s*Jn;if(!Si(_s,Jn,0,bn,Gt))break n;for(Gt=Gt[0],hr.xc=Ir,Qn=0;Qn<pi;++Qn){var dn=Gt[Qn]>>8&65535;Gt[Qn]=dn,dn>=rn&&(rn=dn+1)}}if(ii.h)break n;for(Tt=0;5>Tt;++Tt){var fr=ny[Tt];!Tt&&0<Bn&&(fr+=1<<Bn),zn<fr&&(zn=fr)}var Ri=a(rn*sn,P),si=rn,Di=a(si,fe);if(Di==null)var ji=null;else e(65536>=si),ji=Di;var mi=s(zn);if(ji==null||mi==null||Ri==null){bn.a=1;break n}var Oi=Ri;for(Qn=Wt=0;Qn<rn;++Qn){var vn=ji[Qn],Mi=vn.G,ws=vn.H,Dl=0,Ia=1,kr=0;for(Tt=0;5>Tt;++Tt){fr=ny[Tt],Mi[Tt]=Oi,ws[Tt]=Wt,!Tt&&0<Bn&&(fr+=1<<Bn);i:{var Yf,Jm=fr,Xf=bn,eh=mi,ES=Oi,xS=Wt,Ym=0,wo=Xf.m,SS=_e(wo,1);if(i(eh,0,0,Jm),SS){var NS=_e(wo,1)+1,IS=_e(wo,1),fy=_e(wo,IS==0?1:8);eh[fy]=1,NS==2&&(eh[fy=_e(wo,8)]=1);var Zf=1}else{var dy=s(19),py=_e(wo,4)+4;if(19<py){Xf.a=3;var ed=0;break i}for(Yf=0;Yf<py;++Yf)dy[eS[Yf]]=_e(wo,3);var Xm=void 0,th=void 0,my=Xf,kS=dy,td=Jm,gy=eh,Zm=0,bo=my.m,vy=8,yy=a(128,P);r:for(;S(yy,0,7,kS,19);){if(_e(bo,1)){var TS=2+2*_e(bo,3);if((Xm=2+_e(bo,TS))>td)break r}else Xm=td;for(th=0;th<td&&Xm--;){ae(bo);var _y=yy[0+(127&q(bo))];ie(bo,bo.u+_y.g);var Eu=_y.value;if(16>Eu)gy[th++]=Eu,Eu!=0&&(vy=Eu);else{var PS=Eu==16,wy=Eu-16,CS=X3[wy],by=_e(bo,Y3[wy])+CS;if(th+by>td)break r;for(var LS=PS?vy:0;0<by--;)gy[th++]=LS}}Zm=1;break r}Zm||(my.a=3),Zf=Zm}(Zf=Zf&&!wo.h)&&(Ym=S(ES,xS,8,eh,Jm)),Zf&&Ym!=0?ed=Ym:(Xf.a=3,ed=0)}if(ed==0)break n;if(Ia&&Z3[Tt]==1&&(Ia=Oi[Wt].g==0),Dl+=Oi[Wt].g,Wt+=ed,3>=Tt){var nh,eg=mi[0];for(nh=1;nh<fr;++nh)mi[nh]>eg&&(eg=mi[nh]);kr+=eg}}if(vn.nd=Ia,vn.Qb=0,Ia&&(vn.qb=(Mi[3][ws[3]+0].value<<24|Mi[1][ws[1]+0].value<<16|Mi[2][ws[2]+0].value)>>>0,Dl==0&&256>Mi[0][ws[0]+0].value&&(vn.Qb=1,vn.qb+=Mi[0][ws[0]+0].value<<8)),vn.jc=!vn.Qb&&6>kr,vn.jc){var nd,ka=vn;for(nd=0;nd<Cl;++nd){var Ao=nd,Eo=ka.pd[Ao],rd=ka.G[0][ka.H[0]+Ao];256<=rd.value?(Eo.g=rd.g+256,Eo.value=rd.value):(Eo.g=0,Eo.value=0,Ao>>=sr(rd,8,Eo),Ao>>=sr(ka.G[1][ka.H[1]+Ao],16,Eo),Ao>>=sr(ka.G[2][ka.H[2]+Ao],0,Eo),sr(ka.G[3][ka.H[3]+Ao],24,Eo))}}}hr.vc=Gt,hr.Wb=rn,hr.Ya=ji,hr.yc=Ri,Be=1;break t}Be=0}if(!(U=Be)){A.a=3;break e}if(0<ge){if(Y.ua=1<<ge,!ee(Y.Wa,ge)){A.a=1,U=0;break e}}else Y.ua=0;var tg=A,Ay=z,RS=$,ng=tg.s,rg=ng.xc;if(tg.c=Ay,tg.i=RS,ng.md=Re(Ay,rg),ng.wc=rg==0?-1:(1<<rg)-1,y){A.xb=cS;break e}if((se=s(z*$))==null){A.a=1,U=0;break e}U=(U=Fr(A,se,0,z,$,$,null))&&!H.h;break e}return U?(j!=null?j[0]=se:(e(se==null),e(y)),A.$=0,y||Hn(Y)):Hn(Y),U}function fs(c,d){var y=c.c*c.i,A=y+d+16*d;return e(c.c<=d),c.V=s(A),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function Us(c,d){var y=c.C,A=d-y,j=c.V,U=c.Ba+c.c*y;for(e(d<=c.l.o);0<A;){var z=16<A?16:A,$=c.l.ma,H=c.l.width,Y=H*z,se=$.ca,ge=$.tb+H*y,X=c.Ta,oe=c.Ua;ma(c,z,j,U),Kv(X,oe,se,ge,Y),xi($,y,y+z,se,ge,H),A-=z,j+=z*c.c,y+=z}e(y==d),c.C=c.Ma=d}function ga(){this.ub=this.yd=this.td=this.Rb=0}function va(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Oc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Bs(){this.Yb=function(){var c=[];return function d(y,A,j){for(var U=j[A],z=0;z<U&&(y.push(j.length>A+1?[]:0),!(j.length<A+1));z++)d(y[z],A+1,j)}(c,0,[3,11]),c}()}function gl(){this.jb=s(3),this.Wc=o([4,8],Bs),this.Xc=o([4,17],Bs)}function to(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function Ni(){this.Na=this.la=0}function no(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yl(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new vl),this.aa=0,this.l=new zs}function _l(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new ga,this.Kc=new va,this.ed=new to,this.Qa=new Oc,this.Ic=this.$c=this.Aa=0,this.D=new yl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,M),this.ia=0,this.pb=a(4,no),this.Pa=new gl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _l),this.Hd=0,this.rb=Array(new Ni),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vl),this.L=this.aa=0,this.gd=o([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bl(){var c=new wl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Xc||(Xc=ds)),c}function Cn(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function Al(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function yu(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return Cn(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,A=d.w,j=d.ha;if(4>j)return Cn(c,7,"Truncated header.");var U=y[A+0]|y[A+1]<<8|y[A+2]<<16,z=c.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return Cn(c,3,"Incorrect keyframe parameters.");if(!z.yd)return Cn(c,4,"Frame not displayable.");A+=3,j-=3;var $=c.Kc;if(z.Rb){if(7>j)return Cn(c,7,"cannot parse picture header");if(!Al(y,A,j))return Cn(c,3,"Bad code word");$.c=16383&(y[A+4]<<8|y[A+3]),$.Td=y[A+4]>>6,$.i=16383&(y[A+6]<<8|y[A+5]),$.Ud=y[A+6]>>6,A+=7,j-=7,c.za=$.c+15>>4,c.Ub=$.i+15>>4,d.width=$.c,d.height=$.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((U=c.Pa).jb,0,255,U.jb.length),e((U=c.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(z.ub>j)return Cn(c,7,"bad partition length");ye(U=c.m,y,A,z.ub),A+=z.ub,j-=z.ub,z.Rb&&($.Ld=we(U),$.Kd=we(U)),$=c.Qa;var H,Y=c.Pa;if(e(U!=null),e($!=null),$.Cb=we(U),$.Cb){if($.Bb=we(U),we(U)){for($.Fb=we(U),H=0;4>H;++H)$.Zb[H]=we(U)?Z(U,7):0;for(H=0;4>H;++H)$.Lb[H]=we(U)?Z(U,6):0}if($.Bb)for(H=0;3>H;++H)Y.jb[H]=we(U)?de(U,8):255}else $.Bb=0;if(U.Ka)return Cn(c,3,"cannot parse segment header");if(($=c.ed).zd=we(U),$.Tb=de(U,6),$.wb=de(U,3),$.Pc=we(U),$.Pc&&we(U)){for(Y=0;4>Y;++Y)we(U)&&($.vd[Y]=Z(U,6));for(Y=0;4>Y;++Y)we(U)&&($.od[Y]=Z(U,6))}if(c.L=$.Tb==0?0:$.zd?1:2,U.Ka)return Cn(c,3,"cannot parse filter header");var se=j;if(j=H=A,A=H+se,$=se,c.Xb=(1<<de(c.m,2))-1,se<3*(Y=c.Xb))y=7;else{for(H+=3*Y,$-=3*Y,se=0;se<Y;++se){var ge=y[j+0]|y[j+1]<<8|y[j+2]<<16;ge>$&&(ge=$),ye(c.Jc[+se],y,H,ge),H+=ge,$-=ge,j+=3}ye(c.Jc[+Y],y,H,$),y=H<A?0:5}if(y!=0)return Cn(c,y,"cannot parse partitions");for(y=de(H=c.m,7),j=we(H)?Z(H,4):0,A=we(H)?Z(H,4):0,$=we(H)?Z(H,4):0,Y=we(H)?Z(H,4):0,H=we(H)?Z(H,4):0,se=c.Qa,ge=0;4>ge;++ge){if(se.Cb){var X=se.Zb[ge];se.Fb||(X+=y)}else{if(0<ge){c.pb[ge]=c.pb[0];continue}X=y}var oe=c.pb[ge];oe.Sc[0]=Gm[Dt(X+j,127)],oe.Sc[1]=Km[Dt(X+0,127)],oe.Eb[0]=2*Gm[Dt(X+A,127)],oe.Eb[1]=101581*Km[Dt(X+$,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=Gm[Dt(X+Y,117)],oe.Qc[1]=Km[Dt(X+H,127)],oe.lc=X+H}if(!z.Rb)return Cn(c,4,"Not a key frame.");for(we(U),z=c.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(A=0;3>A;++A)for($=0;11>$;++$)Y=Ae(U,lS[y][j][A][$])?de(U,8):aS[y][j][A][$],z.Wc[y][j].Yb[A][$]=Y;for(j=0;17>j;++j)z.Xc[y][j]=z.Wc[y][uS[j]]}return c.kc=we(U),c.kc&&(c.Bd=de(U,8)),c.cb=1}function ds(c,d,y,A,j,U,z){var $=d[j].Yb[y];for(y=0;16>j;++j){if(!Ae(c,$[y+0]))return j;for(;!Ae(c,$[y+1]);)if($=d[++j].Yb[0],y=0,j==16)return 16;var H=d[j+1].Yb;if(Ae(c,$[y+2])){var Y=c,se=0;if(Ae(Y,(X=$)[(ge=y)+3]))if(Ae(Y,X[ge+6])){for($=0,ge=2*(se=Ae(Y,X[ge+8]))+(X=Ae(Y,X[ge+9+se])),se=0,X=iS[ge];X[$];++$)se+=se+Ae(Y,X[$]);se+=3+(8<<ge)}else Ae(Y,X[ge+7])?(se=7+2*Ae(Y,165),se+=Ae(Y,145)):se=5+Ae(Y,159);else se=Ae(Y,X[ge+4])?3+Ae(Y,X[ge+5]):2;$=H[2]}else se=1,$=H[1];H=z+sS[j],0>(Y=c).b&&ve(Y);var ge,X=Y.b,oe=(ge=Y.Ca>>1)-(Y.I>>X)>>31;--Y.b,Y.Ca+=oe,Y.Ca|=1,Y.I-=(ge+1&oe)<<X,U[H]=((se^oe)-oe)*A[(0<j)+0]}return 16}function qs(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function ci(c,d,y,A,j){j=c[d+y+32*A]+(j>>3),c[d+y+32*A]=-256&j?0>j?0:255:j}function ya(c,d,y,A,j,U){ci(c,d,0,y,A+j),ci(c,d,1,y,A+U),ci(c,d,2,y,A-U),ci(c,d,3,y,A-j)}function tn(c){return(20091*c>>16)+c}function ti(c,d,y,A){var j,U=0,z=s(16);for(j=0;4>j;++j){var $=c[d+0]+c[d+8],H=c[d+0]-c[d+8],Y=(35468*c[d+4]>>16)-tn(c[d+12]),se=tn(c[d+4])+(35468*c[d+12]>>16);z[U+0]=$+se,z[U+1]=H+Y,z[U+2]=H-Y,z[U+3]=$-se,U+=4,d++}for(j=U=0;4>j;++j)$=(c=z[U+0]+4)+z[U+8],H=c-z[U+8],Y=(35468*z[U+4]>>16)-tn(z[U+12]),ci(y,A,0,0,$+(se=tn(z[U+4])+(35468*z[U+12]>>16))),ci(y,A,1,0,H+Y),ci(y,A,2,0,H-Y),ci(y,A,3,0,$-se),U++,A+=32}function ro(c,d,y,A){var j=c[d+0]+4,U=35468*c[d+4]>>16,z=tn(c[d+4]),$=35468*c[d+1]>>16;ya(y,A,0,j+z,c=tn(c[d+1]),$),ya(y,A,1,j+U,c,$),ya(y,A,2,j-U,c,$),ya(y,A,3,j-z,c,$)}function io(c,d,y,A,j){ti(c,d,y,A),j&&ti(c,d+16,y,A+4)}function _u(c,d,y,A){Rl(c,d+0,y,A,1),Rl(c,d+32,y,A+128,1)}function Vt(c,d,y,A){var j;for(c=c[d+0]+4,j=0;4>j;++j)for(d=0;4>d;++d)ci(y,A,d,j,c)}function _a(c,d,y,A){c[d+0]&&Zt(c,d+0,y,A),c[d+16]&&Zt(c,d+16,y,A+4),c[d+32]&&Zt(c,d+32,y,A+128),c[d+48]&&Zt(c,d+48,y,A+128+4)}function $s(c,d,y,A){var j,U=s(16);for(j=0;4>j;++j){var z=c[d+0+j]+c[d+12+j],$=c[d+4+j]+c[d+8+j],H=c[d+4+j]-c[d+8+j],Y=c[d+0+j]-c[d+12+j];U[0+j]=z+$,U[8+j]=z-$,U[4+j]=Y+H,U[12+j]=Y-H}for(j=0;4>j;++j)z=(c=U[0+4*j]+3)+U[3+4*j],$=U[1+4*j]+U[2+4*j],H=U[1+4*j]-U[2+4*j],Y=c-U[3+4*j],y[A+0]=z+$>>3,y[A+16]=Y+H>>3,y[A+32]=z-$>>3,y[A+48]=Y-H>>3,A+=64}function hi(c,d,y){var A,j=d-32,U=Li,z=255-c[j-1];for(A=0;A<y;++A){var $,H=U,Y=z+c[d-1];for($=0;$<y;++$)c[d+$]=H[Y+c[j+$]];d+=32}}function El(c,d){hi(c,d,4)}function wu(c,d){hi(c,d,8)}function Mc(c,d){hi(c,d,16)}function Fc(c,d){var y;for(y=0;16>y;++y)r(c,d+32*y,c,d-32,16)}function xl(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function wa(c,d,y){var A;for(A=0;16>A;++A)i(d,y+32*A,c,16)}function fi(c,d){var y,A=16;for(y=0;16>y;++y)A+=c[d-1+32*y]+c[d+y-32];wa(A>>5,c,d)}function Yi(c,d){var y,A=8;for(y=0;16>y;++y)A+=c[d-1+32*y];wa(A>>4,c,d)}function Ws(c,d){var y,A=8;for(y=0;16>y;++y)A+=c[d+y-32];wa(A>>4,c,d)}function so(c,d){wa(128,c,d)}function vt(c,d,y){return c+2*d+y+2>>2}function Hs(c,d){var y,A=d-32;for(A=new Uint8Array([vt(c[A-1],c[A+0],c[A+1]),vt(c[A+0],c[A+1],c[A+2]),vt(c[A+1],c[A+2],c[A+3]),vt(c[A+2],c[A+3],c[A+4])]),y=0;4>y;++y)r(c,d+32*y,A,0,A.length)}function Vc(c,d){var y=c[d-1],A=c[d-1+32],j=c[d-1+64],U=c[d-1+96];Te(c,d+0,16843009*vt(c[d-1-32],y,A)),Te(c,d+32,16843009*vt(y,A,j)),Te(c,d+64,16843009*vt(A,j,U)),Te(c,d+96,16843009*vt(j,U,U))}function Uc(c,d){var y,A=4;for(y=0;4>y;++y)A+=c[d+y-32]+c[d-1+32*y];for(A>>=3,y=0;4>y;++y)i(c,d+32*y,A,4)}function Bc(c,d){var y=c[d-1+0],A=c[d-1+32],j=c[d-1+64],U=c[d-1-32],z=c[d+0-32],$=c[d+1-32],H=c[d+2-32],Y=c[d+3-32];c[d+0+96]=vt(A,j,c[d-1+96]),c[d+1+96]=c[d+0+64]=vt(y,A,j),c[d+2+96]=c[d+1+64]=c[d+0+32]=vt(U,y,A),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=vt(z,U,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=vt($,z,U),c[d+3+32]=c[d+2+0]=vt(H,$,z),c[d+3+0]=vt(Y,H,$)}function yr(c,d){var y=c[d+1-32],A=c[d+2-32],j=c[d+3-32],U=c[d+4-32],z=c[d+5-32],$=c[d+6-32],H=c[d+7-32];c[d+0+0]=vt(c[d+0-32],y,A),c[d+1+0]=c[d+0+32]=vt(y,A,j),c[d+2+0]=c[d+1+32]=c[d+0+64]=vt(A,j,U),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=vt(j,U,z),c[d+3+32]=c[d+2+64]=c[d+1+96]=vt(U,z,$),c[d+3+64]=c[d+2+96]=vt(z,$,H),c[d+3+96]=vt($,H,H)}function ps(c,d){var y=c[d-1+0],A=c[d-1+32],j=c[d-1+64],U=c[d-1-32],z=c[d+0-32],$=c[d+1-32],H=c[d+2-32],Y=c[d+3-32];c[d+0+0]=c[d+1+64]=U+z+1>>1,c[d+1+0]=c[d+2+64]=z+$+1>>1,c[d+2+0]=c[d+3+64]=$+H+1>>1,c[d+3+0]=H+Y+1>>1,c[d+0+96]=vt(j,A,y),c[d+0+64]=vt(A,y,U),c[d+0+32]=c[d+1+96]=vt(y,U,z),c[d+1+32]=c[d+2+96]=vt(U,z,$),c[d+2+32]=c[d+3+96]=vt(z,$,H),c[d+3+32]=vt($,H,Y)}function zc(c,d){var y=c[d+0-32],A=c[d+1-32],j=c[d+2-32],U=c[d+3-32],z=c[d+4-32],$=c[d+5-32],H=c[d+6-32],Y=c[d+7-32];c[d+0+0]=y+A+1>>1,c[d+1+0]=c[d+0+64]=A+j+1>>1,c[d+2+0]=c[d+1+64]=j+U+1>>1,c[d+3+0]=c[d+2+64]=U+z+1>>1,c[d+0+32]=vt(y,A,j),c[d+1+32]=c[d+0+96]=vt(A,j,U),c[d+2+32]=c[d+1+96]=vt(j,U,z),c[d+3+32]=c[d+2+96]=vt(U,z,$),c[d+3+64]=vt(z,$,H),c[d+3+96]=vt($,H,Y)}function ao(c,d){var y=c[d-1+0],A=c[d-1+32],j=c[d-1+64],U=c[d-1+96];c[d+0+0]=y+A+1>>1,c[d+2+0]=c[d+0+32]=A+j+1>>1,c[d+2+32]=c[d+0+64]=j+U+1>>1,c[d+1+0]=vt(y,A,j),c[d+3+0]=c[d+1+32]=vt(A,j,U),c[d+3+32]=c[d+1+64]=vt(j,U,U),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=U}function ms(c,d){var y=c[d-1+0],A=c[d-1+32],j=c[d-1+64],U=c[d-1+96],z=c[d-1-32],$=c[d+0-32],H=c[d+1-32],Y=c[d+2-32];c[d+0+0]=c[d+2+32]=y+z+1>>1,c[d+0+32]=c[d+2+64]=A+y+1>>1,c[d+0+64]=c[d+2+96]=j+A+1>>1,c[d+0+96]=U+j+1>>1,c[d+3+0]=vt($,H,Y),c[d+2+0]=vt(z,$,H),c[d+1+0]=c[d+3+32]=vt(y,z,$),c[d+1+32]=c[d+3+64]=vt(A,y,z),c[d+1+64]=c[d+3+96]=vt(j,A,y),c[d+1+96]=vt(U,j,A)}function oo(c,d){var y;for(y=0;8>y;++y)r(c,d+32*y,c,d-32,8)}function Ii(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Xi(c,d,y){var A;for(A=0;8>A;++A)i(d,y+32*A,c,8)}function ba(c,d){var y,A=8;for(y=0;8>y;++y)A+=c[d+y-32]+c[d-1+32*y];Xi(A>>4,c,d)}function Sl(c,d){var y,A=4;for(y=0;8>y;++y)A+=c[d+y-32];Xi(A>>3,c,d)}function hn(c,d){var y,A=4;for(y=0;8>y;++y)A+=c[d-1+32*y];Xi(A>>3,c,d)}function Nl(c,d){Xi(128,c,d)}function Aa(c,d,y){var A=c[d-y],j=c[d+0],U=3*(j-A)+zm[1020+c[d-2*y]-c[d+y]],z=zf[112+(U+4>>3)];c[d-y]=Li[255+A+zf[112+(U+3>>3)]],c[d+0]=Li[255+j-z]}function Gs(c,d,y,A){var j=c[d+0],U=c[d+y];return ts[255+c[d-2*y]-c[d-y]]>A||ts[255+U-j]>A}function lo(c,d,y,A){return 4*ts[255+c[d-y]-c[d+0]]+ts[255+c[d-2*y]-c[d+y]]<=A}function Ea(c,d,y,A,j){var U=c[d-3*y],z=c[d-2*y],$=c[d-y],H=c[d+0],Y=c[d+y],se=c[d+2*y],ge=c[d+3*y];return 4*ts[255+$-H]+ts[255+z-Y]>A?0:ts[255+c[d-4*y]-U]<=j&&ts[255+U-z]<=j&&ts[255+z-$]<=j&&ts[255+ge-se]<=j&&ts[255+se-Y]<=j&&ts[255+Y-H]<=j}function Ks(c,d,y,A){var j=2*A+1;for(A=0;16>A;++A)lo(c,d+A,y,j)&&Aa(c,d+A,y)}function Qs(c,d,y,A){var j=2*A+1;for(A=0;16>A;++A)lo(c,d+A*y,1,j)&&Aa(c,d+A*y,1)}function di(c,d,y,A){var j;for(j=3;0<j;--j)Ks(c,d+=4*y,y,A)}function Il(c,d,y,A){var j;for(j=3;0<j;--j)Qs(c,d+=4,y,A)}function gs(c,d,y,A,j,U,z,$){for(U=2*U+1;0<j--;){if(Ea(c,d,y,U,z))if(Gs(c,d,y,$))Aa(c,d,y);else{var H=c,Y=d,se=y,ge=H[Y-2*se],X=H[Y-se],oe=H[Y+0],ce=H[Y+se],xe=H[Y+2*se],me=27*(Ie=zm[1020+3*(oe-X)+zm[1020+ge-ce]])+63>>7,Ne=18*Ie+63>>7,Ie=9*Ie+63>>7;H[Y-3*se]=Li[255+H[Y-3*se]+Ie],H[Y-2*se]=Li[255+ge+Ne],H[Y-se]=Li[255+X+me],H[Y+0]=Li[255+oe-me],H[Y+se]=Li[255+ce-Ne],H[Y+2*se]=Li[255+xe-Ie]}d+=A}}function ni(c,d,y,A,j,U,z,$){for(U=2*U+1;0<j--;){if(Ea(c,d,y,U,z))if(Gs(c,d,y,$))Aa(c,d,y);else{var H=c,Y=d,se=y,ge=H[Y-se],X=H[Y+0],oe=H[Y+se],ce=zf[112+(4+(xe=3*(X-ge))>>3)],xe=zf[112+(xe+3>>3)],me=ce+1>>1;H[Y-2*se]=Li[255+H[Y-2*se]+me],H[Y-se]=Li[255+ge+xe],H[Y+0]=Li[255+X-ce],H[Y+se]=Li[255+oe-me]}d+=A}}function kl(c,d,y,A,j,U){gs(c,d,y,1,16,A,j,U)}function uo(c,d,y,A,j,U){gs(c,d,1,y,16,A,j,U)}function Zi(c,d,y,A,j,U){var z;for(z=3;0<z;--z)ni(c,d+=4*y,y,1,16,A,j,U)}function Tl(c,d,y,A,j,U){var z;for(z=3;0<z;--z)ni(c,d+=4,1,y,16,A,j,U)}function g(c,d,y,A,j,U,z,$){gs(c,d,j,1,8,U,z,$),gs(y,A,j,1,8,U,z,$)}function D(c,d,y,A,j,U,z,$){gs(c,d,1,j,8,U,z,$),gs(y,A,1,j,8,U,z,$)}function J(c,d,y,A,j,U,z,$){ni(c,d+4*j,j,1,8,U,z,$),ni(y,A+4*j,j,1,8,U,z,$)}function re(c,d,y,A,j,U,z,$){ni(c,d+4,1,j,8,U,z,$),ni(y,A+4,1,j,8,U,z,$)}function le(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ce(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $e(){this.ua=0,this.Wa=new _t,this.vb=new _t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new P}function Ze(){this.xb=this.a=0,this.l=new zs,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $e,this.ab=0,this.gc=a(4,Ce),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bt(c,d,y,A,j,U,z){for(c=c==null?0:c[d+0],d=0;d<z;++d)j[U+d]=c+y[A+d]&255,c=j[U+d]}function $t(c,d,y,A,j,U,z){var $;if(c==null)bt(null,null,y,A,j,U,z);else for($=0;$<z;++$)j[U+$]=c[d+$]+y[A+$]&255}function Xt(c,d,y,A,j,U,z){if(c==null)bt(null,null,y,A,j,U,z);else{var $,H=c[d+0],Y=H,se=H;for($=0;$<z;++$)Y=se+(H=c[d+$])-Y,se=y[A+$]+(-256&Y?0>Y?0:255:Y)&255,Y=H,j[U+$]=se}}function Ln(c,d,y,A){var j=d.width,U=d.o;if(e(c!=null&&d!=null),0>y||0>=A||y+A>U)return null;if(!c.Cc){if(c.ga==null){var z;if(c.ga=new pt,(z=c.ga==null)||(z=d.width*d.o,e(c.Gb.length==0),c.Gb=s(z),c.Uc=0,c.Gb==null?z=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,z=1),z=!z),!z){z=c.ga;var $=c.Fa,H=c.P,Y=c.qc,se=c.mb,ge=c.nb,X=H+1,oe=Y-1,ce=z.l;if(e($!=null&&se!=null&&d!=null),_o[0]=null,_o[1]=bt,_o[2]=$t,_o[3]=Xt,z.ca=se,z.tb=ge,z.c=d.width,z.i=d.height,e(0<z.c&&0<z.i),1>=Y)d=0;else if(z.$a=3&$[H+0],z.Z=$[H+0]>>2&3,z.Lc=$[H+0]>>4&3,H=$[H+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||H)d=0;else if(ce.put=ct,ce.ac=Or,ce.bc=wn,ce.ma=z,ce.width=d.width,ce.height=d.height,ce.Da=d.Da,ce.v=d.v,ce.va=d.va,ce.j=d.j,ce.o=d.o,z.$a)e:{e(z.$a==1),d=Vs();t:for(;;){if(d==null){d=0;break e}if(e(z!=null),z.mc=d,d.c=z.c,d.i=z.i,d.l=z.l,d.l.ma=z,d.l.width=z.c,d.l.height=z.i,d.a=0,G(d.m,$,X,oe),!Si(z.c,z.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Mr(d.s)?(z.ic=1,$=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s($),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(z.ic=0,d=fs(d,z.c)),!d))break t;d=1;break e}z.mc=null,d=0}else d=oe>=z.c*z.i;z=!d}if(z)return null;c.ga.Lc!=1?c.Ga=0:A=U-y}e(c.ga!=null),e(y+A<=U);e:{if(d=($=c.ga).c,U=$.l.o,$.$a==0){if(X=c.rc,oe=c.Vc,ce=c.Fa,H=c.P+1+y*d,Y=c.mb,se=c.nb+y*d,e(H<=c.P+c.qc),$.Z!=0)for(e(_o[$.Z]!=null),z=0;z<A;++z)_o[$.Z](X,oe,ce,H,Y,se,d),X=Y,oe=se,se+=d,H+=d;else for(z=0;z<A;++z)r(Y,se,ce,H,d),X=Y,oe=se,se+=d,H+=d;c.rc=X,c.Vc=oe}else{if(e($.mc!=null),d=y+A,e((z=$.mc)!=null),e(d<=z.i),z.C>=d)d=1;else if($.ic||mn(),$.ic){$=z.V,X=z.Ba,oe=z.c;var xe=z.i,me=(ce=1,H=z.$/oe,Y=z.$%oe,se=z.m,ge=z.s,z.$),Ne=oe*xe,Ie=oe*d,je=ge.wc,Le=me<Ie?kn(ge,Y,H):null;e(me<=Ne),e(d<=xe),e(Mr(ge));t:for(;;){for(;!se.h&&me<Ie;){if(Y&je||(Le=kn(ge,Y,H)),e(Le!=null),ae(se),256>(xe=In(Le.G[0],Le.H[0],se)))$[X+me]=xe,++me,++Y>=oe&&(Y=0,++H<=d&&!(H%16)&&ei(z,H));else{if(!(280>xe)){ce=0;break t}xe=mr(xe-256,se);var st,Ge=In(Le.G[4],Le.H[4],se);if(ae(se),!(me>=(Ge=gr(oe,Ge=mr(Ge,se)))&&Ne-me>=xe)){ce=0;break t}for(st=0;st<xe;++st)$[X+me+st]=$[X+me+st-Ge];for(me+=xe,Y+=xe;Y>=oe;)Y-=oe,++H<=d&&!(H%16)&&ei(z,H);me<Ie&&Y&je&&(Le=kn(ge,Y,H))}e(se.h==Q(se))}ei(z,H>d?d:H);break t}!ce||se.h&&me<Ne?(ce=0,z.a=se.h?5:3):z.$=me,d=ce}else d=Fr(z,z.V,z.Ba,z.c,z.i,d,Us);if(!d){A=0;break e}}y+A>=U&&(c.Cc=1),A=1}if(!A)return null;if(c.Cc&&((A=c.ga)!=null&&(A.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*j}function nn(c,d,y,A,j,U){for(;0<j--;){var z,$=c,H=d+(y?1:0),Y=c,se=d+(y?0:3);for(z=0;z<A;++z){var ge=Y[se+4*z];ge!=255&&(ge*=32897,$[H+4*z+0]=$[H+4*z+0]*ge>>23,$[H+4*z+1]=$[H+4*z+1]*ge>>23,$[H+4*z+2]=$[H+4*z+2]*ge>>23)}d+=U}}function Vn(c,d,y,A,j){for(;0<A--;){var U;for(U=0;U<y;++U){var z=c[d+2*U+0],$=15&(Y=c[d+2*U+1]),H=4369*$,Y=(240&Y|Y>>4)*H>>16;c[d+2*U+0]=(240&z|z>>4)*H>>16&240|(15&z|z<<4)*H>>16>>4&15,c[d+2*U+1]=240&Y|$}d+=j}}function Rn(c,d,y,A,j,U,z,$){var H,Y,se=255;for(Y=0;Y<j;++Y){for(H=0;H<A;++H){var ge=c[d+H];U[z+4*H]=ge,se&=ge}d+=y,z+=$}return se!=255}function Un(c,d,y,A,j){var U;for(U=0;U<j;++U)y[A+U]=c[d+U]>>8}function mn(){Yc=nn,Hv=Vn,Gv=Rn,Kv=Un}function xr(c,d,y){N[c]=function(A,j,U,z,$,H,Y,se,ge,X,oe,ce,xe,me,Ne,Ie,je){var Le,st=je-1>>1,Ge=$[H+0]|Y[se+0]<<16,Pt=ge[X+0]|oe[ce+0]<<16;e(A!=null);var tt=3*Ge+Pt+131074>>2;for(d(A[j+0],255&tt,tt>>16,xe,me),U!=null&&(tt=3*Pt+Ge+131074>>2,d(U[z+0],255&tt,tt>>16,Ne,Ie)),Le=1;Le<=st;++Le){var zt=$[H+Le]|Y[se+Le]<<16,cr=ge[X+Le]|oe[ce+Le]<<16,Ct=Ge+zt+Pt+cr+524296,nt=Ct+2*(zt+Pt)>>3;tt=nt+Ge>>1,Ge=(Ct=Ct+2*(Ge+cr)>>3)+zt>>1,d(A[j+2*Le-1],255&tt,tt>>16,xe,me+(2*Le-1)*y),d(A[j+2*Le-0],255&Ge,Ge>>16,xe,me+(2*Le-0)*y),U!=null&&(tt=Ct+Pt>>1,Ge=nt+cr>>1,d(U[z+2*Le-1],255&tt,tt>>16,Ne,Ie+(2*Le-1)*y),d(U[z+2*Le+0],255&Ge,Ge>>16,Ne,Ie+(2*Le+0)*y)),Ge=zt,Pt=cr}1&je||(tt=3*Ge+Pt+131074>>2,d(A[j+je-1],255&tt,tt>>16,xe,me+(je-1)*y),U!=null&&(tt=3*Pt+Ge+131074>>2,d(U[z+je-1],255&tt,tt>>16,Ne,Ie+(je-1)*y)))}}function Pl(){ns[qf]=hS,ns[$f]=sy,ns[ey]=fS,ns[Wf]=ay,ns[Hf]=oy,ns[qm]=ly,ns[ty]=dS,ns[$m]=sy,ns[Wm]=ay,ns[Gf]=oy,ns[Hm]=ly}function ki(c){return c&-16384?0>c?0:255:c>>pS}function h(c,d){return ki((19077*c>>8)+(26149*d>>8)-14234)}function w(c,d,y){return ki((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function I(c,d){return ki((19077*c>>8)+(33050*d>>8)-17685)}function W(c,d,y,A,j){A[j+0]=h(c,y),A[j+1]=w(c,d,y),A[j+2]=I(c,d)}function ue(c,d,y,A,j){A[j+0]=I(c,d),A[j+1]=w(c,d,y),A[j+2]=h(c,y)}function be(c,d,y,A,j){var U=w(c,d,y);d=U<<3&224|I(c,d)>>3,A[j+0]=248&h(c,y)|U>>5,A[j+1]=d}function Me(c,d,y,A,j){var U=240&I(c,d)|15;A[j+0]=240&h(c,y)|w(c,d,y)>>4,A[j+1]=U}function Bt(c,d,y,A,j){A[j+0]=255,W(c,d,y,A,j+1)}function Dn(c,d,y,A,j){ue(c,d,y,A,j),A[j+3]=255}function Ot(c,d,y,A,j){W(c,d,y,A,j),A[j+3]=255}function Dt(c,d){return 0>c?0:c>d?d:c}function gn(c,d,y){N[c]=function(A,j,U,z,$,H,Y,se,ge){for(var X=se+(-2&ge)*y;se!=X;)d(A[j+0],U[z+0],$[H+0],Y,se),d(A[j+1],U[z+0],$[H+0],Y,se+y),j+=2,++z,++H,se+=2*y;1&ge&&d(A[j+0],U[z+0],$[H+0],Y,se)}}function Ti(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function Vr(c,d,y,A,j){switch(c>>>30){case 3:Rl(d,y,A,j,0);break;case 2:es(d,y,A,j);break;case 1:Zt(d,y,A,j)}}function Sr(c,d){var y,A,j=d.M,U=d.Nb,z=c.oc,$=c.pc+40,H=c.oc,Y=c.pc+584,se=c.oc,ge=c.pc+600;for(y=0;16>y;++y)z[$+32*y-1]=129;for(y=0;8>y;++y)H[Y+32*y-1]=129,se[ge+32*y-1]=129;for(0<j?z[$-1-32]=H[Y-1-32]=se[ge-1-32]=129:(i(z,$-32-1,127,21),i(H,Y-32-1,127,9),i(se,ge-32-1,127,9)),A=0;A<c.za;++A){var X=d.ya[d.aa+A];if(0<A){for(y=-1;16>y;++y)r(z,$+32*y-4,z,$+32*y+12,4);for(y=-1;8>y;++y)r(H,Y+32*y-4,H,Y+32*y+4,4),r(se,ge+32*y-4,se,ge+32*y+4,4)}var oe=c.Gd,ce=c.Hd+A,xe=X.ad,me=X.Hc;if(0<j&&(r(z,$-32,oe[ce].y,0,16),r(H,Y-32,oe[ce].f,0,8),r(se,ge-32,oe[ce].ea,0,8)),X.Za){var Ne=z,Ie=$-32+16;for(0<j&&(A>=c.za-1?i(Ne,Ie,oe[ce].y[15],4):r(Ne,Ie,oe[ce+1].y,0,4)),y=0;4>y;y++)Ne[Ie+128+y]=Ne[Ie+256+y]=Ne[Ie+384+y]=Ne[Ie+0+y];for(y=0;16>y;++y,me<<=2)Ne=z,Ie=$+cy[y],ys[X.Ob[y]](Ne,Ie),Vr(me,xe,16*+y,Ne,Ie)}else if(Ne=Ti(A,j,X.Ob[0]),yo[Ne](z,$),me!=0)for(y=0;16>y;++y,me<<=2)Vr(me,xe,16*+y,z,$+cy[y]);for(y=X.Gc,Ne=Ti(A,j,X.Dd),Na[Ne](H,Y),Na[Ne](se,ge),me=xe,Ne=H,Ie=Y,255&(X=0|y)&&(170&X?Xs(me,256,Ne,Ie):fn(me,256,Ne,Ie)),X=se,me=ge,255&(y>>=8)&&(170&y?Xs(xe,320,X,me):fn(xe,320,X,me)),j<c.Ub-1&&(r(oe[ce].y,0,z,$+480,16),r(oe[ce].f,0,H,Y+224,8),r(oe[ce].ea,0,se,ge+224,8)),y=8*U*c.B,oe=c.sa,ce=c.ta+16*A+16*U*c.R,xe=c.qa,X=c.ra+8*A+y,me=c.Ha,Ne=c.Ia+8*A+y,y=0;16>y;++y)r(oe,ce+y*c.R,z,$+32*y,16);for(y=0;8>y;++y)r(xe,X+y*c.B,H,Y+32*y,8),r(me,Ne+y*c.B,se,ge+32*y,8)}}function vs(c,d,y,A,j,U,z,$,H){var Y=[0],se=[0],ge=0,X=H!=null?H.kd:0,oe=H??new Se;if(c==null||12>y)return 7;oe.data=c,oe.w=d,oe.ha=y,d=[d],y=[y],oe.gb=[oe.gb];e:{var ce=d,xe=y,me=oe.gb;if(e(c!=null),e(xe!=null),e(me!=null),me[0]=0,12<=xe[0]&&!n(c,ce[0],"RIFF")){if(n(c,ce[0]+8,"WEBP")){me=3;break e}var Ne=Ee(c,ce[0]+4);if(12>Ne||4294967286<Ne){me=3;break e}if(X&&Ne>xe[0]-8){me=7;break e}me[0]=Ne,ce[0]+=12,xe[0]-=12}me=0}if(me!=0)return me;for(Ne=0<oe.gb[0],y=y[0];;){e:{var Ie=c;xe=d,me=y;var je=Y,Le=se,st=ce=[0];if((tt=ge=[ge])[0]=0,8>me[0])me=7;else{if(!n(Ie,xe[0],"VP8X")){if(Ee(Ie,xe[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Ge=Ee(Ie,xe[0]+8),Pt=1+Ve(Ie,xe[0]+12);if(2147483648<=Pt*(Ie=1+Ve(Ie,xe[0]+15))){me=3;break e}st!=null&&(st[0]=Ge),je!=null&&(je[0]=Pt),Le!=null&&(Le[0]=Ie),xe[0]+=18,me[0]-=18,tt[0]=1}me=0}}if(ge=ge[0],ce=ce[0],me!=0)return me;if(xe=!!(2&ce),!Ne&&ge)return 3;if(U!=null&&(U[0]=!!(16&ce)),z!=null&&(z[0]=xe),$!=null&&($[0]=0),z=Y[0],ce=se[0],ge&&xe&&H==null){me=0;break}if(4>y){me=7;break}if(Ne&&ge||!Ne&&!ge&&!n(c,d[0],"ALPH")){y=[y],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Ge=c,me=d,Ne=y;var tt=oe.gb;je=oe.na,Le=oe.P,st=oe.Sa,Pt=22,e(Ge!=null),e(Ne!=null),Ie=me[0];var zt=Ne[0];for(e(je!=null),e(st!=null),je[0]=null,Le[0]=null,st[0]=0;;){if(me[0]=Ie,Ne[0]=zt,8>zt){me=7;break e}var cr=Ee(Ge,Ie+4);if(4294967286<cr){me=3;break e}var Ct=8+cr+1&-2;if(Pt+=Ct,0<tt&&Pt>tt){me=3;break e}if(!n(Ge,Ie,"VP8 ")||!n(Ge,Ie,"VP8L")){me=0;break e}if(zt[0]<Ct){me=7;break e}n(Ge,Ie,"ALPH")||(je[0]=Ge,Le[0]=Ie+8,st[0]=cr),Ie+=Ct,zt-=Ct}}if(y=y[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],me!=0)break}y=[y],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(tt=c,me=d,Ne=y,je=oe.gb[0],Le=oe.Ja,st=oe.xa,Ge=me[0],Ie=!n(tt,Ge,"VP8 "),Pt=!n(tt,Ge,"VP8L"),e(tt!=null),e(Ne!=null),e(Le!=null),e(st!=null),8>Ne[0])me=7;else{if(Ie||Pt){if(tt=Ee(tt,Ge+4),12<=je&&tt>je-12){me=3;break e}if(X&&tt>Ne[0]-8){me=7;break e}Le[0]=tt,me[0]+=8,Ne[0]-=8,st[0]=Pt}else st[0]=5<=Ne[0]&&tt[Ge+0]==47&&!(tt[Ge+4]>>5),Le[0]=Ne[0];me=0}if(y=y[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],d=d[0],me!=0)break;if(4294967286<oe.Ja)return 3;if($==null||xe||($[0]=oe.xa?2:1),z=[z],ce=[ce],oe.xa){if(5>y){me=7;break}$=z,X=ce,xe=U,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(Ne=[0],tt=[0],je=[0],G(Le=new K,c,d,y),Ji(Le,Ne,tt,je)?($!=null&&($[0]=Ne[0]),X!=null&&(X[0]=tt[0]),xe!=null&&(xe[0]=je[0]),c=1):c=0):c=0}else{if(10>y){me=7;break}$=ce,c==null||10>y||!Al(c,d+3,y-3)?c=0:(X=c[d+0]|c[d+1]<<8|c[d+2]<<16,xe=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=oe.Ja||!xe||!c?c=0:(z&&(z[0]=xe),$&&($[0]=c),c=1))}if(!c||(z=z[0],ce=ce[0],ge&&(Y[0]!=z||se[0]!=ce)))return 3;H!=null&&(H[0]=oe,H.offset=d-H.w,e(4294967286>d-H.w),e(H.offset==H.ha-y));break}return me==0||me==7&&ge&&H==null?(U!=null&&(U[0]|=oe.na!=null&&0<oe.na.length),A!=null&&(A[0]=z),j!=null&&(j[0]=ce),0):me}function qc(c,d,y){var A=d.width,j=d.height,U=0,z=0,$=A,H=j;if(d.Da=c!=null&&0<c.Da,d.Da&&($=c.cd,H=c.bd,U=c.v,z=c.j,11>y||(U&=-2,z&=-2),0>U||0>z||0>=$||0>=H||U+$>A||z+H>j))return 0;if(d.v=U,d.j=z,d.va=U+$,d.o=z+H,d.U=$,d.T=H,d.da=c!=null&&0<c.da,d.da){if(!it($,H,y=[c.ib],U=[c.hb]))return 0;d.ib=y[0],d.hb=U[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*A/4&&d.hb<3*j/4,d.Kb=0),1}function $c(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function co(c,d,y,A){if(A==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var j=y.cd,U=y.bd,z=-2&y.v,$=-2&y.j;if(0>z||0>$||0>=j||0>=U||z+j>c||$+U>d)return 2;c=j,d=U}if(y.da){if(!it(c,d,j=[y.ib],U=[y.hb]))return 2;c=j[0],d=U[0]}}A.width=c,A.height=d;e:{var H=A.width,Y=A.height;if(c=A.S,0>=H||0>=Y||!(c>=qf&&13>c))c=2;else{if(0>=A.Rd&&A.sd==null){z=U=j=d=0;var se=($=H*hy[c])*Y;if(11>c||(U=(Y+1)/2*(d=(H+1)/2),c==12&&(z=(j=H)*Y)),(Y=s(se+2*U+z))==null){c=1;break e}A.sd=Y,11>c?((H=A.f.RGBA).eb=Y,H.fb=0,H.A=$,H.size=se):((H=A.f.kb).y=Y,H.O=0,H.fa=$,H.Fd=se,H.f=Y,H.N=0+se,H.Ab=d,H.Cd=U,H.ea=Y,H.W=0+se+U,H.Db=d,H.Ed=U,c==12&&(H.F=Y,H.J=0+se+2*U),H.Tc=z,H.lb=j)}if(d=1,j=A.S,U=A.width,z=A.height,j>=qf&&13>j)if(11>j)c=A.f.RGBA,d&=($=Math.abs(c.A))*(z-1)+U<=c.size,d&=$>=U*hy[j],d&=c.eb!=null;else{c=A.f.kb,$=(U+1)/2,se=(z+1)/2,H=Math.abs(c.fa),Y=Math.abs(c.Ab);var ge=Math.abs(c.Db),X=Math.abs(c.lb),oe=X*(z-1)+U;d&=H*(z-1)+U<=c.Fd,d&=Y*(se-1)+$<=c.Cd,d=(d&=ge*(se-1)+$<=c.Ed)&H>=U&Y>=$&ge>=$,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,j==12&&(d&=X>=U,d&=oe<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=$c(A)),c}var Cl=64,Pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ci=24,ho=32,xa=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(c){return c},N.Predictor2=function(c,d,y){return d[y+0]},N.Predictor3=function(c,d,y){return d[y+1]},N.Predictor4=function(c,d,y){return d[y-1]},N.Predictor5=function(c,d,y){return Je(Je(c,d[y+1]),d[y+0])},N.Predictor6=function(c,d,y){return Je(c,d[y-1])},N.Predictor7=function(c,d,y){return Je(c,d[y+0])},N.Predictor8=function(c,d,y){return Je(d[y-1],d[y+0])},N.Predictor9=function(c,d,y){return Je(d[y+0],d[y+1])},N.Predictor10=function(c,d,y){return Je(Je(c,d[y-1]),Je(d[y+0],d[y+1]))},N.Predictor11=function(c,d,y){var A=d[y+0];return 0>=Ye(A>>24&255,c>>24&255,(d=d[y-1])>>24&255)+Ye(A>>16&255,c>>16&255,d>>16&255)+Ye(A>>8&255,c>>8&255,d>>8&255)+Ye(255&A,255&c,255&d)?A:c},N.Predictor12=function(c,d,y){var A=d[y+0];return(Mt((c>>24&255)+(A>>24&255)-((d=d[y-1])>>24&255))<<24|Mt((c>>16&255)+(A>>16&255)-(d>>16&255))<<16|Mt((c>>8&255)+(A>>8&255)-(d>>8&255))<<8|Mt((255&c)+(255&A)-(255&d)))>>>0},N.Predictor13=function(c,d,y){var A=d[y-1];return(ft((c=Je(c,d[y+0]))>>24&255,A>>24&255)<<24|ft(c>>16&255,A>>16&255)<<16|ft(c>>8&255,A>>8&255)<<8|ft(255&c,255&A))>>>0};var Wc=N.PredictorAdd0;N.PredictorAdd1=ke,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var bu=N.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Gn,Uf=N.ColorIndexInverseTransform,Js=N.MapARGB,Ys=N.VP8LColorIndexInverseTransformAlpha,Hc=N.MapAlpha,Gc=N.VP8LPredictorsAdd=[];Gc.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Kc,Qc,po,mo,go,Ll,vo,Rl,es,Xs,Zt,fn,Kn,ur,Sa,Jc,Au,Bf,Uv,Bv,zv,qv,$v,Wv,Yc,Hv,Gv,Kv,Qv=s(511),Jv=s(2041),Yv=s(225),Xv=s(767),Zv=0,zm=Jv,zf=Yv,Li=Xv,ts=Qv,qf=0,$f=1,ey=2,Wf=3,Hf=4,qm=5,ty=6,$m=7,Wm=8,Gf=9,Hm=10,Y3=[2,3,7],X3=[3,3,11],ny=[280,256,256,256,40],Z3=[0,1,1,1,0],eS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rS=8,Gm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Km=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xc=null,iS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ry=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yo=[],ys=[],Na=[],cS=1,iy=2,_o=[],ns=[];xr("UpsampleRgbLinePair",W,3),xr("UpsampleBgrLinePair",ue,3),xr("UpsampleRgbaLinePair",Ot,4),xr("UpsampleBgraLinePair",Dn,4),xr("UpsampleArgbLinePair",Bt,4),xr("UpsampleRgba4444LinePair",Me,2),xr("UpsampleRgb565LinePair",be,2);var hS=N.UpsampleRgbLinePair,fS=N.UpsampleBgrLinePair,sy=N.UpsampleRgbaLinePair,ay=N.UpsampleBgraLinePair,oy=N.UpsampleArgbLinePair,ly=N.UpsampleRgba4444LinePair,dS=N.UpsampleRgb565LinePair,Kf=16,Qf=1<<Kf-1,Zc=-227,Qm=482,pS=6,uy=0,mS=s(256),gS=s(256),vS=s(256),yS=s(256),_S=s(Qm-Zc),wS=s(Qm-Zc);gn("YuvToRgbRow",W,3),gn("YuvToBgrRow",ue,3),gn("YuvToRgbaRow",Ot,4),gn("YuvToBgraRow",Dn,4),gn("YuvToArgbRow",Bt,4),gn("YuvToRgba4444Row",Me,2),gn("YuvToRgb565Row",be,2);var cy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jf=[0,2,8],bS=[8,7,6,4,4,2,2,2,1,1,1,1],AS=1;this.WebPDecodeRGBA=function(c,d,y,A,j){var U=$f,z=new le,$=new Yt;z.ba=$,$.S=U,$.width=[$.width],$.height=[$.height];var H=$.width,Y=$.height,se=new gt;if(se==null||c==null)var ge=2;else e(se!=null),ge=vs(c,d,y,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ge!=0?H=0:(H!=null&&(H[0]=se.width[0]),Y!=null&&(Y[0]=se.height[0]),H=1),H){$.width=$.width[0],$.height=$.height[0],A!=null&&(A[0]=$.width),j!=null&&(j[0]=$.height);e:{if(A=new zs,(j=new Se).data=c,j.w=d,j.ha=y,j.kd=1,d=[0],e(j!=null),((c=vs(j.data,j.w,j.ha,null,null,null,d,null,j))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(z!=null),A.data=j.data,A.w=j.w+j.offset,A.ha=j.ha-j.offset,A.put=ct,A.ac=Or,A.bc=wn,A.ma=z,j.xa){if((c=Vs())==null){z=1;break e}if(function(X,oe){var ce=[0],xe=[0],me=[0];t:for(;;){if(X==null)return 0;if(oe==null)return X.a=2,0;if(X.l=oe,X.a=0,G(X.m,oe.data,oe.w,oe.ha),!Ji(X.m,ce,xe,me)){X.a=3;break t}if(X.xb=iy,oe.width=ce[0],oe.height=xe[0],!Si(ce[0],xe[0],1,X,null))break t;return 1}return e(X.a!=0),0}(c,A)){if(A=(d=co(A.width,A.height,z.Oa,z.ba))==0){t:{A=c;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((y=A.l)!=null),e((j=y.ma)!=null),A.xb!=0){if(A.ca=j.ba,A.tb=j.tb,e(A.ca!=null),!qc(j.Oa,y,Wf)){A.a=2;break n}if(!fs(A,y.width)||y.da)break n;if((y.da||Et(A.ca.S))&&mn(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&mn()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!ee(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Fr(A,A.V,A.Ba,A.c,A.i,y.o,Fs))break n;j.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(d=c.a)}else d=c.a}else{if((c=new bl)==null){z=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,yu(c,A)){if((d=co(A.width,A.height,z.Oa,z.ba))==0){if(c.Aa=0,y=z.Oa,e((j=c)!=null),y!=null){if(0<(H=0>(H=y.Md)?0:100<H?255:255*H/100)){for(Y=se=0;4>Y;++Y)12>(ge=j.pb[Y]).lc&&(ge.ia=H*bS[0>ge.lc?0:ge.lc]>>3),se|=ge.ia;se&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(X,oe){if(X==null)return 0;if(oe==null)return Cn(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!yu(X,oe))return 0;if(e(X.cb),oe.ac==null||oe.ac(oe)){oe.ob&&(X.L=0);var ce=Jf[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=oe.v-ce>>4,X.zb=oe.j-ce>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=oe.o+15+ce>>4,X.Hb=oe.va+15+ce>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var xe=X.ed;for(ce=0;4>ce;++ce){var me;if(X.Qa.Cb){var Ne=X.Qa.Lb[ce];X.Qa.Fb||(Ne+=xe.Tb)}else Ne=xe.Tb;for(me=0;1>=me;++me){var Ie=X.gd[ce][me],je=Ne;if(xe.Pc&&(je+=xe.vd[0],me&&(je+=xe.od[0])),0<(je=0>je?0:63<je?63:je)){var Le=je;0<xe.wb&&(Le=4<xe.wb?Le>>2:Le>>1)>9-xe.wb&&(Le=9-xe.wb),1>Le&&(Le=1),Ie.dd=Le,Ie.tc=2*je+Le,Ie.ld=40<=je?2:15<=je?1:0}else Ie.tc=0;Ie.La=me}}}ce=0}else Cn(X,6,"Frame setup failed"),ce=X.a;if(ce=ce==0){if(ce){X.$c=0,0<X.Aa||(X.Ic=AS);t:{ce=X.Ic,xe=4*(Le=X.za);var st=32*Le,Ge=Le+1,Pt=0<X.L?Le*(0<X.Aa?2:1):0,tt=(X.Aa==2?2:1)*Le;if((Ie=xe+832+(me=3*(16*ce+Jf[X.L])/2*st)+(Ne=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Ie)ce=0;else{if(Ie>X.Vb){if(X.Vb=0,X.Ec=s(Ie),X.Fc=0,X.Ec==null){ce=Cn(X,1,"no memory during frame initialization.");break t}X.Vb=Ie}Ie=X.Ec,je=X.Fc,X.Ac=Ie,X.Bc=je,je+=xe,X.Gd=a(st,_l),X.Hd=0,X.rb=a(Ge+1,Ni),X.sb=1,X.wa=Pt?a(Pt,vr):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Le),e(!0),X.oc=Ie,X.pc=je,je+=832,X.ya=a(tt,vl),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Le),X.R=16*Le,X.B=8*Le,Le=(st=Jf[X.L])*X.R,st=st/2*X.B,X.sa=Ie,X.ta=je+Le,X.qa=X.sa,X.ra=X.ta+16*ce*X.R+st,X.Ha=X.qa,X.Ia=X.ra+8*ce*X.B+st,X.$c=0,je+=me,X.mb=Ne?Ie:null,X.nb=Ne?je:null,e(je+Ne<=X.Fc+X.Vb),qs(X),i(X.Ac,X.Bc,0,xe),ce=1}}if(ce){if(oe.ka=0,oe.y=X.sa,oe.O=X.ta,oe.f=X.qa,oe.N=X.ra,oe.ea=X.Ha,oe.Vd=X.Ia,oe.fa=X.R,oe.Rc=X.B,oe.F=null,oe.J=0,!Zv){for(ce=-255;255>=ce;++ce)Qv[255+ce]=0>ce?-ce:ce;for(ce=-1020;1020>=ce;++ce)Jv[1020+ce]=-128>ce?-128:127<ce?127:ce;for(ce=-112;112>=ce;++ce)Yv[112+ce]=-16>ce?-16:15<ce?15:ce;for(ce=-255;510>=ce;++ce)Xv[255+ce]=0>ce?0:255<ce?255:ce;Zv=1}vo=$s,Rl=io,Xs=_u,Zt=Vt,fn=_a,es=ro,Kn=kl,ur=uo,Sa=g,Jc=D,Au=Zi,Bf=Tl,Uv=J,Bv=re,zv=Ks,qv=Qs,$v=di,Wv=Il,ys[0]=Uc,ys[1]=El,ys[2]=Hs,ys[3]=Vc,ys[4]=Bc,ys[5]=ps,ys[6]=yr,ys[7]=zc,ys[8]=ms,ys[9]=ao,yo[0]=fi,yo[1]=Mc,yo[2]=Fc,yo[3]=xl,yo[4]=Yi,yo[5]=Ws,yo[6]=so,Na[0]=ba,Na[1]=wu,Na[2]=oo,Na[3]=Ii,Na[4]=hn,Na[5]=Sl,Na[6]=Nl,ce=1}else ce=0}ce&&(ce=function(zt,cr){for(zt.M=0;zt.M<zt.Va;++zt.M){var Ct,nt=zt.Jc[zt.M&zt.Xb],Be=zt.m,Qn=zt;for(Ct=0;Ct<Qn.za;++Ct){var Tt=Be,Wt=Qn,bn=Wt.Ac,Nr=Wt.Bc+4*Ct,ri=Wt.zc,Bn=Wt.ya[Wt.aa+Ct];if(Wt.Qa.Bb?Bn.$b=Ae(Tt,Wt.Pa.jb[0])?2+Ae(Tt,Wt.Pa.jb[2]):Ae(Tt,Wt.Pa.jb[1]):Bn.$b=0,Wt.kc&&(Bn.Ad=Ae(Tt,Wt.Bd)),Bn.Za=!Ae(Tt,145)+0,Bn.Za){var Ur=Bn.Ob,ii=0;for(Wt=0;4>Wt;++Wt){var hr,Gt=ri[0+Wt];for(hr=0;4>hr;++hr){Gt=oS[bn[Nr+hr]][Gt];for(var rn=ry[Ae(Tt,Gt[0])];0<rn;)rn=ry[2*rn+Ae(Tt,Gt[rn])];Gt=-rn,bn[Nr+hr]=Gt}r(Ur,ii,bn,Nr,4),ii+=4,ri[0+Wt]=Gt}}else Gt=Ae(Tt,156)?Ae(Tt,128)?1:3:Ae(Tt,163)?2:0,Bn.Ob[0]=Gt,i(bn,Nr,Gt,4),i(ri,0,Gt,4);Bn.Dd=Ae(Tt,142)?Ae(Tt,114)?Ae(Tt,183)?1:3:2:0}if(Qn.m.Ka)return Cn(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(Qn=nt,Tt=(Be=zt).rb[Be.sb-1],bn=Be.rb[Be.sb+Be.ja],Ct=Be.ya[Be.aa+Be.ja],Nr=Be.kc?Ct.Ad:0)Tt.la=bn.la=0,Ct.Za||(Tt.Na=bn.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var zn,sn;if(Tt=bn,bn=Qn,Nr=Be.Pa.Xc,ri=Be.ya[Be.aa+Be.ja],Bn=Be.pb[ri.$b],Wt=ri.ad,Ur=0,ii=Be.rb[Be.sb-1],Gt=hr=0,i(Wt,Ur,0,384),ri.Za)var Ir=0,_s=Nr[3];else{rn=s(16);var Jn=Tt.Na+ii.Na;if(Jn=Xc(bn,Nr[1],Jn,Bn.Eb,0,rn,0),Tt.Na=ii.Na=(0<Jn)+0,1<Jn)vo(rn,0,Wt,Ur);else{var pi=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)Wt[Ur+rn]=pi}Ir=1,_s=Nr[0]}var dn=15&Tt.la,fr=15&ii.la;for(rn=0;4>rn;++rn){var Ri=1&fr;for(pi=sn=0;4>pi;++pi)dn=dn>>1|(Ri=(Jn=Xc(bn,_s,Jn=Ri+(1&dn),Bn.Sc,Ir,Wt,Ur))>Ir)<<7,sn=sn<<2|(3<Jn?3:1<Jn?2:Wt[Ur+0]!=0),Ur+=16;dn>>=4,fr=fr>>1|Ri<<7,hr=(hr<<8|sn)>>>0}for(_s=dn,Ir=fr>>4,zn=0;4>zn;zn+=2){for(sn=0,dn=Tt.la>>4+zn,fr=ii.la>>4+zn,rn=0;2>rn;++rn){for(Ri=1&fr,pi=0;2>pi;++pi)Jn=Ri+(1&dn),dn=dn>>1|(Ri=0<(Jn=Xc(bn,Nr[2],Jn,Bn.Qc,0,Wt,Ur)))<<3,sn=sn<<2|(3<Jn?3:1<Jn?2:Wt[Ur+0]!=0),Ur+=16;dn>>=2,fr=fr>>1|Ri<<5}Gt|=sn<<4*zn,_s|=dn<<4<<zn,Ir|=(240&fr)<<zn}Tt.la=_s,ii.la=Ir,ri.Hc=hr,ri.Gc=Gt,ri.ia=43690&Gt?0:Bn.ia,Nr=!(hr|Gt)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[Ct.$b][Ct.Za],Be.wa[Be.Y+Be.ja].La|=!Nr),Qn.Ka)return Cn(zt,7,"Premature end-of-file encountered.")}if(qs(zt),Be=cr,Qn=1,Ct=(nt=zt).D,Tt=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(Ct.M=nt.M,Ct.uc=Tt,Sr(nt,Ct),Qn=1,Ct=(sn=nt.D).Nb,Tt=(Gt=Jf[nt.L])*nt.R,bn=Gt/2*nt.B,rn=16*Ct*nt.R,pi=8*Ct*nt.B,Nr=nt.sa,ri=nt.ta-Tt+rn,Bn=nt.qa,Wt=nt.ra-bn+pi,Ur=nt.Ha,ii=nt.Ia-bn+pi,fr=(dn=sn.M)==0,hr=dn>=nt.Va-1,nt.Aa==2&&Sr(nt,sn),sn.uc)for(Ri=(Jn=nt).D.M,e(Jn.D.uc),sn=Jn.yb;sn<Jn.Hb;++sn){Ir=sn,_s=Ri;var si=(Di=(kr=Jn).D).Nb;zn=kr.R;var Di=Di.wa[Di.Y+Ir],ji=kr.sa,mi=kr.ta+16*si*zn+16*Ir,Oi=Di.dd,vn=Di.tc;if(vn!=0)if(e(3<=vn),kr.L==1)0<Ir&&qv(ji,mi,zn,vn+4),Di.La&&Wv(ji,mi,zn,vn),0<_s&&zv(ji,mi,zn,vn+4),Di.La&&$v(ji,mi,zn,vn);else{var Mi=kr.B,ws=kr.qa,Dl=kr.ra+8*si*Mi+8*Ir,Ia=kr.Ha,kr=kr.Ia+8*si*Mi+8*Ir;si=Di.ld,0<Ir&&(ur(ji,mi,zn,vn+4,Oi,si),Jc(ws,Dl,Ia,kr,Mi,vn+4,Oi,si)),Di.La&&(Bf(ji,mi,zn,vn,Oi,si),Bv(ws,Dl,Ia,kr,Mi,vn,Oi,si)),0<_s&&(Kn(ji,mi,zn,vn+4,Oi,si),Sa(ws,Dl,Ia,kr,Mi,vn+4,Oi,si)),Di.La&&(Au(ji,mi,zn,vn,Oi,si),Uv(ws,Dl,Ia,kr,Mi,vn,Oi,si))}}if(nt.ia&&alert("todo:DitherRow"),Be.put!=null){if(sn=16*dn,dn=16*(dn+1),fr?(Be.y=nt.sa,Be.O=nt.ta+rn,Be.f=nt.qa,Be.N=nt.ra+pi,Be.ea=nt.Ha,Be.W=nt.Ia+pi):(sn-=Gt,Be.y=Nr,Be.O=ri,Be.f=Bn,Be.N=Wt,Be.ea=Ur,Be.W=ii),hr||(dn-=Gt),dn>Be.o&&(dn=Be.o),Be.F=null,Be.J=null,nt.Fa!=null&&0<nt.Fa.length&&sn<dn&&(Be.J=Ln(nt,Be,sn,dn-sn),Be.F=nt.mb,Be.F==null&&Be.F.length==0)){Qn=Cn(nt,3,"Could not decode alpha data.");break t}sn<Be.j&&(Gt=Be.j-sn,sn=Be.j,e(!(1&Gt)),Be.O+=nt.R*Gt,Be.N+=nt.B*(Gt>>1),Be.W+=nt.B*(Gt>>1),Be.F!=null&&(Be.J+=Be.width*Gt)),sn<dn&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=sn-Be.j,Be.U=Be.va-Be.v,Be.T=dn-sn,Qn=Be.put(Be))}Ct+1!=nt.Ic||hr||(r(nt.sa,nt.ta-Tt,Nr,ri+16*nt.R,Tt),r(nt.qa,nt.ra-bn,Bn,Wt+8*nt.B,bn),r(nt.Ha,nt.Ia-bn,Ur,ii+8*nt.B,bn))}if(!Qn)return Cn(zt,6,"Output aborted.")}return 1}(X,oe)),oe.bc!=null&&oe.bc(oe),ce&=1}return ce?(X.cb=0,ce):0})(c,A)||(d=c.a)}}else d=c.a}d==0&&z.Oa!=null&&z.Oa.fd&&(d=$c(z.ba))}z=d}U=z!=0?null:11>U?$.f.RGBA.eb:$.f.kb.y}else U=null;return U};var hy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,O){for(var E="",S=0;S<4;S++)E+=String.fromCharCode(N[O++]);return E}function f(N,O){return N[O+0]|N[O+1]<<8}function m(N,O){return(N[O+0]|N[O+1]<<8|N[O+2]<<16)>>>0}function _(N,O){return(N[O+0]|N[O+1]<<8|N[O+2]<<16|N[O+3]<<24)>>>0}new l;var p=[0],C=[0],k=[],L=new l,b=t,T=function(N,O){var E={},S=0,P=!1,te=0,fe=0;if(E.frames=[],!function(M,K){for(var q=0;q<4;q++)if(M[K+q]!="RIFF".charCodeAt(q))return!0;return!1}(N,O)){for(_(N,O+=4),O+=8;O<N.length;){var ye=u(N,O),de=_(N,O+=4);O+=4;var Z=de+(1&de);switch(ye){case"VP8 ":case"VP8L":E.frames[S]===void 0&&(E.frames[S]={}),(_e=E.frames[S]).src_off=P?fe:O-8,_e.src_size=te+de+8,S++,P&&(P=!1,te=0,fe=0);break;case"VP8X":(_e=E.header={}).feature_flags=N[O];var G=O+4;_e.canvas_width=1+m(N,G),G+=3,_e.canvas_height=1+m(N,G),G+=3;break;case"ALPH":P=!0,te=Z+8,fe=O-8;break;case"ANIM":(_e=E.header).bgcolor=_(N,O),G=O+4,_e.loop_count=f(N,G),G+=2;break;case"ANMF":var pe,_e;(_e=E.frames[S]={}).offset_x=2*m(N,O),O+=3,_e.offset_y=2*m(N,O),O+=3,_e.width=1+m(N,O),O+=3,_e.height=1+m(N,O),O+=3,_e.duration=m(N,O),O+=3,pe=N[O++],_e.dispose=1&pe,_e.blend=pe>>1&1}ye!="ANMF"&&(O+=Z)}return E}}(b,0);T.response=b,T.rgbaoutput=!0,T.dataurl=!1;var R=T.header?T.header:null,B=T.frames?T.frames:null;if(R){R.loop_counter=R.loop_count,p=[R.canvas_height],C=[R.canvas_width];for(var ne=0;ne<B.length&&B[ne].blend!=0;ne++);}var F=B[0],V=L.WebPDecodeRGBA(b,F.src_off,F.src_size,C,p);F.rgba=V,F.imgwidth=C[0],F.imgheight=p[0];for(var x=0;x<C[0]*p[0]*4;x++)k[x]=V[x];return this.width=C,this.height=p,this.data=k,this}(function(t){var e,n,r,i,s,a,o,l,u,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=M;Object.defineProperty(this,"pdf",{get:function(){return K}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ee){q=!!Ee}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Ee){Q=!!Ee}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ee){isNaN(Ee)||(ie=Ee)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Ee){isNaN(Ee)||(ae=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ee){var ee;typeof Ee=="number"?ee=[Ee,Ee,Ee,Ee]:((ee=new Array(4))[0]=Ee[0],ee[1]=Ee.length>=2?Ee[1]:ee[0],ee[2]=Ee.length>=3?Ee[2]:ee[0],ee[3]=Ee.length>=4?Ee[3]:ee[1]),u.margin=ee}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Ee){ve=Ee}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Ee){we=Ee}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Ee){Ae=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ee){Ee instanceof f&&(u=Ee)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ee){u.path=Ee}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Ee){Te=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ee;ee=_(Ee),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ee=_(Ee);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Fe=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Ee){Fe=null,Ve=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ee;if(this.ctx.font=Ee,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var kt=ee[1];ee[2];var _t=ee[3],it=ee[4];ee[5];var Re=ee[6],Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ke==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Ue=function(ot){var Xe,mt,dt=[],ze=ot.trim();if(ze==="")return l1;if(ze in nb)return[nb[ze]];for(;ze!=="";){switch(mt=null,Xe=(ze=ib(ze)).charAt(0)){case'"':case"'":mt=eO(ze.substring(1),Xe);break;default:mt=tO(ze)}if(mt===null||(dt.push(mt[0]),(ze=ib(mt[1]))!==""&&ze.charAt(0)!==","))return l1;ze=ze.replace(/^,/,"")}return dt}(Re);if(this.fontFaces){var wt=function(ot,Xe){if(Fe===null){var mt=function(dt){var ze=[];return Object.keys(dt).forEach(function(lt){dt[lt].forEach(function(Qt){var ht=null;switch(Qt){case"bold":ht={family:lt,weight:"bold"};break;case"italic":ht={family:lt,style:"italic"};break;case"bolditalic":ht={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:lt}}ht!==null&&(ht.ref={name:lt,style:Qt},ze.push(ht))})}),ze}(ot.getFontList());Fe=function(dt){for(var ze={},lt=0;lt<dt.length;++lt){var Qt=o1(dt[lt]),ht=Qt.family,Rt=Qt.stretch,Et=Qt.style,Nn=Qt.weight;ze[ht]=ze[ht]||{},ze[ht][Rt]=ze[ht][Rt]||{},ze[ht][Rt][Et]=ze[ht][Rt][Et]||{},ze[ht][Rt][Et][Nn]=Qt}return ze}(mt.concat(Xe))}return Fe}(this.pdf,this.fontFaces),Je=Ue.map(function(ot){return{family:ot,stretch:"normal",weight:_t,style:kt}}),Mt=function(ot,Xe,mt){for(var dt=(mt=mt||{}).defaultFontFamily||"times",ze=Object.assign({},Zj,mt.genericFontFamilies||{}),lt=null,Qt=null,ht=0;ht<Xe.length;++ht)if(ze[(lt=o1(Xe[ht])).family]&&(lt.family=ze[lt.family]),ot.hasOwnProperty(lt.family)){Qt=ot[lt.family];break}if(!(Qt=Qt||ot[dt]))throw new Error("Could not find a font-family for the rule '"+rb(lt)+"' and default family '"+dt+"'.");if(Qt=function(Rt,Et){if(Et[Rt])return Et[Rt];var Nn=B0[Rt],_n=Nn<=B0.normal?-1:1,Yt=tb(Et,H3,Nn,_n);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+Rt);return Yt}(lt.stretch,Qt),Qt=function(Rt,Et){if(Et[Rt])return Et[Rt];for(var Nn=W3[Rt],_n=0;_n<Nn.length;++_n)if(Et[Nn[_n]])return Et[Nn[_n]];throw new Error("Could not find a matching font-style for "+Rt)}(lt.style,Qt),!(Qt=function(Rt,Et){if(Et[Rt])return Et[Rt];if(Rt===400&&Et[500])return Et[500];if(Rt===500&&Et[400])return Et[400];var Nn=Xj[Rt],_n=tb(Et,G3,Nn,Rt<400?-1:1);if(!_n)throw new Error("Could not find a matching font-weight for value "+Rt);return _n}(lt.weight,Qt)))throw new Error("Failed to resolve a font for the rule '"+rb(lt)+"'.");return Qt}(wt,Je);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var ft="";(_t==="bold"||parseInt(_t,10)>=700||kt==="bold")&&(ft="bold"),kt==="italic"&&(ft+="italic"),ft.length===0&&(ft="normal");for(var Ye="",ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Ue.length;rt++){if(this.pdf.internal.getFont(Ue[rt],ft,{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ue[rt];break}if(ft==="bolditalic"&&this.pdf.internal.getFont(Ue[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=Ue[rt],ft="bold";else if(this.pdf.internal.getFont(Ue[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ue[rt],ft="normal";break}}if(Ye===""){for(var qe=0;qe<Ue.length;qe++)if(ke[Ue[qe]]){Ye=ke[Ue[qe]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){B.call(this,"fill",!1)},m.prototype.stroke=function(){B.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,K){if(isNaN(M)||isNaN(K))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new a(M,K));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(M,K)},m.prototype.closePath=function(){var M=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&ln(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){M=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},m.prototype.lineTo=function(M,K){if(isNaN(M)||isNaN(K))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new a(M,K));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,K,q,Q){if(isNaN(q)||isNaN(Q)||isNaN(M)||isNaN(K))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new a(q,Q)),ae=this.ctx.transform.applyToPoint(new a(M,K));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},m.prototype.bezierCurveTo=function(M,K,q,Q,ie,ae){if(isNaN(ie)||isNaN(ae)||isNaN(M)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(ie,ae)),we=this.ctx.transform.applyToPoint(new a(M,K)),Ae=this.ctx.transform.applyToPoint(new a(q,Q));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ae.x,y2:Ae.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},m.prototype.arc=function(M,K,q,Q,ie,ae){if(isNaN(M)||isNaN(K)||isNaN(q)||isNaN(Q)||isNaN(ie))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(M,K));M=ve.x,K=ve.y;var we=this.ctx.transform.applyToPoint(new a(0,q)),Ae=this.ctx.transform.applyToPoint(new a(0,0));q=Math.sqrt(Math.pow(we.x-Ae.x,2)+Math.pow(we.y-Ae.y,2))}Math.abs(ie-Q)>=2*Math.PI&&(Q=0,ie=2*Math.PI),this.path.push({type:"arc",x:M,y:K,radius:q,startAngle:Q,endAngle:ie,counterclockwise:ae})},m.prototype.arcTo=function(M,K,q,Q,ie){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,K,q,Q){if(isNaN(M)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,K),this.lineTo(M+q,K),this.lineTo(M+q,K+Q),this.lineTo(M,K+Q),this.lineTo(M,K),this.lineTo(M+q,K),this.lineTo(M,K)},m.prototype.fillRect=function(M,K,q,Q){if(isNaN(M)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,K,q,Q),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},m.prototype.strokeRect=function(M,K,q,Q){if(isNaN(M)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(M,K,q,Q),this.stroke())},m.prototype.clearRect=function(M,K,q,Q){if(isNaN(M)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,K,q,Q))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(K),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(M){var K,q,Q,ie;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))K=0,q=0,Q=0,ie=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ae!==null)K=parseInt(ae[1]),q=parseInt(ae[2]),Q=parseInt(ae[3]),ie=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)K=parseInt(ae[1]),q=parseInt(ae[2]),Q=parseInt(ae[3]),ie=parseFloat(ae[4]);else{if(ie=1,typeof M=="string"&&M.charAt(0)!=="#"){var ve=new F3(M);M=ve.ok?ve.toHex():"#000000"}M.length===4?(K=M.substring(1,2),K+=K,q=M.substring(2,3),q+=q,Q=M.substring(3,4),Q+=Q):(K=M.substring(1,3),q=M.substring(3,5),Q=M.substring(5,7)),K=parseInt(K,16),q=parseInt(q,16),Q=parseInt(Q,16)}}return{r:K,g:q,b:Q,a:ie,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,K,q,Q){if(isNaN(K)||isNaN(q)||typeof M!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var ie=Z(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;S.call(this,{text:M,x:K,y:q,scale:ae,angle:ie,align:this.textAlign,maxWidth:Q})}},m.prototype.strokeText=function(M,K,q,Q){if(isNaN(K)||isNaN(q)||typeof M!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){Q=isNaN(Q)?void 0:Q;var ie=Z(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;S.call(this,{text:M,x:K,y:q,scale:ae,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Q})}},m.prototype.measureText=function(M){if(typeof M!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,q=this.pdf.internal.scaleFactor,Q=K.internal.getFontSize(),ie=K.getStringUnitWidth(M)*Q/K.internal.scaleFactor;return new function(ae){var ve=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:ie*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(M,K){if(isNaN(M)||isNaN(K))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(M,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(M){if(isNaN(M))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},m.prototype.translate=function(M,K){if(isNaN(M)||isNaN(K))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,M,K);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(M,K,q,Q,ie,ae){if(isNaN(M)||isNaN(K)||isNaN(q)||isNaN(Q)||isNaN(ie)||isNaN(ae))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(M,K,q,Q,ie,ae);this.ctx.transform=this.ctx.transform.multiply(ve)},m.prototype.setTransform=function(M,K,q,Q,ie,ae){M=isNaN(M)?1:M,K=isNaN(K)?0:K,q=isNaN(q)?0:q,Q=isNaN(Q)?1:Q,ie=isNaN(ie)?0:ie,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(M,K,q,Q,ie,ae)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,K,q,Q,ie,ae,ve,we,Ae){var Te=this.pdf.getImageProperties(M),Fe=1,Ve=1,Ee=1,ee=1;Q!==void 0&&we!==void 0&&(Ee=we/Q,ee=Ae/ie,Fe=Te.width/Q*we/Q,Ve=Te.height/ie*Ae/ie),ae===void 0&&(ae=K,ve=q,K=0,q=0),Q!==void 0&&we===void 0&&(we=Q,Ae=ie),Q===void 0&&we===void 0&&(we=Te.width,Ae=Te.height);for(var kt,_t=this.ctx.transform.decompose(),it=Z(_t.rotate.shx),Re=new l,Ke=(Re=(Re=(Re=Re.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new o(ae-K*Ee,ve-q*ee,Q*Fe,ie*Ve)),Ue=L.call(this,Ke),wt=[],Je=0;Je<Ue.length;Je+=1)wt.indexOf(Ue[Je])===-1&&wt.push(Ue[Je]);if(R(wt),this.autoPaging)for(var Mt=wt[0],ft=wt[wt.length-1],Ye=Mt;Ye<ft+1;Ye++){this.pdf.setPage(Ye);var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=Ye===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ye===1?0:qe+(Ye-2)*ot;if(this.ctx.clip_path.length!==0){var mt=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(kt,this.posX+this.margin[3],-Xe+rt+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=mt}var dt=JSON.parse(JSON.stringify(Ke));dt=T([dt],this.posX+this.margin[3],-Xe+rt+this.ctx.prevPageLastElemOffset)[0];var ze=(Ye>Mt||Ye<ft)&&k.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,ot,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,it),ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,it)};var L=function(M,K,q){var Q=[];K=K||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Q.push(Math.floor((M.y+ie)/q)+1);break;case"arc":Q.push(Math.floor((M.y+ie-M.radius)/q)+1),Q.push(Math.floor((M.y+ie+M.radius)/q)+1);break;case"qct":var ae=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Q.push(Math.floor((ae.y+ie)/q)+1),Q.push(Math.floor((ae.y+ae.h+ie)/q)+1);break;case"bct":var ve=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Q.push(Math.floor((ve.y+ie)/q)+1),Q.push(Math.floor((ve.y+ve.h+ie)/q)+1);break;case"rect":Q.push(Math.floor((M.y+ie)/q)+1),Q.push(Math.floor((M.y+M.h+ie)/q)+1)}for(var we=0;we<Q.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<Q[we];)b.call(this);return Q},b=function(){var M=this.fillStyle,K=this.strokeStyle,q=this.font,Q=this.lineCap,ie=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=K,this.font=q,this.lineCap=Q,this.lineWidth=ie,this.lineJoin=ae},T=function(M,K,q){for(var Q=0;Q<M.length;Q++)switch(M[Q].type){case"bct":M[Q].x2+=K,M[Q].y2+=q;case"qct":M[Q].x1+=K,M[Q].y1+=q;default:M[Q].x+=K,M[Q].y+=q}return M},R=function(M){return M.sort(function(K,q){return K-q})},B=function(M,K){for(var q,Q,ie=this.fillStyle,ae=this.strokeStyle,ve=this.lineCap,we=this.lineWidth,Ae=Math.abs(we*this.ctx.transform.scaleX),Te=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Ee=[],ee=0;ee<Ve.length;ee++)if(Ve[ee].x!==void 0)for(var kt=L.call(this,Ve[ee]),_t=0;_t<kt.length;_t+=1)Ee.indexOf(kt[_t])===-1&&Ee.push(kt[_t]);for(var it=0;it<Ee.length;it++)for(;this.pdf.internal.getNumberOfPages()<Ee[it];)b.call(this);if(R(Ee),this.autoPaging)for(var Re=Ee[0],Ke=Ee[Ee.length-1],Ue=Re;Ue<Ke+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ie,this.strokeStyle=ae,this.lineCap=ve,this.lineWidth=Ae,this.lineJoin=Te;var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Ue===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=Ue===1?0:Mt+(Ue-2)*ft;if(this.ctx.clip_path.length!==0){var ke=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(q,this.posX+this.margin[3],-Ye+Je+this.ctx.prevPageLastElemOffset),ne.call(this,M,!0),this.path=ke}if(Q=JSON.parse(JSON.stringify(Fe)),this.path=T(Q,this.posX+this.margin[3],-Ye+Je+this.ctx.prevPageLastElemOffset),K===!1||Ue===0){var rt=(Ue>Re||Ue<Ke)&&k.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,ft,null).clip().discardPath()),ne.call(this,M,K),rt&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Ae,ne.call(this,M,K),this.lineWidth=we;this.path=Fe},ne=function(M,K){if((M!=="stroke"||K||!C.call(this))&&(M==="stroke"||K||!p.call(this))){for(var q,Q,ie=[],ae=this.path,ve=0;ve<ae.length;ve++){var we=ae[ve];switch(we.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:we,deltas:[],abs:[]});break;case"lt":var Ae=ie.length;if(ae[ve-1]&&!isNaN(ae[ve-1].x)&&(q=[we.x-ae[ve-1].x,we.y-ae[ve-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ie[Ae-1].close!==!0&&ie[Ae-1].begin!==!0){ie[Ae-1].deltas.push(q),ie[Ae-1].abs.push(we);break}}break;case"bct":q=[we.x1-ae[ve-1].x,we.y1-ae[ve-1].y,we.x2-ae[ve-1].x,we.y2-ae[ve-1].y,we.x-ae[ve-1].x,we.y-ae[ve-1].y],ie[ie.length-1].deltas.push(q);break;case"qct":var Te=ae[ve-1].x+2/3*(we.x1-ae[ve-1].x),Fe=ae[ve-1].y+2/3*(we.y1-ae[ve-1].y),Ve=we.x+2/3*(we.x1-we.x),Ee=we.y+2/3*(we.y1-we.y),ee=we.x,kt=we.y;q=[Te-ae[ve-1].x,Fe-ae[ve-1].y,Ve-ae[ve-1].x,Ee-ae[ve-1].y,ee-ae[ve-1].x,kt-ae[ve-1].y],ie[ie.length-1].deltas.push(q);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(we)}}Q=K?null:M==="stroke"?"stroke":"fill";for(var _t=!1,it=0;it<ie.length;it++)if(ie[it].arc)for(var Re=ie[it].abs,Ke=0;Ke<Re.length;Ke++){var Ue=Re[Ke];Ue.type==="arc"?x.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,K,!_t):P.call(this,Ue.x,Ue.y),_t=!0}else if(ie[it].close===!0)this.pdf.internal.out("h"),_t=!1;else if(ie[it].begin!==!0){var wt=ie[it].start.x,Je=ie[it].start.y;te.call(this,ie[it].deltas,wt,Je),_t=!0}Q&&N.call(this,Q),K&&O.call(this)}},F=function(M){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+K-q;case"hanging":return M+K-2*q;case"middle":return M+K/2-q;default:return M}},V=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(K,q){this.colorStops.push([K,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(M,K,q,Q,ie,ae,ve,we,Ae){for(var Te=ye.call(this,q,Q,ie,ae),Fe=0;Fe<Te.length;Fe++){var Ve=Te[Fe];Fe===0&&(Ae?E.call(this,Ve.x1+M,Ve.y1+K):P.call(this,Ve.x1+M,Ve.y1+K)),fe.call(this,M,K,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}we?O.call(this):N.call(this,ve)},N=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(M,K){this.pdf.internal.out(n(M)+" "+r(K)+" m")},S=function(M){var K;switch(M.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var q=this.pdf.getTextDimensions(M.text),Q=F.call(this,M.y),ie=V.call(this,Q)-q.h,ae=this.ctx.transform.applyToPoint(new a(M.x,Q)),ve=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Ae,Te,Fe,Ve=this.ctx.transform.applyToRectangle(new o(M.x,Q,q.w,q.h)),Ee=we.applyToRectangle(new o(M.x,ie,q.w,q.h)),ee=L.call(this,Ee),kt=[],_t=0;_t<ee.length;_t+=1)kt.indexOf(ee[_t])===-1&&kt.push(ee[_t]);if(R(kt),this.autoPaging)for(var it=kt[0],Re=kt[kt.length-1],Ke=it;Ke<Re+1;Ke++){this.pdf.setPage(Ke);var Ue=Ke===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],Mt=Je-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],Ye=ft-this.margin[3],ke=Ke===1?0:wt+(Ke-2)*Mt;if(this.ctx.clip_path.length!==0){var rt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Ae,this.posX+this.margin[3],-1*ke+Ue),ne.call(this,"fill",!0),this.path=rt}var qe=T([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ke+Ue+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale);var ot=this.autoPaging!=="text";if(ot||qe.y+qe.h<=Je){if(ot||qe.y>=Ue&&qe.x<=ft){var Xe=ot?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||ft-qe.x)[0],mt=T([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ke+Ue+this.ctx.prevPageLastElemOffset)[0],dt=ot&&(Ke>it||Ke<Re)&&k.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Mt,null).clip().discardPath()),this.pdf.text(Xe,mt.x,mt.y,{angle:M.angle,align:K,renderingMode:M.renderingMode}),dt&&this.pdf.restoreGraphicsState()}}else qe.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-qe.y);M.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Fe)}else M.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale),this.pdf.text(M.text,ae.x+this.posX,ae.y+this.posY,{angle:M.angle,align:K,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Fe)},P=function(M,K,q,Q){q=q||0,Q=Q||0,this.pdf.internal.out(n(M+q)+" "+r(K+Q)+" l")},te=function(M,K,q){return this.pdf.lines(M,K,q,null,null)},fe=function(M,K,q,Q,ie,ae,ve,we){this.pdf.internal.out([e(i(q+M)),e(s(Q+K)),e(i(ie+M)),e(s(ae+K)),e(i(ve+M)),e(s(we+K)),"c"].join(" "))},ye=function(M,K,q,Q){for(var ie=2*Math.PI,ae=Math.PI/2;K>q;)K-=ie;var ve=Math.abs(q-K);ve<ie&&Q&&(ve=ie-ve);for(var we=[],Ae=Q?-1:1,Te=K;ve>1e-5;){var Fe=Te+Ae*Math.min(ve,ae);we.push(de.call(this,M,Te,Fe)),ve-=Math.abs(Fe-Te),Te=Fe}return we},de=function(M,K,q){var Q=(q-K)/2,ie=M*Math.cos(Q),ae=M*Math.sin(Q),ve=ie,we=-ae,Ae=ve*ve+we*we,Te=Ae+ve*ie+we*ae,Fe=4/3*(Math.sqrt(2*Ae*Te)-Te)/(ve*ae-we*ie),Ve=ve-Fe*we,Ee=we+Fe*ve,ee=Ve,kt=-Ee,_t=Q+K,it=Math.cos(_t),Re=Math.sin(_t);return{x1:M*Math.cos(K),y1:M*Math.sin(K),x2:Ve*it-Ee*Re,y2:Ve*Re+Ee*it,x3:ee*it-kt*Re,y3:ee*Re+kt*it,x4:M*Math.cos(q),y4:M*Math.sin(q)}},Z=function(M){return 180*M/Math.PI},G=function(M,K,q,Q,ie,ae){var ve=M+.5*(q-M),we=K+.5*(Q-K),Ae=ie+.5*(q-ie),Te=ae+.5*(Q-ae),Fe=Math.min(M,ie,ve,Ae),Ve=Math.max(M,ie,ve,Ae),Ee=Math.min(K,ae,we,Te),ee=Math.max(K,ae,we,Te);return new o(Fe,Ee,Ve-Fe,ee-Ee)},pe=function(M,K,q,Q,ie,ae,ve,we){var Ae,Te,Fe,Ve,Ee,ee,kt,_t,it,Re,Ke,Ue,wt,Je,Mt=q-M,ft=Q-K,Ye=ie-q,ke=ae-Q,rt=ve-ie,qe=we-ae;for(Te=0;Te<41;Te++)it=(kt=(Fe=M+(Ae=Te/40)*Mt)+Ae*((Ee=q+Ae*Ye)-Fe))+Ae*(Ee+Ae*(ie+Ae*rt-Ee)-kt),Re=(_t=(Ve=K+Ae*ft)+Ae*((ee=Q+Ae*ke)-Ve))+Ae*(ee+Ae*(ae+Ae*qe-ee)-_t),Te==0?(Ke=it,Ue=Re,wt=it,Je=Re):(Ke=Math.min(Ke,it),Ue=Math.min(Ue,Re),wt=Math.max(wt,it),Je=Math.max(Je,Re));return new o(Math.round(Ke),Math.round(Ue),Math.round(wt-Ke),Math.round(Je-Ue))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,K,q=(M=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:K}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(at.API),function(t){var e=function(a){var o,l,u,f,m,_,p,C,k,L;for(l=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(m=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(_=(m=((m=((m=((m=(m-(L=m%85))/85)-(k=m%85))/85)-(C=m%85))/85)-(p=m%85))/85)%85,l.push(_+33,p+33,C+33,k+33,L+33)):l.push(122);return function(b,T){for(var R=T;R>0;R--)b.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,u,f,m,_=String,p="length",C=255,k="charCodeAt",L="slice",b="replace";for(a[L](-2),a=a[L](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],f=0,m=(a+=o="uuuuu"[L](a[p]%5||5))[p];m>f;f+=5)l=52200625*(a[k](f)-33)+614125*(a[k](f+1)-33)+7225*(a[k](f+2)-33)+85*(a[k](f+3)-33)+(a[k](f+4)-33),u.push(C&l>>24,C&l>>16,C&l>>8,C&l);return function(T,R){for(var B=R;B>0;B--)T.pop()}(u,o[p]),_.fromCharCode.apply(_,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=D0(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,f){var m=new XMLHttpRequest,_=0,p=function(C){var k=C.length,L=[],b=String.fromCharCode;for(_=0;_<k;_+=1)L.push(b(255&C.charCodeAt(_)));return L.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(At.html2canvas?Promise.resolve(At.html2canvas):qg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):qg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=ln(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function o(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(o(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return(f=f.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var C=f[p],k=C.src.find(function(L){return L.format==="truetype"});k&&u.addFont(k.url,C.ref.name,C.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,u.context2d.save(!0),l(this.prop.container,_)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,f){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,f){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(f,m){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(_){return u.updateProgress(null,f),_}).then(f,m).then(function(_){return u.updateProgress(1),_})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var f=this;o&&(o=o.bind(f)),l&&(l=l.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),_=u.call(m,o,l);return a.convert(_,f.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,at.getPageSize=function(o,l,u){if(ln(o)==="object"){var f=o;o=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,_=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var C,k=0,L=0;if(p.hasOwnProperty(_))k=p[_][1]/m,L=p[_][0]/m;else try{k=u[1],L=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",L>k&&(C=L,L=k,k=C);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",k>L&&(C=L,L=k,k=C)}return{width:L,height:k,unit:l,k:m,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(o1):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(at.API),at.API.addJS=function(t){return ab=t,this.internal.events.subscribe("postPutResources",function(){Rd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ab+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rd!==void 0&&sb!==void 0&&this.internal.out("/Names <</JavaScript "+Rd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var m=n.internal.newObject();f.push(m);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(m){for(var _,p=256*m.charCodeAt(4)+m.charCodeAt(5),C=m.length,k={width:0,height:0,numcomponents:1},L=4;L<C;L+=2){if(L+=p,e.indexOf(m.charCodeAt(L+1))!==-1){_=256*m.charCodeAt(L+5)+m.charCodeAt(L+6),k={width:256*m.charCodeAt(L+7)+m.charCodeAt(L+8),height:_,numcomponents:m.charCodeAt(L+9)};break}p=256*m.charCodeAt(L+2)+m.charCodeAt(L+3)}return k}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(at.API),at.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Fj(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?function(x){for(var N=x.width,O=x.height,E=x.data,S=x.palette,P=x.depth,te=!1,fe=[],ye=[],de=void 0,Z=!1,G=0,pe=0;pe<S.length;pe++){var _e=cw(S[pe],4),M=_e[0],K=_e[1],q=_e[2],Q=_e[3];fe.push(M,K,q),Q!=null&&(Q===0?(G++,ye.length<1&&ye.push(pe)):Q<255&&(Z=!0))}if(Z||G>1){te=!0,ye=void 0;var ie=N*O;de=new Uint8Array(ie);for(var ae=new DataView(E.buffer),ve=0;ve<ie;ve++){var we=u1(ae,ve,P),Ae=cw(S[we],4)[3];de[ve]=Ae}}else G===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:E,alphaBytes:de,needSMask:te,palette:fe,mask:ye}}(s):l===2||l===4?function(x){for(var N=x.data,O=x.width,E=x.height,S=x.channels,P=x.depth,te=S===2?"DeviceGray":"DeviceRGB",fe=S-1,ye=O*E,de=fe,Z=ye*de,G=1*ye,pe=Math.ceil(Z*P/8),_e=Math.ceil(G*P/8),M=new Uint8Array(pe),K=new Uint8Array(_e),q=new DataView(N.buffer),Q=new DataView(M.buffer),ie=new DataView(K.buffer),ae=!1,ve=0;ve<ye;ve++){for(var we=ve*S,Ae=0;Ae<de;Ae++)mb(Q,u1(q,we+Ae,P),ve*de+Ae,P);var Te=u1(q,we+de,P);Te<(1<<P)-1&&(ae=!0),mb(ie,Te,1*ve,P)}return{colorSpace:te,colorsPerPixel:fe,sMaskBitsPerComponent:ae?P:void 0,colorBytes:M,alphaBytes:K,needSMask:ae}}(s):function(x){var N=x.data,O=x.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(E){for(var S=E.length,P=new Uint8Array(2*S),te=new DataView(P.buffer,P.byteOffset,P.byteLength),fe=0;fe<S;fe++)te.setUint16(2*fe,E[fe],!1);return P}(N):N,needSMask:!1}}(s);var m,_,p,C=i,k=C.colorSpace,L=C.colorsPerPixel,b=C.sMaskBitsPerComponent,T=C.colorBytes,R=C.alphaBytes,B=C.needSMask,ne=C.palette,F=C.mask,V=null;return r!==at.API.image_compression.NONE&&typeof D0=="function"?(V=function(x){var N;switch(x){case at.API.image_compression.FAST:N=11;break;case at.API.image_compression.MEDIUM:N=13;break;case at.API.image_compression.SLOW:N=14;break;default:N=12}return N}(r),m=this.decode.FLATE_DECODE,_="/Predictor ".concat(V," /Colors ").concat(L," /BitsPerComponent ").concat(f," /Columns ").concat(a),t=cb(T,Math.ceil(a*L*f/8),L,f,r),B&&(p=cb(R,Math.ceil(a*b/8),1,b,r))):(m=void 0,_=void 0,t=T,B&&(p=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:m,decodeParameters:_,transparency:F,palette:ne,sMask:p,predictor:V,width:a,height:o,bitsPerComponent:f,sMaskBitsPerComponent:b,colorSpace:k}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new sO(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},f=new c1(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(at.API),As.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},As.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){pn.log("bit decode error:"+n)}},As.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},As.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},As.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},As.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=u}this.pos+=t}},As.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=t}},As.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},As.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},As.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new As(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new c1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),vb.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new vb(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new c1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var f=r[u],m=r[u+1],_=r[u+2],p=r[u+3];s[o++]=f,s[o++]=m,s[o++]=_,a[l++]=p}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:C,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ku=at.API,Dd=ku.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,_=0,p=t.length,C=0,k=o[0]||l,L=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(_=m&&ln(u[r])==="object"&&!isNaN(parseInt(u[r][C],10))?u[r][C]/f:0,L.push((o[r]||k)/l+_)),C=r;return L},ob=ku.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ku.processArabic&&(t=ku.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Dd.apply(this,arguments).reduce(function(s,a){return s+a},0)},lb=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},ub=function(t,e,n){n||(n={});var r,i,s,a,o,l,u,f=[],m=[f],_=n.textIndent||0,p=0,C=0,k=t.split(" "),L=Dd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),T=[];k.map(function(B){(B=B.split(/\s*\n/)).length>1?T=T.concat(B.map(function(ne,F){return(F&&ne.length?`
`:"")+ne})):T.push(B[0])}),k=T,l=ob.apply(this,[b,n])}for(s=0,a=k.length;s<a;s++){var R=0;if(r=k[s],l&&r[0]==`
`&&(r=r.substr(1),R=1),_+p+(C=(i=Dd.apply(this,[r,n])).reduce(function(B,ne){return B+ne},0))>e||R){if(C>e){for(o=lb.apply(this,[r,i,e-(_+p),e]),f.push(o.shift()),f=[o.pop()];o.length;)m.push([o.shift()]);C=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(B,ne){return B+ne},0)}else f=[r];m.push(f),_=C+l,p=L}else f.push(r),_+=p+C,p=L}return u=l?function(B,ne){return(ne?b:"")+B.join(" ")}:function(B){return B.join(" ")},m.map(u)},ku.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),_="Unicode";return m.metadata[_]?{widths:m.metadata[_].widths||{0:1},kerning:m.metadata[_].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(ub.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(_){return"0x"+parseInt(_,10).toString(16)},o=t.__fontmetrics__.compress=function(_){var p,C,k,L,b=["{"];for(var T in _){if(p=_[T],isNaN(parseInt(T,10))?C="'"+T+"'":(T=parseInt(T,10),C=(C=a(T).slice(2)).slice(0,-1)+i[C.slice(-1)]),typeof p=="number")p<0?(k=a(p).slice(3),L="-"):(k=a(p).slice(2),L=""),k=L+k.slice(0,-1)+i[k.slice(-1)];else{if(ln(p)!=="object")throw new Error("Don't know what to do with value type "+ln(p)+".");k=o(p)}b.push(C+k)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,C,k,L,b={},T=1,R=b,B=[],ne="",F="",V=_.length-1,x=1;x<V;x+=1)(L=_[x])=="'"?p?(k=p.join(""),p=void 0):p=[]:p?p.push(L):L=="{"?(B.push([R,k]),R={},k=void 0):L=="}"?((C=B.pop())[0][C[1]]=R,k=void 0,R=C[0]):L=="-"?T=-1:k===void 0?r.hasOwnProperty(L)?(ne+=r[L],k=parseInt(ne,16)*T,T=1,ne=""):ne+=L:r.hasOwnProperty(L)?(F+=r[L],R[k]=parseInt(F,16)*T,T=1,k=void 0,F=""):F+=L;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(_){var p=_.font,C=m.Unicode[p.postScriptName];C&&(p.metadata.Unicode={},p.metadata.Unicode.widths=C.widths,p.metadata.Unicode.kerning=C.kerning);var k=f.Unicode[p.postScriptName];k&&(p.metadata.Unicode.encoding=k,p.encoding=k.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(ip(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),at.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(At.canvg?Promise.resolve(At.canvg):qg(()=>import("./index.es-BJGbpUUe.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(f)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,f=0,m=0;function _(C,k){var L,b=!1;for(L=0;L<C.length;L+=1)C[L]===k&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(m=0;m<p;m+=1)n[o[m]].value=n[o[m]].defaultValue,n[o[m]].explicitSet=!1}if(ln(t)==="object"){for(i in t)if(s=t[i],_(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,k=[];for(C in n)n[C].explicitSet===!0&&(n[C].type==="name"?k.push("/"+C+" /"+n[C].value):k.push("/"+C+" "+n[C].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,_=s.length;m<_;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},r=function(s){var a,o,l,u,f,m,_;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,_=(o=Object.keys(s).sort(function(p,C){return p-C})).length;m<_;m++)a=o[m],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,_=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",C=0;C<_.length;C++)p+=String.fromCharCode(_[C]);var k=u();f({data:p,addLength1:!0,objectId:k}),l("endobj");var L=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var b=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ru(o.fontName)),l("/FontFile2 "+k+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var T=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ru(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+Ru(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+T+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,_="",p=0;p<m.length;p++)_+=String.fromCharCode(m[p]);var C=u();f({data:_,addLength1:!0,objectId:C}),l("endobj");var k=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var L=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+C+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ru(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Ru(o.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,f=s.options||{},m=s.mutex||{},_=m.pdfEscape,p=m.activeFontKey,C=m.fonts,k=p,L="",b=0,T="",R=C[k].encoding;if(C[k].encoding!=="Identity-H")return{text:o,x:l,y:u,options:f,mutex:m};for(T=o,k=p,Array.isArray(o)&&(T=o[0]),b=0;b<T.length;b+=1)C[k].metadata.hasOwnProperty("cmap")&&(a=C[k].metadata.cmap.unicode.codeMap[T[b].charCodeAt(0)]),a||T[b].charCodeAt(0)<256&&C[k].metadata.hasOwnProperty("Unicode")?L+=T[b]:L+="";var B="";return parseInt(k.slice(1))<14||R==="WinAnsiEncoding"?B=_(L,k).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(B=n(L,C[k])),m.isHex=!0,{text:B,x:l,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,f,m=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,R=0;this.__bidiEngine__={};var B=function(E){var S=E.charCodeAt(),P=S>>8,te=k[P];return te!==void 0?m[256*te+(255&S)]:P===252||P===253?"AL":b.test(P)?"L":P===8?"R":"N"},ne=function(E){for(var S,P=0;P<E.length;P++){if((S=B(E.charAt(P)))==="L")return!1;if(S==="R")return!0}return!1},F=function(E,S,P,te){var fe,ye,de,Z,G=S[te];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(G="AN");break;case"AL":T=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":te<1||te+1>=S.length||(fe=P[te-1])!=="EN"&&fe!=="AN"||(ye=S[te+1])!=="EN"&&ye!=="AN"?G="N":T&&(ye="AN"),G=ye===fe?ye:"N";break;case"ES":G=(fe=te>0?P[te-1]:"B")==="EN"&&te+1<S.length&&S[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&P[te-1]==="EN"){G="EN";break}if(T){G="N";break}for(de=te+1,Z=S.length;de<Z&&S[de]==="ET";)de++;G=de<Z&&S[de]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Z=S.length,de=te+1;de<Z&&S[de]==="NSM";)de++;if(de<Z){var pe=E[te],_e=pe>=1425&&pe<=2303||pe===64286;if(fe=S[de],_e&&(fe==="R"||fe==="AL")){G="R";break}}}G=te<1||(fe=S[te-1])==="B"?"N":P[te-1];break;case"B":T=!1,i=!0,G=R;break;case"S":s=!0,G="N"}return G},V=function(E,S,P){var te=E.split("");return P&&x(te,P,{hiLevel:R}),te.reverse(),S&&S.reverse(),te.join("")},x=function(E,S,P){var te,fe,ye,de,Z,G=-1,pe=E.length,_e=0,M=[],K=R?p:_,q=[];for(T=!1,i=!1,s=!1,fe=0;fe<pe;fe++)q[fe]=B(E[fe]);for(ye=0;ye<pe;ye++){if(Z=_e,M[ye]=F(E,q,M,ye),te=240&(_e=K[Z][C[M[ye]]]),_e&=15,S[ye]=de=K[_e][5],te>0)if(te===16){for(fe=G;fe<ye;fe++)S[fe]=1;G=-1}else G=-1;if(K[_e][6])G===-1&&(G=ye);else if(G>-1){for(fe=G;fe<ye;fe++)S[fe]=de;G=-1}q[ye]==="B"&&(S[ye]=0),P.hiLevel|=de}s&&function(Q,ie,ae){for(var ve=0;ve<ae;ve++)if(Q[ve]==="S"){ie[ve]=R;for(var we=ve-1;we>=0&&Q[we]==="WS";we--)ie[we]=R}}(q,S,pe)},N=function(E,S,P,te,fe){if(!(fe.hiLevel<E)){if(E===1&&R===1&&!i)return S.reverse(),void(P&&P.reverse());for(var ye,de,Z,G,pe=S.length,_e=0;_e<pe;){if(te[_e]>=E){for(Z=_e+1;Z<pe&&te[Z]>=E;)Z++;for(G=_e,de=Z-1;G<de;G++,de--)ye=S[G],S[G]=S[de],S[de]=ye,P&&(ye=P[G],P[G]=P[de],P[de]=ye);_e=Z}_e++}}},O=function(E,S,P){var te=E.split(""),fe={hiLevel:R};return P||(P=[]),x(te,P,fe),function(ye,de,Z){if(Z.hiLevel!==0&&f)for(var G,pe=0;pe<ye.length;pe++)de[pe]===1&&(G=L.indexOf(ye[pe]))>=0&&(ye[pe]=L[G+1])}(te,P,fe),N(2,te,S,P,fe),N(1,te,S,P,fe),te.join("")};return this.__bidiEngine__.doBidiReorder=function(E,S,P){if(function(fe,ye){if(ye)for(var de=0;de<fe.length;de++)ye[de]=de;o===void 0&&(o=ne(fe)),u===void 0&&(u=ne(fe))}(E,S),a||!l||u)if(a&&l&&o^u)R=o?1:0,E=V(E,S,P);else if(!a&&l&&u)R=o?1:0,E=O(E,S,P),E=V(E,S);else if(!a||o||l||u){if(a&&!l&&o^u)E=V(E,S),o?(R=0,E=O(E,S,P)):(R=1,E=O(E,S,P),E=V(E,S));else if(a&&o&&!l&&u)R=1,E=O(E,S,P),E=V(E,S);else if(!a&&!l&&o^u){var te=f;o?(R=1,E=O(E,S,P),R=0,f=!1,E=O(E,S,P),f=te):(R=0,E=O(E,S,P),E=V(E,S),R=1,f=!1,E=O(E,S,P),f=te,E=V(E,S))}}else R=0,E=O(E,S,P);else R=o?1:0,E=O(E,S,P);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,u=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ul(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new wO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new aO(this.contents),this.head=new lO(this),this.name=new dO(this),this.cmap=new Q3(this),this.toUnicode={},this.hhea=new uO(this),this.maxp=new pO(this),this.hmtx=new mO(this),this.post=new hO(this),this.os2=new cO(this),this.loca=new _O(this),this.glyf=new gO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Os,ul=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),aO=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,u,f,m,_,p,C,k;for(k in p=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),a=Math.floor(m/l),f=16*p-m,(i=new ul).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(a),i.writeShort(f),s=16*p,u=i.pos+s,o=null,C=[],n)for(_=n[k],i.writeString(k),i.writeInt(t(_)),i.writeInt(u),i.writeInt(_.length),C=C.concat(_),k==="head"&&(o=u),u+=_.length;u%4;)C.push(0),u++;return i.write(C),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=J3.call(n);n.length%4;)n.push(0);for(s=new ul(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),oO={}.hasOwnProperty,pa=function(t,e){for(var n in e)oO.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Os=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var lO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new ul).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),yb=function(){function t(e,n){var r,i,s,a,o,l,u,f,m,_,p,C,k,L,b,T,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),_=p/2,e.pos+=6,s=function(){var B,ne;for(ne=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ne.push(e.readUInt16());return ne}(),e.pos+=2,k=function(){var B,ne;for(ne=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ne.push(e.readUInt16());return ne}(),u=function(){var B,ne;for(ne=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ne.push(e.readUInt16());return ne}(),f=function(){var B,ne;for(ne=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ne.push(e.readUInt16());return ne}(),i=(this.length-e.pos+this.offset)/2,o=function(){var B,ne;for(ne=[],l=B=0;0<=i?B<i:B>i;l=0<=i?++B:--B)ne.push(e.readUInt16());return ne}(),l=b=0,R=s.length;b<R;l=++b)for(L=s[l],r=T=C=k[l];C<=L?T<=L:T>=L;r=C<=L?++T:--T)f[l]===0?a=r+u[l]:(a=o[f[l]/2+(r-C)-(_-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=m}return t.encode=function(e,n){var r,i,s,a,o,l,u,f,m,_,p,C,k,L,b,T,R,B,ne,F,V,x,N,O,E,S,P,te,fe,ye,de,Z,G,pe,_e,M,K,q,Q,ie,ae,ve,we,Ae,Te,Fe;switch(te=new ul,a=Object.keys(e).sort(function(Ve,Ee){return Ve-Ee}),n){case"macroman":for(k=0,L=function(){var Ve=[];for(C=0;C<256;++C)Ve.push(0);return Ve}(),T={0:0},s={},fe=0,G=a.length;fe<G;fe++)T[we=e[i=a[fe]]]==null&&(T[we]=++k),s[i]={old:e[i],new:T[e[i]]},L[i]=T[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(L),{charMap:s,subtable:te.data,maxGlyphID:k+1};case"unicode":for(S=[],m=[],R=0,T={},r={},b=u=null,ye=0,pe=a.length;ye<pe;ye++)T[ne=e[i=a[ye]]]==null&&(T[ne]=++R),r[i]={old:ne,new:T[ne]},o=T[ne]-i,b!=null&&o===u||(b&&m.push(b),S.push(i),u=o),b=i;for(b&&m.push(b),m.push(65535),S.push(65535),O=2*(N=S.length),x=2*Math.pow(Math.log(N)/Math.LN2,2),_=Math.log(x/2)/Math.LN2,V=2*N-x,l=[],F=[],p=[],C=de=0,_e=S.length;de<_e;C=++de){if(E=S[C],f=m[C],E===65535){l.push(0),F.push(0);break}if(E-(P=r[E].new)>=32768)for(l.push(0),F.push(2*(p.length+N-C)),i=Z=E;E<=f?Z<=f:Z>=f;i=E<=f?++Z:--Z)p.push(r[i].new);else l.push(P-E),F.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*N+2*p.length),te.writeUInt16(0),te.writeUInt16(O),te.writeUInt16(x),te.writeUInt16(_),te.writeUInt16(V),ae=0,M=m.length;ae<M;ae++)i=m[ae],te.writeUInt16(i);for(te.writeUInt16(0),ve=0,K=S.length;ve<K;ve++)i=S[ve],te.writeUInt16(i);for(Ae=0,q=l.length;Ae<q;Ae++)o=l[Ae],te.writeUInt16(o);for(Te=0,Q=F.length;Te<Q;Te++)B=F[Te],te.writeUInt16(B);for(Fe=0,ie=p.length;Fe<ie;Fe++)k=p[Fe],te.writeUInt16(k);return{charMap:r,subtable:te.data,maxGlyphID:R+1}}},t}(),Q3=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new yb(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=yb.encode(e,n),(i=new ul).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),uO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),cO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),hO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),fO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},dO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,l,u,f,m,_;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=f=0,m=r.length;f<m;s=++f)i=r[s],e.pos=i.offset,u=e.readString(i.length),a=new fO(u,i),l[_=i.nameID]==null&&(l[_]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),pO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),mO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,m,_;for(_=[],u=0,f=(m=this.metrics).length;u<f;u++)s=m[u],_.push(s.advance);return _}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),J3=[].slice,gO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,l,u,f,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new ul(n.read(i))).readShort(),u=o.readShort(),m=o.readShort(),l=o.readShort(),f=o.readShort(),this.cache[e]=a===-1?new yO(o,u,m,l,f):new vO(o,a,u,m,l,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t}(),vO=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),yO=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ul(J3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),_O=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},t}(),wO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,u,f,m,_,p,C,k,L,b;for(i in r=Q3.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},b=r.charMap)p[(l=b[i]).old]=l.new;for(C in _=r.maxGlyphID,a)C in p||(p[C]=_++);return f=function(T){var R,B;for(R in B={},T)B[T[R]]=R;return B}(p),m=Object.keys(f).sort(function(T,R){return T-R}),k=function(){var T,R,B;for(B=[],T=0,R=m.length;T<R;T++)o=m[T],B.push(f[o]);return B}(),s=this.font.glyf.encode(a,k,p),u=this.font.loca.encode(s.offsets,k),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function bO(){var ne;const{dealId:t}=U2(),e=((ne=Ai.currentUser)==null?void 0:ne.uid)||"",[n,r]=he.useState(!0),[i,s]=he.useState(null),[a,o]=he.useState(null),[l,u]=he.useState(null),[f,m]=he.useState({marginTop:72,marginRight:40,marginBottom:60,marginLeft:40,lineHeight:18,titleSize:16,bodySize:12}),_=(F,V)=>m(x=>({...x,[F]:V})),[p,C]=he.useState({mouCity:"Bogor",mouDate:new Date().toISOString().slice(0,10),vendorName:"",vendorRep:"",vendorJobTitle:"Pemilik / Project Manager",vendorAddress:"",vendorPhone:"",clientName:"",clientWa:"",clientAddress:"",groomName:"",groomIg:"",brideName:"",brideIg:"",eventType:"",pricelistName:"",packageType:"",packagePrice:0,addonsSummary:"",total:0,weddingDate:"",akadTime:"",akadPlace:"",resepsiTime:"",resepsiPlace:"",lamaranDate:"",lamaranTime:"",lamaranPlace:"",prewedDate:"",prewedPlace:"",dpAmount:0,dpDate:"",remainingAmount:0,dueDate:"",bankName:"",bankAccountNumber:"",bankAccountHolder:"",clauseDeliverSocial:"Foto pilihan & video highlight 1 menit akan diserahkan 1–2 minggu setelah acara.",clauseDeliverAll:"Seluruh hasil akhir diserahkan 30–45 hari kerja sejak tanggal acara.",clauseCancellation:"DP/termin pertama hangus jika pembatalan sepihak oleh PIHAK KEDUA. Jika sudah pelunasan, pengembalian 60% dari termin kedua.",clausePortfolio:"PIHAK PERTAMA berhak menggunakan hasil karya untuk portfolio dengan menjaga privasi & kesopanan.",clauseDataLoss:"Jika terjadi kehilangan data karena kesalahan internal, kompensasi: 200% porsi jasa foto / 50% porsi jasa video; prewedding: sesi ulang ditanggung PIHAK PERTAMA. Tidak berlaku untuk force majeure atau kejadian di luar kendali wajar.",signVendor:"",signClient:""}),k=(F,V)=>C(x=>({...x,[F]:V}));he.useEffect(()=>{if(!e||!t)return;const F=[];return(async()=>{var V,x,N,O,E,S,P,te,fe,ye;try{const de=nr(on(Lt,"tokens",e),Q=>{var ve;const ie=Q.data(),ae=(ve=ie==null?void 0:ie.expiresAt)!=null&&ve.toMillis?ie.expiresAt.toMillis():0;u(ae>Date.now())});F.push(de);let Z={};try{Z=(await Gu(on(Lt,"vendors",e))).data()||{}}catch(Q){throw console.error("ERR vendor:",Q),new Error("Gagal baca vendor (izin/rules?)")}let G;try{const Q=await Gu(on(Lt,"deals",t));if(!Q.exists())throw new Error("Deal tidak ditemukan");if(G=Q.data(),G.uid!==e)throw new Error("Tidak berhak mengakses deal ini");o({id:Q.id,...G})}catch(Q){throw console.error("ERR deal:",Q),Q}let pe;try{pe=(await Gu(on(Lt,"mous",t))).data(),pe!=null&&pe.layout&&m({...f,..._b(pe.layout)})}catch(Q){console.warn("WARN mous (optional):",Q)}let _e;try{_e=(await Gu(on(Lt,"mouDefaults",e))).data(),_e!=null&&_e.layout&&m(ie=>({...ie,..._b(_e.layout)}))}catch(Q){console.warn("WARN mouDefaults (optional):",Q)}const M=G!=null&&G.addonSummary?G.addonSummary.map(Q=>`${Q.name} (${jl(Q.price||0)})`).join(", "):"Tidak ada",q={...{mouCity:"Bogor",mouDate:new Date().toISOString().slice(0,10),vendorName:Z.name||"",vendorRep:Z.bankAccountHolder||"",vendorJobTitle:"Pemilik / Project Manager",vendorAddress:Z.address||"",vendorPhone:Z.whatsapp||"",clientName:(G==null?void 0:G.clientName)||"",clientWa:(G==null?void 0:G.clientWa)||"",clientAddress:(G==null?void 0:G.address)||"",groomName:(G==null?void 0:G.groomName)||"",groomIg:(G==null?void 0:G.groomIg)||"",brideName:(G==null?void 0:G.brideName)||"",brideIg:(G==null?void 0:G.brideIg)||"",eventType:(G==null?void 0:G.eventType)||(G!=null&&G.isWedding?"wedding":G!=null&&G.isLamaran?"lamaran":G!=null&&G.isPrewed?"prewedding":""),pricelistName:(G==null?void 0:G.parent)||"",packageType:(G==null?void 0:G.packageType)||"",packagePrice:(G==null?void 0:G.packagePrice)||0,addonsSummary:M||"Tidak ada",total:(G==null?void 0:G.total)||0,weddingDate:((V=G==null?void 0:G.wedding)==null?void 0:V.date)||"",akadTime:((x=G==null?void 0:G.wedding)==null?void 0:x.akadTime)||"",akadPlace:((N=G==null?void 0:G.wedding)==null?void 0:N.akadPlace)||"",resepsiTime:((O=G==null?void 0:G.wedding)==null?void 0:O.resepsiTime)||"",resepsiPlace:((E=G==null?void 0:G.wedding)==null?void 0:E.resepsiPlace)||"",lamaranDate:((S=G==null?void 0:G.lamaran)==null?void 0:S.date)||"",lamaranTime:((P=G==null?void 0:G.lamaran)==null?void 0:P.time)||"",lamaranPlace:((te=G==null?void 0:G.lamaran)==null?void 0:te.place)||"",prewedDate:((fe=G==null?void 0:G.prewedding)==null?void 0:fe.date)||"",prewedPlace:((ye=G==null?void 0:G.prewedding)==null?void 0:ye.place)||"",dpAmount:0,dpDate:"",remainingAmount:Math.max((G==null?void 0:G.total)||0,0),dueDate:"",bankName:Z.bankName||"",bankAccountNumber:Z.bankAccountNumber||"",bankAccountHolder:Z.bankAccountHolder||"",clauseDeliverSocial:"Foto pilihan & video highlight 1 menit akan diserahkan 1–2 minggu setelah acara.",clauseDeliverAll:"Seluruh hasil akhir diserahkan 30–45 hari kerja sejak tanggal acara.",clauseCancellation:"DP/termin pertama hangus jika pembatalan sepihak oleh PIHAK KEDUA. Jika sudah pelunasan, pengembalian 60% dari termin kedua.",clausePortfolio:"PIHAK PERTAMA berhak menggunakan hasil karya untuk portfolio dengan menjaga privasi & kesopanan.",clauseDataLoss:"Jika terjadi kehilangan data karena kesalahan internal, kompensasi: 200% porsi jasa foto / 50% porsi jasa video; prewedding: sesi ulang ditanggung PIHAK PERTAMA. Tidak berlaku untuk force majeure atau kejadian di luar kendali wajar.",signVendor:Z.bankAccountHolder||"",signClient:(G==null?void 0:G.clientName)||""},..._e||{},...pe||{}};C(q),r(!1)}catch(de){s((de==null?void 0:de.message)||"Gagal memuat data MOU"),r(!1)}})(),()=>F.forEach(V=>V())},[e,t]);const L=he.useMemo(()=>{const F=[];return F.push(`Perjanjian ini dibuat dan ditandatangani di ${p.mouCity}, pada ${Ol(p.mouDate)}, oleh dan antara:`),F.push(""),F.push("1. PIHAK PERTAMA:"),F.push(`Nama Usaha: ${en(p.vendorName)} / Vendor fotografi Wedding`),F.push(`Nama Perwakilan: ${en(p.vendorRep)}`),F.push(`Jabatan: ${en(p.vendorJobTitle)}`),F.push(`Alamat: ${en(p.vendorAddress)}`),F.push(`Nomor Telepon: ${en(p.vendorPhone)}`),F.push("Selanjutnya disebut PIHAK PERTAMA atau Penyedia Jasa."),F.push(""),F.push("2. PIHAK KEDUA:"),F.push(`Nama Lengkap Klien: ${en(p.clientName)}`),F.push(`Nomor WhatsApp: ${en(p.clientWa)}`),F.push(`Alamat Pengiriman: ${en(p.clientAddress)}`),F.push(`Nama Pria: ${en(p.groomName)} (Instagram: ${en(p.groomIg,"-")})`),F.push(`Nama Wanita: ${en(p.brideName)} (Instagram: ${en(p.brideIg,"-")})`),F.push("Selanjutnya disebut PIHAK KEDUA atau Klien."),F.push(""),F.push("Pasal 1 — RUANG LINGKUP JASA"),F.push(`Jenis acara: ${AO(p.eventType)}.`),F.push(`Nama Pricelist: ${en(p.pricelistName)}.`),F.push(`Jenis (type): ${en(p.packageType)}.`),F.push(""),F.push("Pasal 2 — JADWAL DAN LOKASI ACARA"),p.eventType==="wedding"?(F.push("Nama acara: Wedding"),F.push(`Tanggal acara: ${Ol(p.weddingDate)||"-"}`),F.push(`Jam akad / pemberkatan: ${en(p.akadTime,"-")}`),F.push(`Tempat akad / pemberkatan: ${en(p.akadPlace,"-")}`),F.push(`Jam resepsi: ${en(p.resepsiTime,"-")}`),F.push(`Tempat resepsi: ${en(p.resepsiPlace,"-")}`)):p.eventType==="lamaran"?(F.push("Nama acara: Lamaran"),F.push(`Tanggal acara: ${Ol(p.lamaranDate)||"-"}`),F.push(`Jam lamaran: ${en(p.lamaranTime,"-")}`),F.push(`Tempat lamaran: ${en(p.lamaranPlace,"-")}`)):p.eventType==="prewedding"?(F.push("Nama acara: Prewedding"),F.push(`Tanggal acara: ${Ol(p.prewedDate)||"-"}`),F.push(`Tempat prewedding: ${en(p.prewedPlace,"-")}`)):F.push("Nama acara: -"),F.push(""),F.push("Pasal 3 — LAYANAN TAMBAHAN (ADD-ON)"),F.push(`Add-ons: ${en(p.addonsSummary,"Tidak Ada")}.`),F.push(""),F.push("Pasal 4 — BIAYA & PEMBAYARAN"),F.push(`Harga Paket Awal: ${jl(p.packagePrice)}.`),F.push(`Total Disepakati: ${jl(p.total)}.`),F.push(`Uang Muka (DP): ${jl(p.dpAmount)} pada ${Ol(p.dpDate)||"-"}.`),F.push(`Sisa Pelunasan: ${jl(p.remainingAmount)} (batas ${Ol(p.dueDate)||"-"}).`),F.push(`Pembayaran via: ${en(p.bankName)} • ${en(p.bankAccountNumber)} a.n. ${en(p.bankAccountHolder)}.`),F.push(""),F.push("Pasal 5 — HAK & KEWAJIBAN"),F.push("Kewajiban PIHAK PERTAMA: profesional sesuai paket; koordinasi; menyerahkan hasil sesuai jadwal; simpan raw file 3–6 bulan."),F.push("Kewajiban PIHAK KEDUA: beri info akurat; patuhi jadwal pembayaran; kooperatif; biaya venue/izin ditanggung PIHAK KEDUA bila ada."),F.push(""),F.push("Pasal 6 — JADWAL PENYERAHAN HASIL"),F.push(p.clauseDeliverSocial||""),F.push(p.clauseDeliverAll||""),F.push(""),F.push("Pasal 7 — PEMBATALAN / PERUBAHAN JADWAL"),F.push(p.clauseCancellation||""),F.push(""),F.push("Pasal 8 — HAK CIPTA & PORTFOLIO"),F.push(p.clausePortfolio||""),F.push(""),F.push("Pasal 9 — BATASAN TANGGUNG JAWAB (KEHILANGAN DATA)"),F.push(p.clauseDataLoss||""),F.push(""),F.push("PENUTUP"),F.push(`Dibuat di: ${en(p.mouCity)} pada ${Ol(p.mouDate)}.`),F.push(""),F},[p]),b=async()=>{if(!(!e||!t))try{await ll(on(Lt,"mous",t),{uid:e,dealId:t,...p,layout:f,updatedAt:Jl(),createdAt:(p==null?void 0:p.createdAt)||Jl()},{merge:!0}),alert("MOU disimpan.")}catch(F){alert("Gagal menyimpan MOU: "+((F==null?void 0:F.message)||"unknown"))}},T=async()=>{if(e)try{const{clauseDeliverSocial:F,clauseDeliverAll:V,clauseCancellation:x,clausePortfolio:N,clauseDataLoss:O,vendorJobTitle:E}=p;await ll(on(Lt,"mouDefaults",e),{clauseDeliverSocial:F,clauseDeliverAll:V,clauseCancellation:x,clausePortfolio:N,clauseDataLoss:O,vendorJobTitle:E,layout:f,updatedAt:Jl()},{merge:!0}),alert("Template default MOU disimpan untuk UID ini.")}catch(F){alert("Gagal menyimpan default: "+((F==null?void 0:F.message)||"unknown"))}},R=async()=>{try{const F=new at({unit:"pt",format:"a4"}),V=F.internal.pageSize.getWidth(),x=F.internal.pageSize.getHeight(),{marginTop:N,marginRight:O,marginBottom:E,marginLeft:S,lineHeight:P,titleSize:te,bodySize:fe}=f,ye=V-S-O;F.setFont("Times","Normal"),F.setFontSize(te);const de="MEMORANDUM OF UNDERSTANDING (MoU) / SURAT PERJANJIAN KERJASAMA",Z=N;F.text(de,V/2,Z,{align:"center",maxWidth:ye});let G=Z+P*1.8;F.setFontSize(fe);const pe=()=>{G>x-E&&(F.addPage(),G=N,F.setFontSize(fe))},_e=K=>{F.splitTextToSize((K||"").replace(/\r/g,""),ye).forEach(Q=>{pe(),F.text(String(Q),S,G,{maxWidth:ye}),G+=P}),G+=Math.round(P*.25)};L.forEach(_e),G+=P*1.5,pe(),F.text("PIHAK PERTAMA",S,G),F.text("PIHAK KEDUA",V-O,G,{align:"right"}),G+=P*3,pe(),F.text(en(p.signVendor,"(Tanda tangan & nama jelas)"),S,G),F.text(en(p.signClient,"(Tanda tangan & nama jelas)"),V-O,G,{align:"right"});const M=F.getNumberOfPages();F.setFontSize(10);for(let K=1;K<=M;K++)F.setPage(K),F.text(`Halaman ${K}/${M}`,V-O,x-18,{align:"right"});F.save(`MOU_${EO(p.clientName||"client")}.pdf`)}catch(F){alert("Gagal export PDF"),console.error(F)}};if(!e)return v.jsx("div",{className:"container",children:v.jsx("div",{className:"card torn",children:"Silakan login"})});if(n)return v.jsx("div",{className:"container",children:v.jsx("div",{className:"card",children:"Memuat…"})});if(i)return v.jsx("div",{className:"container",children:v.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:i})});const B=L;return v.jsxs("div",{className:"container",style:{maxWidth:980},children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Buat / Edit MOU"}),l===!1&&v.jsxs("div",{className:"banner",style:{background:"#fff7ed",border:"1px solid #fed7aa",color:"#9a3412"},children:["Masa aktif akun ",v.jsx("b",{children:"habis"}),". Simpan/Export masih bisa dipakai, tapi sebaiknya aktifkan ulang token."]}),v.jsxs("div",{style:{color:"#666"},children:["Draft dari deal: ",v.jsx("b",{children:(a==null?void 0:a.clientName)||"(tanpa nama)"})]})]}),v.jsx("div",{className:"card",children:v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[v.jsxs("div",{children:[v.jsxs("div",{children:[v.jsx("b",{children:"Klien:"})," ",p.clientName||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"WA:"})," ",p.clientWa||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Alamat:"})," ",p.clientAddress||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Pasangan:"})," ",p.groomName||"-"," & ",p.brideName||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"IG:"})," ",p.groomIg||"-"," • ",p.brideIg||"-"]})]}),v.jsxs("div",{children:[v.jsxs("div",{children:[v.jsx("b",{children:"Paket:"})," ",p.pricelistName||"-"," •"," ",p.packageType||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Harga Paket:"})," ",jl(p.packagePrice||0)]}),v.jsxs("div",{children:[v.jsx("b",{children:"Add-ons:"})," ",p.addonsSummary||"Tidak Ada"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Total:"})," ",jl(p.total||0)]})]})]})}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Detail MOU"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Kota pembuatan"}),v.jsx("input",{className:"input",value:p.mouCity,onChange:F=>k("mouCity",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal MoU"}),v.jsx("input",{className:"input",type:"date",value:p.mouDate,onChange:F=>k("mouDate",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Usaha (Vendor)"}),v.jsx("input",{className:"input",value:p.vendorName,onChange:F=>k("vendorName",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Perwakilan (Atas Nama)"}),v.jsx("input",{className:"input",value:p.vendorRep,onChange:F=>k("vendorRep",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jabatan"}),v.jsx("input",{className:"input",value:p.vendorJobTitle,onChange:F=>k("vendorJobTitle",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Alamat Vendor"}),v.jsx("input",{className:"input",value:p.vendorAddress,onChange:F=>k("vendorAddress",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No. Telepon Vendor"}),v.jsx("input",{className:"input",value:p.vendorPhone,onChange:F=>k("vendorPhone",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jenis Acara"}),v.jsxs("select",{className:"input",value:p.eventType,onChange:F=>k("eventType",F.target.value),children:[v.jsx("option",{value:"",children:"-- pilih --"}),v.jsx("option",{value:"wedding",children:"Wedding"}),v.jsx("option",{value:"lamaran",children:"Lamaran"}),v.jsx("option",{value:"prewedding",children:"Prewedding"})]})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal Wedding"}),v.jsx("input",{className:"input",type:"date",value:p.weddingDate,onChange:F=>k("weddingDate",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Akad (jam & tempat)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"time",value:p.akadTime,onChange:F=>k("akadTime",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Tempat akad",value:p.akadPlace,onChange:F=>k("akadPlace",F.target.value)})})]})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Resepsi (jam & tempat)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"time",value:p.resepsiTime,onChange:F=>k("resepsiTime",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Tempat resepsi",value:p.resepsiPlace,onChange:F=>k("resepsiPlace",F.target.value)})})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Lamaran (tanggal, jam, tempat)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"date",value:p.lamaranDate,onChange:F=>k("lamaranDate",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"time",value:p.lamaranTime,onChange:F=>k("lamaranTime",F.target.value)})})]}),v.jsx("input",{className:"input",placeholder:"Lokasi lamaran",value:p.lamaranPlace,onChange:F=>k("lamaranPlace",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Prewedding (tanggal & lokasi)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"date",value:p.prewedDate,onChange:F=>k("prewedDate",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Lokasi prewedding",value:p.prewedPlace,onChange:F=>k("prewedPlace",F.target.value)})})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Bank (Nama/No/Atas Nama)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Bank",value:p.bankName,onChange:F=>k("bankName",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"No Rekening",value:p.bankAccountNumber,onChange:F=>k("bankAccountNumber",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Atas Nama",value:p.bankAccountHolder,onChange:F=>k("bankAccountHolder",F.target.value)})})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Jadwal Penyerahan (Media Sosial)"}),v.jsx("textarea",{className:"textarea",value:p.clauseDeliverSocial,onChange:F=>k("clauseDeliverSocial",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Jadwal Penyerahan (Hasil Akhir)"}),v.jsx("textarea",{className:"textarea",value:p.clauseDeliverAll,onChange:F=>k("clauseDeliverAll",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Pembatalan/Perubahan Jadwal"}),v.jsx("textarea",{className:"textarea",value:p.clauseCancellation,onChange:F=>k("clauseCancellation",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Hak Cipta & Portfolio"}),v.jsx("textarea",{className:"textarea",value:p.clausePortfolio,onChange:F=>k("clausePortfolio",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Batasan Tanggung Jawab (Kehilangan Data)"}),v.jsx("textarea",{className:"textarea",value:p.clauseDataLoss,onChange:F=>k("clauseDataLoss",F.target.value)})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"TTD Vendor (Nama jelas)"}),v.jsx("input",{className:"input",value:p.signVendor,onChange:F=>k("signVendor",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"TTD Klien (Nama jelas)"}),v.jsx("input",{className:"input",value:p.signClient,onChange:F=>k("signClient",F.target.value)})]})]}),v.jsxs("div",{className:"row",style:{marginTop:12,gap:8},children:[v.jsx("button",{className:"btn primary",onClick:b,children:"Simpan MOU"}),v.jsx("button",{className:"btn",onClick:T,children:"Simpan sebagai Default (UID)"}),v.jsx("button",{className:"btn",onClick:R,children:"Export PDF"})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Layout & Preview"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Margin (Top/Right/Bottom/Left) — pt"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:f.marginTop,onChange:F=>_("marginTop",Number(F.target.value||0))})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:f.marginRight,onChange:F=>_("marginRight",Number(F.target.value||0))})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:f.marginBottom,onChange:F=>_("marginBottom",Number(F.target.value||0))})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:f.marginLeft,onChange:F=>_("marginLeft",Number(F.target.value||0))})})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Typography"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:f.titleSize,onChange:F=>_("titleSize",Number(F.target.value||0)),placeholder:"Title size (pt)"})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:f.bodySize,onChange:F=>_("bodySize",Number(F.target.value||0)),placeholder:"Body size (pt)"})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:f.lineHeight,onChange:F=>_("lineHeight",Number(F.target.value||0)),placeholder:"Line height (pt)"})})]})]})]}),v.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,background:"#fff",marginTop:12,width:794,height:1123,maxWidth:"100%",overflow:"auto"},children:v.jsxs("div",{style:{paddingTop:Es(f.marginTop),paddingRight:Es(f.marginRight),paddingBottom:Es(f.marginBottom),paddingLeft:Es(f.marginLeft)},children:[v.jsxs("div",{style:{textAlign:"center",fontSize:Es(f.titleSize),fontWeight:600,marginBottom:Math.round(Es(f.lineHeight)*1.2)},children:["MEMORANDUM OF UNDERSTANDING (MoU) / ",v.jsx("br",{}),"SURAT PERJANJIAN KERJASAMA"]}),v.jsxs("div",{style:{fontSize:Es(f.bodySize),lineHeight:`${Es(f.lineHeight)}px`,color:"#111"},children:[B.map((F,V)=>v.jsx("p",{style:{margin:0,marginBottom:Math.round(Es(f.lineHeight)*.25)},children:F},V)),v.jsx("div",{style:{marginTop:Es(f.lineHeight)*1.5}}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[v.jsx("div",{children:"PIHAK PERTAMA"}),v.jsx("div",{children:"PIHAK KEDUA"})]}),v.jsx("div",{style:{height:Es(f.lineHeight)*3}}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[v.jsx("div",{children:en(p.signVendor,"(Tanda tangan & nama jelas)")}),v.jsx("div",{children:en(p.signClient,"(Tanda tangan & nama jelas)")})]})]})]})})]})]})}function jl(t){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(t||0)}catch{return`Rp ${t||0}`}}function AO(t){return t==="wedding"?"Wedding":t==="lamaran"?"Lamaran":t==="prewedding"?"Prewedding":"-"}function EO(t){return(t||"").replace(/[^a-z0-9_\-]+/gi,"_")}function Ol(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return t;const n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];return`${e.getDate()} ${n[e.getMonth()]} ${e.getFullYear()}`}function _b(t){const e={};return Ml(t==null?void 0:t.marginTop)&&(e.marginTop=Number(t.marginTop)),Ml(t==null?void 0:t.marginRight)&&(e.marginRight=Number(t.marginRight)),Ml(t==null?void 0:t.marginBottom)&&(e.marginBottom=Number(t.marginBottom)),Ml(t==null?void 0:t.marginLeft)&&(e.marginLeft=Number(t.marginLeft)),Ml(t==null?void 0:t.lineHeight)&&(e.lineHeight=Number(t.lineHeight)),Ml(t==null?void 0:t.titleSize)&&(e.titleSize=Number(t.titleSize)),Ml(t==null?void 0:t.bodySize)&&(e.bodySize=Number(t.bodySize)),e}function Ml(t){return typeof t=="number"&&!Number.isNaN(t)}function Es(t){return Math.round(t*(96/72))}function en(t,e=""){return t==null||typeof t=="string"&&t.trim()===""?e:t}function xO(){const t=du(),e=/^\/(publish|deal)\//.test(t.pathname);return v.jsxs(v.Fragment,{children:[!e&&v.jsx(d7,{}),v.jsxs(nT,{children:[v.jsx(xs,{path:"/",element:v.jsx(p7,{})}),v.jsx(xs,{path:"/login",element:v.jsx(m7,{})}),v.jsx(xs,{path:"/register",element:v.jsx(g7,{})}),v.jsx(xs,{path:"/forgot-password",element:v.jsx(v7,{})}),v.jsx(xs,{path:"/dashboard",element:v.jsx(zg,{children:v.jsx(E7,{})})}),v.jsx(xs,{path:"/dashboard/overview",element:v.jsx(zg,{children:v.jsx(x7,{})})}),v.jsx(xs,{path:"/dashboard/mou/:dealId",element:v.jsx(zg,{children:v.jsx(bO,{})})}),v.jsx(xs,{path:"/publish/:uid",element:v.jsx(S7,{})}),v.jsx(xs,{path:"/deal/:uid",element:v.jsx(N7,{})}),v.jsx(xs,{path:"/superadmin",element:v.jsx(P7,{})})]})]})}h1.createRoot(document.getElementById("root")).render(v.jsx(Pb.StrictMode,{children:v.jsx(uT,{children:v.jsx(xO,{})})}));export{ln as _,NO as c,MS as g};
