var jS=Object.defineProperty;var DS=(t,e,n)=>e in t?jS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>DS(t,typeof e!="symbol"?e+"":e,n);function OS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var NO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wb={exports:{}},em={},bb={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd=Symbol.for("react.element"),FS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),US=Symbol.for("react.strict_mode"),BS=Symbol.for("react.profiler"),zS=Symbol.for("react.provider"),qS=Symbol.for("react.context"),$S=Symbol.for("react.forward_ref"),WS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),GS=Symbol.for("react.lazy"),xy=Symbol.iterator;function KS(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var Ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xb=Object.assign,Eb={};function Ec(t,e,n){this.props=t,this.context=e,this.refs=Eb,this.updater=n||Ab}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sb(){}Sb.prototype=Ec.prototype;function z0(t,e,n){this.props=t,this.context=e,this.refs=Eb,this.updater=n||Ab}var q0=z0.prototype=new Sb;q0.constructor=z0;xb(q0,Ec.prototype);q0.isPureReactComponent=!0;var Ey=Array.isArray,Nb=Object.prototype.hasOwnProperty,$0={current:null},Ib={key:!0,ref:!0,__self:!0,__source:!0};function kb(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Nb.call(e,r)&&!Ib.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:wd,type:t,key:s,ref:a,props:i,_owner:$0.current}}function QS(t,e){return{$$typeof:wd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function W0(t){return typeof t=="object"&&t!==null&&t.$$typeof===wd}function JS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sy=/\/+/g;function ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JS(""+t.key):e.toString(36)}function Of(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case wd:case FS:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ig(a,0):r,Ey(i)?(n="",t!=null&&(n=t.replace(Sy,"$&/")+"/"),Of(i,e,n,"",function(u){return u})):i!=null&&(W0(i)&&(i=QS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Sy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Ey(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+ig(s,o);a+=Of(s,e,n,l,i)}else if(l=KS(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+ig(s,o++),a+=Of(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function sf(t,e,n){if(t==null)return t;var r=[],i=0;return Of(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var li={current:null},Mf={transition:null},XS={ReactCurrentDispatcher:li,ReactCurrentBatchConfig:Mf,ReactCurrentOwner:$0};function Tb(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:sf,forEach:function(t,e,n){sf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sf(t,function(){e++}),e},toArray:function(t){return sf(t,function(e){return e})||[]},only:function(t){if(!W0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=Ec;Ft.Fragment=VS;Ft.Profiler=BS;Ft.PureComponent=z0;Ft.StrictMode=US;Ft.Suspense=WS;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Ft.act=Tb;Ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xb({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=$0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Nb.call(e,l)&&!Ib.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:wd,type:t.type,key:i,ref:s,props:r,_owner:a}};Ft.createContext=function(t){return t={$$typeof:qS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zS,_context:t},t.Consumer=t};Ft.createElement=kb;Ft.createFactory=function(t){var e=kb.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:$S,render:t}};Ft.isValidElement=W0;Ft.lazy=function(t){return{$$typeof:GS,_payload:{_status:-1,_result:t},_init:YS}};Ft.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=Mf.transition;Mf.transition={};try{t()}finally{Mf.transition=e}};Ft.unstable_act=Tb;Ft.useCallback=function(t,e){return li.current.useCallback(t,e)};Ft.useContext=function(t){return li.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return li.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return li.current.useEffect(t,e)};Ft.useId=function(){return li.current.useId()};Ft.useImperativeHandle=function(t,e,n){return li.current.useImperativeHandle(t,e,n)};Ft.useInsertionEffect=function(t,e){return li.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return li.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return li.current.useMemo(t,e)};Ft.useReducer=function(t,e,n){return li.current.useReducer(t,e,n)};Ft.useRef=function(t){return li.current.useRef(t)};Ft.useState=function(t){return li.current.useState(t)};Ft.useSyncExternalStore=function(t,e,n){return li.current.useSyncExternalStore(t,e,n)};Ft.useTransition=function(){return li.current.useTransition()};Ft.version="18.3.1";bb.exports=Ft;var le=bb.exports;const Pb=MS(le),ZS=OS({__proto__:null,default:Pb},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN=le,tN=Symbol.for("react.element"),nN=Symbol.for("react.fragment"),rN=Object.prototype.hasOwnProperty,iN=eN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sN={key:!0,ref:!0,__self:!0,__source:!0};function Cb(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)rN.call(e,r)&&!sN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tN,type:t,key:s,ref:a,props:i,_owner:iN.current}}em.Fragment=nN;em.jsx=Cb;em.jsxs=Cb;wb.exports=em;var v=wb.exports,h1={},Lb={exports:{}},Gi={},Rb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,Q){var fe=te.length;te.push(Q);e:for(;0<fe;){var xe=fe-1>>>1,M=te[xe];if(0<i(M,Q))te[xe]=Q,te[fe]=M,fe=xe;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var Q=te[0],fe=te.pop();if(fe!==Q){te[0]=fe;e:for(var xe=0,M=te.length,G=M>>>1;xe<G;){var q=2*(xe+1)-1,K=te[q],re=q+1,ae=te[re];if(0>i(K,fe))re<M&&0>i(ae,K)?(te[xe]=ae,te[re]=fe,xe=re):(te[xe]=K,te[q]=fe,xe=q);else if(re<M&&0>i(ae,fe))te[xe]=ae,te[re]=fe,xe=re;else break e}}return Q}function i(te,Q){var fe=te.sortIndex-Q.sortIndex;return fe!==0?fe:te.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,m=null,_=3,p=!1,P=!1,S=!1,L=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(te){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=te)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function B(te){if(S=!1,R(te),!P)if(n(l)!==null)P=!0,be(ee);else{var Q=n(u);Q!==null&&we(B,Q.startTime-te)}}function ee(te,Q){P=!1,S&&(S=!1,b(E),E=-1),p=!0;var fe=_;try{for(R(Q),m=n(l);m!==null&&(!(m.expirationTime>Q)||te&&!x());){var xe=m.callback;if(typeof xe=="function"){m.callback=null,_=m.priorityLevel;var M=xe(m.expirationTime<=Q);Q=t.unstable_now(),typeof M=="function"?m.callback=M:m===n(l)&&r(l),R(Q)}else r(l);m=n(l)}if(m!==null)var G=!0;else{var q=n(u);q!==null&&we(B,q.startTime-Q),G=!1}return G}finally{m=null,_=fe,p=!1}}var F=!1,V=null,E=-1,N=5,O=-1;function x(){return!(t.unstable_now()-O<N)}function T(){if(V!==null){var te=t.unstable_now();O=te;var Q=!0;try{Q=V(!0,te)}finally{Q?C():(F=!1,V=null)}}else F=!1}var C;if(typeof I=="function")C=function(){I(T)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,de=ne.port2;ne.port1.onmessage=T,C=function(){de.postMessage(null)}}else C=function(){L(T,0)};function be(te){V=te,F||(F=!0,C())}function we(te,Q){E=L(function(){te(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){P||p||(P=!0,be(ee))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var fe=_;_=Q;try{return te()}finally{_=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Q){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var fe=_;_=te;try{return Q()}finally{_=fe}},t.unstable_scheduleCallback=function(te,Q,fe){var xe=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?xe+fe:xe):fe=xe,te){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=fe+M,te={id:d++,callback:Q,priorityLevel:te,startTime:fe,expirationTime:M,sortIndex:-1},fe>xe?(te.sortIndex=fe,e(u,te),n(l)===null&&te===n(u)&&(S?(b(E),E=-1):S=!0,we(B,fe-xe))):(te.sortIndex=M,e(l,te),P||p||(P=!0,be(ee))),te},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(te){var Q=_;return function(){var fe=_;_=Q;try{return te.apply(this,arguments)}finally{_=fe}}}})(jb);Rb.exports=jb;var aN=Rb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN=le,Hi=aN;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Db=new Set,Bh={};function hu(t,e){uc(t,e),uc(t+"Capture",e)}function uc(t,e){for(Bh[t]=e,t=0;t<e.length;t++)Db.add(e[t])}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d1=Object.prototype.hasOwnProperty,lN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},Iy={};function uN(t){return d1.call(Iy,t)?!0:d1.call(Ny,t)?!1:lN.test(t)?Iy[t]=!0:(Ny[t]=!0,!1)}function cN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hN(t,e,n,r){if(e===null||typeof e>"u"||cN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jr[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jr[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jr[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jr[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jr[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jr[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jr[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jr[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jr[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var H0=/[\-:]([a-z])/g;function G0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H0,G0);jr[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H0,G0);jr[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H0,G0);jr[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jr[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});jr.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jr[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function K0(t,e,n,r){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hN(e,n,i,r)&&(n=null),r||i===null?uN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qa=oN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,af=Symbol.for("react.element"),ju=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),f1=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),p1=Symbol.for("react.suspense"),m1=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),Fb=Symbol.for("react.offscreen"),ky=Symbol.iterator;function rh(t){return t===null||typeof t!="object"?null:(t=ky&&t[ky]||t["@@iterator"],typeof t=="function"?t:null)}var Mn=Object.assign,sg;function ph(t){if(sg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sg=e&&e[1]||""}return`
`+sg+t}var ag=!1;function og(t,e){if(!t||ag)return"";ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ph(t):""}function dN(t){switch(t.tag){case 5:return ph(t.type);case 16:return ph("Lazy");case 13:return ph("Suspense");case 19:return ph("SuspenseList");case 0:case 2:case 15:return t=og(t.type,!1),t;case 11:return t=og(t.type.render,!1),t;case 1:return t=og(t.type,!0),t;default:return""}}function g1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Du:return"Fragment";case ju:return"Portal";case f1:return"Profiler";case Q0:return"StrictMode";case p1:return"Suspense";case m1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mb:return(t.displayName||"Context")+".Consumer";case Ob:return(t._context.displayName||"Context")+".Provider";case J0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y0:return e=t.displayName||null,e!==null?e:g1(t.type)||"Memo";case ko:e=t._payload,t=t._init;try{return g1(t(e))}catch{}}return null}function fN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g1(e);case 8:return e===Q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pN(t){var e=Vb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function of(t){t._valueTracker||(t._valueTracker=pN(t))}function Ub(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function up(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function v1(t,e){var n=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bb(t,e){e=e.checked,e!=null&&K0(t,"checked",e,!1)}function y1(t,e){Bb(t,e);var n=nl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_1(t,e.type,n):e.hasOwnProperty("defaultValue")&&_1(t,e.type,nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Py(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _1(t,e,n){(e!=="number"||up(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mh=Array.isArray;function Qu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function w1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Me(92));if(mh(n)){if(1<n.length)throw Error(Me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nl(n)}}function zb(t,e){var n=nl(e.value),r=nl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ly(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lf,$b=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lf=lf||document.createElement("div"),lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mN=["Webkit","ms","Moz","O"];Object.keys(Eh).forEach(function(t){mN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eh[e]=Eh[t]})});function Wb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eh.hasOwnProperty(t)&&Eh[t]?(""+e).trim():e+"px"}function Hb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gN=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A1(t,e){if(e){if(gN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function x1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E1=null;function X0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var S1=null,Ju=null,Yu=null;function Ry(t){if(t=xd(t)){if(typeof S1!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=sm(e),S1(t.stateNode,t.type,e))}}function Gb(t){Ju?Yu?Yu.push(t):Yu=[t]:Ju=t}function Kb(){if(Ju){var t=Ju,e=Yu;if(Yu=Ju=null,Ry(t),e)for(t=0;t<e.length;t++)Ry(e[t])}}function Qb(t,e){return t(e)}function Jb(){}var lg=!1;function Yb(t,e,n){if(lg)return t(e,n);lg=!0;try{return Qb(t,e,n)}finally{lg=!1,(Ju!==null||Yu!==null)&&(Jb(),Kb())}}function qh(t,e){var n=t.stateNode;if(n===null)return null;var r=sm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Me(231,e,typeof n));return n}var N1=!1;if(Ua)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){N1=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{N1=!1}function vN(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Sh=!1,cp=null,hp=!1,I1=null,yN={onError:function(t){Sh=!0,cp=t}};function _N(t,e,n,r,i,s,a,o,l){Sh=!1,cp=null,vN.apply(yN,arguments)}function wN(t,e,n,r,i,s,a,o,l){if(_N.apply(this,arguments),Sh){if(Sh){var u=cp;Sh=!1,cp=null}else throw Error(Me(198));hp||(hp=!0,I1=u)}}function du(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jy(t){if(du(t)!==t)throw Error(Me(188))}function bN(t){var e=t.alternate;if(!e){if(e=du(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jy(i),t;if(s===r)return jy(i),e;s=s.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?t:e}function Zb(t){return t=bN(t),t!==null?eA(t):null}function eA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eA(t);if(e!==null)return e;t=t.sibling}return null}var tA=Hi.unstable_scheduleCallback,Dy=Hi.unstable_cancelCallback,AN=Hi.unstable_shouldYield,xN=Hi.unstable_requestPaint,Xn=Hi.unstable_now,EN=Hi.unstable_getCurrentPriorityLevel,Z0=Hi.unstable_ImmediatePriority,nA=Hi.unstable_UserBlockingPriority,dp=Hi.unstable_NormalPriority,SN=Hi.unstable_LowPriority,rA=Hi.unstable_IdlePriority,tm=null,aa=null;function NN(t){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(tm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:TN,IN=Math.log,kN=Math.LN2;function TN(t){return t>>>=0,t===0?32:31-(IN(t)/kN|0)|0}var uf=64,cf=4194304;function gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=gh(o):(s&=a,s!==0&&(r=gh(s)))}else a=n&~i,a!==0?r=gh(a):s!==0&&(r=gh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ts(e),i=1<<n,r|=t[n],e&=~i;return r}function PN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ts(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=PN(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function k1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iA(){var t=uf;return uf<<=1,!(uf&4194240)&&(uf=64),t}function ug(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ts(e),t[e]=n}function LN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ts(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function e2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ts(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ln=0;function sA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aA,t2,oA,lA,uA,T1=!1,hf=[],Bo=null,zo=null,qo=null,$h=new Map,Wh=new Map,Po=[],RN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(t,e){switch(t){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":$h.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(e.pointerId)}}function sh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xd(e),e!==null&&t2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jN(t,e,n,r,i){switch(e){case"focusin":return Bo=sh(Bo,t,e,n,r,i),!0;case"dragenter":return zo=sh(zo,t,e,n,r,i),!0;case"mouseover":return qo=sh(qo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $h.set(s,sh($h.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wh.set(s,sh(Wh.get(s)||null,t,e,n,r,i)),!0}return!1}function cA(t){var e=$l(t.target);if(e!==null){var n=du(e);if(n!==null){if(e=n.tag,e===13){if(e=Xb(n),e!==null){t.blockedOn=e,uA(t.priority,function(){oA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ff(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=P1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);E1=r,n.target.dispatchEvent(r),E1=null}else return e=xd(n),e!==null&&t2(e),t.blockedOn=n,!1;e.shift()}return!0}function My(t,e,n){Ff(t)&&n.delete(e)}function DN(){T1=!1,Bo!==null&&Ff(Bo)&&(Bo=null),zo!==null&&Ff(zo)&&(zo=null),qo!==null&&Ff(qo)&&(qo=null),$h.forEach(My),Wh.forEach(My)}function ah(t,e){t.blockedOn===e&&(t.blockedOn=null,T1||(T1=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,DN)))}function Hh(t){function e(i){return ah(i,t)}if(0<hf.length){ah(hf[0],t);for(var n=1;n<hf.length;n++){var r=hf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bo!==null&&ah(Bo,t),zo!==null&&ah(zo,t),qo!==null&&ah(qo,t),$h.forEach(e),Wh.forEach(e),n=0;n<Po.length;n++)r=Po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Po.length&&(n=Po[0],n.blockedOn===null);)cA(n),n.blockedOn===null&&Po.shift()}var Xu=Qa.ReactCurrentBatchConfig,pp=!0;function ON(t,e,n,r){var i=ln,s=Xu.transition;Xu.transition=null;try{ln=1,n2(t,e,n,r)}finally{ln=i,Xu.transition=s}}function MN(t,e,n,r){var i=ln,s=Xu.transition;Xu.transition=null;try{ln=4,n2(t,e,n,r)}finally{ln=i,Xu.transition=s}}function n2(t,e,n,r){if(pp){var i=P1(t,e,n,r);if(i===null)_g(t,e,r,mp,n),Oy(t,r);else if(jN(i,t,e,n,r))r.stopPropagation();else if(Oy(t,r),e&4&&-1<RN.indexOf(t)){for(;i!==null;){var s=xd(i);if(s!==null&&aA(s),s=P1(t,e,n,r),s===null&&_g(t,e,r,mp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _g(t,e,r,null,n)}}var mp=null;function P1(t,e,n,r){if(mp=null,t=X0(r),t=$l(t),t!==null)if(e=du(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mp=t,null}function hA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EN()){case Z0:return 1;case nA:return 4;case dp:case SN:return 16;case rA:return 536870912;default:return 16}default:return 16}}var Oo=null,r2=null,Vf=null;function dA(){if(Vf)return Vf;var t,e=r2,n=e.length,r,i="value"in Oo?Oo.value:Oo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Vf=i.slice(t,1<r?1-r:void 0)}function Uf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function df(){return!0}function Fy(){return!1}function Ki(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?df:Fy,this.isPropagationStopped=Fy,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=df)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=df)},persist:function(){},isPersistent:df}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i2=Ki(Sc),Ad=Mn({},Sc,{view:0,detail:0}),FN=Ki(Ad),cg,hg,oh,nm=Mn({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oh&&(oh&&t.type==="mousemove"?(cg=t.screenX-oh.screenX,hg=t.screenY-oh.screenY):hg=cg=0,oh=t),cg)},movementY:function(t){return"movementY"in t?t.movementY:hg}}),Vy=Ki(nm),VN=Mn({},nm,{dataTransfer:0}),UN=Ki(VN),BN=Mn({},Ad,{relatedTarget:0}),dg=Ki(BN),zN=Mn({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),qN=Ki(zN),$N=Mn({},Sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WN=Ki($N),HN=Mn({},Sc,{data:0}),Uy=Ki(HN),GN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QN[t])?!!e[t]:!1}function s2(){return JN}var YN=Mn({},Ad,{key:function(t){if(t.key){var e=GN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s2,charCode:function(t){return t.type==="keypress"?Uf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XN=Ki(YN),ZN=Mn({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=Ki(ZN),eI=Mn({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s2}),tI=Ki(eI),nI=Mn({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),rI=Ki(nI),iI=Mn({},nm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sI=Ki(iI),aI=[9,13,27,32],a2=Ua&&"CompositionEvent"in window,Nh=null;Ua&&"documentMode"in document&&(Nh=document.documentMode);var oI=Ua&&"TextEvent"in window&&!Nh,fA=Ua&&(!a2||Nh&&8<Nh&&11>=Nh),zy=" ",qy=!1;function pA(t,e){switch(t){case"keyup":return aI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function lI(t,e){switch(t){case"compositionend":return mA(e);case"keypress":return e.which!==32?null:(qy=!0,zy);case"textInput":return t=e.data,t===zy&&qy?null:t;default:return null}}function uI(t,e){if(Ou)return t==="compositionend"||!a2&&pA(t,e)?(t=dA(),Vf=r2=Oo=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fA&&e.locale!=="ko"?null:e.data;default:return null}}var cI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cI[t.type]:e==="textarea"}function gA(t,e,n,r){Gb(r),e=gp(e,"onChange"),0<e.length&&(n=new i2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ih=null,Gh=null;function hI(t){IA(t,0)}function rm(t){var e=Vu(t);if(Ub(e))return t}function dI(t,e){if(t==="change")return e}var vA=!1;if(Ua){var fg;if(Ua){var pg="oninput"in document;if(!pg){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),pg=typeof Wy.oninput=="function"}fg=pg}else fg=!1;vA=fg&&(!document.documentMode||9<document.documentMode)}function Hy(){Ih&&(Ih.detachEvent("onpropertychange",yA),Gh=Ih=null)}function yA(t){if(t.propertyName==="value"&&rm(Gh)){var e=[];gA(e,Gh,t,X0(t)),Yb(hI,e)}}function fI(t,e,n){t==="focusin"?(Hy(),Ih=e,Gh=n,Ih.attachEvent("onpropertychange",yA)):t==="focusout"&&Hy()}function pI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rm(Gh)}function mI(t,e){if(t==="click")return rm(e)}function gI(t,e){if(t==="input"||t==="change")return rm(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cs=typeof Object.is=="function"?Object.is:vI;function Kh(t,e){if(Cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d1.call(e,i)||!Cs(t[i],e[i]))return!1}return!0}function Gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ky(t,e){var n=Gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gy(n)}}function _A(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_A(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wA(){for(var t=window,e=up();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=up(t.document)}return e}function o2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yI(t){var e=wA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_A(n.ownerDocument.documentElement,n)){if(r!==null&&o2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ky(n,s);var a=Ky(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _I=Ua&&"documentMode"in document&&11>=document.documentMode,Mu=null,C1=null,kh=null,L1=!1;function Qy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;L1||Mu==null||Mu!==up(r)||(r=Mu,"selectionStart"in r&&o2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kh&&Kh(kh,r)||(kh=r,r=gp(C1,"onSelect"),0<r.length&&(e=new i2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mu)))}function ff(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fu={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},mg={},bA={};Ua&&(bA=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function im(t){if(mg[t])return mg[t];if(!Fu[t])return t;var e=Fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bA)return mg[t]=e[n];return t}var AA=im("animationend"),xA=im("animationiteration"),EA=im("animationstart"),SA=im("transitionend"),NA=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(t,e){NA.set(t,e),hu(e,[t])}for(var gg=0;gg<Jy.length;gg++){var vg=Jy[gg],wI=vg.toLowerCase(),bI=vg[0].toUpperCase()+vg.slice(1);hl(wI,"on"+bI)}hl(AA,"onAnimationEnd");hl(xA,"onAnimationIteration");hl(EA,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(SA,"onTransitionEnd");uc("onMouseEnter",["mouseout","mouseover"]);uc("onMouseLeave",["mouseout","mouseover"]);uc("onPointerEnter",["pointerout","pointerover"]);uc("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function Yy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wN(r,e,void 0,t),t.currentTarget=null}function IA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Yy(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Yy(i,o,u),s=l}}}if(hp)throw t=I1,hp=!1,I1=null,t}function An(t,e){var n=e[M1];n===void 0&&(n=e[M1]=new Set);var r=t+"__bubble";n.has(r)||(kA(e,t,2,!1),n.add(r))}function yg(t,e,n){var r=0;e&&(r|=4),kA(n,t,r,e)}var pf="_reactListening"+Math.random().toString(36).slice(2);function Qh(t){if(!t[pf]){t[pf]=!0,Db.forEach(function(n){n!=="selectionchange"&&(AI.has(n)||yg(n,!1,t),yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pf]||(e[pf]=!0,yg("selectionchange",!1,e))}}function kA(t,e,n,r){switch(hA(e)){case 1:var i=ON;break;case 4:i=MN;break;default:i=n2}n=i.bind(null,e,n,t),i=void 0,!N1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _g(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=$l(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Yb(function(){var u=s,d=X0(n),m=[];e:{var _=NA.get(t);if(_!==void 0){var p=i2,P=t;switch(t){case"keypress":if(Uf(n)===0)break e;case"keydown":case"keyup":p=XN;break;case"focusin":P="focus",p=dg;break;case"focusout":P="blur",p=dg;break;case"beforeblur":case"afterblur":p=dg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tI;break;case AA:case xA:case EA:p=qN;break;case SA:p=rI;break;case"scroll":p=FN;break;case"wheel":p=sI;break;case"copy":case"cut":case"paste":p=WN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=By}var S=(e&4)!==0,L=!S&&t==="scroll",b=S?_!==null?_+"Capture":null:_;S=[];for(var I=u,R;I!==null;){R=I;var B=R.stateNode;if(R.tag===5&&B!==null&&(R=B,b!==null&&(B=qh(I,b),B!=null&&S.push(Jh(I,B,R)))),L)break;I=I.return}0<S.length&&(_=new p(_,P,null,n,d),m.push({event:_,listeners:S}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",_&&n!==E1&&(P=n.relatedTarget||n.fromElement)&&($l(P)||P[Ba]))break e;if((p||_)&&(_=d.window===d?d:(_=d.ownerDocument)?_.defaultView||_.parentWindow:window,p?(P=n.relatedTarget||n.toElement,p=u,P=P?$l(P):null,P!==null&&(L=du(P),P!==L||P.tag!==5&&P.tag!==6)&&(P=null)):(p=null,P=u),p!==P)){if(S=Vy,B="onMouseLeave",b="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(S=By,B="onPointerLeave",b="onPointerEnter",I="pointer"),L=p==null?_:Vu(p),R=P==null?_:Vu(P),_=new S(B,I+"leave",p,n,d),_.target=L,_.relatedTarget=R,B=null,$l(d)===u&&(S=new S(b,I+"enter",P,n,d),S.target=R,S.relatedTarget=L,B=S),L=B,p&&P)t:{for(S=p,b=P,I=0,R=S;R;R=Eu(R))I++;for(R=0,B=b;B;B=Eu(B))R++;for(;0<I-R;)S=Eu(S),I--;for(;0<R-I;)b=Eu(b),R--;for(;I--;){if(S===b||b!==null&&S===b.alternate)break t;S=Eu(S),b=Eu(b)}S=null}else S=null;p!==null&&Xy(m,_,p,S,!1),P!==null&&L!==null&&Xy(m,L,P,S,!0)}}e:{if(_=u?Vu(u):window,p=_.nodeName&&_.nodeName.toLowerCase(),p==="select"||p==="input"&&_.type==="file")var ee=dI;else if($y(_))if(vA)ee=gI;else{ee=pI;var F=fI}else(p=_.nodeName)&&p.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(ee=mI);if(ee&&(ee=ee(t,u))){gA(m,ee,n,d);break e}F&&F(t,_,u),t==="focusout"&&(F=_._wrapperState)&&F.controlled&&_.type==="number"&&_1(_,"number",_.value)}switch(F=u?Vu(u):window,t){case"focusin":($y(F)||F.contentEditable==="true")&&(Mu=F,C1=u,kh=null);break;case"focusout":kh=C1=Mu=null;break;case"mousedown":L1=!0;break;case"contextmenu":case"mouseup":case"dragend":L1=!1,Qy(m,n,d);break;case"selectionchange":if(_I)break;case"keydown":case"keyup":Qy(m,n,d)}var V;if(a2)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ou?pA(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(fA&&n.locale!=="ko"&&(Ou||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ou&&(V=dA()):(Oo=d,r2="value"in Oo?Oo.value:Oo.textContent,Ou=!0)),F=gp(u,E),0<F.length&&(E=new Uy(E,t,null,n,d),m.push({event:E,listeners:F}),V?E.data=V:(V=mA(n),V!==null&&(E.data=V)))),(V=oI?lI(t,n):uI(t,n))&&(u=gp(u,"onBeforeInput"),0<u.length&&(d=new Uy("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=V))}IA(m,e)})}function Jh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qh(t,n),s!=null&&r.unshift(Jh(t,s,i)),s=qh(t,e),s!=null&&r.push(Jh(t,s,i))),t=t.return}return r}function Eu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xy(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=qh(n,s),l!=null&&a.unshift(Jh(n,l,o))):i||(l=qh(n,s),l!=null&&a.push(Jh(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var xI=/\r\n?/g,EI=/\u0000|\uFFFD/g;function Zy(t){return(typeof t=="string"?t:""+t).replace(xI,`
`).replace(EI,"")}function mf(t,e,n){if(e=Zy(e),Zy(t)!==e&&n)throw Error(Me(425))}function vp(){}var R1=null,j1=null;function D1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,SI=typeof clearTimeout=="function"?clearTimeout:void 0,e5=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof e5<"u"?function(t){return e5.resolve(null).then(t).catch(II)}:O1;function II(t){setTimeout(function(){throw t})}function wg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hh(e)}function $o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),ra="__reactFiber$"+Nc,Yh="__reactProps$"+Nc,Ba="__reactContainer$"+Nc,M1="__reactEvents$"+Nc,kI="__reactListeners$"+Nc,TI="__reactHandles$"+Nc;function $l(t){var e=t[ra];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ba]||n[ra]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t5(t);t!==null;){if(n=t[ra])return n;t=t5(t)}return e}t=n,n=t.parentNode}return null}function xd(t){return t=t[ra]||t[Ba],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function sm(t){return t[Yh]||null}var F1=[],Uu=-1;function dl(t){return{current:t}}function Sn(t){0>Uu||(t.current=F1[Uu],F1[Uu]=null,Uu--)}function yn(t,e){Uu++,F1[Uu]=t.current,t.current=e}var rl={},Xr=dl(rl),bi=dl(!1),Xl=rl;function cc(t,e){var n=t.type.contextTypes;if(!n)return rl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ai(t){return t=t.childContextTypes,t!=null}function yp(){Sn(bi),Sn(Xr)}function n5(t,e,n){if(Xr.current!==rl)throw Error(Me(168));yn(Xr,e),yn(bi,n)}function TA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,fN(t)||"Unknown",i));return Mn({},n,r)}function _p(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rl,Xl=Xr.current,yn(Xr,t),yn(bi,bi.current),!0}function r5(t,e,n){var r=t.stateNode;if(!r)throw Error(Me(169));n?(t=TA(t,e,Xl),r.__reactInternalMemoizedMergedChildContext=t,Sn(bi),Sn(Xr),yn(Xr,t)):Sn(bi),yn(bi,n)}var La=null,am=!1,bg=!1;function PA(t){La===null?La=[t]:La.push(t)}function PI(t){am=!0,PA(t)}function fl(){if(!bg&&La!==null){bg=!0;var t=0,e=ln;try{var n=La;for(ln=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}La=null,am=!1}catch(i){throw La!==null&&(La=La.slice(t+1)),tA(Z0,fl),i}finally{ln=e,bg=!1}}return null}var Bu=[],zu=0,wp=null,bp=0,rs=[],is=0,Zl=null,ja=1,Da="";function Vl(t,e){Bu[zu++]=bp,Bu[zu++]=wp,wp=t,bp=e}function CA(t,e,n){rs[is++]=ja,rs[is++]=Da,rs[is++]=Zl,Zl=t;var r=ja;t=Da;var i=32-Ts(r)-1;r&=~(1<<i),n+=1;var s=32-Ts(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ja=1<<32-Ts(e)+i|n<<i|r,Da=s+t}else ja=1<<s|n<<i|r,Da=t}function l2(t){t.return!==null&&(Vl(t,1),CA(t,1,0))}function u2(t){for(;t===wp;)wp=Bu[--zu],Bu[zu]=null,bp=Bu[--zu],Bu[zu]=null;for(;t===Zl;)Zl=rs[--is],rs[is]=null,Da=rs[--is],rs[is]=null,ja=rs[--is],rs[is]=null}var Wi=null,zi=null,Pn=!1,Is=null;function LA(t,e){var n=ss(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wi=t,zi=$o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wi=t,zi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zl!==null?{id:ja,overflow:Da}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ss(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wi=t,zi=null,!0):!1;default:return!1}}function V1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function U1(t){if(Pn){var e=zi;if(e){var n=e;if(!i5(t,e)){if(V1(t))throw Error(Me(418));e=$o(n.nextSibling);var r=Wi;e&&i5(t,e)?LA(r,n):(t.flags=t.flags&-4097|2,Pn=!1,Wi=t)}}else{if(V1(t))throw Error(Me(418));t.flags=t.flags&-4097|2,Pn=!1,Wi=t}}}function s5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wi=t}function gf(t){if(t!==Wi)return!1;if(!Pn)return s5(t),Pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!D1(t.type,t.memoizedProps)),e&&(e=zi)){if(V1(t))throw RA(),Error(Me(418));for(;e;)LA(t,e),e=$o(e.nextSibling)}if(s5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zi=$o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zi=null}}else zi=Wi?$o(t.stateNode.nextSibling):null;return!0}function RA(){for(var t=zi;t;)t=$o(t.nextSibling)}function hc(){zi=Wi=null,Pn=!1}function c2(t){Is===null?Is=[t]:Is.push(t)}var CI=Qa.ReactCurrentBatchConfig;function lh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,t))}return t}function vf(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a5(t){var e=t._init;return e(t._payload)}function jA(t){function e(b,I){if(t){var R=b.deletions;R===null?(b.deletions=[I],b.flags|=16):R.push(I)}}function n(b,I){if(!t)return null;for(;I!==null;)e(b,I),I=I.sibling;return null}function r(b,I){for(b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function i(b,I){return b=Ko(b,I),b.index=0,b.sibling=null,b}function s(b,I,R){return b.index=R,t?(R=b.alternate,R!==null?(R=R.index,R<I?(b.flags|=2,I):R):(b.flags|=2,I)):(b.flags|=1048576,I)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,I,R,B){return I===null||I.tag!==6?(I=kg(R,b.mode,B),I.return=b,I):(I=i(I,R),I.return=b,I)}function l(b,I,R,B){var ee=R.type;return ee===Du?d(b,I,R.props.children,B,R.key):I!==null&&(I.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ko&&a5(ee)===I.type)?(B=i(I,R.props),B.ref=lh(b,I,R),B.return=b,B):(B=Gf(R.type,R.key,R.props,null,b.mode,B),B.ref=lh(b,I,R),B.return=b,B)}function u(b,I,R,B){return I===null||I.tag!==4||I.stateNode.containerInfo!==R.containerInfo||I.stateNode.implementation!==R.implementation?(I=Tg(R,b.mode,B),I.return=b,I):(I=i(I,R.children||[]),I.return=b,I)}function d(b,I,R,B,ee){return I===null||I.tag!==7?(I=Ql(R,b.mode,B,ee),I.return=b,I):(I=i(I,R),I.return=b,I)}function m(b,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return I=kg(""+I,b.mode,R),I.return=b,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case af:return R=Gf(I.type,I.key,I.props,null,b.mode,R),R.ref=lh(b,null,I),R.return=b,R;case ju:return I=Tg(I,b.mode,R),I.return=b,I;case ko:var B=I._init;return m(b,B(I._payload),R)}if(mh(I)||rh(I))return I=Ql(I,b.mode,R,null),I.return=b,I;vf(b,I)}return null}function _(b,I,R,B){var ee=I!==null?I.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ee!==null?null:o(b,I,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case af:return R.key===ee?l(b,I,R,B):null;case ju:return R.key===ee?u(b,I,R,B):null;case ko:return ee=R._init,_(b,I,ee(R._payload),B)}if(mh(R)||rh(R))return ee!==null?null:d(b,I,R,B,null);vf(b,R)}return null}function p(b,I,R,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number")return b=b.get(R)||null,o(I,b,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case af:return b=b.get(B.key===null?R:B.key)||null,l(I,b,B,ee);case ju:return b=b.get(B.key===null?R:B.key)||null,u(I,b,B,ee);case ko:var F=B._init;return p(b,I,R,F(B._payload),ee)}if(mh(B)||rh(B))return b=b.get(R)||null,d(I,b,B,ee,null);vf(I,B)}return null}function P(b,I,R,B){for(var ee=null,F=null,V=I,E=I=0,N=null;V!==null&&E<R.length;E++){V.index>E?(N=V,V=null):N=V.sibling;var O=_(b,V,R[E],B);if(O===null){V===null&&(V=N);break}t&&V&&O.alternate===null&&e(b,V),I=s(O,I,E),F===null?ee=O:F.sibling=O,F=O,V=N}if(E===R.length)return n(b,V),Pn&&Vl(b,E),ee;if(V===null){for(;E<R.length;E++)V=m(b,R[E],B),V!==null&&(I=s(V,I,E),F===null?ee=V:F.sibling=V,F=V);return Pn&&Vl(b,E),ee}for(V=r(b,V);E<R.length;E++)N=p(V,b,E,R[E],B),N!==null&&(t&&N.alternate!==null&&V.delete(N.key===null?E:N.key),I=s(N,I,E),F===null?ee=N:F.sibling=N,F=N);return t&&V.forEach(function(x){return e(b,x)}),Pn&&Vl(b,E),ee}function S(b,I,R,B){var ee=rh(R);if(typeof ee!="function")throw Error(Me(150));if(R=ee.call(R),R==null)throw Error(Me(151));for(var F=ee=null,V=I,E=I=0,N=null,O=R.next();V!==null&&!O.done;E++,O=R.next()){V.index>E?(N=V,V=null):N=V.sibling;var x=_(b,V,O.value,B);if(x===null){V===null&&(V=N);break}t&&V&&x.alternate===null&&e(b,V),I=s(x,I,E),F===null?ee=x:F.sibling=x,F=x,V=N}if(O.done)return n(b,V),Pn&&Vl(b,E),ee;if(V===null){for(;!O.done;E++,O=R.next())O=m(b,O.value,B),O!==null&&(I=s(O,I,E),F===null?ee=O:F.sibling=O,F=O);return Pn&&Vl(b,E),ee}for(V=r(b,V);!O.done;E++,O=R.next())O=p(V,b,E,O.value,B),O!==null&&(t&&O.alternate!==null&&V.delete(O.key===null?E:O.key),I=s(O,I,E),F===null?ee=O:F.sibling=O,F=O);return t&&V.forEach(function(T){return e(b,T)}),Pn&&Vl(b,E),ee}function L(b,I,R,B){if(typeof R=="object"&&R!==null&&R.type===Du&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case af:e:{for(var ee=R.key,F=I;F!==null;){if(F.key===ee){if(ee=R.type,ee===Du){if(F.tag===7){n(b,F.sibling),I=i(F,R.props.children),I.return=b,b=I;break e}}else if(F.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ko&&a5(ee)===F.type){n(b,F.sibling),I=i(F,R.props),I.ref=lh(b,F,R),I.return=b,b=I;break e}n(b,F);break}else e(b,F);F=F.sibling}R.type===Du?(I=Ql(R.props.children,b.mode,B,R.key),I.return=b,b=I):(B=Gf(R.type,R.key,R.props,null,b.mode,B),B.ref=lh(b,I,R),B.return=b,b=B)}return a(b);case ju:e:{for(F=R.key;I!==null;){if(I.key===F)if(I.tag===4&&I.stateNode.containerInfo===R.containerInfo&&I.stateNode.implementation===R.implementation){n(b,I.sibling),I=i(I,R.children||[]),I.return=b,b=I;break e}else{n(b,I);break}else e(b,I);I=I.sibling}I=Tg(R,b.mode,B),I.return=b,b=I}return a(b);case ko:return F=R._init,L(b,I,F(R._payload),B)}if(mh(R))return P(b,I,R,B);if(rh(R))return S(b,I,R,B);vf(b,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,I!==null&&I.tag===6?(n(b,I.sibling),I=i(I,R),I.return=b,b=I):(n(b,I),I=kg(R,b.mode,B),I.return=b,b=I),a(b)):n(b,I)}return L}var dc=jA(!0),DA=jA(!1),Ap=dl(null),xp=null,qu=null,h2=null;function d2(){h2=qu=xp=null}function f2(t){var e=Ap.current;Sn(Ap),t._currentValue=e}function B1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zu(t,e){xp=t,h2=qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_i=!0),t.firstContext=null)}function us(t){var e=t._currentValue;if(h2!==t)if(t={context:t,memoizedValue:e,next:null},qu===null){if(xp===null)throw Error(Me(308));qu=t,xp.dependencies={lanes:0,firstContext:t}}else qu=qu.next=t;return e}var Wl=null;function p2(t){Wl===null?Wl=[t]:Wl.push(t)}function OA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,p2(e)):(n.next=i.next,i.next=n),e.interleaved=n,za(t,r)}function za(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var To=!1;function m2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Va(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,za(t,n)}return i=r.interleaved,i===null?(e.next=e,p2(r)):(e.next=i.next,i.next=e),r.interleaved=e,za(t,n)}function Bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,e2(t,n)}}function o5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ep(t,e,n,r){var i=t.updateQueue;To=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,d=u=l=null,o=s;do{var _=o.lane,p=o.eventTime;if((r&_)===_){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var P=t,S=o;switch(_=e,p=n,S.tag){case 1:if(P=S.payload,typeof P=="function"){m=P.call(p,m,_);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=S.payload,_=typeof P=="function"?P.call(p,m,_):P,_==null)break e;m=Mn({},m,_);break e;case 2:To=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[o]:_.push(o))}else p={eventTime:p,lane:_,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=m):d=d.next=p,a|=_;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;_=o,o=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);tu|=a,t.lanes=a,t.memoizedState=m}}function l5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var Ed={},oa=dl(Ed),Xh=dl(Ed),Zh=dl(Ed);function Hl(t){if(t===Ed)throw Error(Me(174));return t}function g2(t,e){switch(yn(Zh,e),yn(Xh,t),yn(oa,Ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:b1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=b1(e,t)}Sn(oa),yn(oa,e)}function fc(){Sn(oa),Sn(Xh),Sn(Zh)}function FA(t){Hl(Zh.current);var e=Hl(oa.current),n=b1(e,t.type);e!==n&&(yn(Xh,t),yn(oa,n))}function v2(t){Xh.current===t&&(Sn(oa),Sn(Xh))}var Dn=dl(0);function Sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ag=[];function y2(){for(var t=0;t<Ag.length;t++)Ag[t]._workInProgressVersionPrimary=null;Ag.length=0}var zf=Qa.ReactCurrentDispatcher,xg=Qa.ReactCurrentBatchConfig,eu=0,On=null,fr=null,wr=null,Np=!1,Th=!1,ed=0,LI=0;function Br(){throw Error(Me(321))}function _2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cs(t[n],e[n]))return!1;return!0}function w2(t,e,n,r,i,s){if(eu=s,On=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?OI:MI,t=n(r,i),Th){s=0;do{if(Th=!1,ed=0,25<=s)throw Error(Me(301));s+=1,wr=fr=null,e.updateQueue=null,zf.current=FI,t=n(r,i)}while(Th)}if(zf.current=Ip,e=fr!==null&&fr.next!==null,eu=0,wr=fr=On=null,Np=!1,e)throw Error(Me(300));return t}function b2(){var t=ed!==0;return ed=0,t}function na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?On.memoizedState=wr=t:wr=wr.next=t,wr}function cs(){if(fr===null){var t=On.alternate;t=t!==null?t.memoizedState:null}else t=fr.next;var e=wr===null?On.memoizedState:wr.next;if(e!==null)wr=e,fr=t;else{if(t===null)throw Error(Me(310));fr=t,t={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},wr===null?On.memoizedState=wr=t:wr=wr.next=t}return wr}function td(t,e){return typeof e=="function"?e(t):e}function Eg(t){var e=cs(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=fr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((eu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,On.lanes|=d,tu|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Cs(r,e.memoizedState)||(_i=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,On.lanes|=s,tu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sg(t){var e=cs(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Cs(s,e.memoizedState)||(_i=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VA(){}function UA(t,e){var n=On,r=cs(),i=e(),s=!Cs(r.memoizedState,i);if(s&&(r.memoizedState=i,_i=!0),r=r.queue,A2(qA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,nd(9,zA.bind(null,n,r,i,e),void 0,null),Ar===null)throw Error(Me(349));eu&30||BA(n,e,i)}return i}function BA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zA(t,e,n,r){e.value=n,e.getSnapshot=r,$A(e)&&WA(t)}function qA(t,e,n){return n(function(){$A(e)&&WA(t)})}function $A(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cs(t,n)}catch{return!0}}function WA(t){var e=za(t,1);e!==null&&Ps(e,t,1,-1)}function u5(t){var e=na();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},e.queue=t,t=t.dispatch=DI.bind(null,On,t),[e.memoizedState,t]}function nd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HA(){return cs().memoizedState}function qf(t,e,n,r){var i=na();On.flags|=t,i.memoizedState=nd(1|e,n,void 0,r===void 0?null:r)}function om(t,e,n,r){var i=cs();r=r===void 0?null:r;var s=void 0;if(fr!==null){var a=fr.memoizedState;if(s=a.destroy,r!==null&&_2(r,a.deps)){i.memoizedState=nd(e,n,s,r);return}}On.flags|=t,i.memoizedState=nd(1|e,n,s,r)}function c5(t,e){return qf(8390656,8,t,e)}function A2(t,e){return om(2048,8,t,e)}function GA(t,e){return om(4,2,t,e)}function KA(t,e){return om(4,4,t,e)}function QA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JA(t,e,n){return n=n!=null?n.concat([t]):null,om(4,4,QA.bind(null,e,t),n)}function x2(){}function YA(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XA(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZA(t,e,n){return eu&21?(Cs(n,e)||(n=iA(),On.lanes|=n,tu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_i=!0),t.memoizedState=n)}function RI(t,e){var n=ln;ln=n!==0&&4>n?n:4,t(!0);var r=xg.transition;xg.transition={};try{t(!1),e()}finally{ln=n,xg.transition=r}}function e4(){return cs().memoizedState}function jI(t,e,n){var r=Go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t4(t))n4(e,n);else if(n=OA(t,e,n,r),n!==null){var i=oi();Ps(n,t,r,i),r4(n,e,r)}}function DI(t,e,n){var r=Go(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t4(t))n4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Cs(o,a)){var l=e.interleaved;l===null?(i.next=i,p2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OA(t,e,i,r),n!==null&&(i=oi(),Ps(n,t,r,i),r4(n,e,r))}}function t4(t){var e=t.alternate;return t===On||e!==null&&e===On}function n4(t,e){Th=Np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,e2(t,n)}}var Ip={readContext:us,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},OI={readContext:us,useCallback:function(t,e){return na().memoizedState=[t,e===void 0?null:e],t},useContext:us,useEffect:c5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qf(4194308,4,QA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qf(4194308,4,t,e)},useInsertionEffect:function(t,e){return qf(4,2,t,e)},useMemo:function(t,e){var n=na();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=na();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jI.bind(null,On,t),[r.memoizedState,t]},useRef:function(t){var e=na();return t={current:t},e.memoizedState=t},useState:u5,useDebugValue:x2,useDeferredValue:function(t){return na().memoizedState=t},useTransition:function(){var t=u5(!1),e=t[0];return t=RI.bind(null,t[1]),na().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=On,i=na();if(Pn){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=e(),Ar===null)throw Error(Me(349));eu&30||BA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,c5(qA.bind(null,r,s,t),[t]),r.flags|=2048,nd(9,zA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=na(),e=Ar.identifierPrefix;if(Pn){var n=Da,r=ja;n=(r&~(1<<32-Ts(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ed++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MI={readContext:us,useCallback:YA,useContext:us,useEffect:A2,useImperativeHandle:JA,useInsertionEffect:GA,useLayoutEffect:KA,useMemo:XA,useReducer:Eg,useRef:HA,useState:function(){return Eg(td)},useDebugValue:x2,useDeferredValue:function(t){var e=cs();return ZA(e,fr.memoizedState,t)},useTransition:function(){var t=Eg(td)[0],e=cs().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:UA,useId:e4,unstable_isNewReconciler:!1},FI={readContext:us,useCallback:YA,useContext:us,useEffect:A2,useImperativeHandle:JA,useInsertionEffect:GA,useLayoutEffect:KA,useMemo:XA,useReducer:Sg,useRef:HA,useState:function(){return Sg(td)},useDebugValue:x2,useDeferredValue:function(t){var e=cs();return fr===null?e.memoizedState=t:ZA(e,fr.memoizedState,t)},useTransition:function(){var t=Sg(td)[0],e=cs().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:UA,useId:e4,unstable_isNewReconciler:!1};function Ss(t,e){if(t&&t.defaultProps){e=Mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function z1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lm={isMounted:function(t){return(t=t._reactInternals)?du(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=oi(),i=Go(t),s=Va(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Ps(e,t,i,r),Bf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=oi(),i=Go(t),s=Va(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Ps(e,t,i,r),Bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=oi(),r=Go(t),i=Va(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wo(t,i,r),e!==null&&(Ps(e,t,r,n),Bf(e,t,r))}};function h5(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Kh(n,r)||!Kh(i,s):!0}function i4(t,e,n){var r=!1,i=rl,s=e.contextType;return typeof s=="object"&&s!==null?s=us(s):(i=Ai(e)?Xl:Xr.current,r=e.contextTypes,s=(r=r!=null)?cc(t,i):rl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function d5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lm.enqueueReplaceState(e,e.state,null)}function q1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},m2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=us(s):(s=Ai(e)?Xl:Xr.current,i.context=cc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(z1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lm.enqueueReplaceState(i,i.state,null),Ep(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pc(t,e){try{var n="",r=e;do n+=dN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ng(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VI=typeof WeakMap=="function"?WeakMap:Map;function s4(t,e,n){n=Va(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tp||(Tp=!0,e0=r),$1(t,e)},n}function a4(t,e,n){n=Va(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$1(t,e),typeof r!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function f5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZI.bind(null,t,e,n),e.then(t,t))}function p5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Va(-1,1),e.tag=2,Wo(n,e,1))),n.lanes|=1),t)}var UI=Qa.ReactCurrentOwner,_i=!1;function ai(t,e,n,r){e.child=t===null?DA(e,null,n,r):dc(e,t.child,n,r)}function g5(t,e,n,r,i){n=n.render;var s=e.ref;return Zu(e,i),r=w2(t,e,n,r,s,i),n=b2(),t!==null&&!_i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i)):(Pn&&n&&l2(e),e.flags|=1,ai(t,e,r,i),e.child)}function v5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,o4(t,e,s,r,i)):(t=Gf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kh,n(a,r)&&t.ref===e.ref)return qa(t,e,i)}return e.flags|=1,t=Ko(s,r),t.ref=e.ref,t.return=e,e.child=t}function o4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Kh(s,r)&&t.ref===e.ref)if(_i=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_i=!0);else return e.lanes=t.lanes,qa(t,e,i)}return W1(t,e,n,r,i)}function l4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Wu,Bi),Bi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(Wu,Bi),Bi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(Wu,Bi),Bi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(Wu,Bi),Bi|=r;return ai(t,e,i,n),e.child}function u4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function W1(t,e,n,r,i){var s=Ai(n)?Xl:Xr.current;return s=cc(e,s),Zu(e,i),n=w2(t,e,n,r,s,i),r=b2(),t!==null&&!_i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i)):(Pn&&r&&l2(e),e.flags|=1,ai(t,e,n,i),e.child)}function y5(t,e,n,r,i){if(Ai(n)){var s=!0;_p(e)}else s=!1;if(Zu(e,i),e.stateNode===null)$f(t,e),i4(e,n,r),q1(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=us(u):(u=Ai(n)?Xl:Xr.current,u=cc(e,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&d5(e,a,r,u),To=!1;var _=e.memoizedState;a.state=_,Ep(e,r,a,i),l=e.memoizedState,o!==r||_!==l||bi.current||To?(typeof d=="function"&&(z1(e,n,d,r),l=e.memoizedState),(o=To||h5(e,n,o,r,_,l,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,MA(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ss(e.type,o),a.props=u,m=e.pendingProps,_=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=us(l):(l=Ai(n)?Xl:Xr.current,l=cc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||_!==l)&&d5(e,a,r,l),To=!1,_=e.memoizedState,a.state=_,Ep(e,r,a,i);var P=e.memoizedState;o!==m||_!==P||bi.current||To?(typeof p=="function"&&(z1(e,n,p,r),P=e.memoizedState),(u=To||h5(e,n,u,r,_,P,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,P,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,P,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),a.props=r,a.state=P,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return H1(t,e,n,r,s,i)}function H1(t,e,n,r,i,s){u4(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&r5(e,n,!1),qa(t,e,s);r=e.stateNode,UI.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=dc(e,t.child,null,s),e.child=dc(e,null,o,s)):ai(t,e,o,s),e.memoizedState=r.state,i&&r5(e,n,!0),e.child}function c4(t){var e=t.stateNode;e.pendingContext?n5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n5(t,e.context,!1),g2(t,e.containerInfo)}function _5(t,e,n,r,i){return hc(),c2(i),e.flags|=256,ai(t,e,n,r),e.child}var G1={dehydrated:null,treeContext:null,retryLane:0};function K1(t){return{baseLanes:t,cachePool:null,transitions:null}}function h4(t,e,n){var r=e.pendingProps,i=Dn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(Dn,i&1),t===null)return U1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=hm(a,r,0,null),t=Ql(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=K1(n),e.memoizedState=G1,t):E2(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return BI(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ko(o,s):(s=Ql(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?K1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=G1,r}return s=t.child,t=s.sibling,r=Ko(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function E2(t,e){return e=hm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yf(t,e,n,r){return r!==null&&c2(r),dc(e,t.child,null,n),t=E2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BI(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Ng(Error(Me(422))),yf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hm({mode:"visible",children:r.children},i,0,null),s=Ql(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&dc(e,t.child,null,a),e.child.memoizedState=K1(a),e.memoizedState=G1,s);if(!(e.mode&1))return yf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Me(419)),r=Ng(s,r,void 0),yf(t,e,a,r)}if(o=(a&t.childLanes)!==0,_i||o){if(r=Ar,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,za(t,i),Ps(r,t,i,-1))}return P2(),r=Ng(Error(Me(421))),yf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ek.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zi=$o(i.nextSibling),Wi=e,Pn=!0,Is=null,t!==null&&(rs[is++]=ja,rs[is++]=Da,rs[is++]=Zl,ja=t.id,Da=t.overflow,Zl=e),e=E2(e,r.children),e.flags|=4096,e)}function w5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),B1(t.return,e,n)}function Ig(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function d4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ai(t,e,r.children,n),r=Dn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w5(t,n,e);else if(t.tag===19)w5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(Dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ig(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ig(e,!0,n,null,s);break;case"together":Ig(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zI(t,e,n){switch(e.tag){case 3:c4(e),hc();break;case 5:FA(e);break;case 1:Ai(e.type)&&_p(e);break;case 4:g2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(Ap,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(Dn,Dn.current&1),e.flags|=128,null):n&e.child.childLanes?h4(t,e,n):(yn(Dn,Dn.current&1),t=qa(t,e,n),t!==null?t.sibling:null);yn(Dn,Dn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return d4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(Dn,Dn.current),r)break;return null;case 22:case 23:return e.lanes=0,l4(t,e,n)}return qa(t,e,n)}var f4,Q1,p4,m4;f4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Q1=function(){};p4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hl(oa.current);var s=null;switch(n){case"input":i=v1(t,i),r=v1(t,r),s=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),s=[];break;case"textarea":i=w1(t,i),r=w1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vp)}A1(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&An("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};m4=function(t,e,n,r){n!==r&&(e.flags|=4)};function uh(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qI(t,e,n){var r=e.pendingProps;switch(u2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(e),null;case 1:return Ai(e.type)&&yp(),zr(e),null;case 3:return r=e.stateNode,fc(),Sn(bi),Sn(Xr),y2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(r0(Is),Is=null))),Q1(t,e),zr(e),null;case 5:v2(e);var i=Hl(Zh.current);if(n=e.type,t!==null&&e.stateNode!=null)p4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return zr(e),null}if(t=Hl(oa.current),gf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ra]=e,r[Yh]=s,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<vh.length;i++)An(vh[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":Ty(r,s),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},An("invalid",r);break;case"textarea":Cy(r,s),An("invalid",r)}A1(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&mf(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&mf(r.textContent,o,t),i=["children",""+o]):Bh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&An("scroll",r)}switch(n){case"input":of(r),Py(r,s,!0);break;case"textarea":of(r),Ly(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ra]=e,t[Yh]=r,f4(t,e,!1,!1),e.stateNode=t;e:{switch(a=x1(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<vh.length;i++)An(vh[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":Ty(t,r),i=v1(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),An("invalid",t);break;case"textarea":Cy(t,r),i=w1(t,r),An("invalid",t);break;default:i=r}A1(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Hb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$b(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zh(t,l):typeof l=="number"&&zh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&An("scroll",t):l!=null&&K0(t,s,l,a))}switch(n){case"input":of(t),Py(t,r,!1);break;case"textarea":of(t),Ly(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zr(e),null;case 6:if(t&&e.stateNode!=null)m4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(n=Hl(Zh.current),Hl(oa.current),gf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ra]=e,(s=r.nodeValue!==n)&&(t=Wi,t!==null))switch(t.tag){case 3:mf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ra]=e,e.stateNode=r}return zr(e),null;case 13:if(Sn(Dn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pn&&zi!==null&&e.mode&1&&!(e.flags&128))RA(),hc(),e.flags|=98560,s=!1;else if(s=gf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[ra]=e}else hc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zr(e),s=!1}else Is!==null&&(r0(Is),Is=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dn.current&1?pr===0&&(pr=3):P2())),e.updateQueue!==null&&(e.flags|=4),zr(e),null);case 4:return fc(),Q1(t,e),t===null&&Qh(e.stateNode.containerInfo),zr(e),null;case 10:return f2(e.type._context),zr(e),null;case 17:return Ai(e.type)&&yp(),zr(e),null;case 19:if(Sn(Dn),s=e.memoizedState,s===null)return zr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)uh(s,!1);else{if(pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sp(t),a!==null){for(e.flags|=128,uh(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(Dn,Dn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xn()>mc&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Pn)return zr(e),null}else 2*Xn()-s.renderingStartTime>mc&&n!==1073741824&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xn(),e.sibling=null,n=Dn.current,yn(Dn,r?n&1|2:n&1),e):(zr(e),null);case 22:case 23:return T2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bi&1073741824&&(zr(e),e.subtreeFlags&6&&(e.flags|=8192)):zr(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function $I(t,e){switch(u2(e),e.tag){case 1:return Ai(e.type)&&yp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fc(),Sn(bi),Sn(Xr),y2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v2(e),null;case 13:if(Sn(Dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));hc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Dn),null;case 4:return fc(),null;case 10:return f2(e.type._context),null;case 22:case 23:return T2(),null;case 24:return null;default:return null}}var _f=!1,Qr=!1,WI=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function $u(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$n(t,e,r)}else n.current=null}function J1(t,e,n){try{n()}catch(r){$n(t,e,r)}}var b5=!1;function HI(t,e){if(R1=pp,t=wA(),o2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,m=t,_=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)_=m,m=p;for(;;){if(m===t)break t;if(_===n&&++u===i&&(o=a),_===s&&++d===r&&(l=a),(p=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(j1={focusedElem:t,selectionRange:n},pp=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var S=P.memoizedProps,L=P.memoizedState,b=e.stateNode,I=b.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ss(e.type,S),L);b.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(B){$n(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return P=b5,b5=!1,P}function Ph(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&J1(e,n,s)}i=i.next}while(i!==r)}}function um(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Y1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g4(t){var e=t.alternate;e!==null&&(t.alternate=null,g4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ra],delete e[Yh],delete e[M1],delete e[kI],delete e[TI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v4(t){return t.tag===5||t.tag===3||t.tag===4}function A5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function X1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vp));else if(r!==4&&(t=t.child,t!==null))for(X1(t,e,n),t=t.sibling;t!==null;)X1(t,e,n),t=t.sibling}function Z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Z1(t,e,n),t=t.sibling;t!==null;)Z1(t,e,n),t=t.sibling}var Tr=null,Ns=!1;function Eo(t,e,n){for(n=n.child;n!==null;)y4(t,e,n),n=n.sibling}function y4(t,e,n){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(tm,n)}catch{}switch(n.tag){case 5:Qr||$u(n,e);case 6:var r=Tr,i=Ns;Tr=null,Eo(t,e,n),Tr=r,Ns=i,Tr!==null&&(Ns?(t=Tr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tr.removeChild(n.stateNode));break;case 18:Tr!==null&&(Ns?(t=Tr,n=n.stateNode,t.nodeType===8?wg(t.parentNode,n):t.nodeType===1&&wg(t,n),Hh(t)):wg(Tr,n.stateNode));break;case 4:r=Tr,i=Ns,Tr=n.stateNode.containerInfo,Ns=!0,Eo(t,e,n),Tr=r,Ns=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&J1(n,e,a),i=i.next}while(i!==r)}Eo(t,e,n);break;case 1:if(!Qr&&($u(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){$n(n,e,o)}Eo(t,e,n);break;case 21:Eo(t,e,n);break;case 22:n.mode&1?(Qr=(r=Qr)||n.memoizedState!==null,Eo(t,e,n),Qr=r):Eo(t,e,n);break;default:Eo(t,e,n)}}function x5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WI),e.forEach(function(r){var i=tk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Tr=o.stateNode,Ns=!1;break e;case 3:Tr=o.stateNode.containerInfo,Ns=!0;break e;case 4:Tr=o.stateNode.containerInfo,Ns=!0;break e}o=o.return}if(Tr===null)throw Error(Me(160));y4(s,a,i),Tr=null,Ns=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$n(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_4(e,t),e=e.sibling}function _4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bs(e,t),Zs(t),r&4){try{Ph(3,t,t.return),um(3,t)}catch(S){$n(t,t.return,S)}try{Ph(5,t,t.return)}catch(S){$n(t,t.return,S)}}break;case 1:bs(e,t),Zs(t),r&512&&n!==null&&$u(n,n.return);break;case 5:if(bs(e,t),Zs(t),r&512&&n!==null&&$u(n,n.return),t.flags&32){var i=t.stateNode;try{zh(i,"")}catch(S){$n(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Bb(i,s),x1(o,a);var u=x1(o,s);for(a=0;a<l.length;a+=2){var d=l[a],m=l[a+1];d==="style"?Hb(i,m):d==="dangerouslySetInnerHTML"?$b(i,m):d==="children"?zh(i,m):K0(i,d,m,u)}switch(o){case"input":y1(i,s);break;case"textarea":zb(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Qu(i,!!s.multiple,p,!1):_!==!!s.multiple&&(s.defaultValue!=null?Qu(i,!!s.multiple,s.defaultValue,!0):Qu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yh]=s}catch(S){$n(t,t.return,S)}}break;case 6:if(bs(e,t),Zs(t),r&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){$n(t,t.return,S)}}break;case 3:if(bs(e,t),Zs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hh(e.containerInfo)}catch(S){$n(t,t.return,S)}break;case 4:bs(e,t),Zs(t);break;case 13:bs(e,t),Zs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(I2=Xn())),r&4&&x5(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Qr=(u=Qr)||d,bs(e,t),Qr=u):bs(e,t),Zs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Qe=t,d=t.child;d!==null;){for(m=Qe=d;Qe!==null;){switch(_=Qe,p=_.child,_.tag){case 0:case 11:case 14:case 15:Ph(4,_,_.return);break;case 1:$u(_,_.return);var P=_.stateNode;if(typeof P.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(S){$n(r,n,S)}}break;case 5:$u(_,_.return);break;case 22:if(_.memoizedState!==null){S5(m);continue}}p!==null?(p.return=_,Qe=p):S5(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Wb("display",a))}catch(S){$n(t,t.return,S)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(S){$n(t,t.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bs(e,t),Zs(t),r&4&&x5(t);break;case 21:break;default:bs(e,t),Zs(t)}}function Zs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(v4(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zh(i,""),r.flags&=-33);var s=A5(t);Z1(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=A5(t);X1(t,o,a);break;default:throw Error(Me(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GI(t,e,n){Qe=t,w4(t)}function w4(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||_f;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Qr;o=_f;var u=Qr;if(_f=a,(Qr=l)&&!u)for(Qe=i;Qe!==null;)a=Qe,l=a.child,a.tag===22&&a.memoizedState!==null?N5(i):l!==null?(l.return=a,Qe=l):N5(i);for(;s!==null;)Qe=s,w4(s),s=s.sibling;Qe=i,_f=o,Qr=u}E5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):E5(t)}}function E5(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ss(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&l5(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l5(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Hh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Qr||e.flags&512&&Y1(e)}catch(_){$n(e,e.return,_)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function S5(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function N5(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{um(4,e)}catch(l){$n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$n(e,i,l)}}var s=e.return;try{Y1(e)}catch(l){$n(e,s,l)}break;case 5:var a=e.return;try{Y1(e)}catch(l){$n(e,a,l)}}}catch(l){$n(e,e.return,l)}if(e===t){Qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Qe=o;break}Qe=e.return}}var KI=Math.ceil,kp=Qa.ReactCurrentDispatcher,S2=Qa.ReactCurrentOwner,as=Qa.ReactCurrentBatchConfig,Kt=0,Ar=null,ar=null,Lr=0,Bi=0,Wu=dl(0),pr=0,rd=null,tu=0,cm=0,N2=0,Ch=null,gi=null,I2=0,mc=1/0,Ca=null,Tp=!1,e0=null,Ho=null,wf=!1,Mo=null,Pp=0,Lh=0,t0=null,Wf=-1,Hf=0;function oi(){return Kt&6?Xn():Wf!==-1?Wf:Wf=Xn()}function Go(t){return t.mode&1?Kt&2&&Lr!==0?Lr&-Lr:CI.transition!==null?(Hf===0&&(Hf=iA()),Hf):(t=ln,t!==0||(t=window.event,t=t===void 0?16:hA(t.type)),t):1}function Ps(t,e,n,r){if(50<Lh)throw Lh=0,t0=null,Error(Me(185));bd(t,n,r),(!(Kt&2)||t!==Ar)&&(t===Ar&&(!(Kt&2)&&(cm|=n),pr===4&&Co(t,Lr)),xi(t,r),n===1&&Kt===0&&!(e.mode&1)&&(mc=Xn()+500,am&&fl()))}function xi(t,e){var n=t.callbackNode;CN(t,e);var r=fp(t,t===Ar?Lr:0);if(r===0)n!==null&&Dy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dy(n),e===1)t.tag===0?PI(I5.bind(null,t)):PA(I5.bind(null,t)),NI(function(){!(Kt&6)&&fl()}),n=null;else{switch(sA(r)){case 1:n=Z0;break;case 4:n=nA;break;case 16:n=dp;break;case 536870912:n=rA;break;default:n=dp}n=k4(n,b4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b4(t,e){if(Wf=-1,Hf=0,Kt&6)throw Error(Me(327));var n=t.callbackNode;if(ec()&&t.callbackNode!==n)return null;var r=fp(t,t===Ar?Lr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cp(t,r);else{e=r;var i=Kt;Kt|=2;var s=x4();(Ar!==t||Lr!==e)&&(Ca=null,mc=Xn()+500,Kl(t,e));do try{YI();break}catch(o){A4(t,o)}while(!0);d2(),kp.current=s,Kt=i,ar!==null?e=0:(Ar=null,Lr=0,e=pr)}if(e!==0){if(e===2&&(i=k1(t),i!==0&&(r=i,e=n0(t,i))),e===1)throw n=rd,Kl(t,0),Co(t,r),xi(t,Xn()),n;if(e===6)Co(t,r);else{if(i=t.current.alternate,!(r&30)&&!QI(i)&&(e=Cp(t,r),e===2&&(s=k1(t),s!==0&&(r=s,e=n0(t,s))),e===1))throw n=rd,Kl(t,0),Co(t,r),xi(t,Xn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:Ul(t,gi,Ca);break;case 3:if(Co(t,r),(r&130023424)===r&&(e=I2+500-Xn(),10<e)){if(fp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=O1(Ul.bind(null,t,gi,Ca),e);break}Ul(t,gi,Ca);break;case 4:if(Co(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ts(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KI(r/1960))-r,10<r){t.timeoutHandle=O1(Ul.bind(null,t,gi,Ca),r);break}Ul(t,gi,Ca);break;case 5:Ul(t,gi,Ca);break;default:throw Error(Me(329))}}}return xi(t,Xn()),t.callbackNode===n?b4.bind(null,t):null}function n0(t,e){var n=Ch;return t.current.memoizedState.isDehydrated&&(Kl(t,e).flags|=256),t=Cp(t,e),t!==2&&(e=gi,gi=n,e!==null&&r0(e)),t}function r0(t){gi===null?gi=t:gi.push.apply(gi,t)}function QI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Co(t,e){for(e&=~N2,e&=~cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ts(e),r=1<<n;t[n]=-1,e&=~r}}function I5(t){if(Kt&6)throw Error(Me(327));ec();var e=fp(t,0);if(!(e&1))return xi(t,Xn()),null;var n=Cp(t,e);if(t.tag!==0&&n===2){var r=k1(t);r!==0&&(e=r,n=n0(t,r))}if(n===1)throw n=rd,Kl(t,0),Co(t,e),xi(t,Xn()),n;if(n===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ul(t,gi,Ca),xi(t,Xn()),null}function k2(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(mc=Xn()+500,am&&fl())}}function nu(t){Mo!==null&&Mo.tag===0&&!(Kt&6)&&ec();var e=Kt;Kt|=1;var n=as.transition,r=ln;try{if(as.transition=null,ln=1,t)return t()}finally{ln=r,as.transition=n,Kt=e,!(Kt&6)&&fl()}}function T2(){Bi=Wu.current,Sn(Wu)}function Kl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SI(n)),ar!==null)for(n=ar.return;n!==null;){var r=n;switch(u2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yp();break;case 3:fc(),Sn(bi),Sn(Xr),y2();break;case 5:v2(r);break;case 4:fc();break;case 13:Sn(Dn);break;case 19:Sn(Dn);break;case 10:f2(r.type._context);break;case 22:case 23:T2()}n=n.return}if(Ar=t,ar=t=Ko(t.current,null),Lr=Bi=e,pr=0,rd=null,N2=cm=tu=0,gi=Ch=null,Wl!==null){for(e=0;e<Wl.length;e++)if(n=Wl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Wl=null}return t}function A4(t,e){do{var n=ar;try{if(d2(),zf.current=Ip,Np){for(var r=On.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Np=!1}if(eu=0,wr=fr=On=null,Th=!1,ed=0,S2.current=null,n===null||n.return===null){pr=1,rd=e,ar=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Lr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var _=d.alternate;_?(d.updateQueue=_.updateQueue,d.memoizedState=_.memoizedState,d.lanes=_.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=p5(a);if(p!==null){p.flags&=-257,m5(p,a,o,s,e),p.mode&1&&f5(s,u,e),e=p,l=u;var P=e.updateQueue;if(P===null){var S=new Set;S.add(l),e.updateQueue=S}else P.add(l);break e}else{if(!(e&1)){f5(s,u,e),P2();break e}l=Error(Me(426))}}else if(Pn&&o.mode&1){var L=p5(a);if(L!==null){!(L.flags&65536)&&(L.flags|=256),m5(L,a,o,s,e),c2(pc(l,o));break e}}s=l=pc(l,o),pr!==4&&(pr=2),Ch===null?Ch=[s]:Ch.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=s4(s,l,e);o5(s,b);break e;case 1:o=l;var I=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ho===null||!Ho.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=a4(s,o,e);o5(s,B);break e}}s=s.return}while(s!==null)}S4(n)}catch(ee){e=ee,ar===n&&n!==null&&(ar=n=n.return);continue}break}while(!0)}function x4(){var t=kp.current;return kp.current=Ip,t===null?Ip:t}function P2(){(pr===0||pr===3||pr===2)&&(pr=4),Ar===null||!(tu&268435455)&&!(cm&268435455)||Co(Ar,Lr)}function Cp(t,e){var n=Kt;Kt|=2;var r=x4();(Ar!==t||Lr!==e)&&(Ca=null,Kl(t,e));do try{JI();break}catch(i){A4(t,i)}while(!0);if(d2(),Kt=n,kp.current=r,ar!==null)throw Error(Me(261));return Ar=null,Lr=0,pr}function JI(){for(;ar!==null;)E4(ar)}function YI(){for(;ar!==null&&!AN();)E4(ar)}function E4(t){var e=I4(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,e===null?S4(t):ar=e,S2.current=null}function S4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$I(n,e),n!==null){n.flags&=32767,ar=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pr=6,ar=null;return}}else if(n=qI(n,e,Bi),n!==null){ar=n;return}if(e=e.sibling,e!==null){ar=e;return}ar=e=t}while(e!==null);pr===0&&(pr=5)}function Ul(t,e,n){var r=ln,i=as.transition;try{as.transition=null,ln=1,XI(t,e,n,r)}finally{as.transition=i,ln=r}return null}function XI(t,e,n,r){do ec();while(Mo!==null);if(Kt&6)throw Error(Me(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(LN(t,s),t===Ar&&(ar=Ar=null,Lr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wf||(wf=!0,k4(dp,function(){return ec(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=as.transition,as.transition=null;var a=ln;ln=1;var o=Kt;Kt|=4,S2.current=null,HI(t,n),_4(n,t),yI(j1),pp=!!R1,j1=R1=null,t.current=n,GI(n),xN(),Kt=o,ln=a,as.transition=s}else t.current=n;if(wf&&(wf=!1,Mo=t,Pp=i),s=t.pendingLanes,s===0&&(Ho=null),NN(n.stateNode),xi(t,Xn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tp)throw Tp=!1,t=e0,e0=null,t;return Pp&1&&t.tag!==0&&ec(),s=t.pendingLanes,s&1?t===t0?Lh++:(Lh=0,t0=t):Lh=0,fl(),null}function ec(){if(Mo!==null){var t=sA(Pp),e=as.transition,n=ln;try{if(as.transition=null,ln=16>t?16:t,Mo===null)var r=!1;else{if(t=Mo,Mo=null,Pp=0,Kt&6)throw Error(Me(331));var i=Kt;for(Kt|=4,Qe=t.current;Qe!==null;){var s=Qe,a=s.child;if(Qe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Qe=u;Qe!==null;){var d=Qe;switch(d.tag){case 0:case 11:case 15:Ph(8,d,s)}var m=d.child;if(m!==null)m.return=d,Qe=m;else for(;Qe!==null;){d=Qe;var _=d.sibling,p=d.return;if(g4(d),d===u){Qe=null;break}if(_!==null){_.return=p,Qe=_;break}Qe=p}}}var P=s.alternate;if(P!==null){var S=P.child;if(S!==null){P.child=null;do{var L=S.sibling;S.sibling=null,S=L}while(S!==null)}}Qe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Qe=a;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ph(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Qe=b;break e}Qe=s.return}}var I=t.current;for(Qe=I;Qe!==null;){a=Qe;var R=a.child;if(a.subtreeFlags&2064&&R!==null)R.return=a,Qe=R;else e:for(a=I;Qe!==null;){if(o=Qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:um(9,o)}}catch(ee){$n(o,o.return,ee)}if(o===a){Qe=null;break e}var B=o.sibling;if(B!==null){B.return=o.return,Qe=B;break e}Qe=o.return}}if(Kt=i,fl(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(tm,t)}catch{}r=!0}return r}finally{ln=n,as.transition=e}}return!1}function k5(t,e,n){e=pc(n,e),e=s4(t,e,1),t=Wo(t,e,1),e=oi(),t!==null&&(bd(t,1,e),xi(t,e))}function $n(t,e,n){if(t.tag===3)k5(t,t,n);else for(;e!==null;){if(e.tag===3){k5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ho===null||!Ho.has(r))){t=pc(n,t),t=a4(e,t,1),e=Wo(e,t,1),t=oi(),e!==null&&(bd(e,1,t),xi(e,t));break}}e=e.return}}function ZI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&n,Ar===t&&(Lr&n)===n&&(pr===4||pr===3&&(Lr&130023424)===Lr&&500>Xn()-I2?Kl(t,0):N2|=n),xi(t,e)}function N4(t,e){e===0&&(t.mode&1?(e=cf,cf<<=1,!(cf&130023424)&&(cf=4194304)):e=1);var n=oi();t=za(t,e),t!==null&&(bd(t,e,n),xi(t,n))}function ek(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N4(t,n)}function tk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),N4(t,n)}var I4;I4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bi.current)_i=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _i=!1,zI(t,e,n);_i=!!(t.flags&131072)}else _i=!1,Pn&&e.flags&1048576&&CA(e,bp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$f(t,e),t=e.pendingProps;var i=cc(e,Xr.current);Zu(e,n),i=w2(null,e,r,t,i,n);var s=b2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ai(r)?(s=!0,_p(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,m2(e),i.updater=lm,e.stateNode=i,i._reactInternals=e,q1(e,r,t,n),e=H1(null,e,r,!0,s,n)):(e.tag=0,Pn&&s&&l2(e),ai(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($f(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rk(r),t=Ss(r,t),i){case 0:e=W1(null,e,r,t,n);break e;case 1:e=y5(null,e,r,t,n);break e;case 11:e=g5(null,e,r,t,n);break e;case 14:e=v5(null,e,r,Ss(r.type,t),n);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),W1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),y5(t,e,r,i,n);case 3:e:{if(c4(e),t===null)throw Error(Me(387));r=e.pendingProps,s=e.memoizedState,i=s.element,MA(t,e),Ep(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pc(Error(Me(423)),e),e=_5(t,e,r,n,i);break e}else if(r!==i){i=pc(Error(Me(424)),e),e=_5(t,e,r,n,i);break e}else for(zi=$o(e.stateNode.containerInfo.firstChild),Wi=e,Pn=!0,Is=null,n=DA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hc(),r===i){e=qa(t,e,n);break e}ai(t,e,r,n)}e=e.child}return e;case 5:return FA(e),t===null&&U1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,D1(r,i)?a=null:s!==null&&D1(r,s)&&(e.flags|=32),u4(t,e),ai(t,e,a,n),e.child;case 6:return t===null&&U1(e),null;case 13:return h4(t,e,n);case 4:return g2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dc(e,null,r,n):ai(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),g5(t,e,r,i,n);case 7:return ai(t,e,e.pendingProps,n),e.child;case 8:return ai(t,e,e.pendingProps.children,n),e.child;case 12:return ai(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,yn(Ap,r._currentValue),r._currentValue=a,s!==null)if(Cs(s.value,a)){if(s.children===i.children&&!bi.current){e=qa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Va(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),B1(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Me(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),B1(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ai(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zu(e,n),i=us(i),r=r(i),e.flags|=1,ai(t,e,r,n),e.child;case 14:return r=e.type,i=Ss(r,e.pendingProps),i=Ss(r.type,i),v5(t,e,r,i,n);case 15:return o4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ss(r,i),$f(t,e),e.tag=1,Ai(r)?(t=!0,_p(e)):t=!1,Zu(e,n),i4(e,r,i),q1(e,r,i,n),H1(null,e,r,!0,t,n);case 19:return d4(t,e,n);case 22:return l4(t,e,n)}throw Error(Me(156,e.tag))};function k4(t,e){return tA(t,e)}function nk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,e,n,r){return new nk(t,e,n,r)}function C2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rk(t){if(typeof t=="function")return C2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J0)return 11;if(t===Y0)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gf(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")C2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Du:return Ql(n.children,i,s,e);case Q0:a=8,i|=8;break;case f1:return t=ss(12,n,e,i|2),t.elementType=f1,t.lanes=s,t;case p1:return t=ss(13,n,e,i),t.elementType=p1,t.lanes=s,t;case m1:return t=ss(19,n,e,i),t.elementType=m1,t.lanes=s,t;case Fb:return hm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ob:a=10;break e;case Mb:a=9;break e;case J0:a=11;break e;case Y0:a=14;break e;case ko:a=16,r=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=ss(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ql(t,e,n,r){return t=ss(7,t,r,e),t.lanes=n,t}function hm(t,e,n,r){return t=ss(22,t,r,e),t.elementType=Fb,t.lanes=n,t.stateNode={isHidden:!1},t}function kg(t,e,n){return t=ss(6,t,null,e),t.lanes=n,t}function Tg(t,e,n){return e=ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ik(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L2(t,e,n,r,i,s,a,o,l){return t=new ik(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ss(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},m2(s),t}function sk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ju,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T4(t){if(!t)return rl;t=t._reactInternals;e:{if(du(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ai(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var n=t.type;if(Ai(n))return TA(t,n,e)}return e}function P4(t,e,n,r,i,s,a,o,l){return t=L2(n,r,!0,t,i,s,a,o,l),t.context=T4(null),n=t.current,r=oi(),i=Go(n),s=Va(r,i),s.callback=e??null,Wo(n,s,i),t.current.lanes=i,bd(t,i,r),xi(t,r),t}function dm(t,e,n,r){var i=e.current,s=oi(),a=Go(i);return n=T4(n),e.context===null?e.context=n:e.pendingContext=n,e=Va(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wo(i,e,a),t!==null&&(Ps(t,i,a,s),Bf(t,i,a)),a}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function R2(t,e){T5(t,e),(t=t.alternate)&&T5(t,e)}function ak(){return null}var C4=typeof reportError=="function"?reportError:function(t){console.error(t)};function j2(t){this._internalRoot=t}fm.prototype.render=j2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));dm(t,e,null,null)};fm.prototype.unmount=j2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nu(function(){dm(null,t,null,null)}),e[Ba]=null}};function fm(t){this._internalRoot=t}fm.prototype.unstable_scheduleHydration=function(t){if(t){var e=lA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Po.length&&e!==0&&e<Po[n].priority;n++);Po.splice(n,0,t),n===0&&cA(t)}};function D2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function P5(){}function ok(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Lp(a);s.call(u)}}var a=P4(e,r,t,0,null,!1,!1,"",P5);return t._reactRootContainer=a,t[Ba]=a.current,Qh(t.nodeType===8?t.parentNode:t),nu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Lp(l);o.call(u)}}var l=L2(t,0,!1,null,null,!1,!1,"",P5);return t._reactRootContainer=l,t[Ba]=l.current,Qh(t.nodeType===8?t.parentNode:t),nu(function(){dm(e,l,n,r)}),l}function mm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Lp(a);o.call(l)}}dm(e,a,t,i)}else a=ok(n,e,t,i,r);return Lp(a)}aA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gh(e.pendingLanes);n!==0&&(e2(e,n|1),xi(e,Xn()),!(Kt&6)&&(mc=Xn()+500,fl()))}break;case 13:nu(function(){var r=za(t,1);if(r!==null){var i=oi();Ps(r,t,1,i)}}),R2(t,1)}};t2=function(t){if(t.tag===13){var e=za(t,134217728);if(e!==null){var n=oi();Ps(e,t,134217728,n)}R2(t,134217728)}};oA=function(t){if(t.tag===13){var e=Go(t),n=za(t,e);if(n!==null){var r=oi();Ps(n,t,e,r)}R2(t,e)}};lA=function(){return ln};uA=function(t,e){var n=ln;try{return ln=t,e()}finally{ln=n}};S1=function(t,e,n){switch(e){case"input":if(y1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sm(r);if(!i)throw Error(Me(90));Ub(r),y1(r,i)}}}break;case"textarea":zb(t,n);break;case"select":e=n.value,e!=null&&Qu(t,!!n.multiple,e,!1)}};Qb=k2;Jb=nu;var lk={usingClientEntryPoint:!1,Events:[xd,Vu,sm,Gb,Kb,k2]},ch={findFiberByHostInstance:$l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uk={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zb(t),t===null?null:t.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{tm=bf.inject(uk),aa=bf}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;Gi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D2(e))throw Error(Me(200));return sk(t,e,null,n)};Gi.createRoot=function(t,e){if(!D2(t))throw Error(Me(299));var n=!1,r="",i=C4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L2(t,1,!1,null,null,n,!1,r,i),t[Ba]=e.current,Qh(t.nodeType===8?t.parentNode:t),new j2(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=Zb(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return nu(t)};Gi.hydrate=function(t,e,n){if(!pm(e))throw Error(Me(200));return mm(null,t,e,!0,n)};Gi.hydrateRoot=function(t,e,n){if(!D2(t))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=C4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=P4(e,null,t,1,n??null,i,!1,s,a),t[Ba]=e.current,Qh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fm(e)};Gi.render=function(t,e,n){if(!pm(e))throw Error(Me(200));return mm(null,t,e,!1,n)};Gi.unmountComponentAtNode=function(t){if(!pm(t))throw Error(Me(40));return t._reactRootContainer?(nu(function(){mm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ba]=null})}),!0):!1};Gi.unstable_batchedUpdates=k2;Gi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pm(n))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return mm(t,e,n,!1,r)};Gi.version="18.3.1-next-f1338f8080-20240426";function L4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L4)}catch(t){console.error(t)}}L4(),Lb.exports=Gi;var ck=Lb.exports,C5=ck;h1.createRoot=C5.createRoot,h1.hydrateRoot=C5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}var Fo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fo||(Fo={}));const L5="popstate";function hk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return i0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rp(i)}return fk(e,n,null,t)}function nr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dk(){return Math.random().toString(36).substr(2,8)}function R5(t,e){return{usr:t.state,key:t.key,idx:e}}function i0(t,e,n,r){return n===void 0&&(n=null),id({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ic(e):e,{state:n,key:e&&e.key||r||dk()})}function Rp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Fo.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(id({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function m(){o=Fo.Pop;let L=d(),b=L==null?null:L-u;u=L,l&&l({action:o,location:S.location,delta:b})}function _(L,b){o=Fo.Push;let I=i0(S.location,L,b);u=d()+1;let R=R5(I,u),B=S.createHref(I);try{a.pushState(R,"",B)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(B)}s&&l&&l({action:o,location:S.location,delta:1})}function p(L,b){o=Fo.Replace;let I=i0(S.location,L,b);u=d();let R=R5(I,u),B=S.createHref(I);a.replaceState(R,"",B),s&&l&&l({action:o,location:S.location,delta:0})}function P(L){let b=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof L=="string"?L:Rp(L);return I=I.replace(/ $/,"%20"),nr(b,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,b)}let S={get action(){return o},get location(){return t(i,a)},listen(L){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(L5,m),l=L,()=>{i.removeEventListener(L5,m),l=null}},createHref(L){return e(i,L)},createURL:P,encodeLocation(L){let b=P(L);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:p,go(L){return a.go(L)}};return S}var j5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(j5||(j5={}));function pk(t,e,n){return n===void 0&&(n="/"),mk(t,e,n)}function mk(t,e,n,r){let i=typeof e=="string"?Ic(e):e,s=O2(i.pathname||"/",n);if(s==null)return null;let a=j4(t);gk(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=kk(s);o=Sk(a[l],u)}return o}function j4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(nr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qo([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(nr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),j4(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:xk(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of D4(s.path))i(s,a,l)}),e}function D4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=D4(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function gk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ek(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vk=/^:[\w-]+$/,yk=3,_k=2,wk=1,bk=10,Ak=-2,D5=t=>t==="*";function xk(t,e){let n=t.split("/"),r=n.length;return n.some(D5)&&(r+=Ak),e&&(r+=_k),n.filter(i=>!D5(i)).reduce((i,s)=>i+(vk.test(s)?yk:s===""?wk:bk),r)}function Ek(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Sk(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=Nk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),_=l.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Qo([s,m.pathname]),pathnameBase:Lk(Qo([s,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(s=Qo([s,m.pathnameBase]))}return a}function Nk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ik(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,m)=>{let{paramName:_,isOptional:p}=d;if(_==="*"){let S=o[m]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const P=o[m];return p&&!P?u[_]=void 0:u[_]=(P||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Ik(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Tk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ic(t):t;return{pathname:n?n.startsWith("/")?n:Pk(n,e):e,search:Rk(r),hash:jk(i)}}function Pk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ck(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M2(t,e){let n=Ck(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ic(t):(i=id({},t),nr(!i.pathname||!i.pathname.includes("?"),Pg("?","pathname","search",i)),nr(!i.pathname||!i.pathname.includes("#"),Pg("#","pathname","hash",i)),nr(!i.search||!i.search.includes("#"),Pg("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),m-=1;i.pathname=_.join("/")}o=m>=0?e[m]:"/"}let l=Tk(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),Lk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O4=["post","put","patch","delete"];new Set(O4);const Ok=["get",...O4];new Set(Ok);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}const V2=le.createContext(null),Mk=le.createContext(null),pl=le.createContext(null),gm=le.createContext(null),Ja=le.createContext({outlet:null,matches:[],isDataRoute:!1}),M4=le.createContext(null);function Fk(t,e){let{relative:n}=e===void 0?{}:e;kc()||nr(!1);let{basename:r,navigator:i}=le.useContext(pl),{hash:s,pathname:a,search:o}=V4(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Qo([r,a])),i.createHref({pathname:l,search:o,hash:s})}function kc(){return le.useContext(gm)!=null}function fu(){return kc()||nr(!1),le.useContext(gm).location}function F4(t){le.useContext(pl).static||le.useLayoutEffect(t)}function Sd(){let{isDataRoute:t}=le.useContext(Ja);return t?Yk():Vk()}function Vk(){kc()||nr(!1);let t=le.useContext(V2),{basename:e,future:n,navigator:r}=le.useContext(pl),{matches:i}=le.useContext(Ja),{pathname:s}=fu(),a=JSON.stringify(M2(i,n.v7_relativeSplatPath)),o=le.useRef(!1);return F4(()=>{o.current=!0}),le.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let m=F2(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Qo([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,a,s,t])}function U2(){let{matches:t}=le.useContext(Ja),e=t[t.length-1];return e?e.params:{}}function V4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=le.useContext(pl),{matches:i}=le.useContext(Ja),{pathname:s}=fu(),a=JSON.stringify(M2(i,r.v7_relativeSplatPath));return le.useMemo(()=>F2(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Uk(t,e){return Bk(t,e)}function Bk(t,e,n,r){kc()||nr(!1);let{navigator:i}=le.useContext(pl),{matches:s}=le.useContext(Ja),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=fu(),d;if(e){var m;let L=typeof e=="string"?Ic(e):e;l==="/"||(m=L.pathname)!=null&&m.startsWith(l)||nr(!1),d=L}else d=u;let _=d.pathname||"/",p=_;if(l!=="/"){let L=l.replace(/^\//,"").split("/");p="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let P=pk(t,{pathname:p}),S=Hk(P&&P.map(L=>Object.assign({},L,{params:Object.assign({},o,L.params),pathname:Qo([l,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?l:Qo([l,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,r);return e&&S?le.createElement(gm.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fo.Pop}},S):S}function zk(){let t=Jk(),e=Dk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),n?le.createElement("pre",{style:i},n):null,null)}const qk=le.createElement(zk,null);class $k extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?le.createElement(Ja.Provider,{value:this.props.routeContext},le.createElement(M4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wk(t){let{routeContext:e,match:n,children:r}=t,i=le.useContext(V2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),le.createElement(Ja.Provider,{value:e},r)}function Hk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);d>=0||nr(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:_,errors:p}=n,P=m.route.loader&&_[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||P){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,m,_)=>{let p,P=!1,S=null,L=null;n&&(p=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||qk,l&&(u<0&&_===0?(Xk("route-fallback"),P=!0,L=null):u===_&&(P=!0,L=m.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,_+1)),I=()=>{let R;return p?R=S:P?R=L:m.route.Component?R=le.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,le.createElement(Wk,{match:m,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?le.createElement($k,{location:n.location,revalidation:n.revalidation,component:S,error:p,children:I(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):I()},null)}var U4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U4||{}),B4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(B4||{});function Gk(t){let e=le.useContext(V2);return e||nr(!1),e}function Kk(t){let e=le.useContext(Mk);return e||nr(!1),e}function Qk(t){let e=le.useContext(Ja);return e||nr(!1),e}function z4(t){let e=Qk(),n=e.matches[e.matches.length-1];return n.route.id||nr(!1),n.route.id}function Jk(){var t;let e=le.useContext(M4),n=Kk(),r=z4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Yk(){let{router:t}=Gk(U4.UseNavigateStable),e=z4(B4.UseNavigateStable),n=le.useRef(!1);return F4(()=>{n.current=!0}),le.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sd({fromRouteId:e},s)))},[t,e])}const O5={};function Xk(t,e,n){O5[t]||(O5[t]=!0)}function Zk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function eT(t){let{to:e,replace:n,state:r,relative:i}=t;kc()||nr(!1);let{future:s,static:a}=le.useContext(pl),{matches:o}=le.useContext(Ja),{pathname:l}=fu(),u=Sd(),d=F2(e,M2(o,s.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(d);return le.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function Es(t){nr(!1)}function tT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fo.Pop,navigator:s,static:a=!1,future:o}=t;kc()&&nr(!1);let l=e.replace(/^\/*/,"/"),u=le.useMemo(()=>({basename:l,navigator:s,static:a,future:sd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Ic(r));let{pathname:d="/",search:m="",hash:_="",state:p=null,key:P="default"}=r,S=le.useMemo(()=>{let L=O2(d,l);return L==null?null:{location:{pathname:L,search:m,hash:_,state:p,key:P},navigationType:i}},[l,d,m,_,p,P,i]);return S==null?null:le.createElement(pl.Provider,{value:u},le.createElement(gm.Provider,{children:n,value:S}))}function nT(t){let{children:e,location:n}=t;return Uk(s0(e),n)}new Promise(()=>{});function s0(t,e){e===void 0&&(e=[]);let n=[];return le.Children.forEach(t,(r,i)=>{if(!le.isValidElement(r))return;let s=[...e,i];if(r.type===le.Fragment){n.push.apply(n,s0(r.props.children,s));return}r.type!==Es&&nr(!1),!r.props.index||!r.props.children||nr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=s0(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(this,arguments)}function rT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sT(t,e){return t.button===0&&(!e||e==="_self")&&!iT(t)}const aT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oT="6";try{window.__reactRouterVersion=oT}catch{}const lT="startTransition",M5=ZS[lT];function uT(t){let{basename:e,children:n,future:r,window:i}=t,s=le.useRef();s.current==null&&(s.current=hk({window:i,v5Compat:!0}));let a=s.current,[o,l]=le.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=le.useCallback(m=>{u&&M5?M5(()=>l(m)):l(m)},[l,u]);return le.useLayoutEffect(()=>a.listen(d),[a,d]),le.useEffect(()=>Zk(r),[r]),le.createElement(tT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ia=le.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:m}=e,_=rT(e,aT),{basename:p}=le.useContext(pl),P,S=!1;if(typeof u=="string"&&hT.test(u)&&(P=u,cT))try{let R=new URL(window.location.href),B=u.startsWith("//")?new URL(R.protocol+u):new URL(u),ee=O2(B.pathname,p);B.origin===R.origin&&ee!=null?u=ee+B.search+B.hash:S=!0}catch{}let L=Fk(u,{relative:i}),b=dT(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:m});function I(R){r&&r(R),R.defaultPrevented||b(R)}return le.createElement("a",a0({},_,{href:P||L,onClick:S||s?r:I,ref:n,target:l}))});var F5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(F5||(F5={}));var V5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V5||(V5={}));function dT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Sd(),u=fu(),d=V4(t,{relative:a});return le.useCallback(m=>{if(sT(m,n)){m.preventDefault();let _=r!==void 0?r:Rp(u)===Rp(d);l(t,{replace:_,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,t,s,a,o])}var U5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let _=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(_=64)),r.push(n[d],n[m],n[_],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||m==null)throw new pT;const _=s<<2|o>>4;if(r.push(_),u!==64){const p=o<<4&240|u>>2;if(r.push(p),m!==64){const P=u<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mT=function(t){const e=q4(t);return $4.encodeByteArray(e,!0)},jp=function(t){return mT(t).replace(/\./g,"")},W4=function(t){try{return $4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=()=>gT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof U5>"u")return;const t=U5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_T=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W4(t[1]);return e&&JSON.parse(e)},vm=()=>{try{return vT()||yT()||_T()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H4=t=>{var e,n;return(n=(e=vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wT=t=>{const e=H4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G4=()=>{var t;return(t=vm())===null||t===void 0?void 0:t.config},K4=t=>{var e;return(e=vm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jp(JSON.stringify(n)),jp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}function ET(){var t;const e=(t=vm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ST(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kT(){const t=Zr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TT(){return!ET()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function CT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FirebaseError";class Ya extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LT,Object.setPrototypeOf(this,Ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nd.prototype.create)}}class Nd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?RT(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ya(i,o,r)}}function RT(t,e){return t.replace(jT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jT=/\{\$([^}]+)}/g;function DT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(B5(s)&&B5(a)){if(!Dp(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _h(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OT(t,e){const n=new MT(t,e);return n.subscribe.bind(n)}class MT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cg),i.error===void 0&&(i.error=Cg),i.complete===void 0&&(i.complete=Cg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t){return t&&t._delegate?t._delegate:t}class ru{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BT(e))try{this.getOrInitializeService({instanceIdentifier:Bl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bl){return this.instances.has(e)}getOptions(e=Bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bl){return this.component?this.component.multipleInstances?e:Bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UT(t){return t===Bl?void 0:t}function BT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const qT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},$T=qt.INFO,WT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},HT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B2{constructor(e){this.name=e,this._logLevel=$T,this._logHandler=HT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const GT=(t,e)=>e.some(n=>t instanceof n);let z5,q5;function KT(){return z5||(z5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return q5||(q5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q4=new WeakMap,o0=new WeakMap,J4=new WeakMap,Lg=new WeakMap,z2=new WeakMap;function JT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Jo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Q4.set(n,t)}).catch(()=>{}),z2.set(e,t),e}function YT(t){if(o0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});o0.set(t,e)}let l0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XT(t){l0=t(l0)}function ZT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rg(this),e,...n);return J4.set(r,e.sort?e.sort():[e]),Jo(r)}:QT().includes(t)?function(...e){return t.apply(Rg(this),e),Jo(Q4.get(this))}:function(...e){return Jo(t.apply(Rg(this),e))}}function eP(t){return typeof t=="function"?ZT(t):(t instanceof IDBTransaction&&YT(t),GT(t,KT())?new Proxy(t,l0):t)}function Jo(t){if(t instanceof IDBRequest)return JT(t);if(Lg.has(t))return Lg.get(t);const e=eP(t);return e!==t&&(Lg.set(t,e),z2.set(e,t)),e}const Rg=t=>z2.get(t);function tP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Jo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Jo(a.result),l.oldVersion,l.newVersion,Jo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const nP=["get","getKey","getAll","getAllKeys","count"],rP=["put","add","delete","clear"],jg=new Map;function $5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nP.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return jg.set(e,s),s}XT(t=>({...t,get:(e,n,r)=>$5(e,n)||t.get(e,n,r),has:(e,n)=>!!$5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u0="@firebase/app",W5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new B2("@firebase/app"),aP="@firebase/app-compat",oP="@firebase/analytics-compat",lP="@firebase/analytics",uP="@firebase/app-check-compat",cP="@firebase/app-check",hP="@firebase/auth",dP="@firebase/auth-compat",fP="@firebase/database",pP="@firebase/data-connect",mP="@firebase/database-compat",gP="@firebase/functions",vP="@firebase/functions-compat",yP="@firebase/installations",_P="@firebase/installations-compat",wP="@firebase/messaging",bP="@firebase/messaging-compat",AP="@firebase/performance",xP="@firebase/performance-compat",EP="@firebase/remote-config",SP="@firebase/remote-config-compat",NP="@firebase/storage",IP="@firebase/storage-compat",kP="@firebase/firestore",TP="@firebase/vertexai-preview",PP="@firebase/firestore-compat",CP="firebase",LP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="[DEFAULT]",RP={[u0]:"fire-core",[aP]:"fire-core-compat",[lP]:"fire-analytics",[oP]:"fire-analytics-compat",[cP]:"fire-app-check",[uP]:"fire-app-check-compat",[hP]:"fire-auth",[dP]:"fire-auth-compat",[fP]:"fire-rtdb",[pP]:"fire-data-connect",[mP]:"fire-rtdb-compat",[gP]:"fire-fn",[vP]:"fire-fn-compat",[yP]:"fire-iid",[_P]:"fire-iid-compat",[wP]:"fire-fcm",[bP]:"fire-fcm-compat",[AP]:"fire-perf",[xP]:"fire-perf-compat",[EP]:"fire-rc",[SP]:"fire-rc-compat",[NP]:"fire-gcs",[IP]:"fire-gcs-compat",[kP]:"fire-fst",[PP]:"fire-fst-compat",[TP]:"fire-vertex","fire-js":"fire-js",[CP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,jP=new Map,h0=new Map;function H5(t,e){try{t.container.addComponent(e)}catch(n){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gc(t){const e=t.name;if(h0.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;h0.set(e,t);for(const n of ad.values())H5(n,t);for(const n of jP.values())H5(n,t);return!0}function q2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ks(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new Nd("app","Firebase",DP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=LP;function Y4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:c0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=G4()),!n)throw Yo.create("no-options");const s=ad.get(i);if(s){if(Dp(n,s.options)&&Dp(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const a=new zT(i);for(const l of h0.values())a.addComponent(l);const o=new OP(n,r,a);return ad.set(i,o),o}function $2(t=c0){const e=ad.get(t);if(!e&&t===c0&&G4())return Y4();if(!e)throw Yo.create("no-app",{appName:t});return e}function MP(){return Array.from(ad.values())}function Xo(t,e,n){var r;let i=(r=RP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(o.join(" "));return}gc(new ru(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firebase-heartbeat-database",VP=1,od="firebase-heartbeat-store";let Dg=null;function X4(){return Dg||(Dg=tP(FP,VP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(od)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),Dg}async function UP(t){try{const n=(await X4()).transaction(od),r=await n.objectStore(od).get(Z4(t));return await n.done,r}catch(e){if(e instanceof Ya)$a.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$a.warn(n.message)}}}async function G5(t,e){try{const r=(await X4()).transaction(od,"readwrite");await r.objectStore(od).put(e,Z4(t)),await r.done}catch(n){if(n instanceof Ya)$a.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$a.warn(r.message)}}}function Z4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=1024,zP=30*24*60*60*1e3;class qP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=zP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K5(),{heartbeatsToSend:r,unsentEntries:i}=$P(this._heartbeatsCache.heartbeats),s=jp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $a.warn(n),""}}}function K5(){return new Date().toISOString().substring(0,10)}function $P(t,e=BP){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Q5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?CT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Q5(t){return jp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){gc(new ru("platform-logger",e=>new iP(e),"PRIVATE")),gc(new ru("heartbeat",e=>new qP(e),"PRIVATE")),Xo(u0,W5,t),Xo(u0,W5,"esm2017"),Xo("fire-js","")}HP("");var GP="firebase",KP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(GP,KP,"app");function W2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QP=ex,tx=new Nd("auth","Firebase",ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new B2("@firebase/auth");function JP(t,...e){Op.logLevel<=qt.WARN&&Op.warn(`Auth (${Tc}): ${t}`,...e)}function Kf(t,...e){Op.logLevel<=qt.ERROR&&Op.error(`Auth (${Tc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,...e){throw H2(t,...e)}function la(t,...e){return H2(t,...e)}function nx(t,e,n){const r=Object.assign(Object.assign({},QP()),{[e]:n});return new Nd("auth","Firebase",r).create(e,{appName:t.name})}function ua(t){return nx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tx.create(t,...e)}function wt(t,e,...n){if(!t)throw H2(e,...n)}function Oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function Wa(t,e){t||Oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YP(){return J5()==="http:"||J5()==="https:"}function J5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YP()||NT()||"connection"in navigator)?navigator.onLine:!0}function ZP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wa(n>e,"Short delay should be less than long delay!"),this.isMobile=xT()||IT()}get(){return XP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){Wa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new kd(3e4,6e4);function Xa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Za(t,e,n,r,i={}){return ix(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Id(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return ST()||(u.referrerPolicy="no-referrer"),rx.fetch()(sx(t,t.config.apiHost,n,o),u)})}async function ix(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},e6),e);try{const i=new r6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Af(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Af(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Af(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Af(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nx(t,d,u);Ls(t,d)}}catch(i){if(i instanceof Ya)throw i;Ls(t,"network-request-failed",{message:String(i)})}}async function Td(t,e,n,r,i={}){const s=await Za(t,e,n,r,i);return"mfaPendingCredential"in s&&Ls(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?G2(t.config,i):`${t.config.apiScheme}://${i}`}function n6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),t6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Af(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=la(t,e,r);return i.customData._tokenResponse=n,i}function Y5(t){return t!==void 0&&t.enterprise!==void 0}class i6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function s6(t,e){return Za(t,"GET","/v2/recaptchaConfig",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function ax(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o6(t,e=!1){const n=xr(t),r=await n.getIdToken(e),i=K2(r);wt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rh(Og(i.auth_time)),issuedAtTime:Rh(Og(i.iat)),expirationTime:Rh(Og(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Og(t){return Number(t)*1e3}function K2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=W4(n);return i?JSON.parse(i):(Kf("Failed to decode base64 JWT payload"),null)}catch(i){return Kf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X5(t){const e=K2(t);return wt(e,"internal-error"),wt(typeof e.exp<"u","internal-error"),wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ya&&l6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ld(t,ax(n,{idToken:r}));wt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ox(s.providerUserInfo):[],o=h6(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new f0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function c6(t){const e=xr(t);await Mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ox(t){return t.map(e=>{var{providerId:n}=e,r=W2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e){const n=await ix(t,{},async()=>{const r=Id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=sx(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",rx.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f6(t,e){return Za(t,"POST","/v2/accounts:revokeToken",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wt(e.idToken,"internal-error"),wt(typeof e.idToken<"u","internal-error"),wt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){wt(e.length!==0,"internal-error");const n=X5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await d6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new tc;return r&&(wt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(wt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(wt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return Oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){wt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ma{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=W2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new f0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ld(this,this.stsTokenManager.getToken(this.auth,e));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o6(this,e)}reload(){return c6(this)}_assign(e){this!==e&&(wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(ua(this.auth));const e=await this.getIdToken();return await ld(this,a6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,u,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,P=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(o=n.tenantId)!==null&&o!==void 0?o:void 0,L=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,I=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:B,isAnonymous:ee,providerData:F,stsTokenManager:V}=n;wt(R&&V,e,"internal-error");const E=tc.fromJSON(this.name,V);wt(typeof R=="string",e,"internal-error"),So(m,e.name),So(_,e.name),wt(typeof B=="boolean",e,"internal-error"),wt(typeof ee=="boolean",e,"internal-error"),So(p,e.name),So(P,e.name),So(S,e.name),So(L,e.name),So(b,e.name),So(I,e.name);const N=new Ma({uid:R,auth:e,email:_,emailVerified:B,displayName:m,isAnonymous:ee,photoURL:P,phoneNumber:p,tenantId:S,stsTokenManager:E,createdAt:b,lastLoginAt:I});return F&&Array.isArray(F)&&(N.providerData=F.map(O=>Object.assign({},O))),L&&(N._redirectEventId=L),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new tc;i.updateFromServerResponse(n);const s=new Ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];wt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ox(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new tc;o.updateFromIdToken(r);const l=new Ma({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new f0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new Map;function Fa(t){Wa(t instanceof Function,"Expected a class definition");let e=Z5.get(t);return e?(Wa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lx.type="NONE";const e_=lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){return`firebase:${t}:${e}:${n}`}class nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ma._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nc(Fa(e_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Fa(e_);const a=Qf(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){const m=Ma._fromJSON(e,d);u!==s&&(o=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new nc(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new nc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(px(e))return"Blackberry";if(mx(e))return"Webos";if(cx(e))return"Safari";if((e.includes("chrome/")||hx(e))&&!e.includes("edge/"))return"Chrome";if(fx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ux(t=Zr()){return/firefox\//i.test(t)}function cx(t=Zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hx(t=Zr()){return/crios\//i.test(t)}function dx(t=Zr()){return/iemobile/i.test(t)}function fx(t=Zr()){return/android/i.test(t)}function px(t=Zr()){return/blackberry/i.test(t)}function mx(t=Zr()){return/webos/i.test(t)}function Q2(t=Zr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p6(t=Zr()){var e;return Q2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m6(){return kT()&&document.documentMode===10}function gx(t=Zr()){return Q2(t)||fx(t)||mx(t)||px(t)||/windows phone/i.test(t)||dx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e=[]){let n;switch(t){case"Browser":n=t_(Zr());break;case"Worker":n=`${t_(Zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e={}){return Za(t,"GET","/v2/passwordPolicy",Xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=6;class _6{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:y6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new g6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fa(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ax(this,{idToken:e}),r=await Ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ks(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(ua(this));const n=e?xr(e):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v6(this),n=new _6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fa(e)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[Fa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function eo(t){return xr(t)}class n_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OT(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b6(t){ym=t}function yx(t){return ym.loadJS(t)}function A6(){return ym.recaptchaEnterpriseScript}function x6(){return ym.gapiScript}function E6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const S6="recaptcha-enterprise",N6="NO_RECAPTCHA";class I6{constructor(e){this.type=S6,this.auth=eo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{s6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new i6(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;Y5(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(N6)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&Y5(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=A6();l.length!==0&&(l+=o),yx(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function r_(t,e,n,r=!1){const i=new I6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Fp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await r_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await r_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e){const n=q2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Dp(s,e??{}))return i;Ls(i,"already-initialized")}return n.initialize({options:e})}function T6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P6(t,e,n){const r=eo(t);wt(r._canInitEmulator,r,"emulator-config-failed"),wt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=_x(e),{host:a,port:o}=C6(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),L6()}function _x(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C6(t){const e=_x(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:i_(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:i_(a)}}}function i_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oa("not implemented")}_getIdTokenResponse(e){return Oa("not implemented")}_linkToIdToken(e,n){return Oa("not implemented")}_getReauthenticationResolver(e){return Oa("not implemented")}}async function R6(t,e){return Za(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e){return Td(t,"POST","/v1/accounts:signInWithPassword",Xa(t,e))}async function D6(t,e){return Za(t,"POST","/v1/accounts:sendOobCode",Xa(t,e))}async function O6(t,e){return D6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}async function F6(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends J2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,n,"signInWithPassword",j6);case"emailLink":return M6(e,{email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,r,"signUpPassword",R6);case"emailLink":return F6(e,{idToken:n,email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e){return Td(t,"POST","/v1/accounts:signInWithIdp",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="http://localhost";class iu extends J2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=W2(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new iu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:V6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Id(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B6(t){const e=yh(_h(t)).link,n=e?yh(_h(e)).deep_link_id:null,r=yh(_h(t)).deep_link_id;return(r?yh(_h(r)).link:null)||r||n||e||t}class Y2{constructor(e){var n,r,i,s,a,o;const l=yh(_h(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,m=U6((i=l.mode)!==null&&i!==void 0?i:null);wt(u&&d&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=B6(e);try{return new Y2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.providerId=Pc.PROVIDER_ID}static credential(e,n){return ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Y2.parseLink(n);return wt(r,"argument-error"),ud._fromEmailAndCode(e,r.code,r.tenantId)}}Pc.PROVIDER_ID="password";Pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends wx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Pd{constructor(){super("facebook.com")}static credential(e){return iu._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return iu._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.GOOGLE_SIGN_IN_METHOD="google.com";Ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Pd{constructor(){super("github.com")}static credential(e){return iu._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Pd{constructor(){super("twitter.com")}static credential(e,n){return iu._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.TWITTER_SIGN_IN_METHOD="twitter.com";Do.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(t,e){return Td(t,"POST","/v1/accounts:signUp",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ma._fromIdTokenResponse(e,r,i),a=s_(r);return new Ha({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=s_(r);return new Ha({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function s_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t){var e;if(ks(t.app))return Promise.reject(ua(t));const n=eo(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ha({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await bx(n,{returnSecureToken:!0}),i=await Ha._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends Ya{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vp(e,n,r,i)}}function Ax(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vp._fromErrorAndOperation(t,s,e,r):s})}async function q6(t,e,n=!1){const r=await ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e,n=!1){const{auth:r}=t;if(ks(r.app))return Promise.reject(ua(r));const i="reauthenticate";try{const s=await ld(t,Ax(r,i,e,t),n);wt(s.idToken,r,"internal-error");const a=K2(s.idToken);wt(a,r,"internal-error");const{sub:o}=a;return wt(t.uid===o,r,"user-mismatch"),Ha._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ls(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(t,e,n=!1){if(ks(t.app))return Promise.reject(ua(t));const r="signIn",i=await Ax(t,r,e),s=await Ha._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function W6(t,e){return xx(eo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t){const e=eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H6(t,e,n){const r=eo(t);await Fp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",O6)}async function G6(t,e,n){if(ks(t.app))return Promise.reject(ua(t));const r=eo(t),a=await Fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Ex(t),l}),o=await Ha._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function K6(t,e,n){return ks(t.app)?Promise.reject(ua(t)):W6(xr(t),Pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ex(t),r})}function Q6(t,e,n,r){return xr(t).onIdTokenChanged(e,n,r)}function J6(t,e,n){return xr(t).beforeAuthStateChanged(e,n)}function Y6(t){return xr(t).signOut()}const Up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Up,"1"),this.storage.removeItem(Up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1e3,Z6=10;class Nx extends Sx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);m6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nx.type="LOCAL";const eC=Nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends Sx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ix.type="SESSION";const kx=Ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await tC(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=X2("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(_.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return window}function rC(t){ca().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}async function iC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aC(){return Tx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebaseLocalStorageDb",oC=1,Bp="firebaseLocalStorage",Cx="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wm(t,e){return t.transaction([Bp],e?"readwrite":"readonly").objectStore(Bp)}function lC(){const t=indexedDB.deleteDatabase(Px);return new Cd(t).toPromise()}function p0(){const t=indexedDB.open(Px,oC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bp,{keyPath:Cx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bp)?e(r):(r.close(),await lC(),e(await p0()))})})}async function a_(t,e,n){const r=wm(t,!0).put({[Cx]:e,value:n});return new Cd(r).toPromise()}async function uC(t,e){const n=wm(t,!1).get(e),r=await new Cd(n).toPromise();return r===void 0?null:r.value}function o_(t,e){const n=wm(t,!0).delete(e);return new Cd(n).toPromise()}const cC=800,hC=3;class Lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(aC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p0();return await a_(e,Up,"1"),await o_(e,Up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wm(i,!1).getAll();return new Cd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lx.type="LOCAL";const dC=Lx;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e){return e?Fa(e):(wt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2 extends J2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pC(t){return xx(t.auth,new Z2(t),t.bypassAuthState)}function mC(t){const{auth:e,user:n}=t;return wt(n,e,"internal-error"),$6(n,new Z2(t),t.bypassAuthState)}async function gC(t){const{auth:e,user:n}=t;return wt(n,e,"internal-error"),q6(n,new Z2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return gC;case"reauthViaPopup":case"reauthViaRedirect":return mC;default:Ls(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new kd(2e3,1e4);class Hu extends Rx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hu.currentPopupAction&&Hu.currentPopupAction.cancel(),Hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wt(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=X2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}Hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="pendingRedirect",Jf=new Map;class _C extends Rx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const r=await wC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(t,e){const n=xC(e),r=AC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bC(t,e){Jf.set(t._key(),e)}function AC(t){return Fa(t._redirectPersistence)}function xC(t){return Qf(yC,t.config.apiKey,t.name)}async function EC(t,e,n=!1){if(ks(t.app))return Promise.reject(ua(t));const r=eo(t),i=fC(r,e),a=await new _C(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=10*60*1e3;class NC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(la(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SC&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(e))}saveEventToCache(e){this.cachedEventUids.add(l_(e)),this.lastProcessedEventTime=Date.now()}}function l_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PC=/^https?/;async function CC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kC(t);for(const n of e)try{if(LC(n))return}catch{}Ls(t,"unauthorized-domain")}function LC(t){const e=d0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!PC.test(n))return!1;if(TC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new kd(3e4,6e4);function u_(){const t=ca().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jC(t){return new Promise((e,n)=>{var r,i,s;function a(){u_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u_(),n(la(t,"network-request-failed"))},timeout:RC.get()})}if(!((i=(r=ca().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ca().gapi)===null||s===void 0)&&s.load)a();else{const o=E6("iframefcb");return ca()[o]=()=>{gapi.load?a():n(la(t,"network-request-failed"))},yx(`${x6()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function DC(t){return Yf=Yf||jC(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new kd(5e3,15e3),MC="__/auth/iframe",FC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(t){const e=t.config;wt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?G2(e,FC):`https://${t.config.authDomain}/${MC}`,r={apiKey:e.apiKey,appName:t.name,v:Tc},i=UC.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Id(r).slice(1)}`}async function zC(t){const e=await DC(t),n=ca().gapi;return wt(n,t,"internal-error"),e.open({where:document.body,url:BC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=la(t,"network-request-failed"),o=ca().setTimeout(()=>{s(a)},OC.get());function l(){ca().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,WC=600,HC="_blank",GC="http://localhost";class c_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(t,e,n,r=$C,i=WC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},qC),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Zr().toLowerCase();n&&(o=hx(u)?HC:n),ux(u)&&(e=e||GC,l.scrollbars="yes");const d=Object.entries(l).reduce((_,[p,P])=>`${_}${p}=${P},`,"");if(p6(u)&&o!=="_self")return QC(e||"",o),new c_(null);const m=window.open(e||"",o,d);wt(m,t,"popup-blocked");try{m.focus()}catch{}return new c_(m)}function QC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="__/auth/handler",YC="emulator/auth/handler",XC=encodeURIComponent("fac");async function h_(t,e,n,r,i,s){wt(t.config.authDomain,t,"auth-domain-config-required"),wt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tc,eventId:i};if(e instanceof wx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",DT(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))a[d]=m}if(e instanceof Pd){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${XC}=${encodeURIComponent(l)}`:"";return`${ZC(t)}?${Id(o).slice(1)}${u}`}function ZC({config:t}){return t.emulator?G2(t,YC):`https://${t.authDomain}/${JC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class eL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kx,this._completeRedirectFn=EC,this._overrideRedirectResult=bC}async _openPopup(e,n,r,i){var s;Wa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await h_(e,n,r,d0(),i);return KC(e,a,X2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h_(e,n,r,d0(),i);return rC(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zC(e),r=new NC(e);return n.register("authEvent",i=>(wt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mg,{type:Mg},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mg];a!==void 0&&n(!!a),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gx()||cx()||Q2()}}const tL=eL;var d_="@firebase/auth",f_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iL(t){gc(new ru("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;wt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vx(t)},u=new w6(r,i,s,l);return T6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gc(new ru("auth-internal",e=>{const n=eo(e.getProvider("auth").getImmediate());return(r=>new nL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(d_,f_,rL(t)),Xo(d_,f_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=5*60,aL=K4("authIdTokenMaxAge")||sL;let p_=null;const oL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aL)return;const i=n==null?void 0:n.token;p_!==i&&(p_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lL(t=$2()){const e=q2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k6(t,{popupRedirectResolver:tL,persistence:[dC,eC,kx]}),r=K4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=oL(s.toString());J6(n,a,()=>a(n.currentUser)),Q6(n,o=>a(o))}}const i=H4("auth");return i&&P6(n,`http://${i}`),n}function uL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=la("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iL("Browser");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jl,Dx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,E){function N(){}N.prototype=E.prototype,V.D=E.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(O,x,T){for(var C=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)C[ne-2]=arguments[ne];return E.prototype[x].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,E,N){N||(N=0);var O=Array(16);if(typeof E=="string")for(var x=0;16>x;++x)O[x]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(x=0;16>x;++x)O[x]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=V.g[0],N=V.g[1],x=V.g[2];var T=V.g[3],C=E+(T^N&(x^T))+O[0]+3614090360&4294967295;E=N+(C<<7&4294967295|C>>>25),C=T+(x^E&(N^x))+O[1]+3905402710&4294967295,T=E+(C<<12&4294967295|C>>>20),C=x+(N^T&(E^N))+O[2]+606105819&4294967295,x=T+(C<<17&4294967295|C>>>15),C=N+(E^x&(T^E))+O[3]+3250441966&4294967295,N=x+(C<<22&4294967295|C>>>10),C=E+(T^N&(x^T))+O[4]+4118548399&4294967295,E=N+(C<<7&4294967295|C>>>25),C=T+(x^E&(N^x))+O[5]+1200080426&4294967295,T=E+(C<<12&4294967295|C>>>20),C=x+(N^T&(E^N))+O[6]+2821735955&4294967295,x=T+(C<<17&4294967295|C>>>15),C=N+(E^x&(T^E))+O[7]+4249261313&4294967295,N=x+(C<<22&4294967295|C>>>10),C=E+(T^N&(x^T))+O[8]+1770035416&4294967295,E=N+(C<<7&4294967295|C>>>25),C=T+(x^E&(N^x))+O[9]+2336552879&4294967295,T=E+(C<<12&4294967295|C>>>20),C=x+(N^T&(E^N))+O[10]+4294925233&4294967295,x=T+(C<<17&4294967295|C>>>15),C=N+(E^x&(T^E))+O[11]+2304563134&4294967295,N=x+(C<<22&4294967295|C>>>10),C=E+(T^N&(x^T))+O[12]+1804603682&4294967295,E=N+(C<<7&4294967295|C>>>25),C=T+(x^E&(N^x))+O[13]+4254626195&4294967295,T=E+(C<<12&4294967295|C>>>20),C=x+(N^T&(E^N))+O[14]+2792965006&4294967295,x=T+(C<<17&4294967295|C>>>15),C=N+(E^x&(T^E))+O[15]+1236535329&4294967295,N=x+(C<<22&4294967295|C>>>10),C=E+(x^T&(N^x))+O[1]+4129170786&4294967295,E=N+(C<<5&4294967295|C>>>27),C=T+(N^x&(E^N))+O[6]+3225465664&4294967295,T=E+(C<<9&4294967295|C>>>23),C=x+(E^N&(T^E))+O[11]+643717713&4294967295,x=T+(C<<14&4294967295|C>>>18),C=N+(T^E&(x^T))+O[0]+3921069994&4294967295,N=x+(C<<20&4294967295|C>>>12),C=E+(x^T&(N^x))+O[5]+3593408605&4294967295,E=N+(C<<5&4294967295|C>>>27),C=T+(N^x&(E^N))+O[10]+38016083&4294967295,T=E+(C<<9&4294967295|C>>>23),C=x+(E^N&(T^E))+O[15]+3634488961&4294967295,x=T+(C<<14&4294967295|C>>>18),C=N+(T^E&(x^T))+O[4]+3889429448&4294967295,N=x+(C<<20&4294967295|C>>>12),C=E+(x^T&(N^x))+O[9]+568446438&4294967295,E=N+(C<<5&4294967295|C>>>27),C=T+(N^x&(E^N))+O[14]+3275163606&4294967295,T=E+(C<<9&4294967295|C>>>23),C=x+(E^N&(T^E))+O[3]+4107603335&4294967295,x=T+(C<<14&4294967295|C>>>18),C=N+(T^E&(x^T))+O[8]+1163531501&4294967295,N=x+(C<<20&4294967295|C>>>12),C=E+(x^T&(N^x))+O[13]+2850285829&4294967295,E=N+(C<<5&4294967295|C>>>27),C=T+(N^x&(E^N))+O[2]+4243563512&4294967295,T=E+(C<<9&4294967295|C>>>23),C=x+(E^N&(T^E))+O[7]+1735328473&4294967295,x=T+(C<<14&4294967295|C>>>18),C=N+(T^E&(x^T))+O[12]+2368359562&4294967295,N=x+(C<<20&4294967295|C>>>12),C=E+(N^x^T)+O[5]+4294588738&4294967295,E=N+(C<<4&4294967295|C>>>28),C=T+(E^N^x)+O[8]+2272392833&4294967295,T=E+(C<<11&4294967295|C>>>21),C=x+(T^E^N)+O[11]+1839030562&4294967295,x=T+(C<<16&4294967295|C>>>16),C=N+(x^T^E)+O[14]+4259657740&4294967295,N=x+(C<<23&4294967295|C>>>9),C=E+(N^x^T)+O[1]+2763975236&4294967295,E=N+(C<<4&4294967295|C>>>28),C=T+(E^N^x)+O[4]+1272893353&4294967295,T=E+(C<<11&4294967295|C>>>21),C=x+(T^E^N)+O[7]+4139469664&4294967295,x=T+(C<<16&4294967295|C>>>16),C=N+(x^T^E)+O[10]+3200236656&4294967295,N=x+(C<<23&4294967295|C>>>9),C=E+(N^x^T)+O[13]+681279174&4294967295,E=N+(C<<4&4294967295|C>>>28),C=T+(E^N^x)+O[0]+3936430074&4294967295,T=E+(C<<11&4294967295|C>>>21),C=x+(T^E^N)+O[3]+3572445317&4294967295,x=T+(C<<16&4294967295|C>>>16),C=N+(x^T^E)+O[6]+76029189&4294967295,N=x+(C<<23&4294967295|C>>>9),C=E+(N^x^T)+O[9]+3654602809&4294967295,E=N+(C<<4&4294967295|C>>>28),C=T+(E^N^x)+O[12]+3873151461&4294967295,T=E+(C<<11&4294967295|C>>>21),C=x+(T^E^N)+O[15]+530742520&4294967295,x=T+(C<<16&4294967295|C>>>16),C=N+(x^T^E)+O[2]+3299628645&4294967295,N=x+(C<<23&4294967295|C>>>9),C=E+(x^(N|~T))+O[0]+4096336452&4294967295,E=N+(C<<6&4294967295|C>>>26),C=T+(N^(E|~x))+O[7]+1126891415&4294967295,T=E+(C<<10&4294967295|C>>>22),C=x+(E^(T|~N))+O[14]+2878612391&4294967295,x=T+(C<<15&4294967295|C>>>17),C=N+(T^(x|~E))+O[5]+4237533241&4294967295,N=x+(C<<21&4294967295|C>>>11),C=E+(x^(N|~T))+O[12]+1700485571&4294967295,E=N+(C<<6&4294967295|C>>>26),C=T+(N^(E|~x))+O[3]+2399980690&4294967295,T=E+(C<<10&4294967295|C>>>22),C=x+(E^(T|~N))+O[10]+4293915773&4294967295,x=T+(C<<15&4294967295|C>>>17),C=N+(T^(x|~E))+O[1]+2240044497&4294967295,N=x+(C<<21&4294967295|C>>>11),C=E+(x^(N|~T))+O[8]+1873313359&4294967295,E=N+(C<<6&4294967295|C>>>26),C=T+(N^(E|~x))+O[15]+4264355552&4294967295,T=E+(C<<10&4294967295|C>>>22),C=x+(E^(T|~N))+O[6]+2734768916&4294967295,x=T+(C<<15&4294967295|C>>>17),C=N+(T^(x|~E))+O[13]+1309151649&4294967295,N=x+(C<<21&4294967295|C>>>11),C=E+(x^(N|~T))+O[4]+4149444226&4294967295,E=N+(C<<6&4294967295|C>>>26),C=T+(N^(E|~x))+O[11]+3174756917&4294967295,T=E+(C<<10&4294967295|C>>>22),C=x+(E^(T|~N))+O[2]+718787259&4294967295,x=T+(C<<15&4294967295|C>>>17),C=N+(T^(x|~E))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+E&4294967295,V.g[1]=V.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+T&4294967295}r.prototype.u=function(V,E){E===void 0&&(E=V.length);for(var N=E-this.blockSize,O=this.B,x=this.h,T=0;T<E;){if(x==0)for(;T<=N;)i(this,V,T),T+=this.blockSize;if(typeof V=="string"){for(;T<E;)if(O[x++]=V.charCodeAt(T++),x==this.blockSize){i(this,O),x=0;break}}else for(;T<E;)if(O[x++]=V[T++],x==this.blockSize){i(this,O),x=0;break}}this.h=x,this.o+=E},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var E=1;E<V.length-8;++E)V[E]=0;var N=8*this.o;for(E=V.length-8;E<V.length;++E)V[E]=N&255,N/=256;for(this.u(V),V=Array(16),E=N=0;4>E;++E)for(var O=0;32>O;O+=8)V[N++]=this.g[E]>>>O&255;return V};function s(V,E){var N=o;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=E(V)}function a(V,E){this.h=E;for(var N=[],O=!0,x=V.length-1;0<=x;x--){var T=V[x]|0;O&&T==E||(N[x]=T,O=!1)}this.g=N}var o={};function l(V){return-128<=V&&128>V?s(V,function(E){return new a([E|0],0>E?-1:0)}):new a([V|0],0>V?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return m;if(0>V)return L(u(-V));for(var E=[],N=1,O=0;V>=N;O++)E[O]=V/N|0,N*=4294967296;return new a(E,0)}function d(V,E){if(V.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(V.charAt(0)=="-")return L(d(V.substring(1),E));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(E,8)),O=m,x=0;x<V.length;x+=8){var T=Math.min(8,V.length-x),C=parseInt(V.substring(x,x+T),E);8>T?(T=u(Math.pow(E,T)),O=O.j(T).add(u(C))):(O=O.j(N),O=O.add(u(C)))}return O}var m=l(0),_=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(S(this))return-L(this).m();for(var V=0,E=1,N=0;N<this.g.length;N++){var O=this.i(N);V+=(0<=O?O:4294967296+O)*E,E*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(P(this))return"0";if(S(this))return"-"+L(this).toString(V);for(var E=u(Math.pow(V,6)),N=this,O="";;){var x=B(N,E).g;N=b(N,x.j(E));var T=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=x,P(N))return T+O;for(;6>T.length;)T="0"+T;O=T+O}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function P(V){if(V.h!=0)return!1;for(var E=0;E<V.g.length;E++)if(V.g[E]!=0)return!1;return!0}function S(V){return V.h==-1}t.l=function(V){return V=b(this,V),S(V)?-1:P(V)?0:1};function L(V){for(var E=V.g.length,N=[],O=0;O<E;O++)N[O]=~V.g[O];return new a(N,~V.h).add(_)}t.abs=function(){return S(this)?L(this):this},t.add=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],O=0,x=0;x<=E;x++){var T=O+(this.i(x)&65535)+(V.i(x)&65535),C=(T>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);O=C>>>16,T&=65535,C&=65535,N[x]=C<<16|T}return new a(N,N[N.length-1]&-2147483648?-1:0)};function b(V,E){return V.add(L(E))}t.j=function(V){if(P(this)||P(V))return m;if(S(this))return S(V)?L(this).j(L(V)):L(L(this).j(V));if(S(V))return L(this.j(L(V)));if(0>this.l(p)&&0>V.l(p))return u(this.m()*V.m());for(var E=this.g.length+V.g.length,N=[],O=0;O<2*E;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<V.g.length;x++){var T=this.i(O)>>>16,C=this.i(O)&65535,ne=V.i(x)>>>16,de=V.i(x)&65535;N[2*O+2*x]+=C*de,I(N,2*O+2*x),N[2*O+2*x+1]+=T*de,I(N,2*O+2*x+1),N[2*O+2*x+1]+=C*ne,I(N,2*O+2*x+1),N[2*O+2*x+2]+=T*ne,I(N,2*O+2*x+2)}for(O=0;O<E;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=E;O<2*E;O++)N[O]=0;return new a(N,0)};function I(V,E){for(;(V[E]&65535)!=V[E];)V[E+1]+=V[E]>>>16,V[E]&=65535,E++}function R(V,E){this.g=V,this.h=E}function B(V,E){if(P(E))throw Error("division by zero");if(P(V))return new R(m,m);if(S(V))return E=B(L(V),E),new R(L(E.g),L(E.h));if(S(E))return E=B(V,L(E)),new R(L(E.g),E.h);if(30<V.g.length){if(S(V)||S(E))throw Error("slowDivide_ only works with positive integers.");for(var N=_,O=E;0>=O.l(V);)N=ee(N),O=ee(O);var x=F(N,1),T=F(O,1);for(O=F(O,2),N=F(N,2);!P(O);){var C=T.add(O);0>=C.l(V)&&(x=x.add(N),T=C),O=F(O,1),N=F(N,1)}return E=b(V,x.j(E)),new R(x,E)}for(x=m;0<=V.l(E);){for(N=Math.max(1,Math.floor(V.m()/E.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),T=u(N),C=T.j(E);S(C)||0<C.l(V);)N-=O,T=u(N),C=T.j(E);P(T)&&(T=_),x=x.add(T),V=b(V,C)}return new R(x,V)}t.A=function(V){return B(this,V).h},t.and=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],O=0;O<E;O++)N[O]=this.i(O)&V.i(O);return new a(N,this.h&V.h)},t.or=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],O=0;O<E;O++)N[O]=this.i(O)|V.i(O);return new a(N,this.h|V.h)},t.xor=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],O=0;O<E;O++)N[O]=this.i(O)^V.i(O);return new a(N,this.h^V.h)};function ee(V){for(var E=V.g.length+1,N=[],O=0;O<E;O++)N[O]=V.i(O)<<1|V.i(O-1)>>>31;return new a(N,V.h)}function F(V,E){var N=E>>5;E%=32;for(var O=V.g.length-N,x=[],T=0;T<O;T++)x[T]=0<E?V.i(T+N)>>>E|V.i(T+N+1)<<32-E:V.i(T+N);return new a(x,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dx=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Jl=a}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ox,wh,Mx,Xf,m0,Fx,Vx,Ux;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,k){return h==Array.prototype||h==Object.prototype||(h[w]=k.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var w=0;w<h.length;++w){var k=h[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var k=r;h=h.split(".");for(var W=0;W<h.length-1;W++){var ce=h[W];if(!(ce in k))break e;k=k[ce]}h=h[h.length-1],W=k[h],w=w(W),w!=W&&w!=null&&e(k,h,{configurable:!0,writable:!0,value:w})}}function s(h,w){h instanceof String&&(h+="");var k=0,W=!1,ce={next:function(){if(!W&&k<h.length){var _e=k++;return{value:w(_e,h[_e]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(h){return h||function(){return s(this,function(w,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,k){return h.call.apply(h.bind,arguments)}function m(h,w,k){if(!h)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,W),h.apply(w,ce)}}return function(){return h.apply(w,arguments)}}function _(h,w,k){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,_.apply(null,arguments)}function p(h,w){var k=Array.prototype.slice.call(arguments,1);return function(){var W=k.slice();return W.push.apply(W,arguments),h.apply(this,W)}}function P(h,w){function k(){}k.prototype=w.prototype,h.aa=w.prototype,h.prototype=new k,h.prototype.constructor=h,h.Qb=function(W,ce,_e){for(var Ve=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)Ve[Bt-2]=arguments[Bt];return w.prototype[ce].apply(W,Ve)}}function S(h){const w=h.length;if(0<w){const k=Array(w);for(let W=0;W<w;W++)k[W]=h[W];return k}return[]}function L(h,w){for(let k=1;k<arguments.length;k++){const W=arguments[k];if(l(W)){const ce=h.length||0,_e=W.length||0;h.length=ce+_e;for(let Ve=0;Ve<_e;Ve++)h[ce+Ve]=W[Ve]}else h.push(W)}}class b{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function I(h){return/^[\s\xa0]*$/.test(h)}function R(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function B(h){return B[" "](h),h}B[" "]=function(){};var ee=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function F(h,w,k){for(const W in h)w.call(k,h[W],W,h)}function V(h,w){for(const k in h)w.call(void 0,h[k],k,h)}function E(h){const w={};for(const k in h)w[k]=h[k];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,w){let k,W;for(let ce=1;ce<arguments.length;ce++){W=arguments[ce];for(k in W)h[k]=W[k];for(let _e=0;_e<N.length;_e++)k=N[_e],Object.prototype.hasOwnProperty.call(W,k)&&(h[k]=W[k])}}function x(h){var w=1;h=h.split(":");const k=[];for(;0<w&&h.length;)k.push(h.shift()),w--;return h.length&&k.push(h.join(":")),k}function T(h){o.setTimeout(()=>{throw h},0)}function C(){var h=Q;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class ne{constructor(){this.h=this.g=null}add(w,k){const W=de.get();W.set(w,k),this.h?this.h.next=W:this.g=W,this.h=W}}var de=new b(()=>new be,h=>h.reset());class be{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let we,te=!1,Q=new ne,fe=()=>{const h=o.Promise.resolve(void 0);we=()=>{h.then(xe)}};var xe=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(k){T(k)}var w=de;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}te=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const k=()=>{};o.addEventListener("test",k,w),o.removeEventListener("test",k,w)}catch{}return h}();function K(h,w){if(G.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var k=this.type=h.type,W=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(ee){e:{try{B(w.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(w=null)}}else k=="mouseover"?w=h.fromElement:k=="mouseout"&&(w=h.toElement);this.relatedTarget=w,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&K.aa.h.call(this)}}P(K,G);var re={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),me=0;function ve(h,w,k,W,ce){this.listener=h,this.proxy=null,this.src=w,this.type=k,this.capture=!!W,this.ha=ce,this.key=++me,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,w,k,W,ce){var _e=h.toString();h=this.g[_e],h||(h=this.g[_e]=[],this.h++);var Ve=Ue(h,w,W,ce);return-1<Ve?(w=h[Ve],k||(w.fa=!1)):(w=new ve(w,this.src,_e,!!W,ce),w.fa=k,h.push(w)),w};function Fe(h,w){var k=w.type;if(k in h.g){var W=h.g[k],ce=Array.prototype.indexOf.call(W,w,void 0),_e;(_e=0<=ce)&&Array.prototype.splice.call(W,ce,1),_e&&(ye(w),h.g[k].length==0&&(delete h.g[k],h.h--))}}function Ue(h,w,k,W){for(var ce=0;ce<h.length;++ce){var _e=h[ce];if(!_e.da&&_e.listener==w&&_e.capture==!!k&&_e.ha==W)return ce}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Z={};function xt(h,w,k,W,ce){if(Array.isArray(w)){for(var _e=0;_e<w.length;_e++)xt(h,w[_e],k,W,ce);return null}return k=at(k),h&&h[ae]?h.K(w,k,u(W)?!!W.capture:!1,ce):pt(h,w,k,!1,W,ce)}function pt(h,w,k,W,ce,_e){if(!w)throw Error("Invalid event type");var Ve=u(ce)?!!ce.capture:!!ce,Bt=ze(h);if(Bt||(h[Ee]=Bt=new Pe(h)),k=Bt.add(w,k,W,Ve,_e),k.proxy)return k;if(W=it(),k.proxy=W,W.src=h,W.listener=k,h.addEventListener)q||(ce=Ve),ce===void 0&&(ce=!1),h.addEventListener(w.toString(),W,ce);else if(h.attachEvent)h.attachEvent(Ae(w.toString()),W);else if(h.addListener&&h.removeListener)h.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return k}function it(){function h(k){return w.call(h.src,h.listener,k)}const w=st;return h}function je(h,w,k,W,ce){if(Array.isArray(w))for(var _e=0;_e<w.length;_e++)je(h,w[_e],k,W,ce);else W=u(W)?!!W.capture:!!W,k=at(k),h&&h[ae]?(h=h.i,w=String(w).toString(),w in h.g&&(_e=h.g[w],k=Ue(_e,k,W,ce),-1<k&&(ye(_e[k]),Array.prototype.splice.call(_e,k,1),_e.length==0&&(delete h.g[w],h.h--)))):h&&(h=ze(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ue(w,k,W,ce)),(k=-1<h?w[h]:null)&&Ke(k))}function Ke(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ae])Fe(w.i,h);else{var k=h.type,W=h.proxy;w.removeEventListener?w.removeEventListener(k,W,h.capture):w.detachEvent?w.detachEvent(Ae(k),W):w.addListener&&w.removeListener&&w.removeListener(W),(k=ze(w))?(Fe(k,h),k.h==0&&(k.src=null,w[Ee]=null)):ye(h)}}}function Ae(h){return h in Z?Z[h]:Z[h]="on"+h}function st(h,w){if(h.da)h=!0;else{w=new K(w,this);var k=h.listener,W=h.ha||h.src;h.fa&&Ke(h),h=k.call(W,w)}return h}function ze(h){return h=h[Ee],h instanceof Pe?h:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(h){return typeof h=="function"?h:(h[Pt]||(h[Pt]=function(w){return h.handleEvent(w)}),h[Pt])}function qe(){M.call(this),this.i=new Pe(this),this.M=this,this.F=null}P(qe,M),qe.prototype[ae]=!0,qe.prototype.removeEventListener=function(h,w,k,W){je(this,h,w,k,W)};function Se(h,w){var k,W=h.F;if(W)for(k=[];W;W=W.F)k.push(W);if(h=h.M,W=w.type||w,typeof w=="string")w=new G(w,h);else if(w instanceof G)w.target=w.target||h;else{var ce=w;w=new G(W,h),O(w,ce)}if(ce=!0,k)for(var _e=k.length-1;0<=_e;_e--){var Ve=w.g=k[_e];ce=Ye(Ve,W,!0,w)&&ce}if(Ve=w.g=h,ce=Ye(Ve,W,!0,w)&&ce,ce=Ye(Ve,W,!1,w)&&ce,k)for(_e=0;_e<k.length;_e++)Ve=w.g=k[_e],ce=Ye(Ve,W,!1,w)&&ce}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var k=h.g[w],W=0;W<k.length;W++)ye(k[W]);delete h.g[w],h.h--}}this.F=null},qe.prototype.K=function(h,w,k,W){return this.i.add(String(h),w,!1,k,W)},qe.prototype.L=function(h,w,k,W){return this.i.add(String(h),w,!0,k,W)};function Ye(h,w,k,W){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var ce=!0,_e=0;_e<w.length;++_e){var Ve=w[_e];if(Ve&&!Ve.da&&Ve.capture==k){var Bt=Ve.listener,jn=Ve.ha||Ve.src;Ve.fa&&Fe(h.i,Ve),ce=Bt.call(jn,W)!==!1&&ce}}return ce&&!W.defaultPrevented}function We(h,w,k){if(typeof h=="function")k&&(h=_(h,k));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:o.setTimeout(h,w||0)}function ut(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,ut(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ze extends M{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(h){M.call(this),this.h=h,this.g={}}P(vt,M);var mt=[];function $e(h){F(h.g,function(w,k){this.g.hasOwnProperty(k)&&Ke(w)},h),h.g={}}vt.prototype.N=function(){vt.aa.N.call(this),$e(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=o.JSON.stringify,Qt=o.JSON.parse,ft=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function jt(){}jt.prototype.h=null;function Et(h){return h.h||(h.h=h.i())}function Nn(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){G.call(this,"d")}P(Yt,G);function yt(){G.call(this,"c")}P(yt,G);var Ot={},Ms=null;function Wn(){return Ms=Ms||new qe}Ot.La="serverreachability";function Qi(h){G.call(this,Ot.La,h)}P(Qi,G);function Or(h){const w=Wn();Se(w,new Qi(w))}Ot.STAT_EVENT="statevent";function dt(h,w){G.call(this,Ot.STAT_EVENT,h),this.stat=w}P(dt,G);function wn(h){const w=Wn();Se(w,new dt(w,h))}Ot.Ma="timingevent";function Ji(h,w){G.call(this,Ot.Ma,h),this.size=w}P(Ji,G);function mr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},w)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function In(h,w,k,W,ce,_e){h.info(function(){if(h.g)if(_e)for(var Ve="",Bt=_e.split("&"),jn=0;jn<Bt.length;jn++){var Mt=Bt[jn].split("=");if(1<Mt.length){var Dt=Mt[0];Mt=Mt[1];var gn=Dt.split("_");Ve=2<=gn.length&&gn[1]=="type"?Ve+(Dt+"="+Mt+"&"):Ve+(Dt+"=redacted&")}}else Ve=null;else Ve=_e;return"XMLHTTP REQ ("+W+") [attempt "+ce+"]: "+w+`
`+k+`
`+Ve})}function ir(h,w,k,W,ce,_e,Ve){h.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ce+"]: "+w+`
`+k+`
`+_e+" "+Ve})}function kn(h,w,k,W){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Fs(h,k)+(W?" "+W:"")})}function ma(h,w){h.info(function(){return"TIMEOUT: "+w})}gr.prototype.info=function(){};function Fs(h,w){if(!h.g)return w;if(!w)return null;try{var k=JSON.parse(w);if(k){for(h=0;h<k.length;h++)if(Array.isArray(k[h])){var W=k[h];if(!(2>W.length)){var ce=W[1];if(Array.isArray(ce)&&!(1>ce.length)){var _e=ce[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Ve=1;Ve<ce.length;Ve++)ce[Ve]=""}}}}return ct(k)}catch{return w}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function Fr(){}P(Fr,jt),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},ei=new Fr;function Hn(h,w,k,W){this.j=h,this.i=w,this.l=k,this.R=W||1,this.U=new vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}var Ii={},ds={};function Us(h,w,k){h.L=1,h.v=_a(ti(w)),h.m=k,h.P=!0,ga(h,null)}function ga(h,w){h.F=Date.now(),Bs(h),h.A=ti(h.v);var k=h.A,W=h.R;Array.isArray(W)||(W=[String(W)]),_t(k.i,"t",W),h.C=0,k=h.j.J,h.h=new Vs,h.g=Vn(h.j,k?w:null,!h.m),0<h.O&&(h.M=new Ze(_(h.Y,h,h.g),h.O)),w=h.U,k=h.g,W=h.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(mt[0]=ce.toString()),ce=mt);for(var _e=0;_e<ce.length;_e++){var Ve=xt(k,ce[_e],W||w.handleEvent,!1,w.h||w);if(!Ve)break;w.g[Ve.key]=Ve}w=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Or(),In(h.i,h.u,h.A,h.l,h.R,h.m)}Hn.prototype.ca=function(h){h=h.target;const w=this.M;w&&fi(h)==3?w.j():this.Y(h)},Hn.prototype.Y=function(h){try{if(h==this.g)e:{const gn=fi(this.g);var w=this.g.Ba();const Ci=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||kl(this.g)))){this.J||gn!=4||w==7||(w==8||0>=Ci?Or(3):Or(2)),to(this);var k=this.g.Z();this.X=k;t:if(va(this)){var W=kl(this.g);h="";var ce=W.length,_e=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),vr(this);var Ve="";break t}this.h.i=new o.TextDecoder}for(w=0;w<ce;w++)this.h.h=!0,h+=this.h.i.decode(W[w],{stream:!(_e&&w==ce-1)});W.length=0,this.h.g+=h,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=k==200,ir(this.i,this.u,this.A,this.l,this.R,gn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Bt,jn=this.g;if((Bt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Bt)){var Mt=Bt;break t}}Mt=null}if(k=Mt)kn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,no(this,k);else{this.o=!1,this.s=3,wn(12),ki(this),vr(this);break e}}if(this.P){k=!0;let Vr;for(;!this.J&&this.C<Ve.length;)if(Vr=Oc(this,Ve),Vr==ds){gn==4&&(this.s=4,wn(14),k=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vr==Ii){this.s=4,wn(15),kn(this.i,this.l,Ve,"[Invalid Chunk]"),k=!1;break}else kn(this.i,this.l,Vr,null),no(this,Vr);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||Ve.length!=0||this.h.h||(this.s=1,wn(16),k=!1),this.o=this.o&&k,!k)kn(this.i,this.l,Ve,"[Invalid Chunked Response]"),ki(this),vr(this);else if(0<Ve.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),He(Dt),Dt.M=!0,wn(11))}}else kn(this.i,this.l,Ve,null),no(this,Ve);gn==4&&ki(this),this.o&&!this.J&&(gn==4?bt(this.j,this):(this.o=!1,Bs(this)))}else gs(this.g),k==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),ki(this),vr(this)}}}catch{}finally{}};function va(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Oc(h,w){var k=h.C,W=w.indexOf(`
`,k);return W==-1?ds:(k=Number(w.substring(k,W)),isNaN(k)?Ii:(W+=1,W+k>w.length?ds:(w=w.slice(W,W+k),h.C=W+k,w)))}Hn.prototype.cancel=function(){this.J=!0,ki(this)};function Bs(h){h.S=Date.now()+h.I,vl(h,h.I)}function vl(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mr(_(h.ba,h),w)}function to(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Hn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ma(this.i,this.A),this.L!=2&&(Or(),wn(17)),ki(this),this.s=2,vr(this)):vl(this,this.S-h)};function vr(h){h.j.G==0||h.J||bt(h.j,h)}function ki(h){to(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,$e(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function no(h,w){try{var k=h.j;if(k.G!=0&&(k.g==h||zs(k.h,h))){if(!h.K&&zs(k.h,h)&&k.G==3){try{var W=k.Da.g.parse(w)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ce=W;if(ce[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<h.F)gt(k),Zi(k);else break e;Le(k),wn(18)}}else k.za=ce[1],0<k.za-k.T&&37500>ce[2]&&k.F&&k.v==0&&!k.C&&(k.C=mr(_(k.Za,k),6e3));if(1>=bl(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Xt(k,11)}else if((h.K||k.g==h)&&gt(k),!I(w))for(ce=k.Da.g.parse(w),w=0;w<ce.length;w++){let Mt=ce[w];if(k.T=Mt[0],Mt=Mt[1],k.G==2)if(Mt[0]=="c"){k.K=Mt[1],k.ia=Mt[2];const Dt=Mt[3];Dt!=null&&(k.la=Dt,k.j.info("VER="+k.la));const gn=Mt[4];gn!=null&&(k.Aa=gn,k.j.info("SVER="+k.Aa));const Ci=Mt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(W=1.5*Ci,k.L=W,k.j.info("backChannelRequestTimeoutMs_="+W)),W=k;const Vr=h.g;if(Vr){const Sr=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var _e=W.h;_e.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Al(_e,_e.h),_e.h=null))}if(W.D){const vs=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;vs&&(W.ya=vs,Vt(W.I,W.D,vs))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-h.F,k.j.info("Handshake RTT: "+k.R+"ms")),W=k;var Ve=h;if(W.qa=nn(W,W.J?W.ia:null,W.W),Ve.K){Cn(W.h,Ve);var Bt=Ve,jn=W.L;jn&&(Bt.I=jn),Bt.B&&(to(Bt),Bs(Bt)),W.g=Ve}else Ie(W);0<k.i.length&&g(k)}else Mt[0]!="stop"&&Mt[0]!="close"||Xt(k,7);else k.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Xt(k,7):uo(k):Mt[0]!="noop"&&k.l&&k.l.ta(Mt),k.v=0)}}Or(4)}catch{}}var yl=class{constructor(h,w){this.g=h,this.map=w}};function _l(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bl(h){return h.h?1:h.g?h.g.size:0}function zs(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Al(h,w){h.g?h.g.add(w):h.h=w}function Cn(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}_l.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const k of h.g.values())w=w.concat(k.D);return w}return S(h.i)}function yu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],k=h.length,W=0;W<k;W++)w.push(h[W]);return w}w=[],k=0;for(W in h)w[k++]=h[W];return w}function fs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var k=0;k<h;k++)w.push(k);return w}w=[],k=0;for(const W in h)w[k++]=W;return w}}}function qs(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var k=fs(h),W=yu(h),ce=W.length,_e=0;_e<ce;_e++)w.call(void 0,W[_e],k&&k[_e],h)}var ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(h,w){if(h){h=h.split("&");for(var k=0;k<h.length;k++){var W=h[k].indexOf("="),ce=null;if(0<=W){var _e=h[k].substring(0,W);ce=h[k].substring(W+1)}else _e=h[k];w(_e,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function tn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof tn){this.h=h.h,ro(this,h.j),this.o=h.o,this.g=h.g,io(this,h.s),this.l=h.l;var w=h.i,k=new di;k.i=w.i,w.g&&(k.g=new Map(w.g),k.h=w.h),_u(this,k),this.m=h.m}else h&&(w=String(h).match(ci))?(this.h=!1,ro(this,w[1]||"",!0),this.o=$s(w[2]||""),this.g=$s(w[3]||"",!0),io(this,w[4]),this.l=$s(w[5]||"",!0),_u(this,w[6]||"",!0),this.m=$s(w[7]||"")):(this.h=!1,this.i=new di(null,this.h))}tn.prototype.toString=function(){var h=[],w=this.j;w&&h.push(hi(w,wu,!0),":");var k=this.g;return(k||w=="file")&&(h.push("//"),(w=this.o)&&h.push(hi(w,wu,!0),"@"),h.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&h.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&h.push("/"),h.push(hi(k,k.charAt(0)=="/"?Fc:Mc,!0))),(k=this.i.toString())&&h.push("?",k),(k=this.m)&&h.push("#",hi(k,wa)),h.join("")};function ti(h){return new tn(h)}function ro(h,w,k){h.j=k?$s(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function io(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function _u(h,w,k){w instanceof di?(h.i=w,Vc(h.i,h.h)):(k||(w=hi(w,Sl)),h.i=new di(w,h.h))}function Vt(h,w,k){h.i.set(w,k)}function _a(h){return Vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $s(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function hi(h,w,k){return typeof h=="string"?(h=encodeURI(h).replace(w,El),k&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function El(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wu=/[#\/\?@]/g,Mc=/[#\?:]/g,Fc=/[#\?]/g,Sl=/[#\?@]/g,wa=/#/g;function di(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Yi(h){h.g||(h.g=new Map,h.h=0,h.i&&ya(h.i,function(w,k){h.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=di.prototype,t.add=function(h,w){Yi(this),this.i=null,h=Hs(this,h);var k=this.g.get(h);return k||this.g.set(h,k=[]),k.push(w),this.h+=1,this};function Ws(h,w){Yi(h),w=Hs(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function so(h,w){return Yi(h),w=Hs(h,w),h.g.has(w)}t.forEach=function(h,w){Yi(this),this.g.forEach(function(k,W){k.forEach(function(ce){h.call(w,ce,W,this)},this)},this)},t.na=function(){Yi(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),k=[];for(let W=0;W<w.length;W++){const ce=h[W];for(let _e=0;_e<ce.length;_e++)k.push(w[W])}return k},t.V=function(h){Yi(this);let w=[];if(typeof h=="string")so(this,h)&&(w=w.concat(this.g.get(Hs(this,h))));else{h=Array.from(this.g.values());for(let k=0;k<h.length;k++)w=w.concat(h[k])}return w},t.set=function(h,w){return Yi(this),this.i=null,h=Hs(this,h),so(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function _t(h,w,k){Ws(h,w),0<k.length&&(h.i=null,h.g.set(Hs(h,w),S(k)),h.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var k=0;k<w.length;k++){var W=w[k];const _e=encodeURIComponent(String(W)),Ve=this.V(W);for(W=0;W<Ve.length;W++){var ce=_e;Ve[W]!==""&&(ce+="="+encodeURIComponent(String(Ve[W]))),h.push(ce)}}return this.i=h.join("&")};function Hs(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Vc(h,w){w&&!h.j&&(Yi(h),h.i=null,h.g.forEach(function(k,W){var ce=W.toLowerCase();W!=ce&&(Ws(this,W),_t(this,ce,k))},h)),h.j=w}function Uc(h,w){const k=new gr;if(o.Image){const W=new Image;W.onload=p(yr,k,"TestLoadImage: loaded",!0,w,W),W.onerror=p(yr,k,"TestLoadImage: error",!1,w,W),W.onabort=p(yr,k,"TestLoadImage: abort",!1,w,W),W.ontimeout=p(yr,k,"TestLoadImage: timeout",!1,w,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=h}else w(!1)}function Bc(h,w){const k=new gr,W=new AbortController,ce=setTimeout(()=>{W.abort(),yr(k,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:W.signal}).then(_e=>{clearTimeout(ce),_e.ok?yr(k,"TestPingServer: ok",!0,w):yr(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ce),yr(k,"TestPingServer: error",!1,w)})}function yr(h,w,k,W,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),W(k)}catch{}}function ps(){this.g=new ft}function zc(h,w,k){const W=k||"";try{qs(h,function(ce,_e){let Ve=ce;u(ce)&&(Ve=ct(ce)),w.push(W+_e+"="+encodeURIComponent(Ve))})}catch(ce){throw w.push(W+"type="+encodeURIComponent("_badmap")),ce}}function ao(h){this.l=h.Ub||null,this.j=h.eb||!1}P(ao,jt),ao.prototype.g=function(){return new ms(this.l,this.j)},ao.prototype.i=function(h){return function(){return h}}({});function ms(h,w){qe.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ms,qe),t=ms.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Xi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||o).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Ti(this):Xi(this),this.readyState==3&&oo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ti(this))},t.Qa=function(h){this.g&&(this.response=h,Ti(this))},t.ga=function(){this.g&&Ti(this)};function Ti(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Xi(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,h.push(k[0]+": "+k[1]),k=w.next();return h.join(`\r
`)};function Xi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ba(h){let w="";return F(h,function(k,W){w+=W,w+=":",w+=k,w+=`\r
`}),w}function Nl(h,w,k){e:{for(W in k){var W=!1;break e}W=!0}W||(k=ba(k),typeof h=="string"?k!=null&&encodeURIComponent(String(k)):Vt(h,w,k))}function cn(h){qe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(cn,qe);var Il=/^https?$/i,Aa=["POST","PUT"];t=cn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,k,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Et(this.o):Et(ei),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(_e){Gs(this,_e);return}if(h=k||"",k=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ce in W)k.set(ce,W[ce]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const _e of W.keys())k.set(_e,W.get(_e));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(k.keys()).find(_e=>_e.toLowerCase()=="content-type"),ce=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Aa,w,void 0))||W||ce||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Ve]of k)this.g.setRequestHeader(_e,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(h),this.u=!1}catch(_e){Gs(this,_e)}};function Gs(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,lo(h),Ks(h)}function lo(h){h.A||(h.A=!0,Se(h,"complete"),Se(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Se(this,"complete"),Se(this,"abort"),Ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},t.bb=function(){xa(this)};function xa(h){if(h.h&&typeof a<"u"&&(!h.v[1]||fi(h)!=4||h.Z()!=2)){if(h.u&&fi(h)==4)We(h.Ea,0,h);else if(Se(h,"readystatechange"),fi(h)==4){h.h=!1;try{const Ve=h.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var W;if(W=Ve===0){var ce=String(h.D).match(ci)[1]||null;!ce&&o.self&&o.self.location&&(ce=o.self.location.protocol.slice(0,-1)),W=!Il.test(ce?ce.toLowerCase():"")}k=W}if(k)Se(h,"complete"),Se(h,"success");else{h.m=6;try{var _e=2<fi(h)?h.g.statusText:""}catch{_e=""}h.l=_e+" ["+h.Z()+"]",lo(h)}}finally{Ks(h)}}}}function Ks(h,w){if(h.g){Qs(h);const k=h.g,W=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||Se(h,"ready");try{k.onreadystatechange=W}catch{}}}function Qs(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Qt(w)}};function kl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(h){const w={};h=(h.g&&2<=fi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<h.length;W++){if(I(h[W]))continue;var k=x(h[W]);const ce=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const _e=w[ce]||[];w[ce]=_e,_e.push(k)}V(w,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(h,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[h]||w}function Tl(h){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ni("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ni("baseRetryDelayMs",5e3,h),this.cb=ni("retryDelaySeedMs",1e4,h),this.Wa=ni("forwardChannelMaxRetries",2,h),this.wa=ni("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new _l(h&&h.concurrentRequestLimit),this.Da=new ps,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tl.prototype,t.la=8,t.G=1,t.connect=function(h,w,k,W){wn(0),this.W=h,this.H=w||{},k&&W!==void 0&&(this.H.OSID=k,this.H.OAID=W),this.F=this.X,this.I=nn(this,null,this.W),g(this)};function uo(h){if(Pl(h),h.G==3){var w=h.U++,k=ti(h.I);if(Vt(k,"SID",h.K),Vt(k,"RID",w),Vt(k,"TYPE","terminate"),ie(h,k),w=new Hn(h,h.j,w),w.L=2,w.v=_a(ti(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(w.v.toString(),"")}catch{}!k&&o.Image&&(new Image().src=w.v,k=!0),k||(w.g=Vn(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Bs(w)}Ln(h)}function Zi(h){h.g&&(He(h),h.g.cancel(),h.g=null)}function Pl(h){Zi(h),h.u&&(o.clearTimeout(h.u),h.u=null),gt(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function g(h){if(!wl(h.h)&&!h.s){h.s=!0;var w=h.Ga;we||fe(),te||(we(),te=!0),Q.add(w,h),h.B=0}}function j(h,w){return bl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mr(_(h.Ga,h,w),$t(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ce=new Hn(this,this.j,h);let _e=this.o;if(this.S&&(_e?(_e=E(_e),O(_e,this.S)):_e=this.S),this.m!==null||this.O||(ce.H=_e,_e=null),this.P)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var W=this.i[k];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(w+=W,4096<w){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=ue(this,ce,w),k=ti(this.I),Vt(k,"RID",h),Vt(k,"CVER",22),this.D&&Vt(k,"X-HTTP-Session-Id",this.D),ie(this,k),_e&&(this.O?w="headers="+encodeURIComponent(String(ba(_e)))+"&"+w:this.m&&Nl(k,this.m,_e)),Al(this.h,ce),this.Ua&&Vt(k,"TYPE","init"),this.P?(Vt(k,"$req",w),Vt(k,"SID","null"),ce.T=!0,Us(ce,k,null)):Us(ce,k,w),this.G=2}}else this.G==3&&(h?J(this,h):this.i.length==0||wl(this.h)||J(this))};function J(h,w){var k;w?k=w.l:k=h.U++;const W=ti(h.I);Vt(W,"SID",h.K),Vt(W,"RID",k),Vt(W,"AID",h.T),ie(h,W),h.m&&h.o&&Nl(W,h.m,h.o),k=new Hn(h,h.j,k,h.B+1),h.m===null&&(k.H=h.o),w&&(h.i=w.D.concat(h.i)),w=ue(h,k,1e3),k.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Al(h.h,k),Us(k,W,w)}function ie(h,w){h.H&&F(h.H,function(k,W){Vt(w,W,k)}),h.l&&qs({},function(k,W){Vt(w,W,k)})}function ue(h,w,k){k=Math.min(h.i.length,k);var W=h.l?_(h.l.Na,h.l,h):null;e:{var ce=h.i;let _e=-1;for(;;){const Ve=["count="+k];_e==-1?0<k?(_e=ce[0].g,Ve.push("ofs="+_e)):_e=0:Ve.push("ofs="+_e);let Bt=!0;for(let jn=0;jn<k;jn++){let Mt=ce[jn].g;const Dt=ce[jn].map;if(Mt-=_e,0>Mt)_e=Math.max(0,ce[jn].g-100),Bt=!1;else try{zc(Dt,Ve,"req"+Mt+"_")}catch{W&&W(Dt)}}if(Bt){W=Ve.join("&");break e}}}return h=h.i.splice(0,k),w.D=h,W}function Ie(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;we||fe(),te||(we(),te=!0),Q.add(w,h),h.v=0}}function Le(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mr(_(h.Fa,h),$t(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,et(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mr(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),Zi(this),et(this))};function He(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function et(h){h.g=new Hn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=ti(h.qa);Vt(w,"RID","rpc"),Vt(w,"SID",h.K),Vt(w,"AID",h.T),Vt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Vt(w,"TO",h.ja),Vt(w,"TYPE","xmlhttp"),ie(h,w),h.m&&h.o&&Nl(w,h.m,h.o),h.L&&(h.g.I=h.L);var k=h.g;h=h.ia,k.L=1,k.v=_a(ti(w)),k.m=null,k.P=!0,ga(k,h)}t.Za=function(){this.C!=null&&(this.C=null,Zi(this),Le(this),wn(19))};function gt(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function bt(h,w){var k=null;if(h.g==w){gt(h),He(h),h.g=null;var W=2}else if(zs(h.h,w))k=w.D,Cn(h.h,w),W=1;else return;if(h.G!=0){if(w.o)if(W==1){k=w.m?w.m.length:0,w=Date.now()-w.F;var ce=h.B;W=Wn(),Se(W,new Ji(W,k)),g(h)}else Ie(h);else if(ce=w.s,ce==3||ce==0&&0<w.X||!(W==1&&j(h,w)||W==2&&Le(h)))switch(k&&0<k.length&&(w=h.h,w.i=w.i.concat(k)),ce){case 1:Xt(h,5);break;case 4:Xt(h,10);break;case 3:Xt(h,6);break;default:Xt(h,2)}}}function $t(h,w){let k=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(k*=2),k*w}function Xt(h,w){if(h.j.info("Error code "+w),w==2){var k=_(h.fb,h),W=h.Xa;const ce=!W;W=new tn(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ro(W,"https"),_a(W),ce?Uc(W.toString(),k):Bc(W.toString(),k)}else wn(2);h.G=0,h.l&&h.l.sa(w),Ln(h),Pl(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Ln(h){if(h.G=0,h.ka=[],h.l){const w=xl(h.h);(w.length!=0||h.i.length!=0)&&(L(h.ka,w),L(h.ka,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.ra()}}function nn(h,w,k){var W=k instanceof tn?ti(k):new tn(k);if(W.g!="")w&&(W.g=w+"."+W.g),io(W,W.s);else{var ce=o.location;W=ce.protocol,w=w?w+"."+ce.hostname:ce.hostname,ce=+ce.port;var _e=new tn(null);W&&ro(_e,W),w&&(_e.g=w),ce&&io(_e,ce),k&&(_e.l=k),W=_e}return k=h.D,w=h.ya,k&&w&&Vt(W,k,w),Vt(W,"VER",h.la),ie(h,W),W}function Vn(h,w,k){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new cn(new ao({eb:k})):new cn(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rn(){}t=Rn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Un(){}Un.prototype.g=function(h,w){return new mn(h,w)};function mn(h,w){qe.call(this),this.g=new Tl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!I(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!I(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Pi(this)}P(mn,qe),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){uo(this.g)},mn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var k={};k.__data__=h,h=k}else this.u&&(k={},k.__data__=ct(h),h=k);w.i.push(new yl(w.Ya++,h)),w.G==3&&g(w)},mn.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,mn.aa.N.call(this)};function Er(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const k in w){h=k;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}P(Er,Yt);function Cl(){yt.call(this),this.status=1}P(Cl,yt);function Pi(h){this.g=h}P(Pi,Rn),Pi.prototype.ua=function(){Se(this.g,"a")},Pi.prototype.ta=function(h){Se(this.g,new Er(h))},Pi.prototype.sa=function(h){Se(this.g,new Cl)},Pi.prototype.ra=function(){Se(this.g,"b")},Un.prototype.createWebChannel=Un.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ux=function(){return new Un},Vx=function(){return Wn()},Fx=Ot,m0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Xf=Mr,Ni.COMPLETE="complete",Mx=Ni,Nn.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",qe.prototype.listen=qe.prototype.K,wh=Nn,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,Ox=cn}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new B2("@firebase/firestore");function hh(){return su.logLevel}function tt(t,...e){if(su.logLevel<=qt.DEBUG){const n=e.map(ev);su.debug(`Firestore (${Cc}): ${t}`,...n)}}function Ga(t,...e){if(su.logLevel<=qt.ERROR){const n=e.map(ev);su.error(`Firestore (${Cc}): ${t}`,...n)}}function vc(t,...e){if(su.logLevel<=qt.WARN){const n=e.map(ev);su.warn(`Firestore (${Cc}): ${t}`,...n)}}function ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+t;throw Ga(e),new Error(e)}function un(t,e){t||St()}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Ya{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kr.UNAUTHENTICATED))}shutdown(){}}class hL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dL{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){un(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(un(typeof r.accessToken=="string"),new Bx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string"),new Kr(e)}}class fL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){un(this.o===void 0);const r=s=>{s.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,tt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(un(typeof n.token=="string"),this.R=n.token,new mL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Jt(t,e){return t<e?-1:t>e?1:0}function yc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new rr(0,0))}static max(){return new It(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r){n===void 0?n=0:n>e.length&&St(),r===void 0?r=e.length-n:r>e.length-n&&St(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xn extends cd{construct(e,n,r){return new xn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xn(n)}static emptyPath(){return new xn([])}}const yL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends cd{construct(e,n,r){return new Cr(e,n,r)}static isValidIdentifier(e){return yL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ge(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ge(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Ge(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(n)}static emptyPath(){return new Cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(xn.fromString(e))}static fromName(e){return new ht(xn.fromString(e).popFirst(5))}static empty(){return new ht(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new xn(e.slice()))}}function _L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new rr(n+1,0):new rr(n,r));return new il(i,ht.empty(),e)}function wL(t){return new il(t.readTime,t.key,-1)}class il{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new il(It.min(),ht.empty(),-1)}static max(){return new il(It.max(),ht.empty(),-1)}}function bL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==AL)throw t;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new De((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function EL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tv.oe=-1;function bm(t){return t==null}function zp(t){return t===0&&1/t==-1/0}function SL(t){return typeof t=="number"&&Number.isInteger(t)&&!zp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.comparator=e,this.root=n||Pr.EMPTY}insert(e,n){return new Fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new Fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pr.RED,this.left=i??Pr.EMPTY,this.right=s??Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1;Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.comparator=e,this.data=new Fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rr(this.comparator);return n.data=e,n}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new qi([])}unionWith(e){let n=new Rr(Cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $x("Invalid base64 string: "+s):s}}(e);return new Dr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const NL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sl(t){if(un(!!t),typeof t=="string"){let e=0;const n=NL.exec(t);if(un(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(t.seconds),nanos:Yn(t.nanos)}}function Yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function au(t){return typeof t=="string"?Dr.fromBase64String(t):Dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rv(t){const e=t.mapValue.fields.__previous_value__;return nv(e)?rv(e):e}function hd(t){const e=sl(t.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r,i,s,a,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class dd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new dd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf={mapValue:{}};function ou(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nv(t)?4:TL(t)?9007199254740991:kL(t)?10:11:St()}function fa(t,e){if(t===e)return!0;const n=ou(t);if(n!==ou(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hd(t).isEqual(hd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=sl(i.timestampValue),o=sl(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return au(i.bytesValue).isEqual(au(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yn(i.geoPointValue.latitude)===Yn(s.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yn(i.integerValue)===Yn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Yn(i.doubleValue),o=Yn(s.doubleValue);return a===o?zp(a)===zp(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(v_(a)!==v_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!fa(a[l],o[l])))return!1;return!0}(t,e);default:return St()}}function fd(t,e){return(t.values||[]).find(n=>fa(n,e))!==void 0}function _c(t,e){if(t===e)return 0;const n=ou(t),r=ou(e);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Yn(s.integerValue||s.doubleValue),l=Yn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return __(t.timestampValue,e.timestampValue);case 4:return __(hd(t),hd(e));case 5:return Jt(t.stringValue,e.stringValue);case 6:return function(s,a){const o=au(s),l=au(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Jt(o[u],l[u]);if(d!==0)return d}return Jt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Jt(Yn(s.latitude),Yn(a.latitude));return o!==0?o:Jt(Yn(s.longitude),Yn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,d;const m=s.fields||{},_=a.fields||{},p=(o=m.value)===null||o===void 0?void 0:o.arrayValue,P=(l=_.value)===null||l===void 0?void 0:l.arrayValue,S=Jt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=P==null?void 0:P.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:w_(p,P)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Sf.mapValue&&a===Sf.mapValue)return 0;if(s===Sf.mapValue)return 1;if(a===Sf.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const _=Jt(l[m],d[m]);if(_!==0)return _;const p=_c(o[l[m]],u[d[m]]);if(p!==0)return p}return Jt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw St()}}function __(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const n=sl(t),r=sl(e),i=Jt(n.seconds,r.seconds);return i!==0?i:Jt(n.nanos,r.nanos)}function w_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_c(n[i],r[i]);if(s)return s}return Jt(n.length,r.length)}function wc(t){return g0(t)}function g0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=sl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return au(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=g0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${g0(n.fields[a])}`;return i+"}"}(t.mapValue):St()}function b_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function v0(t){return!!t&&"integerValue"in t}function iv(t){return!!t&&"arrayValue"in t}function A_(t){return!!t&&"nullValue"in t}function x_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zf(t){return!!t&&"mapValue"in t}function kL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jh(n)}setAll(e){let n=Cr.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=jh(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vi(jh(this.value))}}function Wx(t){const e=[];return pu(t.fields,(n,r)=>{const i=new Cr([n]);if(Zf(r)){const s=Wx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Jr(e,0,It.min(),It.min(),It.min(),vi.empty(),0)}static newFoundDocument(e,n,r,i){return new Jr(e,1,n,It.min(),r,i,0)}static newNoDocument(e,n){return new Jr(e,2,n,It.min(),It.min(),vi.empty(),0)}static newUnknownDocument(e,n){return new Jr(e,3,n,It.min(),It.min(),vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.position=e,this.inclusive=n}}function E_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ht.comparator(ht.fromName(a.referenceValue),n.key):r=_c(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function PL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{}class or extends Hx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LL(e,n,r):n==="array-contains"?new DL(e,r):n==="in"?new OL(e,r):n==="not-in"?new ML(e,r):n==="array-contains-any"?new FL(e,r):new or(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RL(e,r):new jL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_c(n,this.value)):n!==null&&ou(this.value)===ou(n)&&this.matchesComparison(_c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rs extends Hx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rs(e,n)}matches(e){return Gx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Gx(t){return t.op==="and"}function Kx(t){return CL(t)&&Gx(t)}function CL(t){for(const e of t.filters)if(e instanceof Rs)return!1;return!0}function y0(t){if(t instanceof or)return t.field.canonicalString()+t.op.toString()+wc(t.value);if(Kx(t))return t.filters.map(e=>y0(e)).join(",");{const e=t.filters.map(n=>y0(n)).join(",");return`${t.op}(${e})`}}function Qx(t,e){return t instanceof or?function(r,i){return i instanceof or&&r.op===i.op&&r.field.isEqual(i.field)&&fa(r.value,i.value)}(t,e):t instanceof Rs?function(r,i){return i instanceof Rs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&Qx(a,i.filters[o]),!0):!1}(t,e):void St()}function Jx(t){return t instanceof or?function(n){return`${n.field.canonicalString()} ${n.op} ${wc(n.value)}`}(t):t instanceof Rs?function(n){return n.op.toString()+" {"+n.getFilters().map(Jx).join(" ,")+"}"}(t):"Filter"}class LL extends or{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class RL extends or{constructor(e,n){super(e,"in",n),this.keys=Yx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jL extends or{constructor(e,n){super(e,"not-in",n),this.keys=Yx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class DL extends or{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iv(n)&&fd(n.arrayValue,this.value)}}class OL extends or{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fd(this.value.arrayValue,n)}}class ML extends or{constructor(e,n){super(e,"not-in",n)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fd(this.value.arrayValue,n)}}class FL extends or{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function N_(t,e=null,n=[],r=[],i=null,s=null,a=null){return new VL(t,e,n,r,i,s,a)}function sv(t){const e=kt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>y0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wc(r)).join(",")),e.ue=n}return e.ue}function av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Qx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function _0(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UL(t,e,n,r,i,s,a,o){return new Lc(t,e,n,r,i,s,a,o)}function Am(t){return new Lc(t)}function I_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xx(t){return t.collectionGroup!==null}function Dh(t){const e=kt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Rr(Cr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pd(s,r))}),n.has(Cr.keyField().canonicalString())||e.ce.push(new pd(Cr.keyField(),r))}return e.ce}function ha(t){const e=kt(t);return e.le||(e.le=BL(e,Dh(t))),e.le}function BL(t,e){if(t.limitType==="F")return N_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pd(i.field,s)});const n=t.endAt?new qp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qp(t.startAt.position,t.startAt.inclusive):null;return N_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w0(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $p(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xm(t,e){return av(ha(t),ha(e))&&t.limitType===e.limitType}function Zx(t){return`${sv(ha(t))}|lt:${t.limitType}`}function Tu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jx(i)).join(", ")}]`),bm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wc(i)).join(",")),`Target(${r})`}(ha(t))}; limitType=${t.limitType})`}function Em(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ht.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Dh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=E_(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,Dh(r),i)||r.endAt&&!function(a,o,l){const u=E_(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,Dh(r),i))}(t,e)}function zL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eE(t){return(e,n)=>{let r=!1;for(const i of Dh(t)){const s=qL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qL(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?_c(l,u):St()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Fn(ht.comparator);function Ka(){return $L}const tE=new Fn(ht.comparator);function bh(...t){let e=tE;for(const n of t)e=e.insert(n.key,n);return e}function nE(t){let e=tE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gl(){return Oh()}function rE(){return Oh()}function Oh(){return new Rc(t=>t.toString(),(t,e)=>t.isEqual(e))}const WL=new Fn(ht.comparator),HL=new Rr(ht.comparator);function Ut(...t){let e=HL;for(const n of t)e=e.add(n);return e}const GL=new Rr(Jt);function KL(){return GL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zp(e)?"-0":e}}function iE(t){return{integerValue:""+t}}function QL(t,e){return SL(e)?iE(e):ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function JL(t,e,n){return t instanceof md?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nv(s)&&(s=rv(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof gd?aE(t,e):t instanceof vd?oE(t,e):function(i,s){const a=sE(i,s),o=k_(a)+k_(i.Pe);return v0(a)&&v0(i.Pe)?iE(o):ov(i.serializer,o)}(t,e)}function YL(t,e,n){return t instanceof gd?aE(t,e):t instanceof vd?oE(t,e):n}function sE(t,e){return t instanceof Wp?function(r){return v0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class md extends Sm{}class gd extends Sm{constructor(e){super(),this.elements=e}}function aE(t,e){const n=lE(e);for(const r of t.elements)n.some(i=>fa(i,r))||n.push(r);return{arrayValue:{values:n}}}class vd extends Sm{constructor(e){super(),this.elements=e}}function oE(t,e){let n=lE(e);for(const r of t.elements)n=n.filter(i=>!fa(i,r));return{arrayValue:{values:n}}}class Wp extends Sm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function k_(t){return Yn(t.integerValue||t.doubleValue)}function lE(t){return iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.field=e,this.transform=n}}function ZL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gd&&i instanceof gd||r instanceof vd&&i instanceof vd?yc(r.elements,i.elements,fa):r instanceof Wp&&i instanceof Wp?fa(r.Pe,i.Pe):r instanceof md&&i instanceof md}(t.transform,e.transform)}class eR{constructor(e,n){this.version=e,this.transformResults=n}}class os{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nm{}function uE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lv(t.key,os.none()):new jd(t.key,t.data,os.none());{const n=t.data,r=vi.empty();let i=new Rr(Cr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ml(t.key,r,new qi(i.toArray()),os.none())}}function tR(t,e,n){t instanceof jd?function(i,s,a){const o=i.value.clone(),l=P_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ml?function(i,s,a){if(!ep(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=P_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(cE(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Mh(t,e,n,r){return t instanceof jd?function(s,a,o,l){if(!ep(s.precondition,a))return o;const u=s.value.clone(),d=C_(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ml?function(s,a,o,l){if(!ep(s.precondition,a))return o;const u=C_(s.fieldTransforms,l,a),d=a.data;return d.setAll(cE(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,o){return ep(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function nR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sE(r.transform,i||null);s!=null&&(n===null&&(n=vi.empty()),n.set(r.field,s))}return n||null}function T_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yc(r,i,(s,a)=>ZL(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jd extends Nm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ml extends Nm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;un(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,YL(a,o,n[i]))}return r}function C_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,JL(s,a,e))}return r}class lv extends Nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rR extends Nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rE();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=uE(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(n,r)=>T_(n,r))&&yc(this.baseMutations,e.baseMutations,(n,r)=>T_(n,r))}}class uv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){un(e.mutations.length===r.length);let i=function(){return WL}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new uv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr,Ht;function oR(t){switch(t){default:return St();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function hE(t){if(t===void 0)return Ga("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case sr.OK:return Ce.OK;case sr.CANCELLED:return Ce.CANCELLED;case sr.UNKNOWN:return Ce.UNKNOWN;case sr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case sr.INTERNAL:return Ce.INTERNAL;case sr.UNAVAILABLE:return Ce.UNAVAILABLE;case sr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case sr.NOT_FOUND:return Ce.NOT_FOUND;case sr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case sr.ABORTED:return Ce.ABORTED;case sr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case sr.DATA_LOSS:return Ce.DATA_LOSS;default:return St()}}(Ht=sr||(sr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Jl([4294967295,4294967295],0);function L_(t){const e=lR().encode(t),n=new Dx;return n.update(e),new Uint8Array(n.digest())}function R_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jl([n,r],0),new Jl([i,s],0)]}class cv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jl.fromNumber(r)));return i.compare(uR)===1&&(i=new Jl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=L_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new cv(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=L_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Im(It.min(),i,new Fn(Jt),Ka(),Ut())}}class Dd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dd(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class dE{constructor(e,n){this.targetId=e,this.me=n}}class fE{constructor(e,n,r=Dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j_{constructor(){this.fe=0,this.ge=O_(),this.pe=Dr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ut(),n=Ut(),r=Ut();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:St()}}),new Dd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=O_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,un(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ka(),this.qe=D_(),this.Qe=new Fn(Jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:St()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(_0(s))if(r===0){const a=new ht(s.path);this.Ue(n,a,Jr.newNoDocument(a,It.min()))}else un(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=au(r).toUint8Array()}catch(l){if(l instanceof $x)return vc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new cv(a,i,s)}catch(l){return vc(l instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&_0(o.target)){const l=new ht(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Jr.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Ut();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Im(e,n,this.Qe,this.ke,r);return this.ke=Ka(),this.qe=D_(),this.Qe=new Fn(Jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rr(Jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function D_(){return new Fn(ht.comparator)}function O_(){return new Fn(ht.comparator)}const hR={asc:"ASCENDING",desc:"DESCENDING"},dR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fR={and:"AND",or:"OR"};class pR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b0(t,e){return t.useProto3Json||bm(e)?e:{value:e}}function Hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mR(t,e){return Hp(t,e.toTimestamp())}function da(t){return un(!!t),It.fromTimestamp(function(n){const r=sl(n);return new rr(r.seconds,r.nanos)}(t))}function hv(t,e){return A0(t,e).canonicalString()}function A0(t,e){const n=function(i){return new xn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mE(t){const e=xn.fromString(t);return un(wE(e)),e}function x0(t,e){return hv(t.databaseId,e.path)}function Fg(t,e){const n=mE(e);if(n.get(1)!==t.databaseId.projectId)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(vE(n))}function gE(t,e){return hv(t.databaseId,e)}function gR(t){const e=mE(t);return e.length===4?xn.emptyPath():vE(e)}function E0(t){return new xn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vE(t){return un(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M_(t,e,n){return{name:x0(t,e),fields:n.value.mapValue.fields}}function vR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(un(d===void 0||typeof d=="string"),Dr.fromBase64String(d||"")):(un(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Dr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?Ce.UNKNOWN:hE(u.code);return new Ge(d,u.message||"")}(a);n=new fE(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fg(t,r.document.name),s=da(r.document.updateTime),a=r.document.createTime?da(r.document.createTime):It.min(),o=new vi({mapValue:{fields:r.document.fields}}),l=Jr.newFoundDocument(i,s,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new tp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fg(t,r.document),s=r.readTime?da(r.readTime):It.min(),a=Jr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new tp([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fg(t,r.document),s=r.removedTargetIds||[];n=new tp([],s,i,null)}else{if(!("filter"in e))return St();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new aR(i,s),o=r.targetId;n=new dE(o,a)}}return n}function yR(t,e){let n;if(e instanceof jd)n={update:M_(t,e.key,e.value)};else if(e instanceof lv)n={delete:x0(t,e.key)};else if(e instanceof ml)n={update:M_(t,e.key,e.data),updateMask:IR(e.fieldMask)};else{if(!(e instanceof rR))return St();n={verify:x0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof md)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wp)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw St()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:St()}(t,e.precondition)),n}function _R(t,e){return t&&t.length>0?(un(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?da(i.updateTime):da(s);return a.isEqual(It.min())&&(a=da(s)),new eR(a,i.transformResults||[])}(n,e))):[]}function wR(t,e){return{documents:[gE(t,e.path)]}}function bR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gE(t,i);const s=function(u){if(u.length!==0)return _E(Rs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(_){return{field:Pu(_.field),direction:ER(_.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=b0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function AR(t){let e=gR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){un(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const _=yE(m);return _ instanceof Rs&&Kx(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(_=>function(P){return new pd(Cu(P.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(_))}(n.orderBy));let o=null;n.limit&&(o=function(m){let _;return _=typeof m=="object"?m.value:m,bm(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(m){const _=!!m.before,p=m.values||[];return new qp(p,_)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const _=!m.before,p=m.values||[];return new qp(p,_)}(n.endAt)),UL(e,i,a,s,o,"F",l,u)}function xR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return or.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cu(n.unaryFilter.field);return or.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cu(n.unaryFilter.field);return or.create(a,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(t):t.fieldFilter!==void 0?function(n){return or.create(Cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rs.create(n.compositeFilter.filters.map(r=>yE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St()}}(n.compositeFilter.op))}(t):St()}function ER(t){return hR[t]}function SR(t){return dR[t]}function NR(t){return fR[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Cu(t){return Cr.fromServerFormat(t.fieldPath)}function _E(t){return t instanceof or?function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(A_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(A_(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:SR(n.op),value:n.value}}}(t):t instanceof Rs?function(n){const r=n.getFilters().map(i=>_E(i));return r.length===1?r[0]:{compositeFilter:{op:NR(n.op),filters:r}}}(t):St()}function IR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r,i,s=It.min(),a=It.min(),o=Dr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.ct=e}}function TR(t){const e=AR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.un=new CR}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(il.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(il.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class CR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rr(xn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rr(xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bc(0)}static kn(){return new bc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.changes=new Rc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mh(r.mutation,i,qi.empty(),rr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ut()){const i=Gl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=bh();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Gl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Ka();const a=Oh(),o=function(){return Oh()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ml)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Mh(d.mutation,u,d.mutation.getFieldMask(),rr.now())):a.set(u.key,qi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var m;return o.set(u,new RR(d,(m=a.get(u))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Oh();let i=new Fn((a,o)=>a-o),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||qi.empty();d=o.applyToLocalView(u,d),r.set(l,d);const m=(i.get(o.batchId)||Ut()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,m=rE();d.forEach(_=>{if(!s.has(_)){const p=uE(n.get(_),r.get(_));p!==null&&m.set(_,p),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,m))}return De.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):De.resolve(Gl());let o=-1,l=s;return a.next(u=>De.forEach(u,(d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(d)?De.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{l=l.insert(d,_)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ut())).next(d=>({batchId:o,changes:nE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(r=>{let i=bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=bh();return this.indexManager.getCollectionParents(e,s).next(o=>De.forEach(o,l=>{const u=function(m,_){return new Lc(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((m,_)=>{a=a.insert(m,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Jr.newInvalidDocument(d)))});let o=bh();return a.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Mh(d.mutation,u,qi.empty(),rr.now()),Em(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:da(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:TR(i.bundledQuery),readTime:da(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.overlays=new Fn(ht.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gl();return De.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=Gl(),s=n.length+1,a=new ht(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Gl(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Gl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return De.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new sR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ut(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.sessionToken=Dr.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.Tr=new Rr(_r.Er),this.dr=new Rr(_r.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _r(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ht(new xn([])),r=new _r(n,e),i=new _r(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ht(new xn([])),r=new _r(n,e),i=new _r(n,e+1);let s=Ut();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new _r(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ht.comparator(e.key,n.key)||Jt(e.wr,n.wr)}static Ar(e,n){return Jt(e.wr,n.wr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rr(_r.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iR(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new _r(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return De.resolve(a)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rr(Jt);return n.forEach(i=>{const s=new _r(i,0),a=new _r(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),De.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ht.isDocumentKey(s)||(s=s.child(""));const a=new _r(new ht(s),0);let o=new Rr(Jt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),De.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){un(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return De.forEach(n.mutations,i=>{const s=new _r(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new _r(n,0),i=this.br.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.Mr=e,this.docs=function(){return new Fn(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(n))}getEntries(e,n){let r=Ka();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jr.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ka();const a=n.path,o=new ht(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||bL(wL(d),r)<=0||(i.has(d.key)||Em(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,n,r,i){St()}Or(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UR(this)}getSize(e){return De.resolve(this.size)}}class UR extends LR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.persistence=e,this.Nr=new Rc(n=>sv(n),av),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new dv,this.targetCount=0,this.kr=bc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),De.waitFor(s).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tv(0),this.Kr=!1,this.Kr=!0,this.$r=new MR,this.referenceDelegate=e(this),this.Ur=new BR(this),this.indexManager=new PR,this.remoteDocumentCache=function(i){return new VR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kR(n),this.Gr=new DR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){tt("MemoryPersistence","Starting transaction:",e);const i=new qR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return De.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qR extends xL{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.Jr=new dv,this.Yr=null}static Zr(e){return new fv(e)}get Xr(){if(this.Yr)return this.Yr;throw St()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,r=>{const i=ht.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,It.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ut(),i=Ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return TT()?8:EL(Zr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new $R;return this.Xi(e,n,a).next(o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hh()<=qt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",Tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(hh()<=qt.DEBUG&&tt("QueryEngine","Query:",Tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hh()<=qt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",Tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ha(n))):De.resolve())}Yi(e,n){if(I_(n))return De.resolve(null);let r=ha(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$p(n,null,"F"),r=ha(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ut(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,o);return this.ns(n,u,a,l.readTime)?this.Yi(e,$p(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return I_(n)||i.isEqual(It.min())?De.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?De.resolve(null):(hh()<=qt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tu(n)),this.rs(e,a,n,_L(i,-1)).next(o=>o))})}ts(e,n){let r=new Rr(eE(e));return n.forEach((i,s)=>{Em(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return hh()<=qt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Tu(n)),this.Ji.getDocumentsMatchingQuery(e,n,il.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fn(Jt),this._s=new Rc(s=>sv(s),av),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GR(t,e,n,r){return new HR(t,e,n,r)}async function bE(t,e){const n=kt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Ut();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function KR(t,e){const n=kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const m=u.batch,_=m.keys();let p=De.resolve();return _.forEach(P=>{p=p.next(()=>d.getEntry(l,P)).next(S=>{const L=u.docVersions.get(P);un(L!==null),S.version.compareTo(L)<0&&(m.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ut();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AE(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function QR(t,e){const n=kt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((d,m)=>{const _=i.get(m);if(!_)return;o.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,m)));let p=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(Dr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(m,p),function(S,L,b){return S.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(_,p,d)&&o.push(n.Ur.updateTargetData(s,p))});let l=Ka(),u=Ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(JR(s,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(It.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return De.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function JR(t,e,n){let r=Ut(),i=Ut();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ka();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):tt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function YR(t,e){const n=kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XR(t,e){const n=kt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,De.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Vo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function S0(t,e,n){const r=kt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Rd(a))throw a;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function F_(t,e,n){const r=kt(t);let i=It.min(),s=Ut();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const m=kt(l),_=m._s.get(d);return _!==void 0?De.resolve(m.os.get(_)):m.Ur.getTargetData(u,d)}(r,a,ha(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:It.min(),n?s:Ut())).next(o=>(ZR(r,zL(e),o),{documents:o,Ts:s})))}function ZR(t,e,n){let r=t.us.get(e)||It.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class V_{constructor(){this.activeTargetIds=KL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e8{constructor(){this.so=new V_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new V_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf=null;function Vg(){return Nf===null?Nf=function(){return 268435456+Math.round(2147483648*Math.random())}():Nf++,"0x"+Nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="WebChannelConnection";class i8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=Vg(),l=this.xo(n,r.toUriEncodedString());tt("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(n,l,u,i).then(d=>(tt("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw vc("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=n8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Vg();return new Promise((a,o)=>{const l=new Ox;l.setWithCredentials(!0),l.listenOnce(Mx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xf.NO_ERROR:const d=l.getResponseJson();tt(qr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case Xf.TIMEOUT:tt(qr,`RPC '${e}' ${s} timed out`),o(new Ge(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const m=l.getStatus();if(tt(qr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const p=_==null?void 0:_.error;if(p&&p.status&&p.message){const P=function(L){const b=L.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(b)>=0?b:Ce.UNKNOWN}(p.status);o(new Ge(P,p.message))}else o(new Ge(Ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ge(Ce.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{tt(qr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);tt(qr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Vg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ux(),o=Vx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");tt(qr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=a.createWebChannel(d,l);let _=!1,p=!1;const P=new r8({Io:L=>{p?tt(qr,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(_||(tt(qr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),tt(qr,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},To:()=>m.close()}),S=(L,b,I)=>{L.listen(b,R=>{try{I(R)}catch(B){setTimeout(()=>{throw B},0)}})};return S(m,wh.EventType.OPEN,()=>{p||(tt(qr,`RPC '${e}' stream ${i} transport opened.`),P.yo())}),S(m,wh.EventType.CLOSE,()=>{p||(p=!0,tt(qr,`RPC '${e}' stream ${i} transport closed`),P.So())}),S(m,wh.EventType.ERROR,L=>{p||(p=!0,vc(qr,`RPC '${e}' stream ${i} transport errored:`,L),P.So(new Ge(Ce.UNAVAILABLE,"The operation could not be completed")))}),S(m,wh.EventType.MESSAGE,L=>{var b;if(!p){const I=L.data[0];un(!!I);const R=I,B=R.error||((b=R[0])===null||b===void 0?void 0:b.error);if(B){tt(qr,`RPC '${e}' stream ${i} received error:`,B);const ee=B.status;let F=function(N){const O=sr[N];if(O!==void 0)return hE(O)}(ee),V=B.message;F===void 0&&(F=Ce.INTERNAL,V="Unknown error status: "+ee+" with message "+B.message),p=!0,P.So(new Ge(F,V)),m.close()}else tt(qr,`RPC '${e}' stream ${i} received:`,I),P.bo(I)}}),S(o,Fx.STAT_EVENT,L=>{L.stat===m0.PROXY?tt(qr,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===m0.NOPROXY&&tt(qr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){return new pR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,i,s,a,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(Ga(n.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ge(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s8 extends EE{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vR(this.serializer,e),r=function(s){if(!("targetChange"in s))return It.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?It.min():a.readTime?da(a.readTime):It.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=E0(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=_0(l)?{documents:wR(s,l)}:{query:bR(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=pE(s,a.resumeToken);const u=b0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(It.min())>0){o.readTime=Hp(s,a.snapshotVersion.toTimestamp());const u=b0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=xR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=E0(this.serializer),n.removeTarget=e,this.a_(n)}}class a8 extends EE{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return un(!!e.streamToken),this.lastStreamToken=e.streamToken,un(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_R(e.writeResults,e.commitTime),r=da(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=E0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,A0(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ge(Ce.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,A0(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ge(Ce.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class l8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ga(n),this.D_=!1):tt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{mu(this)&&(tt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=kt(l);u.L_.add(4),await Od(u),u.q_.set("Unknown"),u.L_.delete(4),await Tm(u)}(this))})}),this.q_=new l8(r,i)}}async function Tm(t){if(mu(t))for(const e of t.B_)await e(!0)}async function Od(t){for(const e of t.B_)await e(!1)}function SE(t,e){const n=kt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yv(n)?vv(n):jc(n).r_()&&gv(n,e))}function mv(t,e){const n=kt(t),r=jc(n);n.N_.delete(e),r.r_()&&NE(n,e),n.N_.size===0&&(r.r_()?r.o_():mu(n)&&n.q_.set("Unknown"))}function gv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).A_(e)}function NE(t,e){t.Q_.xe(e),jc(t).R_(e)}function vv(t){t.Q_=new cR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.q_.v_()}function yv(t){return mu(t)&&!jc(t).n_()&&t.N_.size>0}function mu(t){return kt(t).L_.size===0}function IE(t){t.Q_=void 0}async function c8(t){t.q_.set("Online")}async function h8(t){t.N_.forEach((e,n)=>{gv(t,e)})}async function d8(t,e){IE(t),yv(t)?(t.q_.M_(e),vv(t)):t.q_.set("Unknown")}async function f8(t,e,n){if(t.q_.set("Online"),e instanceof fE&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gp(t,r)}else if(e instanceof tp?t.Q_.Ke(e):e instanceof dE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(It.min()))try{const r=await AE(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Dr.EMPTY_BYTE_STRING,d.snapshotVersion)),NE(s,l);const m=new Vo(d.target,l,u,d.sequenceNumber);gv(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){tt("RemoteStore","Failed to raise snapshot:",r),await Gp(t,r)}}async function Gp(t,e,n){if(!Rd(e))throw e;t.L_.add(1),await Od(t),t.q_.set("Offline"),n||(n=()=>AE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{tt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Tm(t)})}function kE(t,e){return e().catch(n=>Gp(t,n,e))}async function Pm(t){const e=kt(t),n=al(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p8(e);)try{const i=await YR(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,m8(e,i)}catch(i){await Gp(e,i)}TE(e)&&PE(e)}function p8(t){return mu(t)&&t.O_.length<10}function m8(t,e){t.O_.push(e);const n=al(t);n.r_()&&n.V_&&n.m_(e.mutations)}function TE(t){return mu(t)&&!al(t).n_()&&t.O_.length>0}function PE(t){al(t).start()}async function g8(t){al(t).p_()}async function v8(t){const e=al(t);for(const n of t.O_)e.m_(n.mutations)}async function y8(t,e,n){const r=t.O_.shift(),i=uv.from(r,e,n);await kE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pm(t)}async function _8(t,e){e&&al(t).V_&&await async function(r,i){if(function(a){return oR(a)&&a!==Ce.ABORTED}(i.code)){const s=r.O_.shift();al(r).s_(),await kE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pm(r)}}(t,e),TE(t)&&PE(t)}async function B_(t,e){const n=kt(t);n.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const r=mu(n);n.L_.add(3),await Od(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Tm(n)}async function w8(t,e){const n=kt(t);e?(n.L_.delete(2),await Tm(n)):e||(n.L_.add(2),await Od(n),n.q_.set("Unknown"))}function jc(t){return t.K_||(t.K_=function(n,r,i){const s=kt(n);return s.w_(),new s8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:c8.bind(null,t),Ro:h8.bind(null,t),mo:d8.bind(null,t),d_:f8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yv(t)?vv(t):t.q_.set("Unknown")):(await t.K_.stop(),IE(t))})),t.K_}function al(t){return t.U_||(t.U_=function(n,r,i){const s=kt(n);return s.w_(),new a8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:g8.bind(null,t),mo:_8.bind(null,t),f_:v8.bind(null,t),g_:y8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Pm(t)):(await t.U_.stop(),t.O_.length>0&&(tt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new _v(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(Ga("AsyncQueue",`${e}: ${t}`),Rd(t))return new Ge(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new Fn(this.comparator)}static emptySet(e){return new ic(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.W_=new Fn(ht.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):St():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ac{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ac(e,n,ic.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class A8{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=kt(n),s=i.queries;i.queries=q_(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new Ge(Ce.ABORTED,"Firestore shutting down"))}}function q_(){return new Rc(t=>Zx(t),xm)}async function CE(t,e){const n=kt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new b8,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=wv(a,`Initialization of query '${Tu(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&bv(n)}async function LE(t,e){const n=kt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x8(t,e){const n=kt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&bv(n)}function E8(t,e,n){const r=kt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function bv(t){t.Y_.forEach(e=>{e.next()})}var N0,$_;($_=N0||(N0={})).ea="default",$_.Cache="cache";class RE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==N0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.key=e}}class DE{constructor(e){this.key=e}}class S8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ut(),this.mutatedKeys=Ut(),this.Aa=eE(e),this.Ra=new ic(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new z_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const _=i.get(d),p=Em(this.query,m)?m:null,P=!!_&&this.mutatedKeys.has(_.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let L=!1;_&&p?_.data.isEqual(p.data)?P!==S&&(r.track({type:3,doc:p}),L=!0):this.ga(_,p)||(r.track({type:2,doc:p}),L=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(o=!0)):!_&&p?(r.track({type:0,doc:p}),L=!0):_&&!p&&(r.track({type:1,doc:_}),L=!0,(l||u)&&(o=!0)),L&&(p?(a=a.add(p),s=S?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,m)=>function(p,P){const S=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return S(p)-S(P)}(d.type,m.type)||this.Aa(d.doc,m.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Ac(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new z_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ut(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new DE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new jE(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ut();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ac.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I8{constructor(e){this.key=e,this.va=!1}}class k8{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Rc(o=>Zx(o),xm),this.Ma=new Map,this.xa=new Set,this.Oa=new Fn(ht.comparator),this.Na=new Map,this.La=new dv,this.Ba={},this.ka=new Map,this.qa=bc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function T8(t,e,n=!0){const r=BE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await OE(r,e,n,!0),i}async function P8(t,e){const n=BE(t);await OE(n,e,!0,!1)}async function OE(t,e,n,r){const i=await XR(t.localStore,ha(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await C8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&SE(t.remoteStore,i),o}async function C8(t,e,n,r,i){t.Ka=(m,_,p)=>async function(S,L,b,I){let R=L.view.ma(b);R.ns&&(R=await F_(S.localStore,L.query,!1).then(({documents:V})=>L.view.ma(V,R)));const B=I&&I.targetChanges.get(L.targetId),ee=I&&I.targetMismatches.get(L.targetId)!=null,F=L.view.applyChanges(R,S.isPrimaryClient,B,ee);return H_(S,L.targetId,F.wa),F.snapshot}(t,m,_,p);const s=await F_(t.localStore,e,!0),a=new S8(e,s.Ts),o=a.ma(s.documents),l=Dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);H_(t,n,u.wa);const d=new N8(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function L8(t,e,n){const r=kt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!xm(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mv(r.remoteStore,i.targetId),I0(r,i.targetId)}).catch(Ld)):(I0(r,i.targetId),await S0(r.localStore,i.targetId,!0))}async function R8(t,e){const n=kt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mv(n.remoteStore,r.targetId))}async function j8(t,e,n){const r=B8(t);try{const i=await function(a,o){const l=kt(a),u=rr.now(),d=o.reduce((p,P)=>p.add(P.key),Ut());let m,_;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let P=Ka(),S=Ut();return l.cs.getEntries(p,d).next(L=>{P=L,P.forEach((b,I)=>{I.isValidDocument()||(S=S.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,P)).next(L=>{m=L;const b=[];for(const I of o){const R=nR(I,m.get(I.key).overlayedDocument);R!=null&&b.push(new ml(I.key,R,Wx(R.value.mapValue),os.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,o)}).next(L=>{_=L;const b=L.applyToLocalDocumentSet(m,S);return l.documentOverlayCache.saveOverlays(p,L.batchId,b)})}).then(()=>({batchId:_.batchId,changes:nE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new Fn(Jt)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Md(r,i.changes),await Pm(r.remoteStore)}catch(i){const s=wv(i,"Failed to persist write");n.reject(s)}}async function ME(t,e){const n=kt(t);try{const r=await QR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?un(a.va):i.removedDocuments.size>0&&(un(a.va),a.va=!1))}),await Md(n,r,e)}catch(r){await Ld(r)}}function W_(t,e,n){const r=kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=kt(a);l.onlineState=o;let u=!1;l.queries.forEach((d,m)=>{for(const _ of m.j_)_.Z_(o)&&(u=!0)}),u&&bv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D8(t,e,n){const r=kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Fn(ht.comparator);a=a.insert(s,Jr.newNoDocument(s,It.min()));const o=Ut().add(s),l=new Im(It.min(),new Map,new Fn(Jt),a,o);await ME(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Av(r)}else await S0(r.localStore,e,!1).then(()=>I0(r,e,n)).catch(Ld)}async function O8(t,e){const n=kt(t),r=e.batch.batchId;try{const i=await KR(n.localStore,e);VE(n,r,null),FE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Md(n,i)}catch(i){await Ld(i)}}async function M8(t,e,n){const r=kt(t);try{const i=await function(a,o){const l=kt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(m=>(un(m!==null),d=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);VE(r,e,n),FE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Md(r,i)}catch(i){await Ld(i)}}function FE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function VE(t,e,n){const r=kt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function I0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UE(t,r)})}function UE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(mv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Av(t))}function H_(t,e,n){for(const r of n)r instanceof jE?(t.La.addReference(r.key,e),F8(t,r)):r instanceof DE?(tt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UE(t,r.key)):St()}function F8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(tt("SyncEngine","New document in limbo: "+n),t.xa.add(r),Av(t))}function Av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ht(xn.fromString(e)),r=t.qa.next();t.Na.set(r,new I8(n)),t.Oa=t.Oa.insert(n,r),SE(t.remoteStore,new Vo(ha(Am(n.path)),r,"TargetPurposeLimboResolution",tv.oe))}}async function Md(t,e,n){const r=kt(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=pv.Wi(l.targetId,u);s.push(m)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const d=kt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>De.forEach(u,_=>De.forEach(_.$i,p=>d.persistence.referenceDelegate.addReference(m,_.targetId,p)).next(()=>De.forEach(_.Ui,p=>d.persistence.referenceDelegate.removeReference(m,_.targetId,p)))))}catch(m){if(!Rd(m))throw m;tt("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const _=m.targetId;if(!m.fromCache){const p=d.os.get(_),P=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(P);d.os=d.os.insert(_,S)}}}(r.localStore,s))}async function V8(t,e){const n=kt(t);if(!n.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const r=await bE(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new Ge(Ce.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Md(n,r.hs)}}function U8(t,e){const n=kt(t),r=n.Na.get(e);if(r&&r.va)return Ut().add(r.key);{let i=Ut();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function BE(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D8.bind(null,e),e.Ca.d_=x8.bind(null,e.eventManager),e.Ca.$a=E8.bind(null,e.eventManager),e}function B8(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M8.bind(null,e),e}class Kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GR(this.persistence,new WR,e.initialUser,this.serializer)}Ga(e){return new zR(fv.Zr,this.serializer)}Wa(e){return new e8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kp.provider={build:()=>new Kp};class k0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V8.bind(null,this.syncEngine),await w8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A8}()}createDatastore(e){const n=km(e.databaseInfo.databaseId),r=function(s){return new i8(s)}(e.databaseInfo);return function(s,a,o,l){return new o8(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new u8(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return U_.D()?new U_:new t8}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,d){const m=new k8(i,s,a,o,l,u);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=kt(i);tt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Od(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}k0.provider={build:()=>new k0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{tt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(tt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bg(t,e){t.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q8(t);tt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>B_(e.remoteStore,i)),t._onlineComponents=e}async function q8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vc("Error using user provided cache. Falling back to memory cache: "+n),await Bg(t,new Kp)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),await Bg(t,new Kp);return t._offlineComponents}async function qE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),await G_(t,t._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),await G_(t,new k0))),t._onlineComponents}function $8(t){return qE(t).then(e=>e.syncEngine)}async function T0(t){const e=await qE(t),n=e.eventManager;return n.onListen=T8.bind(null,e.syncEngine),n.onUnlisten=L8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R8.bind(null,e.syncEngine),n}function W8(t,e,n={}){const r=new Zo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const d=new zE({next:_=>{d.Za(),a.enqueueAndForget(()=>LE(s,m));const p=_.docs.has(o);!p&&_.fromCache?u.reject(new Ge(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&_.fromCache&&l&&l.source==="server"?u.reject(new Ge(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),m=new RE(Am(o.path),d,{includeMetadataChanges:!0,_a:!0});return CE(s,m)}(await T0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e,n){if(!n)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H8(t,e,n,r){if(e===!0&&r===!0)throw new Ge(Ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q_(t){if(!ht.isDocumentKey(t))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J_(t){if(ht.isDocumentKey(t))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":St()}function ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ge(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new Ge(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cL;switch(r.type){case"firstParty":return new pL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=K_.get(n);r&&(tt("ComponentProvider","Removing Datastore"),K_.delete(n),r.terminate())}(this),Promise.resolve()}}function G8(t,e,n,r={}){var i;const s=(t=ls(t,Lm))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Kr.MOCK_USER;else{o=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ge(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kr(u)}t._authCredentials=new hL(new Bx(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class Yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class el extends gl{constructor(e,n,r){super(e,n,Am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new ht(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function yi(t,e,...n){if(t=xr(t),WE("collection","path",e),t instanceof Lm){const r=xn.fromString(e,...n);return J_(r),new el(t,null,r)}{if(!(t instanceof Yr||t instanceof el))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xn.fromString(e,...n));return J_(r),new el(t.firestore,null,r)}}function hn(t,e,...n){if(t=xr(t),arguments.length===1&&(e=zx.newId()),WE("doc","path",e),t instanceof Lm){const r=xn.fromString(e,...n);return Q_(r),new Yr(t,null,new ht(r))}{if(!(t instanceof Yr||t instanceof el))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xn.fromString(e,...n));return Q_(r),new Yr(t.firestore,t instanceof el?t.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xE(this,"async_queue_retry"),this.Vu=()=>{const r=Ug();r&&tt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Rd(e))throw e;tt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Ga("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=_v.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&St()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Z_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ol extends Lm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X_(e),this._firestoreClient=void 0,await e}}}function K8(t,e){const n=typeof t=="object"?t:$2(),r=typeof t=="string"?t:"(default)",i=q2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wT("firestore");s&&G8(i,...s)}return i}function xv(t){if(t._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q8(t),t._firestoreClient}function Q8(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,d){return new IL(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$E(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new z8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(Dr.fromBase64String(e))}catch(n){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xc(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=/^__.*__$/;class Y8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ml(e,this.data,this.fieldMask,n,this.fieldTransforms):new jd(e,this.data,n,this.fieldTransforms)}}class HE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ml(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class Nv{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GE(this.Cu)&&J8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class X8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||km(e)}Qu(e,n,r,i=!1){return new Nv({Cu:e,methodName:n,qu:r,path:Cr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dm(t){const e=t._freezeSettings(),n=km(t._databaseId);return new X8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KE(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);kv("Data must be an object, but it was:",a,r);const o=QE(r,a);let l,u;if(s.merge)l=new qi(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const _=P0(e,m,n);if(!a.contains(_))throw new Ge(Ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);YE(d,_)||d.push(_)}l=new qi(d),u=a.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=a.fieldTransforms;return new Y8(new vi(o),l,u)}class Om extends jm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Om}}class Iv extends jm{_toFieldTransform(e){return new XL(e.path,new md)}isEqual(e){return e instanceof Iv}}function Z8(t,e,n,r){const i=t.Qu(1,e,n);kv("Data must be an object, but it was:",i,r);const s=[],a=vi.empty();pu(r,(l,u)=>{const d=Tv(e,l,n);u=xr(u);const m=i.Nu(d);if(u instanceof Om)s.push(d);else{const _=Fd(u,m);_!=null&&(s.push(d),a.set(d,_))}});const o=new qi(s);return new HE(a,o,i.fieldTransforms)}function e7(t,e,n,r,i,s){const a=t.Qu(1,e,n),o=[P0(e,r,n)],l=[i];if(s.length%2!=0)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)o.push(P0(e,s[_])),l.push(s[_+1]);const u=[],d=vi.empty();for(let _=o.length-1;_>=0;--_)if(!YE(u,o[_])){const p=o[_];let P=l[_];P=xr(P);const S=a.Nu(p);if(P instanceof Om)u.push(p);else{const L=Fd(P,S);L!=null&&(u.push(p),d.set(p,L))}}const m=new qi(u);return new HE(d,m,a.fieldTransforms)}function t7(t,e,n,r=!1){return Fd(n,t.Qu(r?4:3,e))}function Fd(t,e){if(JE(t=xr(t)))return kv("Unsupported field value:",e,t),QE(t,e);if(t instanceof jm)return function(r,i){if(!GE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Fd(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rr.fromDate(r);return{timestampValue:Hp(i.serializer,s)}}if(r instanceof rr){const s=new rr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hp(i.serializer,s)}}if(r instanceof Ev)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:pE(i.serializer,r._byteString)};if(r instanceof Yr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sv)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return ov(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Cm(r)}`)}(t,e)}function QE(t,e){const n={};return qx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,(r,i)=>{const s=Fd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rr||t instanceof Ev||t instanceof xc||t instanceof Yr||t instanceof jm||t instanceof Sv)}function kv(t,e,n){if(!JE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function P0(t,e,n){if((e=xr(e))instanceof Rm)return e._internalPath;if(typeof e=="string")return Tv(t,e);throw Qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const n7=new RegExp("[~\\*/\\[\\]]");function Tv(t,e,n){if(e.search(n7)>=0)throw Qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rm(...e.split("."))._internalPath}catch{throw Qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qp(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Ge(Ce.INVALID_ARGUMENT,o+t+l)}function YE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r7 extends XE{data(){return super.data()}}function Mm(t,e){return typeof e=="string"?Tv(t,e):e instanceof Rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ge(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pv{}class Cv extends Pv{}function ll(t,e,...n){let r=[];e instanceof Pv&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof Lv).length,o=s.filter(l=>l instanceof Fm).length;if(a>1||a>0&&o>0)throw new Ge(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Fm extends Cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fm(e,n,r)}_apply(e){const n=this._parse(e);return ZE(e._query,n),new gl(e.firestore,e.converter,w0(e._query,n))}_parse(e){const n=Dm(e.firestore);return function(s,a,o,l,u,d,m){let _;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){tw(m,d);const p=[];for(const P of m)p.push(ew(l,s,P));_={arrayValue:{values:p}}}else _=ew(l,s,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||tw(m,d),_=t7(o,a,m,d==="in"||d==="not-in");return or.create(u,d,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lu(t,e,n){const r=e,i=Mm("where",t);return Fm._create(i,r,n)}class Lv extends Pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)ZE(a,l),a=w0(a,l)}(e._query,n),new gl(e.firestore,e.converter,w0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rv extends Cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rv(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pd(s,a)}(e._query,this._field,this._direction);return new gl(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Lc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function s7(t,e="asc"){const n=e,r=Mm("orderBy",t);return Rv._create(r,n)}class jv extends Cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jv(e,n,r)}_apply(e){return new gl(e.firestore,e.converter,$p(e._query,this._limit,this._limitType))}}function a7(t){return jv._create("limit",t,"F")}function ew(t,e,n){if(typeof(n=xr(n))=="string"){if(n==="")throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xx(e)&&n.indexOf("/")!==-1)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xn.fromString(n));if(!ht.isDocumentKey(r))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b_(t,new ht(r))}if(n instanceof Yr)return b_(t,n._key);throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function tw(t,e){if(!Array.isArray(t)||t.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZE(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o7{convertValue(e,n="none"){switch(ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(au(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw St()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Yn(a.doubleValue));return new Sv(s)}convertGeoPoint(e){return new Ev(Yn(e.latitude),Yn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const n=sl(e);return new rr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xn.fromString(e);un(wE(r));const i=new dd(r.get(1),r.get(3)),s=new ht(r.popFirst(5));return i.isEqual(n)||Ga(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t3 extends XE{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class np extends t3{data(e={}){return super.data(e)}}class l7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new np(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new np(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new np(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:u7(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){t=ls(t,Yr);const e=ls(t.firestore,ol);return W8(xv(e),t._key).then(n=>r3(e,t,n))}class n3 extends o7{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,n)}}function ul(t,e,n){t=ls(t,Yr);const r=ls(t.firestore,ol),i=e3(t.converter,e,n);return Vm(r,[KE(Dm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,os.none())])}function nw(t,e,n,...r){t=ls(t,Yr);const i=ls(t.firestore,ol),s=Dm(i);let a;return a=typeof(e=xr(e))=="string"||e instanceof Rm?e7(s,"updateDoc",t._key,e,n,r):Z8(s,"updateDoc",t._key,e),Vm(i,[a.toMutation(t._key,os.exists(!0))])}function rw(t){return Vm(ls(t.firestore,ol),[new lv(t._key,os.none())])}function Fh(t,e){const n=ls(t.firestore,ol),r=hn(t),i=e3(t.converter,e);return Vm(n,[KE(Dm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,os.exists(!1))]).then(()=>r)}function lr(t,...e){var n,r,i;t=xr(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Z_(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Z_(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,u,d;if(t instanceof Yr)u=ls(t.firestore,ol),d=Am(t._key.path),l={next:m=>{e[a]&&e[a](r3(u,t,m))},error:e[a+1],complete:e[a+2]};else{const m=ls(t,gl);u=ls(m.firestore,ol),d=m._query;const _=new n3(u);l={next:p=>{e[a]&&e[a](new l7(u,_,m,p))},error:e[a+1],complete:e[a+2]},i7(t._query)}return function(_,p,P,S){const L=new zE(S),b=new RE(p,L,P);return _.asyncQueue.enqueueAndForget(async()=>CE(await T0(_),b)),()=>{L.Za(),_.asyncQueue.enqueueAndForget(async()=>LE(await T0(_),b))}}(xv(u),d,o,l)}function Vm(t,e){return function(r,i){const s=new Zo;return r.asyncQueue.enqueueAndForget(async()=>j8(await $8(r),i,s)),s.promise}(xv(t),e)}function r3(t,e,n){const r=n.docs.get(e._key),i=new n3(t);return new t3(t,i,e._key,r,new xh(n.hasPendingWrites,n.fromCache),e.converter)}function tl(){return new Iv("serverTimestamp")}(function(e,n=!0){(function(i){Cc=i})(Tc),gc(new ru("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ol(new dL(r.getProvider("auth-internal")),new gL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ge(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(u.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Xo(g_,"4.7.3",e),Xo(g_,"4.7.3","esm2017")})();const c7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBdp5Hzrov0TVhuMLuxxDyyaZDcxvT55MI",VITE_FIREBASE_APP_ID:"1:109244992013:web:e3f4b634404cb43edba344",VITE_FIREBASE_AUTH_DOMAIN:"pricelist---chat-agent.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"109244992013",VITE_FIREBASE_PROJECT_ID:"pricelist---chat-agent",VITE_FIREBASE_STORAGE_BUCKET:"pricelist---chat-agent.appspot.com",VITE_SUPERADMIN_PASSWORD:"Rikimaru08561318222!"},h7=c7;function Su(t,e){for(const n of t){const r=h7[n];if(r&&String(r).length)return String(r)}throw new Error(`[firebase] Missing ENV for ${e}. Provide one of: ${t.join(", ")}`)}const d7={apiKey:Su(["VITE_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_API_KEY"],"API Key"),authDomain:Su(["VITE_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"],"Auth Domain"),projectId:Su(["VITE_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_PROJECT_ID"],"Project ID"),storageBucket:Su(["VITE_FIREBASE_STORAGE_BUCKET","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"],"Storage Bucket"),messagingSenderId:Su(["VITE_FIREBASE_MESSAGING_SENDER_ID","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"],"Messaging Sender ID"),appId:Su(["VITE_FIREBASE_APP_ID","NEXT_PUBLIC_FIREBASE_APP_ID"],"App ID")},i3=MP().length?$2():Y4(d7),Ei=lL(i3),Rt=K8(i3);function f7(){const[t,e]=le.useState(()=>Ei.currentUser),n=Sd(),r=fu();le.useEffect(()=>{const a=Ei.onAuthStateChanged(o=>e(o));return()=>a()},[]);const i=async()=>{await Y6(Ei),n("/login")};return r.pathname.startsWith("/publish/")?null:v.jsxs("div",{className:"nav",children:[v.jsx("div",{className:"brand",children:v.jsx(ia,{to:"/",children:"Pricelist Interaktif"})}),v.jsx("div",{className:"nav-actions",children:t?v.jsxs(v.Fragment,{children:[v.jsx(ia,{className:"btn",to:"/dashboard",children:"Dashboard"}),v.jsx("button",{className:"btn",onClick:i,children:"Logout"})]}):v.jsxs(v.Fragment,{children:[v.jsx(ia,{className:"btn",to:"/login",children:"Login"}),v.jsx(ia,{className:"btn",to:"/register",children:"Daftar"})]})})]})}function zg({children:t}){const[e,n]=le.useState(!1),[r,i]=le.useState(()=>Ei.currentUser);return le.useEffect(()=>{const s=Ei.onAuthStateChanged(a=>{i(a),n(!0)});return()=>s()},[]),e?r?t:v.jsx(eT,{to:"/login",replace:!0}):v.jsx("div",{className:"container",children:v.jsx("div",{className:"card",children:"Memuat"})})}function p7(){return v.jsxs("div",{className:"container",children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h1",{style:{marginTop:0},children:"Pricelist Interaktif  Vendor Wedding"}),v.jsx("p",{children:"Gaya klasik-vintage dengan nuansa kertas sobekan. Kelola vendor, paket, jenis, add-on, diskon, dan publish jadi halaman interaktif yang fokus mobile."}),v.jsxs("div",{className:"row",children:[v.jsx(ia,{className:"btn primary",to:"/login",children:"Masuk"}),v.jsx(ia,{className:"btn",to:"/register",children:"Daftar"})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{children:"Fitur Utama"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Authentication (Login/Daftar/Lupa Password)"}),v.jsx("li",{children:"Dashboard: CRUD Vendor, Packages, Add-ons, Diskon Pop-up"}),v.jsx("li",{children:"Publish Page: Tabs Paket, Slide Jenis, Add-on, WhatsApp message"}),v.jsx("li",{children:"Superadmin: generator token + daftar token + **Aktivitas Akun**"}),v.jsx("li",{children:"Overview: simpan tautan penting"})]})]})]})}function m7(){const[t,e]=le.useState(""),[n,r]=le.useState(""),[i,s]=le.useState(!1),[a,o]=le.useState(null),l=Sd(),u=async d=>{d.preventDefault(),o(null);try{await K6(Ei,t,n),l("/dashboard")}catch(m){o(m.message||"Gagal login")}};return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Login"}),v.jsxs("div",{className:"banner",children:["Mau beli token? Hubungi WhatsApp ",v.jsx("a",{href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),"."]}),v.jsxs("form",{onSubmit:u,children:[v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Email"}),v.jsx("input",{className:"input",value:t,onChange:d=>e(d.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Password"}),v.jsxs("div",{style:{display:"flex",gap:8},children:[v.jsx("input",{className:"input",value:n,onChange:d=>r(d.target.value),type:i?"text":"password",placeholder:"",required:!0}),v.jsx("button",{type:"button",className:"btn",onClick:()=>s(d=>!d),children:i?"Hide":"Show"})]})]}),a&&v.jsx("div",{className:"banner",children:a}),v.jsxs("div",{className:"row",children:[v.jsx("button",{className:"btn primary",type:"submit",children:"Masuk"}),v.jsx(ia,{className:"btn",to:"/register",children:"Daftar"}),v.jsx(ia,{className:"btn",to:"/forgot-password",children:"Lupa Password"})]})]})]})})}function g7(){const[t,e]=le.useState(""),[n,r]=le.useState(""),[i,s]=le.useState(!1),[a,o]=le.useState(null),l=Sd(),u=async d=>{d.preventDefault(),o(null);try{const m=await G6(Ei,t,n);await ul(hn(Rt,"vendors",m.user.uid),{name:"Vendor Baru",address:"",whatsapp:"",bankName:"",bankAccountNumber:"",bankAccountHolder:""},{merge:!0}),l("/dashboard")}catch(m){o(m.message||"Gagal daftar")}};return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Daftar"}),v.jsxs("div",{className:"banner",children:["Akun baru akan terkunci sampai aktivasi token. Beli token via WhatsApp ",v.jsx("a",{href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),"."]}),v.jsxs("form",{onSubmit:u,children:[v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Email"}),v.jsx("input",{className:"input",value:t,onChange:d=>e(d.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Password"}),v.jsxs("div",{style:{display:"flex",gap:8},children:[v.jsx("input",{className:"input",value:n,onChange:d=>r(d.target.value),type:i?"text":"password",placeholder:"Minimal 6 karakter",required:!0}),v.jsx("button",{type:"button",className:"btn",onClick:()=>s(d=>!d),children:i?"Hide":"Show"})]})]}),a&&v.jsx("div",{className:"banner",children:a}),v.jsxs("div",{className:"row",children:[v.jsx("button",{className:"btn primary",type:"submit",children:"Buat Akun"}),v.jsx(ia,{className:"btn",to:"/login",children:"Sudah punya akun?"})]})]})]})})}function v7(){const[t,e]=le.useState(""),[n,r]=le.useState(null),i=async s=>{s.preventDefault(),r(null);try{await H6(Ei,t),r("Cek email untuk tautan reset password.")}catch(a){r(a.message||"Gagal kirim email.")}};return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Lupa Password"}),v.jsxs("form",{onSubmit:i,children:[v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("label",{children:"Email"}),v.jsx("input",{className:"input",value:t,onChange:s=>e(s.target.value),type:"email",placeholder:"you@example.com",required:!0})]}),v.jsx("button",{className:"btn primary",type:"submit",children:"Kirim"})]}),n&&v.jsx("div",{className:"banner",style:{marginTop:8},children:n})]})})}function wi(t){const e=typeof t=="number"?t:0;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e)}function y7(t){const e=(t||"").replace(/\D/g,"");return e?e.startsWith("0")?"62"+e.slice(1):(e.startsWith("62"),e):""}function s3(t){const e=(t.details||[]).map(s=>` ${s}`).join(`
`),n=t.addons&&t.addons.length?t.addons.map(s=>`${s.name} (${wi(s.price)})`).join(", "):"",r=`Halo ${t.vendorName}, saya tertarik paket ${t.pricelistName}  ${t.typeName}.
Rincian singkat:
${e}
Harga paket: ${wi(t.price)}
Add-on: ${n}
Total perkiraan: ${wi(t.total)}

Mohon info ketersediaan & detail lanjut. Terima kasih!`;return`https://wa.me/${y7(t.whatsapp)}?text=${encodeURIComponent(r)}`}function _7(t){return(t||"").trim().toUpperCase()}function w7(t=16){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=new Uint8Array(t);return crypto.getRandomValues(n),Array.from(n).map(r=>e[r%e.length]).join("")}function b7(t){if(t==="daily")return 1;if(t==="weekly")return 7;if(t==="monthly")return 30;throw new Error("Unknown duration: "+t)}function A7(){const[t,e]=le.useState(""),[n,r]=le.useState(null),[i,s]=le.useState(!1),a=async()=>{r(null);const o=Ei.currentUser;if(!o){r("Harus login dulu.");return}const l=_7(t);if(!l){r("Masukkan token.");return}s(!0);try{const u=hn(Rt,"tokenStore",l),d=await Gu(u);if(!d.exists()){r("Token tidak ditemukan.");return}const m=d.data();if(m.status!=="idle"){r("Token sudah digunakan / tidak idle.");return}const _=m.duration,p=b7(_),P=rr.now(),S=hn(Rt,"tokens",o.uid),L=await Gu(S);let b=P;if(L.exists()){const R=L.data();R.expiresAt&&R.expiresAt.toMillis&&R.expiresAt.toMillis()>P.toMillis()&&(b=R.expiresAt)}const I=rr.fromMillis(b.toMillis()+p*24*60*60*1e3);await ul(u,{status:"used",uid:o.uid,usedAt:tl()},{merge:!0}),await ul(S,{uid:o.uid,expiresAt:I,lastExtendedAt:tl()},{merge:!0}),r(`Aktivasi sukses. Berlaku hingga: ${new Date(I.toMillis()).toLocaleString("id-ID")}`),e("")}catch(u){console.error(u),r(u.message||"Gagal aktivasi token.")}finally{s(!1)}};return v.jsxs("div",{className:"card torn",children:[v.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:v.jsx("h3",{style:{margin:0},children:"Token Activation (opsional)"})}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Masukkan token",value:t,onChange:o=>e(o.target.value)})}),v.jsx("div",{children:v.jsx("button",{className:"btn primary",onClick:a,disabled:i,children:"Aktifkan"})})]}),n&&v.jsx("div",{className:"banner",style:{marginTop:8},children:n})]})}function x7(){const t=Ei.currentUser,e=(t==null?void 0:t.uid)||"",[n,r]=le.useState({name:"",address:"",whatsapp:"",bankName:"",bankAccountNumber:"",bankAccountHolder:""}),[i,s]=le.useState(null),[a,o]=le.useState([]),[l,u]=le.useState({parent:"",typeName:"",price:"",details:""}),[d,m]=le.useState(null),[_,p]=le.useState([]),[P,S]=le.useState({name:"",price:""}),[L,b]=le.useState(null),[I,R]=le.useState({name:"",price:""}),[B,ee]=le.useState({text:"",enabled:!1}),[F,V]=le.useState(null),E=F!=null&&F>Date.now(),N=typeof window<"u"?window.location.origin:"",O=typeof window<"u"&&window.location.hash.startsWith("#/"),x=`${N}/${O?"#/":""}`,T=`${x}publish/${e}`,C=`${x}deal/${e}`;le.useEffect(()=>{if(!e)return;const q=lr(hn(Rt,"vendors",e),ve=>{const ye=ve.data();ye&&r({name:ye.name||"",address:ye.address||"",whatsapp:ye.whatsapp||"",bankName:ye.bankName||"",bankAccountNumber:ye.bankAccountNumber||"",bankAccountHolder:ye.bankAccountHolder||""})}),K=lr(ll(yi(Rt,"packages"),lu("uid","==",e)),ve=>{const ye=[];ve.forEach(Pe=>ye.push({id:Pe.id,...Pe.data()})),ye.sort((Pe,Fe)=>{const Ue=Pe.parent||"",Ee=Fe.parent||"";return Ue!==Ee?Ue.localeCompare(Ee):(Pe.typeName||"").localeCompare(Fe.typeName||"")}),o(ye)}),re=lr(ll(yi(Rt,"addons"),lu("uid","==",e)),ve=>{const ye=[];ve.forEach(Pe=>ye.push({id:Pe.id,...Pe.data()})),ye.sort((Pe,Fe)=>(Pe.name||"").localeCompare(Fe.name||"")),p(ye)}),ae=lr(hn(Rt,"discounts",e),ve=>{const ye=ve.data();ye&&ee({text:ye.text||"",enabled:!!ye.enabled})}),me=lr(hn(Rt,"tokens",e),ve=>{var Pe;const ye=ve.data();(Pe=ye==null?void 0:ye.expiresAt)!=null&&Pe.toMillis?V(ye.expiresAt.toMillis()):V(null)});return()=>{q(),K(),re(),ae(),me()}},[e]);const ne=async()=>{e&&(await ul(hn(Rt,"vendors",e),n,{merge:!0}),s("Profil vendor tersimpan."),setTimeout(()=>s(null),2e3))},de=async()=>{if(!e)return;const q={uid:e,parent:l.parent.trim().toLowerCase(),typeName:l.typeName.trim().toLowerCase(),price:Number(l.price||0),details:l.details.split(`
`).map(K=>K.trim()).filter(Boolean)};await Fh(yi(Rt,"packages"),q),u({parent:"",typeName:"",price:"",details:""})},be=q=>{m(q.id),u({parent:q.parent,typeName:q.typeName,price:String(q.price||0),details:(q.details||[]).join(`
`)})},we=async q=>{const K={parent:l.parent.trim().toLowerCase(),typeName:l.typeName.trim().toLowerCase(),price:Number(l.price||0),details:l.details.split(`
`).map(re=>re.trim()).filter(Boolean)};await nw(hn(Rt,"packages",q),K),m(null),u({parent:"",typeName:"",price:"",details:""})},te=async q=>{await rw(hn(Rt,"packages",q))},Q=async()=>{if(!e)return;const q=P.name.trim(),K=Number(P.price);if(!q)return alert("Nama add-on wajib diisi");if(Number.isNaN(K))return alert("Harga tidak valid");try{const re={uid:e,name:q,price:K};await Fh(yi(Rt,"addons"),re),S({name:"",price:""})}catch(re){console.error(re),alert("Gagal menambah add-on: "+((re==null?void 0:re.message)||"unknown"))}},fe=async q=>{const K=I.name.trim(),re=Number(I.price);if(!K)return alert("Nama add-on wajib diisi");if(Number.isNaN(re))return alert("Harga tidak valid");try{await nw(hn(Rt,"addons",q),{name:K,price:re}),b(null),R({name:"",price:""})}catch(ae){alert("Gagal update add-on: "+((ae==null?void 0:ae.message)||"unknown"))}},xe=async q=>{try{await rw(hn(Rt,"addons",q))}catch(K){alert("Gagal hapus add-on: "+((K==null?void 0:K.message)||"unknown"))}},M=async()=>{e&&await ul(hn(Rt,"discounts",e),B,{merge:!0})},G=async()=>{if(!e)return;const q=[{uid:e,parent:"wedding",typeName:"wedding bronze",price:15e5,details:["Durasi 6 jam","2 fotografer"]},{uid:e,parent:"wedding",typeName:"wedding silver",price:25e5,details:["Durasi 8 jam","2 fotografer","1 videografer"]},{uid:e,parent:"prewedding",typeName:"outdoor basic",price:1e6,details:["2 lokasi","semua file"]}];for(const K of q)await Fh(yi(Rt,"packages"),K);alert("Seed 3 paket contoh selesai.")};return e?v.jsxs("div",{className:"container",children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Dashboard"}),v.jsxs("div",{className:"banner",children:[v.jsx("div",{style:{fontWeight:600},children:"Link Publish (public):"}),v.jsx("a",{href:T,target:"_blank",rel:"noreferrer",children:T})]}),v.jsxs("div",{className:"banner",children:[v.jsx("div",{style:{fontWeight:600},children:"Link Deal Klien (public):"}),v.jsx("a",{href:C,target:"_blank",rel:"noreferrer",children:C})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Profil Vendor"}),!E&&v.jsxs("div",{className:"lock-note",children:["Akun belum aktif / masa aktif habis. Beli token via WA",v.jsx("a",{className:"note-wa",href:"https://wa.me/6285176932228?text=Halo%20admin%2C%20saya%20ingin%20membeli%20token%20pricelist",target:"_blank",rel:"noreferrer",children:"6285176932228"}),". Form di bawah dinonaktifkan sampai aktivasi token."]}),v.jsxs("div",{className:E?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Vendor"}),v.jsx("input",{className:"input",value:n.name,onChange:q=>r(K=>({...K,name:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No WhatsApp"}),v.jsx("input",{className:"input",value:n.whatsapp,onChange:q=>r(K=>({...K,whatsapp:q.target.value}))})]})]}),v.jsx("div",{className:E?"row":"row lock-area",children:v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Alamat"}),v.jsx("input",{className:"input",value:n.address,onChange:q=>r(K=>({...K,address:q.target.value}))})]})}),v.jsxs("div",{className:E?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Bank"}),v.jsx("input",{className:"input",value:n.bankName,onChange:q=>r(K=>({...K,bankName:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No Rekening"}),v.jsx("input",{className:"input",value:n.bankAccountNumber,onChange:q=>r(K=>({...K,bankAccountNumber:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Atas Nama"}),v.jsx("input",{className:"input",value:n.bankAccountHolder,onChange:q=>r(K=>({...K,bankAccountHolder:q.target.value}))})]})]}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("button",{className:"btn primary",onClick:ne,disabled:!E,children:"Simpan Profil"}),i&&v.jsx("span",{className:"badge",children:i})]})]}),v.jsx("div",{className:"divider"}),v.jsxs("div",{className:"card",children:[v.jsxs("h3",{style:{marginTop:0,display:"flex",gap:8,alignItems:"center"},children:["Pricelist (Packages)",v.jsx("button",{className:"btn ghost",onClick:G,children:"Seed contoh"})]}),!E&&v.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),v.jsxs("div",{className:E?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Pricelist (parent)  contoh: wedding"}),v.jsx("input",{className:"input",placeholder:"mis. wedding",value:l.parent,onChange:q=>u(K=>({...K,parent:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jenis (typeName)  contoh: wedding bronze"}),v.jsx("input",{className:"input",placeholder:"wedding bronze",value:l.typeName,onChange:q=>u(K=>({...K,typeName:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Harga"}),v.jsx("input",{className:"input",type:"number",placeholder:"1500000",value:l.price,onChange:q=>u(K=>({...K,price:q.target.value}))})]})]}),v.jsxs("div",{className:E?"":"lock-area",children:[v.jsx("label",{children:"Detail (1 item per baris)"}),v.jsx("textarea",{className:"textarea",placeholder:`Durasi 8 jam
2 fotografer
...`,value:l.details,onChange:q=>u(K=>({...K,details:q.target.value}))})]}),v.jsx("div",{className:"row",style:{marginTop:8},children:d?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn primary",onClick:()=>we(d),disabled:!E,children:"Simpan"}),v.jsx("button",{className:"btn",onClick:()=>{m(null),u({parent:"",typeName:"",price:"",details:""})},children:"Batal"})]}):v.jsx("button",{className:"btn primary",onClick:de,disabled:!E,children:"Tambah"})}),v.jsx("div",{className:"divider"}),v.jsxs("div",{children:[v.jsx("h4",{children:"Daftar Pricelist"}),a.length===0&&v.jsx("div",{children:"(belum ada)"}),a.length>0&&v.jsxs("div",{className:"row",style:{fontWeight:700,borderBottom:"2px dashed #7a6a58",paddingBottom:6},children:[v.jsx("div",{className:"col",children:"Parent"}),v.jsx("div",{className:"col",children:"Jenis"}),v.jsx("div",{className:"col",children:"Harga"}),v.jsx("div",{className:"col",children:"Detail singkat"}),v.jsx("div",{style:{flex:"0 0 180px"},children:"Aksi"})]}),a.map(q=>{var re;const K=d===q.id;return v.jsxs("div",{className:"row",style:{alignItems:"flex-start",padding:"8px 0",borderBottom:"1px dashed #eee"},children:[v.jsx("div",{className:"col",style:{textTransform:"capitalize"},children:K?v.jsx("input",{className:"input",value:l.parent,onChange:ae=>u(me=>({...me,parent:ae.target.value}))}):q.parent}),v.jsx("div",{className:"col",style:{textTransform:"capitalize",fontWeight:600},children:K?v.jsx("input",{className:"input",value:l.typeName,onChange:ae=>u(me=>({...me,typeName:ae.target.value}))}):q.typeName}),v.jsx("div",{className:"col",children:K?v.jsx("input",{className:"input",type:"number",value:l.price,onChange:ae=>u(me=>({...me,price:ae.target.value}))}):v.jsx("span",{className:"badge",children:wi(q.price)})}),v.jsx("div",{className:"col",children:K?v.jsx("textarea",{className:"textarea",value:l.details,onChange:ae=>u(me=>({...me,details:ae.target.value})),placeholder:"1 item per baris"}):v.jsxs("ul",{style:{margin:"6px 0"},children:[(re=q.details)==null?void 0:re.slice(0,4).map((ae,me)=>v.jsx("li",{children:ae},me)),q.details&&q.details.length>4&&v.jsx("li",{children:""})]})}),v.jsx("div",{style:{flex:"0 0 180px",display:"flex",gap:8,flexWrap:"wrap"},children:K?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn primary",onClick:()=>we(q.id),disabled:!E,children:"Simpan"}),v.jsx("button",{className:"btn",onClick:()=>{m(null),u({parent:"",typeName:"",price:"",details:""})},children:"Batal"})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>be(q),disabled:!E,children:"Edit"}),v.jsx("button",{className:"btn danger",onClick:()=>q.id&&te(q.id),disabled:!E,children:"Hapus"})]})})]},q.id)})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),!E&&v.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),v.jsxs("div",{className:E?"row":"row lock-area",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Add-on"}),v.jsx("input",{className:"input",value:P.name,onChange:q=>S(K=>({...K,name:q.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Harga"}),v.jsx("input",{className:"input",type:"number",value:P.price,onChange:q=>S(K=>({...K,price:q.target.value}))})]}),v.jsx("div",{style:{alignSelf:"end"},children:v.jsx("button",{className:"btn primary",onClick:Q,disabled:!E,children:"Tambah"})})]}),v.jsxs("div",{className:"row",children:[_.map(q=>{const K=L===q.id;return v.jsx("div",{className:"col",children:v.jsx("div",{className:"card",children:K?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama"}),v.jsx("input",{className:"input",value:I.name,onChange:re=>R(ae=>({...ae,name:re.target.value}))})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Harga"}),v.jsx("input",{className:"input",type:"number",value:I.price,onChange:re=>R(ae=>({...ae,price:re.target.value}))})]})]}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("button",{className:"btn primary",onClick:()=>fe(q.id),disabled:!E,children:"Simpan"}),v.jsx("button",{className:"btn",onClick:()=>{b(null),R({name:"",price:""})},children:"Batal"})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("div",{children:q.name}),v.jsx("div",{className:"badge",children:wi(q.price)})]}),v.jsxs("div",{className:"row",style:{marginTop:8},children:[v.jsx("button",{className:"btn",onClick:()=>{b(q.id),R({name:q.name,price:String(q.price||0)})},disabled:!E,children:"Edit"}),v.jsx("button",{className:"btn danger",onClick:()=>q.id&&xe(q.id),disabled:!E,children:"Hapus"})]})]})})},q.id)}),_.length===0&&v.jsx("div",{style:{padding:"8px"},children:" (belum ada) "})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Pop-up Diskon"}),!E&&v.jsx("div",{className:"lock-note",children:"Terkunci sampai aktivasi token."}),v.jsxs("div",{className:E?"":"lock-area",children:[v.jsx("label",{children:"Teks"}),v.jsx("textarea",{className:"textarea",value:B.text,onChange:q=>ee(K=>({...K,text:q.target.value}))}),v.jsx("div",{className:"row",children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[v.jsx("input",{className:"checkbox",type:"checkbox",checked:B.enabled,onChange:q=>ee(K=>({...K,enabled:q.target.checked}))}),"Tampilkan saat publish dibuka"]})}),v.jsx("button",{className:"btn primary",onClick:M,disabled:!E,children:"Simpan Diskon"})]})]}),v.jsx(A7,{}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Overview Links"}),v.jsx("a",{className:"btn",href:`${x}dashboard/overview`,children:"Buka"})]})]}):v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Dashboard"}),v.jsx("div",{className:"banner",children:"Sesi belum siap. Silakan login dulu."})]})})}function E7(){var o;const t=((o=Ei.currentUser)==null?void 0:o.uid)||"",[e,n]=le.useState([]),[r,i]=le.useState(null),[s,a]=le.useState(null);return le.useEffect(()=>{if(!t)return;const l=lr(hn(Rt,"tokens",t),m=>{var P;const _=m.data(),p=(P=_==null?void 0:_.expiresAt)!=null&&P.toMillis?_.expiresAt.toMillis():0;i(p>Date.now())}),u=ll(yi(Rt,"deals"),lu("uid","==",t)),d=lr(u,m=>{const _=[];m.forEach(p=>_.push({id:p.id,...p.data()})),_.sort((p,P)=>{var b,I;const S=(b=p.createdAt)!=null&&b.toMillis?p.createdAt.toMillis():0;return((I=P.createdAt)!=null&&I.toMillis?P.createdAt.toMillis():0)-S}),n(_),a(null)},m=>{console.error("Overview deals error:",m),a("Gagal memuat deals. Cek index/rules di Firestore.")});return()=>{l(),d()}},[t]),t?v.jsxs("div",{className:"container",style:{maxWidth:900},children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Overview  Deals"}),v.jsx("div",{style:{color:"#666"},children:"Riwayat deal terbaru (milik akun ini)."}),r===!1&&v.jsxs("div",{className:"banner",style:{background:"#fff7ed",border:"1px solid #fed7aa",color:"#9a3412"},children:["Masa aktif akun ",v.jsx("b",{children:"habis"}),". Semua tombol aksi terkunci."]})]}),s&&v.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:s}),v.jsxs("div",{className:"card",children:[e.length===0&&!s&&v.jsx("div",{children:"(Belum ada deal)"}),v.jsx("div",{style:{display:"grid",gap:10},children:e.map(l=>{var u;return v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 0.8fr 0.8fr",gap:8,padding:"10px 0",borderBottom:"1px dashed #eee"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:700},children:l.clientName||"(tanpa nama)"}),(l.groomName||l.brideName)&&v.jsxs("div",{style:{fontSize:12,color:"#666"},children:[l.groomName||"-"," & ",l.brideName||"-"]}),(l.groomIg||l.brideIg)&&v.jsxs("div",{style:{fontSize:12,color:"#666"},children:["IG: ",l.groomIg||"-","  ",l.brideIg||"-"]}),v.jsxs("div",{style:{fontSize:12,color:"#666",textTransform:"capitalize"},children:[l.eventType||"-","  ",l.parent||"-","  ",l.packageType||"-"]})]}),v.jsx("div",{style:{alignSelf:"center"},children:v.jsx("span",{className:"badge",children:wi(l.total||0)})}),v.jsxs("div",{style:{textAlign:"right",color:"#666",fontSize:12,alignSelf:"center"},children:[(u=l.createdAt)!=null&&u.toDate?l.createdAt.toDate().toLocaleString():"-",v.jsx("div",{style:{marginTop:6},children:v.jsx(ia,{className:`btn ${r===!1?"disabled":""}`,to:`/dashboard/mou/${l.id}`,onClick:d=>{r===!1&&d.preventDefault()},title:r===!1?"Masa aktif habis":"Buat MOU dari deal ini",children:"Buat MOU"})})]})]},l.id)})})]})]}):v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Overview"}),v.jsx("div",{className:"banner",children:"Silakan login dulu."})]})})}function S7(){const{uid:t}=U2(),[e,n]=le.useState(null),[r,i]=le.useState([]),[s,a]=le.useState([]),[o,l]=le.useState(null);le.useEffect(()=>{if(!t)return;const Ae=lr(hn(Rt,"vendors",t),at=>{n(at.data()||null)}),st=lr(ll(yi(Rt,"packages"),lu("uid","==",t)),at=>{const qe=[];at.forEach(Se=>qe.push({id:Se.id,...Se.data()})),qe.sort((Se,Ye)=>{const We=(Se.parent||"").localeCompare(Ye.parent||"");return We!==0?We:(Se.typeName||"").localeCompare(Ye.typeName||"")}),i(qe)}),ze=lr(ll(yi(Rt,"addons"),lu("uid","==",t)),at=>{const qe=[];at.forEach(Se=>qe.push({id:Se.id,...Se.data()})),qe.sort((Se,Ye)=>(Se.name||"").localeCompare(Ye.name||"")),a(qe)}),Pt=lr(hn(Rt,"discounts",t),at=>{const qe=at.data();qe&&l({text:qe.text||"",enabled:!!qe.enabled})});return()=>{Ae(),st(),ze(),Pt()}},[t]);const u=le.useMemo(()=>Array.from(new Set(r.map(Ae=>Ae.parent))),[r]),[d,m]=le.useState(null);le.useEffect(()=>{!d&&u.length&&m(u[0])},[u,d]);const _=le.useMemo(()=>r.filter(Ae=>Ae.parent===d),[r,d]),[p,P]=le.useState(null),S=le.useMemo(()=>r.find(Ae=>Ae.id===p)||null,[r,p]),[L,b]=le.useState({}),I=le.useMemo(()=>s.filter(Ae=>L[Ae.id]),[s,L]),R=((S==null?void 0:S.price)||0)+I.reduce((Ae,st)=>Ae+(st.price||0),0),[B,ee]=le.useState(""),[F,V]=le.useState(""),[E,N]=le.useState(""),[O,x]=le.useState(!1),[T,C]=le.useState(!1),[ne,de]=le.useState(!1),[be,we]=le.useState(""),[te,Q]=le.useState(""),[fe,xe]=le.useState(""),[M,G]=le.useState(""),[q,K]=le.useState(""),[re,ae]=le.useState(""),[me,ve]=le.useState(""),[ye,Pe]=le.useState(""),[Fe,Ue]=le.useState(""),[Ee,Z]=le.useState(""),[xt,pt]=le.useState(null),it=()=>{if(!t)return"URL tidak valid.";if(!S)return"Pilih paket/jenis dulu.";if(!B.trim())return"Nama klien wajib diisi.";if(!F.trim())return"Nomor WA klien wajib diisi.";if(!E.trim())return"Alamat kirim album wajib diisi.";if(!O&&!T&&!ne)return"Pilih minimal satu jenis acara.";if(O){if(!be)return"Tanggal acara (wedding) wajib.";if(!te)return"Jam akad/pemberkatan wajib.";if(!fe.trim())return"Tempat akad/pemberkatan wajib.";if(!M)return"Jam resepsi wajib.";if(!q.trim())return"Tempat resepsi wajib."}if(T){if(!re)return"Tanggal acara (lamaran) wajib.";if(!me)return"Jam lamaran wajib.";if(!ye.trim())return"Tempat lamaran wajib."}if(ne){if(!Fe)return"Tanggal prewedding wajib.";if(!Ee.trim())return"Tempat prewedding wajib."}return null},je=le.useMemo(()=>!e||!S?"#":s3({vendorName:e.name||"Vendor",pricelistName:String(d||"").toUpperCase(),typeName:String(S.typeName||"").toUpperCase(),details:S.details||[],price:S.price||0,addons:I.map(Ae=>({name:Ae.name,price:Ae.price||0})),whatsapp:e.whatsapp||"",total:R}),[e,S,I,d,R]),Ke=async Ae=>{Ae.preventDefault();const st=it();if(st){pt(st);return}pt(null);try{await Fh(yi(Rt,"deals"),{uid:t,clientName:B,clientWa:F,address:E,parent:d,packageId:p,packageType:(S==null?void 0:S.typeName)||"",packagePrice:(S==null?void 0:S.price)||0,addonIds:I.map(ze=>ze.id),addonSummary:I.map(ze=>({name:ze.name,price:ze.price||0})),total:R,isWedding:O,isLamaran:T,isPrewed:ne,wedding:O?{date:be||null,akadTime:te||null,akadPlace:fe||null,resepsiTime:M||null,resepsiPlace:q||null}:null,lamaran:T?{date:re||null,time:me||null,place:ye||null}:null,prewedding:ne?{date:Fe||null,place:Ee||null}:null,source:"deal-publish",createdAt:tl()}),je&&je!=="#"&&window.open(je,"_blank","noopener,noreferrer")}catch(ze){console.error(ze),pt("Gagal menyimpan deal. Coba lagi.")}};return v.jsxs("div",{className:"container",style:{maxWidth:920},children:[v.jsxs("div",{className:"card torn",children:[v.jsxs("h2",{style:{marginTop:0},children:[(e==null?void 0:e.name)||"(Vendor)","  Deal Klien"]}),(o==null?void 0:o.enabled)&&!!o.text&&v.jsx("div",{className:"banner",children:o.text})]}),v.jsxs("div",{className:"card",children:[v.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[u.map(Ae=>v.jsx("button",{onClick:()=>{m(Ae),P(null)},className:"btn",style:{border:Ae===d?"2px solid #7a6a58":"1px solid #ddd",background:Ae===d?"#f7f4f1":"white"},children:Ae},Ae)),u.length===0&&v.jsx("div",{children:"(Belum ada parent)"})]}),v.jsxs("div",{style:{marginTop:12,display:"grid",gap:10},children:[_.length===0&&v.jsx("div",{children:"(Belum ada jenis di parent ini)"}),_.map(Ae=>{var st;return v.jsxs("label",{className:"card",style:{padding:10,border:"1px dashed #e6e0da",display:"flex",gap:10,alignItems:"flex-start"},children:[v.jsx("input",{type:"radio",name:"pkgType",checked:Ae.id===p,onChange:()=>P(Ae.id),style:{marginTop:4}}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[v.jsx("strong",{style:{textTransform:"capitalize"},children:Ae.typeName}),v.jsx("span",{className:"badge",children:wi(Ae.price)})]}),!!((st=Ae.details)!=null&&st.length)&&v.jsx("ul",{style:{marginTop:8},children:Ae.details.map((ze,Pt)=>v.jsx("li",{children:ze},Pt))})]})]},Ae.id)})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),s.length===0&&v.jsx("div",{children:"(Belum ada add-on)"}),v.jsx("div",{style:{display:"grid",gap:8},children:s.map(Ae=>v.jsxs("label",{className:"card",style:{display:"flex",justifyContent:"space-between",padding:8,alignItems:"center"},children:[v.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[v.jsx("input",{type:"checkbox",checked:!!L[Ae.id],onChange:st=>b(ze=>({...ze,[Ae.id]:st.target.checked}))}),Ae.name]}),v.jsx("span",{children:wi(Ae.price)})]},Ae.id))}),v.jsxs("div",{style:{marginTop:10,fontWeight:700},children:["Total sementara: ",wi(R)]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Data Klien"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama klien"}),v.jsx("input",{className:"input",value:B,onChange:Ae=>ee(Ae.target.value),placeholder:"Nama lengkap"})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No. WA klien"}),v.jsx("input",{className:"input",value:F,onChange:Ae=>V(Ae.target.value),placeholder:"62xxxxxxxxxx"})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Alamat kirim album"}),v.jsx("textarea",{className:"textarea",rows:3,value:E,onChange:Ae=>N(Ae.target.value),placeholder:"Jalan, kecamatan, kota/kab, kode pos"})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Jenis Acara"}),v.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",checked:O,onChange:Ae=>x(Ae.target.checked)})," ","Wedding"]}),v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",checked:T,onChange:Ae=>C(Ae.target.checked)})," ","Lamaran"]}),v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",checked:ne,onChange:Ae=>de(Ae.target.checked)})," ","Prewedding"]})]}),O&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Wedding"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:be,onChange:Ae=>we(Ae.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam akad/pemberkatan"}),v.jsx("input",{className:"input",type:"time",value:te,onChange:Ae=>Q(Ae.target.value)})]})]}),v.jsx("div",{className:"row",children:v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat akad/pemberkatan"}),v.jsx("input",{className:"input",value:fe,onChange:Ae=>xe(Ae.target.value),placeholder:"Nama venue / alamat"})]})}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam resepsi"}),v.jsx("input",{className:"input",type:"time",value:M,onChange:Ae=>G(Ae.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat resepsi"}),v.jsx("input",{className:"input",value:q,onChange:Ae=>K(Ae.target.value),placeholder:"Nama venue / alamat"})]})]})]}),T&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Lamaran"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:re,onChange:Ae=>ae(Ae.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam lamaran"}),v.jsx("input",{className:"input",type:"time",value:me,onChange:Ae=>ve(Ae.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Tempat lamaran"}),v.jsx("input",{className:"input",value:ye,onChange:Ae=>Pe(Ae.target.value),placeholder:"Nama tempat / alamat"})]})]}),ne&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Prewedding"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:Fe,onChange:Ae=>Ue(Ae.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat prewedding"}),v.jsx("input",{className:"input",value:Ee,onChange:Ae=>Z(Ae.target.value),placeholder:"Lokasi prewedding"})]})]})]})]}),xt&&v.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:xt}),v.jsxs("div",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[v.jsxs("div",{style:{fontWeight:700},children:["Total: ",wi(R)]}),v.jsx("a",{className:"btn primary",href:je,onClick:Ke,target:"_blank",rel:"noreferrer",style:{border:"1px solid #25D366"},children:"Deal via WhatsApp"})]})]})}function N7(){const{uid:t}=U2(),[e,n]=le.useState(null),[r,i]=le.useState([]),[s,a]=le.useState([]),[o,l]=le.useState(null),[u,d]=le.useState(null);le.useEffect(()=>{if(!t)return;const Se=lr(hn(Rt,"vendors",t),vt=>{n(vt.data()||null)}),Ye=lr(ll(yi(Rt,"packages"),lu("uid","==",t)),vt=>{const mt=[];vt.forEach($e=>mt.push({id:$e.id,...$e.data()})),mt.sort(($e,ct)=>{const Qt=($e.parent||"").localeCompare(ct.parent||"");return Qt!==0?Qt:($e.typeName||"").localeCompare(ct.typeName||"")}),i(mt)}),We=lr(ll(yi(Rt,"addons"),lu("uid","==",t)),vt=>{const mt=[];vt.forEach($e=>mt.push({id:$e.id,...$e.data()})),mt.sort(($e,ct)=>($e.name||"").localeCompare(ct.name||"")),a(mt)}),ut=lr(hn(Rt,"discounts",t),vt=>{const mt=vt.data();mt&&l({text:mt.text||"",enabled:!!mt.enabled})}),Ze=lr(hn(Rt,"tokens",t),vt=>{var ct;const mt=vt.data(),$e=(ct=mt==null?void 0:mt.expiresAt)!=null&&ct.toMillis?mt.expiresAt.toMillis():0;d($e>Date.now())});return()=>{Se(),Ye(),We(),ut(),Ze()}},[t]);const m=le.useMemo(()=>Array.from(new Set(r.map(Se=>Se.parent))),[r]),[_,p]=le.useState(null);le.useEffect(()=>{!_&&m.length&&p(m[0])},[m,_]);const P=le.useMemo(()=>r.filter(Se=>Se.parent===_),[r,_]),[S,L]=le.useState(null),b=le.useMemo(()=>r.find(Se=>Se.id===S)||null,[r,S]),[I,R]=le.useState({}),B=le.useMemo(()=>s.filter(Se=>I[Se.id]),[s,I]),ee=((b==null?void 0:b.price)||0)+B.reduce((Se,Ye)=>Se+(Ye.price||0),0),[F,V]=le.useState(""),[E,N]=le.useState(""),[O,x]=le.useState(""),[T,C]=le.useState(""),[ne,de]=le.useState(""),[be,we]=le.useState(""),[te,Q]=le.useState(""),[fe,xe]=le.useState(""),[M,G]=le.useState(""),[q,K]=le.useState(""),[re,ae]=le.useState(""),[me,ve]=le.useState(""),[ye,Pe]=le.useState(""),[Fe,Ue]=le.useState(""),[Ee,Z]=le.useState(""),[xt,pt]=le.useState(""),[it,je]=le.useState(""),[Ke,Ae]=le.useState(""),[st,ze]=le.useState(null);le.useEffect(()=>{G(""),K(""),ae(""),ve(""),Pe(""),Ue(""),Z(""),pt(""),je(""),Ae("")},[fe]);const Pt=()=>{if(!t)return"URL tidak valid.";if(!b)return"Pilih paket/jenis dulu.";if(!F.trim())return"Nama klien wajib diisi.";if(!E.trim())return"Nomor WA klien wajib diisi.";if(!O.trim())return"Alamat kirim album wajib diisi.";if(!fe)return"Pilih jenis acara.";if(fe==="wedding"){if(!M)return"Tanggal acara (wedding) wajib.";if(!q)return"Jam akad/pemberkatan wajib.";if(!re.trim())return"Tempat akad/pemberkatan wajib.";if(!me)return"Jam resepsi wajib.";if(!ye.trim())return"Tempat resepsi wajib."}if(fe==="lamaran"){if(!Fe)return"Tanggal acara (lamaran) wajib.";if(!Ee)return"Jam lamaran wajib.";if(!xt.trim())return"Tempat lamaran wajib."}if(fe==="prewedding"){if(!it)return"Tanggal prewedding wajib.";if(!Ke.trim())return"Tempat prewedding wajib."}return null},at=le.useMemo(()=>!e||!b?"#":s3({vendorName:e.name||"Vendor",pricelistName:String(_||"").toUpperCase(),typeName:String(b.typeName||"").toUpperCase(),details:b.details||[],price:b.price||0,addons:B.map(Se=>({name:Se.name,price:Se.price||0})),whatsapp:e.whatsapp||"",total:ee}),[e,b,B,_,ee]),qe=async Se=>{Se.preventDefault();const Ye=Pt();if(Ye){ze(Ye);return}ze(null);const We=fe==="wedding",ut=fe==="lamaran",Ze=fe==="prewedding";try{await Fh(yi(Rt,"deals"),{uid:t,clientName:F,clientWa:E,address:O,groomName:T,brideName:ne,groomIg:be,brideIg:te,parent:_,packageId:S,packageType:(b==null?void 0:b.typeName)||"",packagePrice:(b==null?void 0:b.price)||0,addonIds:B.map(vt=>vt.id),addonSummary:B.map(vt=>({name:vt.name,price:vt.price||0})),total:ee,eventType:fe,isWedding:We,isLamaran:ut,isPrewed:Ze,wedding:We?{date:M||null,akadTime:q||null,akadPlace:re||null,resepsiTime:me||null,resepsiPlace:ye||null}:null,lamaran:ut?{date:Fe||null,time:Ee||null,place:xt||null}:null,prewedding:Ze?{date:it||null,place:Ke||null}:null,source:"deal-publish",createdAt:tl()}),at&&at!=="#"&&window.open(at,"_blank","noopener,noreferrer")}catch(vt){console.error(vt),ze("Gagal menyimpan deal. Coba lagi.")}};return u===!1?v.jsx("div",{className:"container",style:{maxWidth:720},children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:(e==null?void 0:e.name)||"(Vendor)"}),v.jsxs("div",{className:"banner",style:{background:"#fff1f2",border:"1px solid #fecdd3",color:"#991b1b"},children:["Link ini ",v.jsx("b",{children:"tidak aktif"})," atau masa aktif sudah habis. Silakan hubungi vendor."]})]})}):v.jsxs("div",{className:"container",style:{maxWidth:920},children:[v.jsxs("div",{className:"card torn",children:[v.jsxs("h2",{style:{marginTop:0},children:[(e==null?void 0:e.name)||"(Vendor)","  Deal Klien"]}),(o==null?void 0:o.enabled)&&!!o.text&&v.jsx("div",{className:"banner",children:o.text})]}),v.jsxs("div",{className:"card",children:[v.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[m.map(Se=>v.jsx("button",{onClick:()=>{p(Se),L(null)},className:"btn",style:{border:Se===_?"2px solid #7a6a58":"1px solid #ddd",background:Se===_?"#f7f4f1":"white",textTransform:"capitalize"},children:Se},Se)),m.length===0&&v.jsx("div",{children:"(Belum ada parent)"})]}),v.jsxs("div",{style:{marginTop:12,display:"grid",gap:10},children:[P.length===0&&v.jsx("div",{children:"(Belum ada jenis di parent ini)"}),P.map(Se=>{var Ye;return v.jsxs("label",{className:"card",style:{padding:10,border:"1px dashed #e6e0da",display:"flex",gap:10,alignItems:"flex-start"},children:[v.jsx("input",{type:"radio",name:"pkgType",checked:Se.id===S,onChange:()=>L(Se.id),style:{marginTop:4}}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[v.jsx("strong",{style:{textTransform:"capitalize"},children:Se.typeName}),v.jsx("span",{className:"badge",children:wi(Se.price)})]}),!!((Ye=Se.details)!=null&&Ye.length)&&v.jsx("ul",{style:{marginTop:8},children:Se.details.map((We,ut)=>v.jsx("li",{children:We},ut))})]})]},Se.id)})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Add-ons"}),s.length===0&&v.jsx("div",{children:"(Belum ada add-on)"}),v.jsx("div",{style:{display:"grid",gap:8},children:s.map(Se=>v.jsxs("label",{className:"card",style:{display:"flex",justifyContent:"space-between",padding:8,alignItems:"center"},children:[v.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[v.jsx("input",{type:"checkbox",checked:!!I[Se.id],onChange:Ye=>R(We=>({...We,[Se.id]:Ye.target.checked}))}),Se.name]}),v.jsx("span",{children:wi(Se.price)})]},Se.id))}),v.jsxs("div",{style:{marginTop:10,fontWeight:700},children:["Total sementara: ",wi(ee)]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Data Klien"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama klien"}),v.jsx("input",{className:"input",value:F,onChange:Se=>V(Se.target.value),placeholder:"Nama lengkap"})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No. WA klien"}),v.jsx("input",{className:"input",value:E,onChange:Se=>N(Se.target.value),placeholder:"62xxxxxxxxxx"})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Alamat kirim album"}),v.jsx("textarea",{className:"textarea",rows:3,value:O,onChange:Se=>x(Se.target.value),placeholder:"Jalan, kecamatan, kota/kab, kode pos"})]}),v.jsxs("div",{className:"row",style:{marginTop:12},children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Pria"}),v.jsx("input",{className:"input",value:T,onChange:Se=>C(Se.target.value),placeholder:"Nama pengantin laki-laki"})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Wanita"}),v.jsx("input",{className:"input",value:ne,onChange:Se=>de(Se.target.value),placeholder:"Nama pengantin perempuan"})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"IG Pria"}),v.jsx("input",{className:"input",value:be,onChange:Se=>we(Se.target.value),placeholder:"@username (contoh: @namapria)"})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"IG Wanita"}),v.jsx("input",{className:"input",value:te,onChange:Se=>Q(Se.target.value),placeholder:"@username (contoh: @namawanita)"})]})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Jenis Acara"}),v.jsx("div",{className:"row",children:v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Pilih jenis acara"}),v.jsxs("select",{className:"input",value:fe,onChange:Se=>xe(Se.target.value),children:[v.jsx("option",{value:"",children:"-- pilih --"}),v.jsx("option",{value:"wedding",children:"Wedding"}),v.jsx("option",{value:"lamaran",children:"Lamaran"}),v.jsx("option",{value:"prewedding",children:"Prewedding"})]})]})}),fe==="wedding"&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Detail Wedding"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:M,onChange:Se=>G(Se.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam akad/pemberkatan"}),v.jsx("input",{className:"input",type:"time",value:q,onChange:Se=>K(Se.target.value)})]})]}),v.jsx("div",{className:"row",children:v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat akad/pemberkatan"}),v.jsx("input",{className:"input",value:re,onChange:Se=>ae(Se.target.value),placeholder:"Nama venue / alamat"})]})}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam resepsi"}),v.jsx("input",{className:"input",type:"time",value:me,onChange:Se=>ve(Se.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat resepsi"}),v.jsx("input",{className:"input",value:ye,onChange:Se=>Pe(Se.target.value),placeholder:"Nama venue / alamat"})]})]})]}),fe==="lamaran"&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Detail Lamaran"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:Fe,onChange:Se=>Ue(Se.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jam lamaran"}),v.jsx("input",{className:"input",type:"time",value:Ee,onChange:Se=>Z(Se.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Tempat lamaran"}),v.jsx("input",{className:"input",value:xt,onChange:Se=>pt(Se.target.value),placeholder:"Nama tempat / alamat"})]})]}),fe==="prewedding"&&v.jsxs("div",{className:"card",style:{marginTop:10},children:[v.jsx("strong",{children:"Detail Prewedding"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal acara"}),v.jsx("input",{className:"input",type:"date",value:it,onChange:Se=>je(Se.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tempat prewedding"}),v.jsx("input",{className:"input",value:Ke,onChange:Se=>Ae(Se.target.value),placeholder:"Lokasi prewedding"})]})]})]})]}),st&&v.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:st}),v.jsxs("div",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[v.jsxs("div",{style:{fontWeight:700},children:["Total: ",wi(ee)]}),v.jsx("a",{className:"btn primary",href:at,onClick:qe,target:"_blank",rel:"noreferrer",style:{border:"1px solid #25D366"},children:"Deal via WhatsApp"})]})]})}const I7={VITE_SUPERADMIN_PASSWORD:"Rikimaru08561318222!"},k7=I7;function T7(){return k7.VITE_SUPERADMIN_PASSWORD}function P7(){const[t,e]=le.useState(!1),[n,r]=le.useState(""),[i,s]=le.useState("daily"),[a,o]=le.useState(1),[l,u]=le.useState([]),[d,m]=le.useState([]);le.useEffect(()=>{const L=lr(ll(yi(Rt,"tokenStore"),s7("createdAt","desc"),a7(200)),b=>{const I=[];b.forEach(R=>I.push(R.data())),u(I)});return()=>L()},[]),le.useEffect(()=>{if(!t)return;Ei.currentUser||z6(Ei).catch(()=>{});const L=lr(yi(Rt,"tokens"),b=>{const I=[];b.forEach(R=>{var ee,F;const B=R.data();I.push({uid:R.id,vendorName:"",expiresAt:(F=(ee=B==null?void 0:B.expiresAt)==null?void 0:ee.toMillis)==null?void 0:F.call(ee)})}),I.forEach((R,B)=>{lr(hn(Rt,"vendors",R.uid),ee=>{const F=ee.data();I[B].vendorName=(F==null?void 0:F.name)||"(Tanpa Nama)",m([...I])})}),m(I)});return()=>{L()}},[t]);const _=()=>{const L=T7();e(n===L),n!==L&&alert("Password salah.")},p=async()=>{for(let L=0;L<a;L++){const b=w7(16),I=hn(Rt,"tokenStore",b);await ul(I,{token:b,status:"idle",duration:i,createdAt:tl()},{merge:!0})}alert("Token dibuat.")};if(!t)return v.jsx("div",{className:"container",children:v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Superadmin"}),v.jsx("p",{children:"Halaman ini tidak ada di navbar. Masukkan password lokal."}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"password",placeholder:"Password Superadmin",value:n,onChange:L=>r(L.target.value)})}),v.jsx("div",{children:v.jsx("button",{className:"btn primary",onClick:_,children:"Masuk"})})]})]})});const P=d.filter(L=>!!L.expiresAt&&L.expiresAt>Date.now()).length,S=d.length-P;return v.jsxs("div",{className:"container",children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Superadmin  Token Store"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Durasi"}),v.jsxs("select",{className:"select",value:i,onChange:L=>s(L.target.value),children:[v.jsx("option",{value:"daily",children:"harian (1 hari)"}),v.jsx("option",{value:"weekly",children:"mingguan (7 hari)"}),v.jsx("option",{value:"monthly",children:"bulanan (30 hari)"})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jumlah token"}),v.jsx("input",{className:"input",type:"number",min:1,max:50,value:a,onChange:L=>o(Math.max(1,Math.min(50,Number(L.target.value||1))))})]}),v.jsx("div",{style:{alignSelf:"end"},children:v.jsx("button",{className:"btn primary",onClick:p,children:"Generate"})})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{children:"Daftar Token"}),v.jsxs("div",{className:"row",style:{fontWeight:700},children:[v.jsx("div",{className:"col",children:"Token"}),v.jsx("div",{className:"col",children:"Duration"}),v.jsx("div",{className:"col",children:"Status"}),v.jsx("div",{className:"col",children:"UID"}),v.jsx("div",{className:"col",children:"Used At"})]}),l.map((L,b)=>{var I,R,B,ee;return v.jsxs("div",{className:"row",style:{alignItems:"center",borderTop:"1px dashed var(--muted)",paddingTop:6,marginTop:6},children:[v.jsx("div",{className:"col",style:{fontFamily:"monospace"},children:L.token}),v.jsx("div",{className:"col",children:L.duration}),v.jsx("div",{className:"col",children:v.jsx("span",{className:"badge",children:L.status})}),v.jsx("div",{className:"col",children:L.uid||""}),v.jsx("div",{className:"col",children:((ee=(R=(I=L.usedAt)==null?void 0:I.toDate)==null?void 0:(B=R.call(I)).toLocaleString)==null?void 0:ee.call(B,"id-ID"))||""})]},b)}),l.length===0&&v.jsx("div",{children:"(belum ada)"})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{children:"Aktivitas Akun"}),v.jsxs("div",{className:"banner",children:["Aktif: ",v.jsx("b",{children:P})," | Tidak aktif: ",v.jsx("b",{children:S})]}),v.jsxs("div",{className:"row",style:{fontWeight:700},children:[v.jsx("div",{className:"col",children:"UID"}),v.jsx("div",{className:"col",children:"Nama Vendor"}),v.jsx("div",{className:"col",children:"Status"}),v.jsx("div",{className:"col",children:"Expires At"})]}),d.map((L,b)=>{const I=!!L.expiresAt&&L.expiresAt>Date.now();return v.jsxs("div",{className:"row",style:{alignItems:"center",borderTop:"1px dashed var(--muted)",paddingTop:6,marginTop:6},children:[v.jsx("div",{className:"col",style:{fontFamily:"monospace"},children:L.uid}),v.jsx("div",{className:"col",children:L.vendorName}),v.jsx("div",{className:"col",children:v.jsx("span",{className:"badge",children:I?"aktif":"tidak aktif"})}),v.jsx("div",{className:"col",children:L.expiresAt?new Date(L.expiresAt).toLocaleString("id-ID"):""})]},b)}),d.length===0&&v.jsx("div",{children:"(belum ada token user)"})]})]})}const C7="modulepreload",L7=function(t){return"/"+t},iw={},qg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=L7(l),l in iw)return;iw[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":C7,u||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((_,p)=>{m.addEventListener("load",_),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function on(t){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}var js=Uint8Array,$i=Uint16Array,Dv=Int32Array,Ov=new js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mv=new js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sw=new js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a3=function(t,e){for(var n=new $i(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Dv(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},o3=a3(Ov,2),R7=o3.b,C0=o3.r;R7[28]=258,C0[258]=28;var j7=a3(Mv,0),aw=j7.r,L0=new $i(32768);for(var En=0;En<32768;++En){var No=(En&43690)>>1|(En&21845)<<1;No=(No&52428)>>2|(No&13107)<<2,No=(No&61680)>>4|(No&3855)<<4,L0[En]=((No&65280)>>8|(No&255)<<8)>>1}var Vh=function(t,e,n){for(var r=t.length,i=0,s=new $i(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new $i(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new $i(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],m=a[t[i]-1]++<<d,_=m|(1<<d)-1;m<=_;++m)o[L0[m]>>l]=u}else for(o=new $i(r),i=0;i<r;++i)t[i]&&(o[i]=L0[a[t[i]-1]++]>>15-t[i]);return o},uu=new js(288);for(var En=0;En<144;++En)uu[En]=8;for(var En=144;En<256;++En)uu[En]=9;for(var En=256;En<280;++En)uu[En]=7;for(var En=280;En<288;++En)uu[En]=8;var Jp=new js(32);for(var En=0;En<32;++En)Jp[En]=5;var D7=Vh(uu,9,0),O7=Vh(Jp,5,0),l3=function(t){return(t+7)/8|0},M7=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new js(t.subarray(e,n))},Ta=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},dh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},$g=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:c3,l:0};if(i==1){var a=new js(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(ee,F){return ee.f-F.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,d=1,m=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=n[n[u].f<n[m].f?u++:m++],l=n[u!=d&&n[u].f<n[m].f?u++:m++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var p=new $i(_+1),P=R0(n[d-1],p,0);if(P>e){var r=0,S=0,L=P-e,b=1<<L;for(s.sort(function(F,V){return p[V.s]-p[F.s]||F.f-V.f});r<i;++r){var I=s[r].s;if(p[I]>e)S+=b-(1<<P-p[I]),p[I]=e;else break}for(S>>=L;S>0;){var R=s[r].s;p[R]<e?S-=1<<e-p[R]++-1:++r}for(;r>=0&&S;--r){var B=s[r].s;p[B]==e&&(--p[B],++S)}P=e}return{t:new js(p),l:P}},R0=function(t,e,n){return t.s==-1?Math.max(R0(t.l,e,n+1),R0(t.r,e,n+1)):e[t.s]=n},ow=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new $i(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},fh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},u3=function(t,e,n){var r=n.length,i=l3(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},lw=function(t,e,n,r,i,s,a,o,l,u,d){Ta(e,d++,n),++i[256];for(var m=$g(i,15),_=m.t,p=m.l,P=$g(s,15),S=P.t,L=P.l,b=ow(_),I=b.c,R=b.n,B=ow(S),ee=B.c,F=B.n,V=new $i(19),E=0;E<I.length;++E)++V[I[E]&31];for(var E=0;E<ee.length;++E)++V[ee[E]&31];for(var N=$g(V,7),O=N.t,x=N.l,T=19;T>4&&!O[sw[T-1]];--T);var C=u+5<<3,ne=fh(i,uu)+fh(s,Jp)+a,de=fh(i,_)+fh(s,S)+a+14+3*T+fh(V,O)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&C<=ne&&C<=de)return u3(e,d,t.subarray(l,l+u));var be,we,te,Q;if(Ta(e,d,1+(de<ne)),d+=2,de<ne){be=Vh(_,p,0),we=_,te=Vh(S,L,0),Q=S;var fe=Vh(O,x,0);Ta(e,d,R-257),Ta(e,d+5,F-1),Ta(e,d+10,T-4),d+=14;for(var E=0;E<T;++E)Ta(e,d+3*E,O[sw[E]]);d+=3*T;for(var xe=[I,ee],M=0;M<2;++M)for(var G=xe[M],E=0;E<G.length;++E){var q=G[E]&31;Ta(e,d,fe[q]),d+=O[q],q>15&&(Ta(e,d,G[E]>>5&127),d+=G[E]>>12)}}else be=D7,we=uu,te=O7,Q=Jp;for(var E=0;E<o;++E){var K=r[E];if(K>255){var q=K>>18&31;dh(e,d,be[q+257]),d+=we[q+257],q>7&&(Ta(e,d,K>>23&31),d+=Ov[q]);var re=K&31;dh(e,d,te[re]),d+=Q[re],re>3&&(dh(e,d,K>>5&8191),d+=Mv[re])}else dh(e,d,be[K]),d+=we[K]}return dh(e,d,be[256]),d+we[256]},F7=new Dv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c3=new js(0),V7=function(t,e,n,r,i,s){var a=s.z||t.length,o=new js(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var m=F7[e-1],_=m>>13,p=m&8191,P=(1<<n)-1,S=s.p||new $i(32768),L=s.h||new $i(P+1),b=Math.ceil(n/3),I=2*b,R=function(Ee){return(t[Ee]^t[Ee+1]<<b^t[Ee+2]<<I)&P},B=new Dv(25e3),ee=new $i(288),F=new $i(32),V=0,E=0,N=s.i||0,O=0,x=s.w||0,T=0;N+2<a;++N){var C=R(N),ne=N&32767,de=L[C];if(S[ne]=de,L[C]=ne,x<=N){var be=a-N;if((V>7e3||O>24576)&&(be>423||!u)){d=lw(t,l,0,B,ee,F,E,O,T,N-T,d),O=V=E=0,T=N;for(var we=0;we<286;++we)ee[we]=0;for(var we=0;we<30;++we)F[we]=0}var te=2,Q=0,fe=p,xe=ne-de&32767;if(be>2&&C==R(N-xe))for(var M=Math.min(_,be)-1,G=Math.min(32767,N),q=Math.min(258,be);xe<=G&&--fe&&ne!=de;){if(t[N+te]==t[N+te-xe]){for(var K=0;K<q&&t[N+K]==t[N+K-xe];++K);if(K>te){if(te=K,Q=xe,K>M)break;for(var re=Math.min(xe,K-2),ae=0,we=0;we<re;++we){var me=N-xe+we&32767,ve=S[me],ye=me-ve&32767;ye>ae&&(ae=ye,de=me)}}}ne=de,de=S[ne],xe+=ne-de&32767}if(Q){B[O++]=268435456|C0[te]<<18|aw[Q];var Pe=C0[te]&31,Fe=aw[Q]&31;E+=Ov[Pe]+Mv[Fe],++ee[257+Pe],++F[Fe],x=N+te,++V}else B[O++]=t[N],++ee[t[N]]}}for(N=Math.max(N,x);N<a;++N)B[O++]=t[N],++ee[t[N]];d=lw(t,l,u,B,ee,F,E,O,T,N-T,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=L,s.p=S,s.i=N,s.w=x)}else{for(var N=s.w||0;N<a+u;N+=65535){var Ue=N+65535;Ue>=a&&(l[d/8|0]=u,Ue=a),d=u3(l,d+1,t.subarray(N,Ue))}s.i=a}return M7(o,0,r+l3(d)+i)},h3=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},U7=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new js(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return V7(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},d3=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},B7=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=h3();i.p(e.dictionary),d3(t,2,i.d())}};function j0(t,e){e||(e={});var n=h3();n.p(t);var r=U7(t,e,e.dictionary?6:2,4);return B7(r,e),d3(r,r.length-4,n.d()),r}var z7=typeof TextDecoder<"u"&&new TextDecoder,q7=0;try{z7.decode(c3,{stream:!0}),q7=1}catch{}function $7(t){if(Array.isArray(t))return t}function W7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function H7(t,e){if(t){if(typeof t=="string")return uw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uw(t,e):void 0}}function G7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cw(t,e){return $7(t)||W7(t,e)||H7(t,e)||G7()}function hw(t,e="utf8"){return new TextDecoder(e).decode(t)}const K7=new TextEncoder;function Q7(t){return K7.encode(t)}const J7=1024*8,Y7=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Wg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Fv{constructor(e=J7,n={}){an(this,"buffer");an(this,"byteLength");an(this,"byteOffset");an(this,"length");an(this,"offset");an(this,"lastWrittenByte");an(this,"littleEndian");an(this,"_data");an(this,"_mark");an(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Fv)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Wg[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Y7&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new Wg[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new Wg[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return hw(this.readBytes(e))}decodeText(e=1,n="utf8"){return hw(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Q7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dc(t){let e=t.length;for(;--e>=0;)t[e]=0}const X7=3,Z7=258,f3=29,ej=256,tj=ej+1+f3,p3=30,nj=512,rj=new Array((tj+2)*2);Dc(rj);const ij=new Array(p3*2);Dc(ij);const sj=new Array(nj);Dc(sj);const aj=new Array(Z7-X7+1);Dc(aj);const oj=new Array(f3);Dc(oj);const lj=new Array(p3);Dc(lj);const uj=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var D0=uj;const cj=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},hj=new Uint32Array(cj()),dj=(t,e,n,r)=>{const i=hj,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var ea=dj,O0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},m3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const fj=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var pj=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)fj(n,r)&&(t[r]=n[r])}}return t},mj=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},g3={assign:pj,flattenChunks:mj};let v3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v3=!1}const yd=new Uint8Array(256);for(let t=0;t<256;t++)yd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;yd[254]=yd[254]=1;var gj=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const vj=(t,e)=>{if(e<65534&&t.subarray&&v3)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var yj=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=yd[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return vj(s,i)},_j=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+yd[t[n]]>e?n:e},M0={string2buf:gj,buf2string:yj,utf8border:_j};function wj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bj=wj;const If=16209,Aj=16191;var xj=function(e,n){let r,i,s,a,o,l,u,d,m,_,p,P,S,L,b,I,R,B,ee,F,V,E,N,O;const x=e.state;r=e.next_in,N=e.input,i=r+(e.avail_in-5),s=e.next_out,O=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=x.dmax,u=x.wsize,d=x.whave,m=x.wnext,_=x.window,p=x.hold,P=x.bits,S=x.lencode,L=x.distcode,b=(1<<x.lenbits)-1,I=(1<<x.distbits)-1;e:do{P<15&&(p+=N[r++]<<P,P+=8,p+=N[r++]<<P,P+=8),R=S[p&b];t:for(;;){if(B=R>>>24,p>>>=B,P-=B,B=R>>>16&255,B===0)O[s++]=R&65535;else if(B&16){ee=R&65535,B&=15,B&&(P<B&&(p+=N[r++]<<P,P+=8),ee+=p&(1<<B)-1,p>>>=B,P-=B),P<15&&(p+=N[r++]<<P,P+=8,p+=N[r++]<<P,P+=8),R=L[p&I];n:for(;;){if(B=R>>>24,p>>>=B,P-=B,B=R>>>16&255,B&16){if(F=R&65535,B&=15,P<B&&(p+=N[r++]<<P,P+=8,P<B&&(p+=N[r++]<<P,P+=8)),F+=p&(1<<B)-1,F>l){e.msg="invalid distance too far back",x.mode=If;break e}if(p>>>=B,P-=B,B=s-a,F>B){if(B=F-B,B>d&&x.sane){e.msg="invalid distance too far back",x.mode=If;break e}if(V=0,E=_,m===0){if(V+=u-B,B<ee){ee-=B;do O[s++]=_[V++];while(--B);V=s-F,E=O}}else if(m<B){if(V+=u+m-B,B-=m,B<ee){ee-=B;do O[s++]=_[V++];while(--B);if(V=0,m<ee){B=m,ee-=B;do O[s++]=_[V++];while(--B);V=s-F,E=O}}}else if(V+=m-B,B<ee){ee-=B;do O[s++]=_[V++];while(--B);V=s-F,E=O}for(;ee>2;)O[s++]=E[V++],O[s++]=E[V++],O[s++]=E[V++],ee-=3;ee&&(O[s++]=E[V++],ee>1&&(O[s++]=E[V++]))}else{V=s-F;do O[s++]=O[V++],O[s++]=O[V++],O[s++]=O[V++],ee-=3;while(ee>2);ee&&(O[s++]=O[V++],ee>1&&(O[s++]=O[V++]))}}else if(B&64){e.msg="invalid distance code",x.mode=If;break e}else{R=L[(R&65535)+(p&(1<<B)-1)];continue n}break}}else if(B&64)if(B&32){x.mode=Aj;break e}else{e.msg="invalid literal/length code",x.mode=If;break e}else{R=S[(R&65535)+(p&(1<<B)-1)];continue t}break}}while(r<i&&s<o);ee=P>>3,r-=ee,P-=ee<<3,p&=(1<<P)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),x.hold=p,x.bits=P};const Nu=15,dw=852,fw=592,pw=0,Hg=1,mw=2,Ej=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Sj=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Nj=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ij=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kj=(t,e,n,r,i,s,a,o)=>{const l=o.bits;let u=0,d=0,m=0,_=0,p=0,P=0,S=0,L=0,b=0,I=0,R,B,ee,F,V,E=null,N;const O=new Uint16Array(Nu+1),x=new Uint16Array(Nu+1);let T=null,C,ne,de;for(u=0;u<=Nu;u++)O[u]=0;for(d=0;d<r;d++)O[e[n+d]]++;for(p=l,_=Nu;_>=1&&O[_]===0;_--);if(p>_&&(p=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<_&&O[m]===0;m++);for(p<m&&(p=m),L=1,u=1;u<=Nu;u++)if(L<<=1,L-=O[u],L<0)return-1;if(L>0&&(t===pw||_!==1))return-1;for(x[1]=0,u=1;u<Nu;u++)x[u+1]=x[u]+O[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[x[e[n+d]]++]=d);if(t===pw?(E=T=a,N=20):t===Hg?(E=Ej,T=Sj,N=257):(E=Nj,T=Ij,N=0),I=0,d=0,u=m,V=s,P=p,S=0,ee=-1,b=1<<p,F=b-1,t===Hg&&b>dw||t===mw&&b>fw)return 1;for(;;){C=u-S,a[d]+1<N?(ne=0,de=a[d]):a[d]>=N?(ne=T[a[d]-N],de=E[a[d]-N]):(ne=96,de=0),R=1<<u-S,B=1<<P,m=B;do B-=R,i[V+(I>>S)+B]=C<<24|ne<<16|de|0;while(B!==0);for(R=1<<u-1;I&R;)R>>=1;if(R!==0?(I&=R-1,I+=R):I=0,d++,--O[u]===0){if(u===_)break;u=e[n+a[d]]}if(u>p&&(I&F)!==ee){for(S===0&&(S=p),V+=m,P=u-S,L=1<<P;P+S<_&&(L-=O[P+S],!(L<=0));)P++,L<<=1;if(b+=1<<P,t===Hg&&b>dw||t===mw&&b>fw)return 1;ee=I&F,i[ee]=p<<24|P<<16|V-s|0}}return I!==0&&(i[V+I]=u-S<<24|64<<16|0),o.bits=p,0};var Uh=kj;const Tj=0,y3=1,_3=2,{Z_FINISH:gw,Z_BLOCK:Pj,Z_TREES:kf,Z_OK:cu,Z_STREAM_END:Cj,Z_NEED_DICT:Lj,Z_STREAM_ERROR:hs,Z_DATA_ERROR:w3,Z_MEM_ERROR:b3,Z_BUF_ERROR:Rj,Z_DEFLATED:vw}=m3,Um=16180,yw=16181,_w=16182,ww=16183,bw=16184,Aw=16185,xw=16186,Ew=16187,Sw=16188,Nw=16189,Yp=16190,Pa=16191,Gg=16192,Iw=16193,Kg=16194,kw=16195,Tw=16196,Pw=16197,Cw=16198,Tf=16199,Pf=16200,Lw=16201,Rw=16202,jw=16203,Dw=16204,Ow=16205,Qg=16206,Mw=16207,Fw=16208,Tn=16209,A3=16210,x3=16211,jj=852,Dj=592,Oj=15,Mj=Oj,Vw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Fj(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Um||e.mode>x3?1:0},E3=t=>{if(gu(t))return hs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Um,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jj),e.distcode=e.distdyn=new Int32Array(Dj),e.sane=1,e.back=-1,cu},S3=t=>{if(gu(t))return hs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,E3(t)},N3=(t,e)=>{let n;if(gu(t))return hs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,S3(t))},I3=(t,e)=>{if(!t)return hs;const n=new Fj;t.state=n,n.strm=t,n.window=null,n.mode=Um;const r=N3(t,e);return r!==cu&&(t.state=null),r},Vj=t=>I3(t,Mj);let Uw=!0,Jg,Yg;const Uj=t=>{if(Uw){Jg=new Int32Array(512),Yg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Uh(y3,t.lens,0,288,Jg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Uh(_3,t.lens,0,32,Yg,0,t.work,{bits:5}),Uw=!1}t.lencode=Jg,t.lenbits=9,t.distcode=Yg,t.distbits=5},k3=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Bj=(t,e)=>{let n,r,i,s,a,o,l,u,d,m,_,p,P,S,L=0,b,I,R,B,ee,F,V,E;const N=new Uint8Array(4);let O,x;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gu(t)||!t.output||!t.input&&t.avail_in!==0)return hs;n=t.state,n.mode===Pa&&(n.mode=Gg),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,m=o,_=l,E=cu;e:for(;;)switch(n.mode){case Um:if(n.wrap===0){n.mode=Gg;break}for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0),u=0,d=0,n.mode=yw;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Tn;break}if((u&15)!==vw){t.msg="unknown compression method",n.mode=Tn;break}if(u>>>=4,d-=4,V=(u&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=Tn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Nw:Pa,u=0,d=0;break;case yw:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==vw){t.msg="unknown compression method",n.mode=Tn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Tn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0)),u=0,d=0,n.mode=_w;case _w:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,n.check=ea(n.check,N,4,0)),u=0,d=0,n.mode=ww;case ww:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0)),u=0,d=0,n.mode=bw;case bw:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=ea(n.check,N,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Aw;case Aw:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),V)),n.flags&512&&n.wrap&4&&(n.check=ea(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=xw;case xw:if(n.flags&2048){if(o===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=ea(n.check,r,p,s)),o-=p,s+=p,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Ew;case Ew:if(n.flags&4096){if(o===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=ea(n.check,r,p,s)),o-=p,s+=p,V)break e}else n.head&&(n.head.comment=null);n.mode=Sw;case Sw:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Tn;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Pa;break;case Nw:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}t.adler=n.check=Vw(u),u=0,d=0,n.mode=Yp;case Yp:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,Lj;t.adler=n.check=1,n.mode=Pa;case Pa:if(e===Pj||e===kf)break e;case Gg:if(n.last){u>>>=d&7,d-=d&7,n.mode=Qg;break}for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Iw;break;case 1:if(Uj(n),n.mode=Tf,e===kf){u>>>=2,d-=2;break e}break;case 2:n.mode=Tw;break;case 3:t.msg="invalid block type",n.mode=Tn}u>>>=2,d-=2;break;case Iw:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Tn;break}if(n.length=u&65535,u=0,d=0,n.mode=Kg,e===kf)break e;case Kg:n.mode=kw;case kw:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=Pa;break;case Tw:for(;d<14;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Tn;break}n.have=0,n.mode=Pw;case Pw:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.lens[T[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},E=Uh(Tj,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,E){t.msg="invalid code lengths set",n.mode=Tn;break}n.have=0,n.mode=Cw;case Cw:for(;n.have<n.nlen+n.ndist;){for(;L=n.lencode[u&(1<<n.lenbits)-1],b=L>>>24,I=L>>>16&255,R=L&65535,!(b<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(R<16)u>>>=b,d-=b,n.lens[n.have++]=R;else{if(R===16){for(x=b+2;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(u>>>=b,d-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=Tn;break}V=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(R===17){for(x=b+3;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=b,d-=b,V=0,p=3+(u&7),u>>>=3,d-=3}else{for(x=b+7;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=b,d-=b,V=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Tn;break}for(;p--;)n.lens[n.have++]=V}}if(n.mode===Tn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Tn;break}if(n.lenbits=9,O={bits:n.lenbits},E=Uh(y3,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,E){t.msg="invalid literal/lengths set",n.mode=Tn;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},E=Uh(_3,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,E){t.msg="invalid distances set",n.mode=Tn;break}if(n.mode=Tf,e===kf)break e;case Tf:n.mode=Pf;case Pf:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,xj(t,_),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===Pa&&(n.back=-1);break}for(n.back=0;L=n.lencode[u&(1<<n.lenbits)-1],b=L>>>24,I=L>>>16&255,R=L&65535,!(b<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(I&&!(I&240)){for(B=b,ee=I,F=R;L=n.lencode[F+((u&(1<<B+ee)-1)>>B)],b=L>>>24,I=L>>>16&255,R=L&65535,!(B+b<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=B,d-=B,n.back+=B}if(u>>>=b,d-=b,n.back+=b,n.length=R,I===0){n.mode=Ow;break}if(I&32){n.back=-1,n.mode=Pa;break}if(I&64){t.msg="invalid literal/length code",n.mode=Tn;break}n.extra=I&15,n.mode=Lw;case Lw:if(n.extra){for(x=n.extra;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Rw;case Rw:for(;L=n.distcode[u&(1<<n.distbits)-1],b=L>>>24,I=L>>>16&255,R=L&65535,!(b<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(!(I&240)){for(B=b,ee=I,F=R;L=n.distcode[F+((u&(1<<B+ee)-1)>>B)],b=L>>>24,I=L>>>16&255,R=L&65535,!(B+b<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=B,d-=B,n.back+=B}if(u>>>=b,d-=b,n.back+=b,I&64){t.msg="invalid distance code",n.mode=Tn;break}n.offset=R,n.extra=I&15,n.mode=jw;case jw:if(n.extra){for(x=n.extra;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Tn;break}n.mode=Dw;case Dw:if(l===0)break e;if(p=_-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Tn;break}p>n.wnext?(p-=n.wnext,P=n.wsize-p):P=n.wnext-p,p>n.length&&(p=n.length),S=n.window}else S=i,P=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[a++]=S[P++];while(--p);n.length===0&&(n.mode=Pf);break;case Ow:if(l===0)break e;i[a++]=n.length,l--,n.mode=Pf;break;case Qg:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[s++]<<d,d+=8}if(_-=l,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?ea(n.check,i,_,a-_):D0(n.check,i,_,a-_)),_=l,n.wrap&4&&(n.flags?u:Vw(u))!==n.check){t.msg="incorrect data check",n.mode=Tn;break}u=0,d=0}n.mode=Mw;case Mw:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Tn;break}u=0,d=0}n.mode=Fw;case Fw:E=Cj;break e;case Tn:E=w3;break e;case A3:return b3;case x3:default:return hs}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||_!==t.avail_out&&n.mode<Tn&&(n.mode<Qg||e!==gw))&&k3(t,t.output,t.next_out,_-t.avail_out),m-=t.avail_in,_-=t.avail_out,t.total_in+=m,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?ea(n.check,i,_,t.next_out-_):D0(n.check,i,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Pa?128:0)+(n.mode===Tf||n.mode===Kg?256:0),(m===0&&_===0||e===gw)&&E===cu&&(E=Rj),E},zj=t=>{if(gu(t))return hs;let e=t.state;return e.window&&(e.window=null),t.state=null,cu},qj=(t,e)=>{if(gu(t))return hs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,cu):hs},$j=(t,e)=>{const n=e.length;let r,i,s;return gu(t)||(r=t.state,r.wrap!==0&&r.mode!==Yp)?hs:r.mode===Yp&&(i=1,i=D0(i,e,n,0),i!==r.check)?w3:(s=k3(t,e,n,n),s?(r.mode=A3,b3):(r.havedict=1,cu))};var Wj=S3,Hj=N3,Gj=E3,Kj=Vj,Qj=I3,Jj=Bj,Yj=zj,Xj=qj,Zj=$j,eD="pako inflate (from Nodeca project)",Ra={inflateReset:Wj,inflateReset2:Hj,inflateResetKeep:Gj,inflateInit:Kj,inflateInit2:Qj,inflate:Jj,inflateEnd:Yj,inflateGetHeader:Xj,inflateSetDictionary:Zj,inflateInfo:eD};function tD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nD=tD;const T3=Object.prototype.toString,{Z_NO_FLUSH:rD,Z_FINISH:iD,Z_OK:_d,Z_STREAM_END:Xg,Z_NEED_DICT:Zg,Z_STREAM_ERROR:sD,Z_DATA_ERROR:Bw,Z_MEM_ERROR:aD}=m3;function Vd(t){this.options=g3.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bj,this.strm.avail_out=0;let n=Ra.inflateInit2(this.strm,e.windowBits);if(n!==_d)throw new Error(O0[n]);if(this.header=new nD,Ra.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=M0.string2buf(e.dictionary):T3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ra.inflateSetDictionary(this.strm,e.dictionary),n!==_d)))throw new Error(O0[n])}Vd.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?iD:rD,T3.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Ra.inflate(n,a),s===Zg&&i&&(s=Ra.inflateSetDictionary(n,i),s===_d?s=Ra.inflate(n,a):s===Bw&&(s=Zg));n.avail_in>0&&s===Xg&&n.state.wrap>0&&t[n.next_in]!==0;)Ra.inflateReset(n),s=Ra.inflate(n,a);switch(s){case sD:case Bw:case Zg:case aD:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===Xg))if(this.options.to==="string"){let l=M0.utf8border(n.output,n.next_out),u=n.next_out-l,d=M0.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===_d&&o===0)){if(s===Xg)return s=Ra.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Vd.prototype.onData=function(t){this.chunks.push(t)};Vd.prototype.onEnd=function(t){t===_d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g3.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function oD(t,e){const n=new Vd(e);if(n.push(t),n.err)throw n.msg||O0[n.err];return n.result}var lD=Vd,uD=oD,cD={Inflate:lD,inflate:uD};const{Inflate:hD,inflate:dD}=cD;var zw=hD,fD=dD;const P3=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;P3[t]=e}const qw=4294967295;function pD(t,e,n){let r=t;for(let i=0;i<n;i++)r=P3[(r^e[i])&255]^r>>>8;return r}function mD(t,e){return(pD(qw,t,e)^qw)>>>0}function $w(t,e,n){const r=t.readUint32(),i=mD(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function C3(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function L3(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function R3(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function j3(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function D3(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+gD(e[s-i],n[s],n[s-i])&255}}function gD(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function vD(t,e,n,r,i,s){switch(t){case 0:C3(e,n,i);break;case 1:L3(e,n,i,s);break;case 2:R3(e,n,r,i);break;case 3:j3(e,n,r,i,s);break;case 4:D3(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const yD=new Uint16Array([255]),_D=new Uint8Array(yD.buffer),wD=_D[0]===255;function bD(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let d=0;d<7;d++){const m=a[d],_=Math.ceil((n-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(_<=0||p<=0)continue;const P=_*o,S=new Uint8Array(P);for(let L=0;L<p;L++){const b=e[u++],I=e.subarray(u,u+P);u+=P;const R=new Uint8Array(P);vD(b,I,R,S,P,o),S.set(R);for(let B=0;B<_;B++){const ee=m.x+B*m.xStep,F=m.y+L*m.yStep;if(!(ee>=n||F>=r))for(let V=0;V<o;V++)l[(F*n+ee)*o+V]=R[B*o+V]}}}if(s===16){const d=new Uint16Array(l.buffer);if(wD)for(let m=0;m<d.length;m++)d[m]=AD(d[m]);return d}else return l}function AD(t){return(t&255)<<8|t>>8&255}const xD=new Uint16Array([255]),ED=new Uint8Array(xD.buffer),SD=ED[0]===255,ND=new Uint8Array(0);function Ww(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let u=ND,d=0,m,_;for(let p=0;p<r;p++){switch(m=e.subarray(d+1,d+1+o),_=l.subarray(p*o,(p+1)*o),e[d]){case 0:C3(m,_,o);break;case 1:L3(m,_,o,a);break;case 2:R3(m,_,u,o);break;case 3:j3(m,_,u,o,a);break;case 4:D3(m,_,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=_,d+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(SD)for(let P=0;P<p.length;P++)p[P]=ID(p[P]);return p}else return l}function ID(t){return(t&255)<<8|t>>8&255}const rp=Uint8Array.of(137,80,78,71,13,10,26,10);function Hw(t){if(!kD(t.readBytes(rp.length)))throw new Error("wrong PNG signature")}function kD(t){if(t.length<rp.length)return!1;for(let e=0;e<rp.length;e++)if(t[e]!==rp[e])return!1;return!0}const TD="tEXt",PD=0,O3=new TextDecoder("latin1");function CD(t){if(RD(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const LD=/^[\u0000-\u00FF]*$/;function RD(t){if(!LD.test(t))throw new Error("invalid latin1 text")}function jD(t,e,n){const r=M3(e);t[r]=DD(e,n-r.length-1)}function M3(t){for(t.mark();t.readByte()!==PD;);const e=t.offset;t.reset();const n=O3.decode(t.readBytes(e-t.offset-1));return t.skip(1),CD(n),n}function DD(t,e){return O3.decode(t.readBytes(e))}const Ui={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},e1={UNKNOWN:-1,DEFLATE:0},Gw={UNKNOWN:-1,ADAPTIVE:0},t1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Cf={NONE:0,BACKGROUND:1,PREVIOUS:2},n1={SOURCE:0,OVER:1};class OD extends Fv{constructor(n,r={}){super(n);an(this,"_checkCrc");an(this,"_inflator");an(this,"_png");an(this,"_apng");an(this,"_end");an(this,"_hasPalette");an(this,"_palette");an(this,"_hasTransparency");an(this,"_transparency");an(this,"_compressionMethod");an(this,"_filterMethod");an(this,"_interlaceMethod");an(this,"_colorType");an(this,"_isAnimated");an(this,"_numberOfFrames");an(this,"_numberOfPlays");an(this,"_frames");an(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new zw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=e1.UNKNOWN,this._filterMethod=Gw.UNKNOWN,this._interlaceMethod=t1.UNKNOWN,this._colorType=Ui.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Hw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Hw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case TD:jD(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?$w(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?$w(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=MD(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ui.GREYSCALE:i=1;break;case Ui.TRUECOLOUR:i=3;break;case Ui.INDEXED_COLOUR:i=1;break;case Ui.GREYSCALE_ALPHA:i=2;break;case Ui.TRUECOLOUR_ALPHA:i=4;break;case Ui.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==e1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ui.GREYSCALE:case Ui.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ui.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ui.UNKNOWN:case Ui.GREYSCALE_ALPHA:case Ui.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=M3(this),i=this.readUint8();if(i!==e1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:fD(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Ww({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Cf.NONE:break;case Cf.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Cf.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case n1.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[u+d]}break;case n1.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++){const m=r.data[u+this._png.channels-1]/i,_=d%(this._png.channels-1)===0?1:r.data[u+d],p=Math.floor(m*_+(1-m)*n.data[l+d]);n.data[l+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Gw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===t1.NO_INTERLACE)this._png.data=Ww({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===t1.ADAM7)this._png.data=bD({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Cf.NONE,blendOp:n1.SOURCE,data:n}),this._inflator=new zw,this._writingDataChunks=!1}}function MD(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Kw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Kw||(Kw={}));function FD(t,e){return new OD(t,e).decode()}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function r1(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var pn={log:r1,warn:function(t){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):r1.call(null,arguments))},error:function(t){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):r1(t))}};function i1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){zl(r.response,e,n)},r.onerror=function(){pn.error("could not download file")},r.send()}function Qw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var zl=At.saveAs||((typeof window>"u"?"undefined":on(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=At.URL||At.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Qw(i.href)?i1(t,e,n):Lf(i,i.target="_blank"):Lf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Qw(t))i1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Lf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:on(s)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return i1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(At.HTMLElement)||At.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":on(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var l=At.URL||At.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function F3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var ip=At.atob.bind(At),Jw=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=$r(n,r,i,s,e[0],7,-680876936),s=$r(s,n,r,i,e[1],12,-389564586),i=$r(i,s,n,r,e[2],17,606105819),r=$r(r,i,s,n,e[3],22,-1044525330),n=$r(n,r,i,s,e[4],7,-176418897),s=$r(s,n,r,i,e[5],12,1200080426),i=$r(i,s,n,r,e[6],17,-1473231341),r=$r(r,i,s,n,e[7],22,-45705983),n=$r(n,r,i,s,e[8],7,1770035416),s=$r(s,n,r,i,e[9],12,-1958414417),i=$r(i,s,n,r,e[10],17,-42063),r=$r(r,i,s,n,e[11],22,-1990404162),n=$r(n,r,i,s,e[12],7,1804603682),s=$r(s,n,r,i,e[13],12,-40341101),i=$r(i,s,n,r,e[14],17,-1502002290),n=Wr(n,r=$r(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Wr(s,n,r,i,e[6],9,-1069501632),i=Wr(i,s,n,r,e[11],14,643717713),r=Wr(r,i,s,n,e[0],20,-373897302),n=Wr(n,r,i,s,e[5],5,-701558691),s=Wr(s,n,r,i,e[10],9,38016083),i=Wr(i,s,n,r,e[15],14,-660478335),r=Wr(r,i,s,n,e[4],20,-405537848),n=Wr(n,r,i,s,e[9],5,568446438),s=Wr(s,n,r,i,e[14],9,-1019803690),i=Wr(i,s,n,r,e[3],14,-187363961),r=Wr(r,i,s,n,e[8],20,1163531501),n=Wr(n,r,i,s,e[13],5,-1444681467),s=Wr(s,n,r,i,e[2],9,-51403784),i=Wr(i,s,n,r,e[7],14,1735328473),n=Hr(n,r=Wr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Hr(s,n,r,i,e[8],11,-2022574463),i=Hr(i,s,n,r,e[11],16,1839030562),r=Hr(r,i,s,n,e[14],23,-35309556),n=Hr(n,r,i,s,e[1],4,-1530992060),s=Hr(s,n,r,i,e[4],11,1272893353),i=Hr(i,s,n,r,e[7],16,-155497632),r=Hr(r,i,s,n,e[10],23,-1094730640),n=Hr(n,r,i,s,e[13],4,681279174),s=Hr(s,n,r,i,e[0],11,-358537222),i=Hr(i,s,n,r,e[3],16,-722521979),r=Hr(r,i,s,n,e[6],23,76029189),n=Hr(n,r,i,s,e[9],4,-640364487),s=Hr(s,n,r,i,e[12],11,-421815835),i=Hr(i,s,n,r,e[15],16,530742520),n=Gr(n,r=Hr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Gr(s,n,r,i,e[7],10,1126891415),i=Gr(i,s,n,r,e[14],15,-1416354905),r=Gr(r,i,s,n,e[5],21,-57434055),n=Gr(n,r,i,s,e[12],6,1700485571),s=Gr(s,n,r,i,e[3],10,-1894986606),i=Gr(i,s,n,r,e[10],15,-1051523),r=Gr(r,i,s,n,e[1],21,-2054922799),n=Gr(n,r,i,s,e[8],6,1873313359),s=Gr(s,n,r,i,e[15],10,-30611744),i=Gr(i,s,n,r,e[6],15,-1560198380),r=Gr(r,i,s,n,e[13],21,1309151649),n=Gr(n,r,i,s,e[4],6,-145523070),s=Gr(s,n,r,i,e[11],10,-1120210379),i=Gr(i,s,n,r,e[2],15,718787259),r=Gr(r,i,s,n,e[9],21,-343485551),t[0]=Uo(n,t[0]),t[1]=Uo(r,t[1]),t[2]=Uo(i,t[2]),t[3]=Uo(s,t[3])}function Bm(t,e,n,r,i,s){return e=Uo(Uo(e,t),Uo(r,s)),Uo(e<<i|e>>>32-i,n)}function $r(t,e,n,r,i,s,a){return Bm(e&n|~e&r,t,e,i,s,a)}function Wr(t,e,n,r,i,s,a){return Bm(e&r|n&~r,t,e,i,s,a)}function Hr(t,e,n,r,i,s,a){return Bm(e^n^r,t,e,i,s,a)}function Gr(t,e,n,r,i,s,a){return Bm(n^(e|~r),t,e,i,s,a)}function V3(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)s1(r,VD(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,s1(r,i),r}function VD(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Yw="0123456789abcdef".split("");function UD(t){for(var e="",n=0;n<4;n++)e+=Yw[t>>8*n+4&15]+Yw[t>>8*n&15];return e}function BD(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function F0(t){return V3(t).map(BD).join("")}var zD=function(t){for(var e=0;e<t.length;e++)t[e]=UD(t[e]);return t.join("")}(V3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uo(t,e){if(zD){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function V0(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}n=t,r=o}else o=r;var m=e.length,_=0,p=0,P="";for(l=0;l<m;l++)p=(p+(d=o[_=(_+1)%256]))%256,o[_]=o[p],o[p]=d,a=o[(o[_]+o[p])%256],P+=String.fromCharCode(e.charCodeAt(l)^a);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xw={print:4,modify:8,copy:16,"annot-forms":32};function Lu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Xw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Xw[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=F0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=V0(this.encryptionKey,this.padding)}function Ru(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Zw(t){if(on(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){At.console&&pn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Xp(t){if(!(this instanceof Xp))return new Xp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function U3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ql(t,e,n,r,i){if(!(this instanceof ql))return new ql(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,U3.call(this,r,i)}function Ku(t,e,n,r,i){if(!(this instanceof Ku))return new Ku(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,U3.call(this,r,i)}function lt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",d=null;on(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,_={},p={internal:{},__private__:{}};p.__private__.PubSub=Zw;var P="1.3",S=p.__private__.getPdfVersion=function(){return P};p.__private__.setPdfVersion=function(g){P=g};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return L};var b=p.__private__.getPageFormat=function(g){return L[g]};i=i||"a4";var I="compat",R="advanced",B=I;function ee(){this.saveGraphicsState(),Z(new dt(ut,0,0,-ut,0,Zi()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),u="n",B=R}function F(){this.restoreGraphicsState(),u="S",B=I}var V=p.__private__.combineFontStyleAndFontWeight=function(g,j){if(g=="bold"&&j=="normal"||g=="bold"&&j==400||g=="normal"&&j=="italic"||g=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(g=j==400||j==="normal"?g==="italic"?"italic":"normal":j!=700&&j!=="bold"||g!=="normal"?(j==700?"bold":j)+""+g:"bold"),g};p.advancedAPI=function(g){var j=B===I;return j&&ee.call(this),typeof g!="function"||(g(this),j&&F.call(this)),this},p.compatAPI=function(g){var j=B===R;return j&&F.call(this),typeof g!="function"||(g(this),j&&ee.call(this)),this},p.isAdvancedAPI=function(){return B===R};var E,N=function(g){if(B!==R)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(g,j){var J=e||j;if(isNaN(g)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(J).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,16)};var x=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return O(g,2)},T=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return O(g,3)},C=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return B===I?g*ut:B===R?g:void 0},ne=function(g){return C(function(j){return B===I?Zi()-j:B===R?j:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var de,be="00000000000000000000000000000000",we=p.__private__.getFileId=function(){return be},te=p.__private__.setFileId=function(g){return be=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(tn=new Lu(d.userPermissions,d.userPassword,d.ownerPassword,be)),be};p.setFileId=function(g){return te(g),this},p.getFileId=function(){return we()};var Q=p.__private__.convertDateToPDFDate=function(g){var j=g.getTimezoneOffset(),J=j<0?"+":"-",ie=Math.floor(Math.abs(j/60)),ue=Math.abs(j%60),Ie=[J,q(ie),"'",q(ue),"'"].join("");return["D:",g.getFullYear(),q(g.getMonth()+1),q(g.getDate()),q(g.getHours()),q(g.getMinutes()),q(g.getSeconds()),Ie].join("")},fe=p.__private__.convertPDFDateToDate=function(g){var j=parseInt(g.substr(2,4),10),J=parseInt(g.substr(6,2),10)-1,ie=parseInt(g.substr(8,2),10),ue=parseInt(g.substr(10,2),10),Ie=parseInt(g.substr(12,2),10),Le=parseInt(g.substr(14,2),10);return new Date(j,J,ie,ue,Ie,Le,0)},xe=p.__private__.setCreationDate=function(g){var j;if(g===void 0&&(g=new Date),g instanceof Date)j=Q(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=g}return de=j},M=p.__private__.getCreationDate=function(g){var j=de;return g==="jsDate"&&(j=fe(de)),j};p.setCreationDate=function(g){return xe(g),this},p.getCreationDate=function(g){return M(g)};var G,q=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},K=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},re=0,ae=[],me=[],ve=0,ye=[],Pe=[],Fe=!1,Ue=me;p.__private__.setCustomOutputDestination=function(g){Fe=!0,Ue=g};var Ee=function(g){Fe||(Ue=g)};p.__private__.resetCustomOutputDestination=function(){Fe=!1,Ue=me};var Z=p.__private__.out=function(g){return g=g.toString(),ve+=g.length+1,Ue.push(g),Ue},xt=p.__private__.write=function(g){return Z(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},pt=p.__private__.getArrayBuffer=function(g){for(var j=g.length,J=new ArrayBuffer(j),ie=new Uint8Array(J);j--;)ie[j]=g.charCodeAt(j);return J},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var je=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return je=B===R?g/ut:g,this};var Ke,Ae=p.__private__.getFontSize=p.getFontSize=function(){return B===I?je:je*ut},st=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return st=g,this},p.__private__.getR2L=p.getR2L=function(){return st};var ze,Pt=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ke=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ke=g}else Ke=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ke};var at,qe=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');ze=g};p.__private__.getPageMode=function(){return ze};var Se=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');at=g};p.__private__.getLayoutMode=function(){return at},p.__private__.setDisplayMode=p.setDisplayMode=function(g,j,J){return Pt(g),Se(j),qe(J),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(Ye).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[g]},p.__private__.getDocumentProperties=function(){return Ye},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var j in Ye)Ye.hasOwnProperty(j)&&g[j]&&(Ye[j]=g[j]);return this},p.__private__.setDocumentProperty=function(g,j){if(Object.keys(Ye).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[g]=j};var We,ut,Ze,vt,mt,$e={},ct={},Qt=[],ft={},jt={},Et={},Nn={},_n=null,Yt=0,yt=[],Ot=new Zw(p),Ms=t.hotfixes||[],Wn={},Qi={},Or=[],dt=function g(j,J,ie,ue,Ie,Le){if(!(this instanceof g))return new g(j,J,ie,ue,Ie,Le);isNaN(j)&&(j=1),isNaN(J)&&(J=0),isNaN(ie)&&(ie=0),isNaN(ue)&&(ue=1),isNaN(Ie)&&(Ie=0),isNaN(Le)&&(Le=0),this._matrix=[j,J,ie,ue,Ie,Le]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(g)},dt.prototype.multiply=function(g){var j=g.sx*this.sx+g.shy*this.shx,J=g.sx*this.shy+g.shy*this.sy,ie=g.shx*this.sx+g.sy*this.shx,ue=g.shx*this.shy+g.sy*this.sy,Ie=g.tx*this.sx+g.ty*this.shx+this.tx,Le=g.tx*this.shy+g.ty*this.sy+this.ty;return new dt(j,J,ie,ue,Ie,Le)},dt.prototype.decompose=function(){var g=this.sx,j=this.shy,J=this.shx,ie=this.sy,ue=this.tx,Ie=this.ty,Le=Math.sqrt(g*g+j*j),He=(g/=Le)*J+(j/=Le)*ie;J-=g*He,ie-=j*He;var et=Math.sqrt(J*J+ie*ie);return He/=et,g*(ie/=et)<j*(J/=et)&&(g=-g,j=-j,He=-He,Le=-Le),{scale:new dt(Le,0,0,et,0,0),translate:new dt(1,0,0,1,ue,Ie),rotate:new dt(g,j,-j,g,0,0),skew:new dt(1,0,He,1,0,0)}},dt.prototype.toString=function(g){return this.join(" ")},dt.prototype.inversed=function(){var g=this.sx,j=this.shy,J=this.shx,ie=this.sy,ue=this.tx,Ie=this.ty,Le=1/(g*ie-j*J),He=ie*Le,et=-j*Le,gt=-J*Le,bt=g*Le;return new dt(He,et,gt,bt,-He*ue-gt*Ie,-et*ue-bt*Ie)},dt.prototype.applyToPoint=function(g){var j=g.x*this.sx+g.y*this.shx+this.tx,J=g.x*this.shy+g.y*this.sy+this.ty;return new Gs(j,J)},dt.prototype.applyToRectangle=function(g){var j=this.applyToPoint(g),J=this.applyToPoint(new Gs(g.x+g.w,g.y+g.h));return new lo(j.x,j.y,J.x-j.x,J.y-j.y)},dt.prototype.clone=function(){var g=this.sx,j=this.shy,J=this.shx,ie=this.sy,ue=this.tx,Ie=this.ty;return new dt(g,j,J,ie,ue,Ie)},p.Matrix=dt;var wn=p.matrixMult=function(g,j){return j.multiply(g)},Ji=new dt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ji;var mr=function(g,j){if(!jt[g]){var J=(j instanceof ql?"Sh":"P")+(Object.keys(ft).length+1).toString(10);j.id=J,jt[g]=J,ft[J]=j,Ot.publish("addPattern",j)}};p.ShadingPattern=ql,p.TilingPattern=Ku,p.addShadingPattern=function(g,j){return N("addShadingPattern()"),mr(g,j),this},p.beginTilingPattern=function(g){N("beginTilingPattern()"),Ks(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,j){N("endTilingPattern()"),j.stream=Pe[G].join(`
`),mr(g,j),Ot.publish("endTilingPattern",j),Or.pop().restore()};var gr,In=p.__private__.newObject=function(){var g=ir();return kn(g,!0),g},ir=p.__private__.newObjectDeferred=function(){return re++,ae[re]=function(){return ve},re},kn=function(g,j){return j=typeof j=="boolean"&&j,ae[g]=ve,j&&Z(g+" 0 obj"),g},ma=p.__private__.newAdditionalObject=function(){var g={objId:ir(),content:""};return ye.push(g),g},Fs=ir(),Mr=ir(),Ni=p.__private__.decodeColorString=function(g){var j=g.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var J=parseFloat(j[0]);j=[J,J,J,"r"]}for(var ie="#",ue=0;ue<3;ue++)ie+=("0"+Math.floor(255*parseFloat(j[ue])).toString(16)).slice(-2);return ie},ei=p.__private__.encodeColorString=function(g){var j;typeof g=="string"&&(g={ch1:g});var J=g.ch1,ie=g.ch2,ue=g.ch3,Ie=g.ch4,Le=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var He=new F3(J);if(He.ok)J=He.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var et=parseInt(J.substr(1),16);J=et>>16&255,ie=et>>8&255,ue=255&et}if(ie===void 0||Ie===void 0&&J===ie&&ie===ue)j=typeof J=="string"?J+" "+Le[0]:g.precision===2?x(J/255)+" "+Le[0]:T(J/255)+" "+Le[0];else if(Ie===void 0||on(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",Le[1]].join(" ");j=typeof J=="string"?[J,ie,ue,Le[1]].join(" "):g.precision===2?[x(J/255),x(ie/255),x(ue/255),Le[1]].join(" "):[T(J/255),T(ie/255),T(ue/255),Le[1]].join(" ")}else j=typeof J=="string"?[J,ie,ue,Ie,Le[2]].join(" "):g.precision===2?[x(J),x(ie),x(ue),x(Ie),Le[2]].join(" "):[T(J),T(ie),T(ue),T(Ie),Le[2]].join(" ");return j},Fr=p.__private__.getFilters=function(){return a},Hn=p.__private__.putStream=function(g){var j=(g=g||{}).data||"",J=g.filters||Fr(),ie=g.alreadyAppliedFilters||[],ue=g.addLength1||!1,Ie=j.length,Le=g.objectId,He=function(Vn){return Vn};if(d!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(He=tn.encryptor(Le,0));var et={};J===!0&&(J=["FlateEncode"]);var gt=g.additionalKeyValues||[],bt=(et=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(j,J):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(et.data.length!==0&&(gt.push({key:"Length",value:et.data.length}),ue===!0&&gt.push({key:"Length1",value:Ie})),bt.length!=0)if(bt.split("/").length-1==1)gt.push({key:"Filter",value:bt});else{gt.push({key:"Filter",value:"["+bt+"]"});for(var $t=0;$t<gt.length;$t+=1)if(gt[$t].key==="DecodeParms"){for(var Xt=[],Ln=0;Ln<et.reverseChain.split("/").length-1;Ln+=1)Xt.push("null");Xt.push(gt[$t].value),gt[$t].value="["+Xt.join(" ")+"]"}}Z("<<");for(var nn=0;nn<gt.length;nn++)Z("/"+gt[nn].key+" "+gt[nn].value);Z(">>"),et.data.length!==0&&(Z("stream"),Z(He(et.data)),Z("endstream"))},Vs=p.__private__.putPage=function(g){var j=g.number,J=g.data,ie=g.objId,ue=g.contentsObjId;kn(ie,!0),Z("<</Type /Page"),Z("/Parent "+g.rootDictionaryObjId+" 0 R"),Z("/Resources "+g.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(E(g.mediaBox.bottomLeftX))+" "+parseFloat(E(g.mediaBox.bottomLeftY))+" "+E(g.mediaBox.topRightX)+" "+E(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&Z("/CropBox ["+E(g.cropBox.bottomLeftX)+" "+E(g.cropBox.bottomLeftY)+" "+E(g.cropBox.topRightX)+" "+E(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&Z("/BleedBox ["+E(g.bleedBox.bottomLeftX)+" "+E(g.bleedBox.bottomLeftY)+" "+E(g.bleedBox.topRightX)+" "+E(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&Z("/TrimBox ["+E(g.trimBox.bottomLeftX)+" "+E(g.trimBox.bottomLeftY)+" "+E(g.trimBox.topRightX)+" "+E(g.trimBox.topRightY)+"]"),g.artBox!==null&&Z("/ArtBox ["+E(g.artBox.bottomLeftX)+" "+E(g.artBox.bottomLeftY)+" "+E(g.artBox.topRightX)+" "+E(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&Z("/UserUnit "+g.userUnit),Ot.publish("putPage",{objId:ie,pageContext:yt[j],pageNumber:j,page:J}),Z("/Contents "+ue+" 0 R"),Z(">>"),Z("endobj");var Ie=J.join(`
`);return B===R&&(Ie+=`
Q`),kn(ue,!0),Hn({data:Ie,filters:Fr(),objectId:ue}),Z("endobj"),ie},Ii=p.__private__.putPages=function(){var g,j,J=[];for(g=1;g<=Yt;g++)yt[g].objId=ir(),yt[g].contentsObjId=ir();for(g=1;g<=Yt;g++)J.push(Vs({number:g,data:Pe[g],objId:yt[g].objId,contentsObjId:yt[g].contentsObjId,mediaBox:yt[g].mediaBox,cropBox:yt[g].cropBox,bleedBox:yt[g].bleedBox,trimBox:yt[g].trimBox,artBox:yt[g].artBox,userUnit:yt[g].userUnit,rootDictionaryObjId:Fs,resourceDictionaryObjId:Mr}));kn(Fs,!0),Z("<</Type /Pages");var ie="/Kids [";for(j=0;j<Yt;j++)ie+=J[j]+" 0 R ";Z(ie+"]"),Z("/Count "+Yt),Z(">>"),Z("endobj"),Ot.publish("postPutPages")},ds=function(g){Ot.publish("putFont",{font:g,out:Z,newObject:In,putStream:Hn}),g.isAlreadyPutted!==!0&&(g.objectNumber=In(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Ru(g.postScriptName)),Z("/Subtype /Type1"),typeof g.encoding=="string"&&Z("/Encoding /"+g.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Us=function(g){g.objectNumber=In();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[E(g.x),E(g.y),E(g.x+g.width),E(g.y+g.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var J=g.pages[1].join(`
`);Hn({data:J,additionalKeyValues:j,objectId:g.objectNumber}),Z("endobj")},ga=function(g,j){j||(j=21);var J=In(),ie=function(Le,He){var et,gt=[],bt=1/(He-1);for(et=0;et<1;et+=bt)gt.push(et);if(gt.push(1),Le[0].offset!=0){var $t={offset:0,color:Le[0].color};Le.unshift($t)}if(Le[Le.length-1].offset!=1){var Xt={offset:1,color:Le[Le.length-1].color};Le.push(Xt)}for(var Ln="",nn=0,Vn=0;Vn<gt.length;Vn++){for(et=gt[Vn];et>Le[nn+1].offset;)nn++;var Rn=Le[nn].offset,Un=(et-Rn)/(Le[nn+1].offset-Rn),mn=Le[nn].color,Er=Le[nn+1].color;Ln+=K(Math.round((1-Un)*mn[0]+Un*Er[0]).toString(16))+K(Math.round((1-Un)*mn[1]+Un*Er[1]).toString(16))+K(Math.round((1-Un)*mn[2]+Un*Er[2]).toString(16))}return Ln.trim()}(g.colors,j),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+j+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:ie,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),Z("endobj"),g.objectNumber=In(),Z("<< /ShadingType "+g.type),Z("/ColorSpace /DeviceRGB");var Ie="/Coords ["+E(parseFloat(g.coords[0]))+" "+E(parseFloat(g.coords[1]))+" ";g.type===2?Ie+=E(parseFloat(g.coords[2]))+" "+E(parseFloat(g.coords[3])):Ie+=E(parseFloat(g.coords[2]))+" "+E(parseFloat(g.coords[3]))+" "+E(parseFloat(g.coords[4]))+" "+E(parseFloat(g.coords[5])),Z(Ie+="]"),g.matrix&&Z("/Matrix ["+g.matrix.toString()+"]"),Z("/Function "+J+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},va=function(g,j){var J=ir(),ie=In();j.push({resourcesOid:J,objectOid:ie}),g.objectNumber=ie;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+g.boundingBox.map(E).join(" ")+"]"}),ue.push({key:"XStep",value:E(g.xStep)}),ue.push({key:"YStep",value:E(g.yStep)}),ue.push({key:"Resources",value:J+" 0 R"}),g.matrix&&ue.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Hn({data:g.stream,additionalKeyValues:ue,objectId:g.objectNumber}),Z("endobj")},Oc=function(g){for(var j in g.objectNumber=In(),Z("<<"),g)switch(j){case"opacity":Z("/ca "+x(g[j]));break;case"stroke-opacity":Z("/CA "+x(g[j]))}Z(">>"),Z("endobj")},Bs=function(g){kn(g.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var j in Z("/Font <<"),$e)$e.hasOwnProperty(j)&&(m===!1||m===!0&&_.hasOwnProperty(j))&&Z("/"+j+" "+$e[j].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ft).length>0){for(var j in Z("/Shading <<"),ft)ft.hasOwnProperty(j)&&ft[j]instanceof ql&&ft[j].objectNumber>=0&&Z("/"+j+" "+ft[j].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),Z(">>")}}(),function(j){if(Object.keys(ft).length>0){for(var J in Z("/Pattern <<"),ft)ft.hasOwnProperty(J)&&ft[J]instanceof p.TilingPattern&&ft[J].objectNumber>=0&&ft[J].objectNumber<j&&Z("/"+J+" "+ft[J].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),Z(">>")}}(g.objectOid),function(){if(Object.keys(Et).length>0){var j;for(j in Z("/ExtGState <<"),Et)Et.hasOwnProperty(j)&&Et[j].objectNumber>=0&&Z("/"+j+" "+Et[j].objectNumber+" 0 R");Ot.publish("putGStateDict"),Z(">>")}}(),function(){for(var j in Z("/XObject <<"),Wn)Wn.hasOwnProperty(j)&&Wn[j].objectNumber>=0&&Z("/"+j+" "+Wn[j].objectNumber+" 0 R");Ot.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},vl=function(g){ct[g.fontName]=ct[g.fontName]||{},ct[g.fontName][g.fontStyle]=g.id},to=function(g,j,J,ie,ue){var Ie={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:g,fontName:j,fontStyle:J,encoding:ie,isStandardFont:ue||!1,metadata:{}};return Ot.publish("addFont",{font:Ie,instance:this}),$e[Ie.id]=Ie,vl(Ie),Ie.id},vr=p.__private__.pdfEscape=p.pdfEscape=function(g,j){return function(J,ie){var ue,Ie,Le,He,et,gt,bt,$t,Xt;if(Le=(ie=ie||{}).sourceEncoding||"Unicode",et=ie.outputEncoding,(ie.autoencode||et)&&$e[We].metadata&&$e[We].metadata[Le]&&$e[We].metadata[Le].encoding&&(He=$e[We].metadata[Le].encoding,!et&&$e[We].encoding&&(et=$e[We].encoding),!et&&He.codePages&&(et=He.codePages[0]),typeof et=="string"&&(et=He[et]),et)){for(bt=!1,gt=[],ue=0,Ie=J.length;ue<Ie;ue++)($t=et[J.charCodeAt(ue)])?gt.push(String.fromCharCode($t)):gt.push(J[ue]),gt[ue].charCodeAt(0)>>8&&(bt=!0);J=gt.join("")}for(ue=J.length;bt===void 0&&ue!==0;)J.charCodeAt(ue-1)>>8&&(bt=!0),ue--;if(!bt)return J;for(gt=ie.noBOM?[]:[254,255],ue=0,Ie=J.length;ue<Ie;ue++){if((Xt=($t=J.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(Xt),gt.push($t-(Xt<<8))}return String.fromCharCode.apply(void 0,gt)}(g,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=p.__private__.beginPage=function(g){Pe[++Yt]=[],yt[Yt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},_l(Yt),Ee(Pe[G])},no=function(g,j){var J,ie,ue;switch(n=j||n,typeof g=="string"&&(J=b(g.toLowerCase()),Array.isArray(J)&&(ie=J[0],ue=J[1])),Array.isArray(g)&&(ie=g[0]*ut,ue=g[1]*ut),isNaN(ie)&&(ie=i[0],ue=i[1]),(ie>14400||ue>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),ue=Math.min(14400,ue)),i=[ie,ue],n.substr(0,1)){case"l":ue>ie&&(i=[ue,ie]);break;case"p":ie>ue&&(i=[ue,ie])}ki(i),Hs(so),Z(ms),cn!==0&&Z(cn+" J"),Il!==0&&Z(Il+" j"),Ot.publish("addPage",{pageNumber:Yt})},yl=function(g){g>0&&g<=Yt&&(Pe.splice(g,1),yt.splice(g,1),Yt--,G>Yt&&(G=Yt),this.setPage(G))},_l=function(g){g>0&&g<=Yt&&(G=g)},wl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},bl=function(g,j,J){var ie,ue=void 0;return J=J||{},g=g!==void 0?g:$e[We].fontName,j=j!==void 0?j:$e[We].fontStyle,ie=g.toLowerCase(),ct[ie]!==void 0&&ct[ie][j]!==void 0?ue=ct[ie][j]:ct[g]!==void 0&&ct[g][j]!==void 0?ue=ct[g][j]:J.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+g+"', '"+j+"'. Refer to getFontList() for available fonts."),ue||J.noFallback||(ue=ct.times[j])==null&&(ue=ct.times.normal),ue},zs=p.__private__.putInfo=function(){var g=In(),j=function(ie){return ie};for(var J in d!==null&&(j=tn.encryptor(g,0)),Z("<<"),Z("/Producer ("+vr(j("jsPDF "+lt.version))+")"),Ye)Ye.hasOwnProperty(J)&&Ye[J]&&Z("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+vr(j(Ye[J]))+")");Z("/CreationDate ("+vr(j(de))+")"),Z(">>"),Z("endobj")},Al=p.__private__.putCatalog=function(g){var j=(g=g||{}).rootDictionaryObjId||Fs;switch(In(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+j+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+Ke;J.substr(J.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+x(Ke)+"]")}switch(at||(at="continuous"),at){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ze&&Z("/PageMode /"+ze),Ot.publish("putCatalog"),Z(">>"),Z("endobj")},Cn=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(re+1)),Z("/Root "+re+" 0 R"),Z("/Info "+(re-1)+" 0 R"),d!==null&&Z("/Encrypt "+tn.oid+" 0 R"),Z("/ID [ <"+be+"> <"+be+"> ]"),Z(">>")},xl=p.__private__.putHeader=function(){Z("%PDF-"+P),Z("%")},yu=p.__private__.putXRef=function(){var g="0000000000";Z("xref"),Z("0 "+(re+1)),Z("0000000000 65535 f ");for(var j=1;j<=re;j++)typeof ae[j]=="function"?Z((g+ae[j]()).slice(-10)+" 00000 n "):ae[j]!==void 0?Z((g+ae[j]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},fs=p.__private__.buildDocument=function(){var g;re=0,ve=0,me=[],ae=[],ye=[],Fs=ir(),Mr=ir(),Ee(me),Ot.publish("buildDocument"),xl(),Ii(),function(){Ot.publish("putAdditionalObjects");for(var J=0;J<ye.length;J++){var ie=ye[J];kn(ie.objId,!0),Z(ie.content),Z("endobj")}Ot.publish("postPutAdditionalObjects")}(),g=[],function(){for(var J in $e)$e.hasOwnProperty(J)&&(m===!1||m===!0&&_.hasOwnProperty(J))&&ds($e[J])}(),function(){var J;for(J in Et)Et.hasOwnProperty(J)&&Oc(Et[J])}(),function(){for(var J in Wn)Wn.hasOwnProperty(J)&&Us(Wn[J])}(),function(J){var ie;for(ie in ft)ft.hasOwnProperty(ie)&&(ft[ie]instanceof ql?ga(ft[ie]):ft[ie]instanceof Ku&&va(ft[ie],J))}(g),Ot.publish("putResources"),g.forEach(Bs),Bs({resourcesOid:Mr,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources"),d!==null&&(tn.oid=In(),Z("<<"),Z("/Filter /Standard"),Z("/V "+tn.v),Z("/R "+tn.r),Z("/U <"+tn.toHexString(tn.U)+">"),Z("/O <"+tn.toHexString(tn.O)+">"),Z("/P "+tn.P),Z(">>"),Z("endobj")),zs(),Al();var j=ve;return yu(),Cn(),Z("startxref"),Z(""+j),Z("%%EOF"),Ee(Pe[G]),me.join(`
`)},qs=p.__private__.getBlob=function(g){return new Blob([pt(g)],{type:"application/pdf"})},ci=p.output=p.__private__.output=(gr=function(g,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",g){case void 0:return fs();case"save":p.save(j.filename);break;case"arraybuffer":return pt(fs());case"blob":return qs(fs());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(qs(fs()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",ie=fs();try{J=Jw(ie)}catch{J=Jw(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+j.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(ue=j.pdfObjectUrl,Ie="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",He=At.open();return He!==null&&He.document.write(Le),He}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',gt=At.open();if(gt!==null){gt.document.write(et);var bt=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=j.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Xt=At.open();if(Xt!==null&&(Xt.document.write($t),Xt.document.title=j.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",j);default:return null}},gr.foo=function(){try{return gr.apply(this,arguments)}catch(J){var g=J.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var j="Error in function "+g.split(`
`)[0].split("<")[0]+": "+J.message;if(!At.console)throw new Error(j);At.console.error(j,J),At.alert&&alert(j)}},gr.foo.bar=gr,gr.foo),ya=function(g){return Array.isArray(Ms)===!0&&Ms.indexOf(g)>-1};switch(r){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=ya("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ut=r}var tn=null;xe(),te();var ti=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[g].objId,pageNumber:g,pageContext:yt[g]}},ro=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in yt)if(yt[j].objId===g)break;return ti(j)},io=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:yt[G].objId,pageNumber:G,pageContext:yt[G]}};p.addPage=function(){return no.apply(this,arguments),this},p.setPage=function(){return _l.apply(this,arguments),Ee.call(this,Pe[G]),this},p.insertPage=function(g){return this.addPage(),this.movePage(G,g),this},p.movePage=function(g,j){var J,ie;if(g>j){J=Pe[g],ie=yt[g];for(var ue=g;ue>j;ue--)Pe[ue]=Pe[ue-1],yt[ue]=yt[ue-1];Pe[j]=J,yt[j]=ie,this.setPage(j)}else if(g<j){J=Pe[g],ie=yt[g];for(var Ie=g;Ie<j;Ie++)Pe[Ie]=Pe[Ie+1],yt[Ie]=yt[Ie+1];Pe[j]=J,yt[j]=ie,this.setPage(j)}return this},p.deletePage=function(){return yl.apply(this,arguments),this},p.__private__.text=p.text=function(g,j,J,ie,ue){var Ie,Le,He,et,gt,bt,$t,Xt,Ln,nn=(ie=ie||{}).scope||this;if(typeof g=="number"&&typeof j=="number"&&(typeof J=="string"||Array.isArray(J))){var Vn=J;J=j,j=g,g=Vn}if(arguments[3]instanceof dt==0?(He=arguments[4],et=arguments[5],on($t=arguments[3])==="object"&&$t!==null||(typeof He=="string"&&(et=He,He=null),typeof $t=="string"&&(et=$t,$t=null),typeof $t=="number"&&(He=$t,$t=null),ie={flags:$t,angle:He,align:et})):(N("The transform parameter of text() with a Matrix value"),Ln=ue),isNaN(j)||isNaN(J)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return nn;var Rn,Un="",mn=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:Ws,Er=nn.internal.scaleFactor;function Cl(Zt){return Zt=Zt.split("	").join(Array(ie.TabLen||9).join(" ")),vr(Zt,$t)}function Pi(Zt){for(var dn,Kn=Zt.concat(),ur=[],Sa=Kn.length;Sa--;)typeof(dn=Kn.shift())=="string"?ur.push(dn):Array.isArray(Zt)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?ur.push(dn[0]):ur.push([dn[0],dn[1],dn[2]]);return ur}function h(Zt,dn){var Kn;if(typeof Zt=="string")Kn=dn(Zt)[0];else if(Array.isArray(Zt)){for(var ur,Sa,Jc=Zt.concat(),Au=[],Bd=Jc.length;Bd--;)typeof(ur=Jc.shift())=="string"?Au.push(dn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Sa=dn(ur[0],ur[1],ur[2]),Au.push([Sa[0],Sa[1],Sa[2]]));Kn=Au}return Kn}var w=!1,k=!0;if(typeof g=="string")w=!0;else if(Array.isArray(g)){var W=g.concat();Le=[];for(var ce,_e=W.length;_e--;)(typeof(ce=W.shift())!="string"||Array.isArray(ce)&&typeof ce[0]!="string")&&(k=!1);w=k}if(w===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Ve=je/nn.internal.scaleFactor,Bt=Ve*(mn-1);switch(ie.baseline){case"bottom":J-=Bt;break;case"top":J+=Ve-Bt;break;case"hanging":J+=Ve-2*Bt;break;case"middle":J+=Ve/2-Bt}if((bt=ie.maxWidth||0)>0&&(typeof g=="string"?g=nn.splitTextToSize(g,bt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Zt,dn){return Zt.concat(nn.splitTextToSize(dn,bt))},[]))),Ie={text:g,x:j,y:J,options:ie,mutex:{pdfEscape:vr,activeFontKey:We,fonts:$e,activeFontSize:je}},Ot.publish("preProcessText",Ie),g=Ie.text,He=(ie=Ie.options).angle,Ln instanceof dt==0&&He&&typeof He=="number"){He*=Math.PI/180,ie.rotationDirection===0&&(He=-He),B===R&&(He=-He);var jn=Math.cos(He),Mt=Math.sin(He);Ln=new dt(jn,Mt,-Mt,jn,0,0)}else He&&He instanceof dt&&(Ln=He);B!==R||Ln||(Ln=Ji),(gt=ie.charSpace||ba)!==void 0&&(Un+=E(C(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=ie.horizontalScale)!==void 0&&(Un+=E(100*Xt)+` Tz
`),ie.lang;var Dt=-1,gn=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,Ci=nn.internal.getCurrentPageInfo().pageContext;switch(gn){case 0:case!1:case"fill":Dt=0;break;case 1:case!0:case"stroke":Dt=1;break;case 2:case"fillThenStroke":Dt=2;break;case 3:case"invisible":Dt=3;break;case 4:case"fillAndAddForClipping":Dt=4;break;case 5:case"strokeAndAddPathForClipping":Dt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dt=6;break;case 7:case"addToPathForClipping":Dt=7}var Vr=Ci.usedRenderingMode!==void 0?Ci.usedRenderingMode:-1;Dt!==-1?Un+=Dt+` Tr
`:Vr!==-1&&(Un+=`0 Tr
`),Dt!==-1&&(Ci.usedRenderingMode=Dt),et=ie.align||"left";var Sr,vs=je*mn,qc=nn.internal.pageSize.getWidth(),$c=$e[We];gt=ie.charSpace||ba,bt=ie.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var co=[],Ll=function(Zt){return nn.getStringUnitWidth(Zt,{font:$c,charSpace:gt,fontSize:je,doKerning:!1})*je/Er};if(Object.prototype.toString.call(g)==="[object Array]"){var Li;Le=Pi(g),et!=="left"&&(Sr=Le.map(Ll));var Ri,ho=0;if(et==="right"){j-=Sr[0],g=[],_e=Le.length;for(var Ea=0;Ea<_e;Ea++)Ea===0?(Ri=yr(j),Li=ps(J)):(Ri=C(ho-Sr[Ea]),Li=-vs),g.push([Le[Ea],Ri,Li]),ho=Sr[Ea]}else if(et==="center"){j-=Sr[0]/2,g=[],_e=Le.length;for(var fo=0;fo<_e;fo++)fo===0?(Ri=yr(j),Li=ps(J)):(Ri=C((ho-Sr[fo])/2),Li=-vs),g.push([Le[fo],Ri,Li]),ho=Sr[fo]}else if(et==="left"){g=[],_e=Le.length;for(var Wc=0;Wc<_e;Wc++)g.push(Le[Wc])}else if(et==="justify"&&$c.encoding==="Identity-H"){g=[],_e=Le.length,bt=bt!==0?bt:qc;for(var bu=0,Gn=0;Gn<_e;Gn++)if(Li=Gn===0?ps(J):-vs,Ri=Gn===0?yr(j):bu,Gn<_e-1){var Ud=C((bt-Sr[Gn])/(Le[Gn].split(" ").length-1)),Js=Le[Gn].split(" ");g.push([Js[0]+" ",Ri,Li]),bu=0;for(var Ys=1;Ys<Js.length;Ys++){var Hc=(Ll(Js[Ys-1]+" "+Js[Ys])-Ll(Js[Ys]))*Er+Ud;Ys==Js.length-1?g.push([Js[Ys],Hc,0]):g.push([Js[Ys]+" ",Hc,0]),bu-=Hc}}else g.push([Le[Gn],Ri,Li]);g.push(["",bu,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],_e=Le.length,bt=bt!==0?bt:qc,Gn=0;Gn<_e;Gn++){Li=Gn===0?ps(J):-vs,Ri=Gn===0?yr(j):0;var Gc=Le[Gn].split(" ").length-1,Kc=Gc>0?(bt-Sr[Gn])/Gc:0;Gn<_e-1?co.push(E(C(Kc))):co.push(0),g.push([Le[Gn],Ri,Li])}}}(typeof ie.R2L=="boolean"?ie.R2L:st)===!0&&(g=h(g,function(Zt,dn,Kn){return[Zt.split("").reverse().join(""),dn,Kn]})),Ie={text:g,x:j,y:J,options:ie,mutex:{pdfEscape:vr,activeFontKey:We,fonts:$e,activeFontSize:je}},Ot.publish("postProcessText",Ie),g=Ie.text,Rn=Ie.mutex.isHex||!1;var Qc=$e[We].encoding;Qc!=="WinAnsiEncoding"&&Qc!=="StandardEncoding"||(g=h(g,function(Zt,dn,Kn){return[Cl(Zt),dn,Kn]})),Le=Pi(g),g=[];for(var po,mo,go,Rl=Array.isArray(Le[0])?1:0,vo="",jl=function(Zt,dn,Kn){var ur="";return Kn instanceof dt?(Kn=typeof ie.angle=="number"?wn(Kn,new dt(1,0,0,1,Zt,dn)):wn(new dt(1,0,0,1,Zt,dn),Kn),B===R&&(Kn=wn(new dt(1,0,0,-1,0,0),Kn)),ur=Kn.join(" ")+` Tm
`):ur=E(Zt)+" "+E(dn)+` Td
`,ur},es=0;es<Le.length;es++){switch(vo="",Rl){case 1:go=(Rn?"<":"(")+Le[es][0]+(Rn?">":")"),po=parseFloat(Le[es][1]),mo=parseFloat(Le[es][2]);break;case 0:go=(Rn?"<":"(")+Le[es]+(Rn?">":")"),po=yr(j),mo=ps(J)}co!==void 0&&co[es]!==void 0&&(vo=co[es]+` Tw
`),es===0?g.push(vo+jl(po,mo,Ln)+go):Rl===0?g.push(vo+go):Rl===1&&g.push(vo+jl(po,mo,Ln)+go)}g=Rl===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Xs=`BT
/`;return Xs+=We+" "+je+` Tf
`,Xs+=E(je*mn)+` TL
`,Xs+=Ti+`
`,Xs+=Un,Xs+=g,Z(Xs+="ET"),_[We]=!0,nn};var _u=p.__private__.clip=p.clip=function(g){return Z(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return _u("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var Vt=p.__private__.isValidStyle=function(g){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(j=!0),j};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Vt(g)&&(u=g),this};var _a=p.__private__.getStyle=p.getStyle=function(g){var j=u;switch(g){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=g}return j},$s=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(g){return hi("f",g),this},p.fillEvenOdd=function(g){return hi("f*",g),this},p.fillStroke=function(g){return hi("B",g),this},p.fillStrokeEvenOdd=function(g){return hi("B*",g),this};var hi=function(g,j){on(j)==="object"?Mc(j,g):Z(g)},El=function(g){g===null||B===R&&g===void 0||(g=_a(g),Z(g))};function wu(g,j,J,ie,ue){var Ie=new Ku(j||this.boundingBox,J||this.xStep,ie||this.yStep,this.gState,ue||this.matrix);Ie.stream=this.stream;var Le=g+"$$"+this.cloneIndex+++"$$";return mr(Le,Ie),Ie}var Mc=function(g,j){var J=jt[g.key],ie=ft[J];if(ie instanceof ql)Z("q"),Z(Fc(j)),ie.gState&&p.setGState(ie.gState),Z(g.matrix.toString()+" cm"),Z("/"+J+" sh"),Z("Q");else if(ie instanceof Ku){var ue=new dt(1,0,0,-1,0,Zi());g.matrix&&(ue=ue.multiply(g.matrix||Ji),J=wu.call(ie,g.key,g.boundingBox,g.xStep,g.yStep,ue).id),Z("q"),Z("/Pattern cs"),Z("/"+J+" scn"),ie.gState&&p.setGState(ie.gState),Z(j),Z("Q")}},Fc=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Sl=p.moveTo=function(g,j){return Z(E(C(g))+" "+E(ne(j))+" m"),this},wa=p.lineTo=function(g,j){return Z(E(C(g))+" "+E(ne(j))+" l"),this},di=p.curveTo=function(g,j,J,ie,ue,Ie){return Z([E(C(g)),E(ne(j)),E(C(J)),E(ne(ie)),E(C(ue)),E(ne(Ie)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,j,J,ie,ue){if(isNaN(g)||isNaN(j)||isNaN(J)||isNaN(ie)||!Vt(ue))throw new Error("Invalid arguments passed to jsPDF.line");return B===I?this.lines([[J-g,ie-j]],g,j,[1,1],ue||"S"):this.lines([[J-g,ie-j]],g,j,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,j,J,ie,ue,Ie){var Le,He,et,gt,bt,$t,Xt,Ln,nn,Vn,Rn,Un;if(typeof g=="number"&&(Un=J,J=j,j=g,g=Un),ie=ie||[1,1],Ie=Ie||!1,isNaN(j)||isNaN(J)||!Array.isArray(g)||!Array.isArray(ie)||!Vt(ue)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Sl(j,J),Le=ie[0],He=ie[1],gt=g.length,Vn=j,Rn=J,et=0;et<gt;et++)(bt=g[et]).length===2?(Vn=bt[0]*Le+Vn,Rn=bt[1]*He+Rn,wa(Vn,Rn)):($t=bt[0]*Le+Vn,Xt=bt[1]*He+Rn,Ln=bt[2]*Le+Vn,nn=bt[3]*He+Rn,Vn=bt[4]*Le+Vn,Rn=bt[5]*He+Rn,di($t,Xt,Ln,nn,Vn,Rn));return Ie&&$s(),El(ue),this},p.path=function(g){for(var j=0;j<g.length;j++){var J=g[j],ie=J.c;switch(J.op){case"m":Sl(ie[0],ie[1]);break;case"l":wa(ie[0],ie[1]);break;case"c":di.apply(this,ie);break;case"h":$s()}}return this},p.__private__.rect=p.rect=function(g,j,J,ie,ue){if(isNaN(g)||isNaN(j)||isNaN(J)||isNaN(ie)||!Vt(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return B===I&&(ie=-ie),Z([E(C(g)),E(ne(j)),E(C(J)),E(C(ie)),"re"].join(" ")),El(ue),this},p.__private__.triangle=p.triangle=function(g,j,J,ie,ue,Ie,Le){if(isNaN(g)||isNaN(j)||isNaN(J)||isNaN(ie)||isNaN(ue)||isNaN(Ie)||!Vt(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-g,ie-j],[ue-J,Ie-ie],[g-ue,j-Ie]],g,j,[1,1],Le,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,j,J,ie,ue,Ie,Le){if(isNaN(g)||isNaN(j)||isNaN(J)||isNaN(ie)||isNaN(ue)||isNaN(Ie)||!Vt(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var He=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*J),Ie=Math.min(Ie,.5*ie),this.lines([[J-2*ue,0],[ue*He,0,ue,Ie-Ie*He,ue,Ie],[0,ie-2*Ie],[0,Ie*He,-ue*He,Ie,-ue,Ie],[2*ue-J,0],[-ue*He,0,-ue,-Ie*He,-ue,-Ie],[0,2*Ie-ie],[0,-Ie*He,ue*He,-Ie,ue,-Ie]],g+ue,j,[1,1],Le,!0),this},p.__private__.ellipse=p.ellipse=function(g,j,J,ie,ue){if(isNaN(g)||isNaN(j)||isNaN(J)||isNaN(ie)||!Vt(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*J,Le=4/3*(Math.SQRT2-1)*ie;return Sl(g+J,j),di(g+J,j-Le,g+Ie,j-ie,g,j-ie),di(g-Ie,j-ie,g-J,j-Le,g-J,j),di(g-J,j+Le,g-Ie,j+ie,g,j+ie),di(g+Ie,j+ie,g+J,j+Le,g+J,j),El(ue),this},p.__private__.circle=p.circle=function(g,j,J,ie){if(isNaN(g)||isNaN(j)||isNaN(J)||!Vt(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,j,J,J,ie)},p.setFont=function(g,j,J){return J&&(j=V(j,J)),We=bl(g,j,{disableWarning:!1}),this};var Yi=p.__private__.getFont=p.getFont=function(){return $e[bl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,j,J={};for(g in ct)if(ct.hasOwnProperty(g))for(j in J[g]=[],ct[g])ct[g].hasOwnProperty(j)&&J[g].push(j);return J},p.addFont=function(g,j,J,ie,ue){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(J=V(J,ie)),to.call(this,g,j,J,ue=ue||"Identity-H")};var Ws,so=t.lineWidth||.200025,_t=p.__private__.getLineWidth=p.getLineWidth=function(){return so},Hs=p.__private__.setLineWidth=p.setLineWidth=function(g){return so=g,Z(E(C(g))+" w"),this};p.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(g,j){if(g=g||[],j=j||0,isNaN(j)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(J){return E(C(J))}).join(" "),j=E(C(j)),Z("["+g+"] "+j+" d"),this};var Vc=p.__private__.getLineHeight=p.getLineHeight=function(){return je*Ws};p.__private__.getLineHeight=p.getLineHeight=function(){return je*Ws};var Uc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Ws=g),this},Bc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ws};Uc(t.lineHeight);var yr=p.__private__.getHorizontalCoordinate=function(g){return C(g)},ps=p.__private__.getVerticalCoordinate=function(g){return B===R?g:yt[G].mediaBox.topRightY-yt[G].mediaBox.bottomLeftY-C(g)},zc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return E(yr(g))},ao=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return E(ps(g))},ms=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ni(ms)},p.__private__.setStrokeColor=p.setDrawColor=function(g,j,J,ie){return ms=ei({ch1:g,ch2:j,ch3:J,ch4:ie,pdfColorType:"draw",precision:2}),Z(ms),this};var oo=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ni(oo)},p.__private__.setFillColor=p.setFillColor=function(g,j,J,ie){return oo=ei({ch1:g,ch2:j,ch3:J,ch4:ie,pdfColorType:"fill",precision:2}),Z(oo),this};var Ti=t.textColor||"0 g",Xi=p.__private__.getTextColor=p.getTextColor=function(){return Ni(Ti)};p.__private__.setTextColor=p.setTextColor=function(g,j,J,ie){return Ti=ei({ch1:g,ch2:j,ch3:J,ch4:ie,pdfColorType:"text",precision:3}),this};var ba=t.charSpace,Nl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ba||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ba=g,this};var cn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var j=p.CapJoinStyles[g];if(j===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cn=j,Z(j+" J"),this};var Il=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var j=p.CapJoinStyles[g];if(j===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=j,Z(j+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(E(C(g))+" M"),this},p.GState=Xp,p.setGState=function(g){(g=typeof g=="string"?Et[Nn[g]]:Aa(null,g)).equals(_n)||(Z("/"+g.id+" gs"),_n=g)};var Aa=function(g,j){if(!g||!Nn[g]){var J=!1;for(var ie in Et)if(Et.hasOwnProperty(ie)&&Et[ie].equals(j)){J=!0;break}if(J)j=Et[ie];else{var ue="GS"+(Object.keys(Et).length+1).toString(10);Et[ue]=j,j.id=ue}return g&&(Nn[g]=j.id),Ot.publish("addGState",j),j}};p.addGState=function(g,j){return Aa(g,j),this},p.saveGraphicsState=function(){return Z("q"),Qt.push({key:We,size:je,color:Ti}),this},p.restoreGraphicsState=function(){Z("Q");var g=Qt.pop();return We=g.key,je=g.size,Ti=g.color,_n=null,this},p.setCurrentTransformationMatrix=function(g){return Z(g.toString()+" cm"),this},p.comment=function(g){return Z("#"+g),this};var Gs=function(g,j){var J=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Ie){isNaN(Ie)||(J=parseFloat(Ie))}});var ie=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(Ie){isNaN(Ie)||(ie=parseFloat(Ie))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(Ie){ue=Ie.toString()}}),this},lo=function(g,j,J,ie){Gs.call(this,g,j),this.type="rect";var ue=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Le){isNaN(Le)||(ue=parseFloat(Le))}});var Ie=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Le){isNaN(Le)||(Ie=parseFloat(Le))}}),this},xa=function(){this.page=Yt,this.currentPage=G,this.pages=Pe.slice(0),this.pagesContext=yt.slice(0),this.x=Ze,this.y=vt,this.matrix=mt,this.width=fi(G),this.height=gs(G),this.outputDestination=Ue,this.id="",this.objectNumber=-1};xa.prototype.restore=function(){Yt=this.page,G=this.currentPage,yt=this.pagesContext,Pe=this.pages,Ze=this.x,vt=this.y,mt=this.matrix,kl(G,this.width),ni(G,this.height),Ue=this.outputDestination};var Ks=function(g,j,J,ie,ue){Or.push(new xa),Yt=G=0,Pe=[],Ze=g,vt=j,mt=ue,ki([J,ie])};for(var Qs in p.beginFormObject=function(g,j,J,ie,ue){return Ks(g,j,J,ie,ue),this},p.endFormObject=function(g){return function(j){if(Qi[j])Or.pop().restore();else{var J=new xa,ie="Xo"+(Object.keys(Wn).length+1).toString(10);J.id=ie,Qi[j]=ie,Wn[ie]=J,Ot.publish("addFormObject",J),Or.pop().restore()}}(g),this},p.doFormObject=function(g,j){var J=Wn[Qi[g]];return Z("q"),Z(j.toString()+" cm"),Z("/"+J.id+" Do"),Z("Q"),this},p.getFormObject=function(g){var j=Wn[Qi[g]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},p.save=function(g,j){return g=g||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(zl(qs(fs()),g),typeof zl.unload=="function"&&At.setTimeout&&setTimeout(zl.unload,911),this):new Promise(function(J,ie){try{var ue=zl(qs(fs()),g);typeof zl.unload=="function"&&At.setTimeout&&setTimeout(zl.unload,911),J(ue)}catch(Ie){ie(Ie.message)}})},lt.API)lt.API.hasOwnProperty(Qs)&&(Qs==="events"&&lt.API.events.length?function(g,j){var J,ie,ue;for(ue=j.length-1;ue!==-1;ue--)J=j[ue][0],ie=j[ue][1],g.subscribe.apply(g,[J].concat(typeof ie=="function"?[ie]:ie))}(Ot,lt.API.events):p[Qs]=lt.API[Qs]);function fi(g){return yt[g].mediaBox.topRightX-yt[g].mediaBox.bottomLeftX}function kl(g,j){yt[g].mediaBox.topRightX=j+yt[g].mediaBox.bottomLeftX}function gs(g){return yt[g].mediaBox.topRightY-yt[g].mediaBox.bottomLeftY}function ni(g,j){yt[g].mediaBox.topRightY=j+yt[g].mediaBox.bottomLeftY}var Tl=p.getPageWidth=function(g){return fi(g=g||G)/ut},uo=p.setPageWidth=function(g,j){kl(g,j*ut)},Zi=p.getPageHeight=function(g){return gs(g=g||G)/ut},Pl=p.setPageHeight=function(g,j){ni(g,j*ut)};return p.internal={pdfEscape:vr,getStyle:_a,getFont:Yi,getFontSize:Ae,getCharSpace:Nl,getTextColor:Xi,getLineHeight:Vc,getLineHeightFactor:Bc,getLineWidth:_t,write:xt,getHorizontalCoordinate:yr,getVerticalCoordinate:ps,getCoordinateString:zc,getVerticalCoordinateString:ao,collections:{},newObject:In,newAdditionalObject:ma,newObjectDeferred:ir,newObjectDeferredBegin:kn,getFilters:Fr,putStream:Hn,events:Ot,scaleFactor:ut,pageSize:{getWidth:function(){return Tl(G)},setWidth:function(g){uo(G,g)},getHeight:function(){return Zi(G)},setHeight:function(g){Pl(G,g)}},encryptionOptions:d,encryption:tn,getEncryptor:function(g){return d!==null?tn.encryptor(g,0):function(j){return j}},output:ci,getNumberOfPages:wl,pages:Pe,out:Z,f2:x,f3:T,getPageInfo:ti,getPageInfoByObjId:ro,getCurrentPageInfo:io,getPDFVersion:S,Point:Gs,Rectangle:lo,Matrix:dt,hasHotfix:ya},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Tl(G)},set:function(g){uo(G,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Zi(G)},set:function(g){Pl(G,g)},enumerable:!0,configurable:!0}),(function(g){for(var j=0,J=it.length;j<J;j++){var ie=to.call(this,g[j][0],g[j][1],g[j][2],it[j][3],!0);m===!1&&(_[ie]=!0);var ue=g[j][0].split("-");vl({id:ie,fontName:ue[0],fontStyle:ue[1]||""})}Ot.publish("addFonts",{fonts:$e,dictionary:ct})}).call(p,it),We="F1",no(i,n),Ot.publish("initialized"),p}Lu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Lu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lu.prototype.processOwnerPassword=function(t,e){return V0(F0(e).substr(0,5),t)},Lu.prototype.encryptor=function(t,e){var n=F0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return V0(n,r)}},Xp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||on(t)!==on(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},lt.API={events:[]},lt.version="3.0.3";var qn=lt.API,Vv=1,vu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Iu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(t){return t.toFixed(2)},Io=function(t){return t.toFixed(5)};qn.__acroform__={};var Si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},eb=function(t){return t*Vv},ta=function(t){var e=new z3,n=Xe.internal.getHeight(t)||0,r=Xe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nt(r)),Number(Nt(n))],e},qD=qn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},$D=qn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},WD=qn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zn=qn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return WD(t,e-1)},er=qn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qD(t,e-1)},tr=qn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $D(t,e-1)},HD=qn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Nt(l.lowerLeft_X)),Number(Nt(l.lowerLeft_Y)),Number(Nt(l.upperRight_X)),Number(Nt(l.upperRight_Y))]},GD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=U0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Nt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ta(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},U0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var s=n,a=Xe.internal.getHeight(t)||0;a=a<0?-a:a;var o=Xe.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(x,T,C){if(x+1<i.length){var ne=T+" "+i[x+1][0];return Rf(ne,t,C).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,m=Rf("3",t,s).height,_=t.multiline?a-s:(a-m)/2,p=_+=2,P=0,S=0,L=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Rf(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var b="",I=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var B=!1;if(i[R].length!==1&&L!==i[R].length-1){if((m+2)*(I+2)+2>a)continue e;b+=i[R][L],B=!0,S=R,R--}else{b=(b+=i[R][L]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var ee=parseInt(R),F=l(ee,b,s),V=R>=i.length-1;if(F&&!V){b+=" ",L=0;continue}if(F||V){if(V)S=ee;else if(t.multiline&&(m+2)*(I+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(I+2)+2>a)continue e;S=ee}}for(var E="",N=P;N<=S;N++){var O=i[N];if(t.multiline){if(N===S){E+=O[L]+" ",L=(L+1)%O.length;continue}if(N===P){E+=O[O.length-1]+" ";continue}}E+=O[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Rf(E,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=Nt(u)+" "+Nt(p)+` Td
`,e+="("+vu(E)+`) Tj
`,e+=-Nt(u)+` 0 Td
`,p=-(s+2),d=0,P=B?S:S+1,I++,b=""}break}return r.text=e,r.fontSize=s,r},Rf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},KD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},QD=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},JD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ds.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(KD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new q3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&QD(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=HD(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Xe.createDefaultAppearanceStream(o),on(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=GD(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var m="";for(var _ in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(_)){var p=o.appearanceStreamContent[_];if(m+="/"+_+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var P=p[a];typeof P=="function"&&(P=P.call(i,o)),m+="/"+a+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=p)=="function"&&(P=P.call(i,o)),m+="/"+a+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(S,L){for(var b in S)if(S.hasOwnProperty(b)){var I=b,R=S[b];L.internal.newObjectDeferredBegin(R.objId,!0),on(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete S[I]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},B3=qn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),on(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+vu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+vu(r(t))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:B3(i,this.objId,this.scope)}):i instanceof sa?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var z3=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Si(z3,sa);var q3=function(){sa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+vu(n(t))+")"}},set:function(n){t=n}})};Si(q3,sa);var Ds=function t(){sa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(e,3)},set:function(b){b?this.F=er(e,3):this.F=tr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Zp)return;s="FieldObject"+t.FieldNum++}var b=function(I){return I};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+vu(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Vv:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Zp||this instanceof Yl))return a1(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=b}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof br==0?a1(_,this.objId,this.scope):_},set:function(b){b=b.toString(),_=this instanceof br==0?b.substr(0,1)==="("?Iu(b.substr(1,b.length-2)):Iu(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?Iu(_.substr(1,_.length-1)):_},set:function(b){b=b.toString(),_=this instanceof br==1?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof br==0?a1(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof br==0?b.substr(0,1)==="("?Iu(b.substr(1,b.length-2)):Iu(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?Iu(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof br==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(b){b=!!b,S=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(b){P=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(b){b?this.Ff=er(this.Ff,1):this.Ff=tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(b){b?this.Ff=er(this.Ff,2):this.Ff=tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(b){b?this.Ff=er(this.Ff,3):this.Ff=tr(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');L=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(L){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};Si(Ds,sa);var sc=function(){Ds.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return B3(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(n){n?this.Ff=er(this.Ff,18):this.Ff=tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=er(this.Ff,19):this.Ff=tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(n){n?(this.Ff=er(this.Ff,20),e.sort()):this.Ff=tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(n){n?this.Ff=er(this.Ff,22):this.Ff=tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(n){n?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(n){n?this.Ff=er(this.Ff,27):this.Ff=tr(this.Ff,27)}}),this.hasAppearanceStream=!1};Si(sc,Ds);var ac=function(){sc.call(this),this.fontName="helvetica",this.combo=!1};Si(ac,sc);var oc=function(){ac.call(this),this.combo=!0};Si(oc,ac);var sp=function(){oc.call(this),this.edit=!0};Si(sp,oc);var br=function(){Ds.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(n){n?this.Ff=er(this.Ff,15):this.Ff=tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(n){n?this.Ff=er(this.Ff,16):this.Ff=tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(n){n?this.Ff=er(this.Ff,17):this.Ff=tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(n){n?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+vu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){on(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Si(br,Ds);var ap=function(){br.call(this),this.pushButton=!0};Si(ap,br);var lc=function(){br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Si(lc,br);var Zp=function(){var t,e;Ds.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+vu(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){on(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Si(Zp,Ds),lc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},lc.prototype.createOption=function(t){var e=new Zp;return e.Parent=this,e.optionName=t,this.Kids.push(e),YD.call(this.scope,e),e};var op=function(){br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};Si(op,br);var Yl=function(){Ds.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(e){e?this.Ff=er(this.Ff,13):this.Ff=tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(e){e?this.Ff=er(this.Ff,21):this.Ff=tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(e){e?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(e){e?this.Ff=er(this.Ff,24):this.Ff=tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(e){e?this.Ff=er(this.Ff,25):this.Ff=tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(e){e?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Si(Yl,Ds);var lp=function(){Yl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(t){t?this.Ff=er(this.Ff,14):this.Ff=tr(this.Ff,14)}}),this.password=!0};Si(lp,Yl);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=U0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Nt(Xe.internal.getWidth(t))+" "+Nt(Xe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Nt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Xe.internal.getHeight(t),a=Xe.internal.getWidth(t),o=U0(t,t.caption);return i.push("1 g"),i.push("0 0 "+Nt(a)+" "+Nt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nt(a-1)+" "+Nt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Nt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(Xe.internal.getWidth(t))+" "+Nt(Xe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Circle.YesNormal,e.D[t]=Xe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Xe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Io(Xe.internal.getWidth(t)/2)+" "+Io(Xe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xe.internal.Bezier_C).toFixed(5)),a=Number((r*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Io(Xe.internal.getWidth(t)/2)+" "+Io(Xe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Io(Xe.internal.getWidth(t)/2)+" "+Io(Xe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Io(Xe.internal.getWidth(t)/2)+" "+Io(Xe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Cross.YesNormal,e.D[t]=Xe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Xe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Nt(Xe.internal.getWidth(t)-2)+" "+Nt(Xe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),n.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),n.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),n.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=Xe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(Xe.internal.getWidth(t))+" "+Nt(Xe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Nt(Xe.internal.getWidth(t)-2)+" "+Nt(Xe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(n.x1.x)+" "+Nt(n.x1.y)+" m"),r.push(Nt(n.x2.x)+" "+Nt(n.x2.y)+" l"),r.push(Nt(n.x4.x)+" "+Nt(n.x4.y)+" m"),r.push(Nt(n.x3.x)+" "+Nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(Xe.internal.getWidth(t))+" "+Nt(Xe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Xe.internal.getWidth(t),n=Xe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Xe.internal.getWidth=function(t){var e=0;return on(t)==="object"&&(e=eb(t.Rect[2])),e},Xe.internal.getHeight=function(t){var e=0;return on(t)==="object"&&(e=eb(t.Rect[3])),e};var YD=qn.addField=function(t){if(JD(this,t),!(t instanceof Ds))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=sc,qn.AcroFormListBox=ac,qn.AcroFormComboBox=oc,qn.AcroFormEditBox=sp,qn.AcroFormButton=br,qn.AcroFormPushButton=ap,qn.AcroFormRadioButton=lc,qn.AcroFormCheckBox=op,qn.AcroFormTextField=Yl,qn.AcroFormPasswordField=lp,qn.AcroFormAppearance=Xe,qn.AcroForm={ChoiceField:sc,ListBox:ac,ComboBox:oc,EditBox:sp,Button:br,PushButton:ap,RadioButton:lc,CheckBox:op,TextField:Yl,PasswordField:lp,Appearance:Xe},lt.AcroForm={ChoiceField:sc,ListBox:ac,ComboBox:oc,EditBox:sp,Button:br,PushButton:ap,RadioButton:lc,CheckBox:op,TextField:Yl,PasswordField:lp,Appearance:Xe};lt.AcroForm;function $3(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(x,T){var C,ne,de,be,we,te=n;if((T=T||n)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(F(x))for(we in r)for(de=r[we],C=0;C<de.length;C+=1){for(be=!0,ne=0;ne<de[C].length;ne+=1)if(de[C][ne]!==void 0&&de[C][ne]!==x[ne]){be=!1;break}if(be===!0){te=we;break}}else for(we in r)for(de=r[we],C=0;C<de.length;C+=1){for(be=!0,ne=0;ne<de[C].length;ne+=1)if(de[C][ne]!==void 0&&de[C][ne]!==x.charCodeAt(ne)){be=!1;break}if(be===!0){te=we;break}}return te===n&&T!==n&&(te=T),te},s=function x(T){for(var C=this.internal.write,ne=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:T.width}),be.push({key:"Height",value:T.height}),T.colorSpace===b.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===b.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&be.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var we="",te=0,Q=T.transparency.length;te<Q;te++)we+=T.transparency[te]+" "+T.transparency[te]+" ";be.push({key:"Mask",value:"["+we+"]"})}T.sMask!==void 0&&be.push({key:"SMask",value:T.objectId+1+" 0 R"});var fe=T.filter!==void 0?["/"+T.filter]:void 0;if(ne({data:T.data,additionalKeyValues:be,alreadyAppliedFilters:fe,objectId:T.objectId}),C("endobj"),"sMask"in T&&T.sMask!==void 0){var xe,M=(xe=T.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:T.bitsPerComponent,G={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:T.sMask};"filter"in T&&(G.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(T.width),G.filter=T.filter),x.call(this,G)}if(T.colorSpace===b.INDEXED){var q=this.internal.newObject();ne({data:E(new Uint8Array(T.palette)),objectId:q}),C("endobj")}},a=function(){var x=this.internal.collections[e+"images"];for(var T in x)s.call(this,x[T])},o=function(){var x,T=this.internal.collections[e+"images"],C=this.internal.write;for(var ne in T)C("/I"+(x=T[ne]).index,x.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var x=this.internal.collections[e+"images"];return l.call(this),x},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(x){return typeof t["process"+x.toUpperCase()]=="function"},_=function(x){return on(x)==="object"&&x.nodeType===1},p=function(x,T){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var C=""+x.getAttribute("src");if(C.indexOf("data:image/")===0)return ip(unescape(C).split("base64,").pop());var ne=t.loadFile(C,!0);if(ne!==void 0)return ne}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var de;switch(T){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return ip(x.toDataURL(de,1).split("base64,").pop())}},P=function(x){var T=this.internal.collections[e+"images"];if(T){for(var C in T)if(x===T[C].alias)return T[C]}},S=function(x,T,C){return x||T||(x=-96,T=-96),x<0&&(x=-1*C.width*72/x/this.internal.scaleFactor),T<0&&(T=-1*C.height*72/T/this.internal.scaleFactor),x===0&&(x=T*C.width/C.height),T===0&&(T=x*C.height/C.width),[x,T]},L=function(x,T,C,ne,de,be){var we=S.call(this,C,ne,de),te=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,fe=u.call(this);if(C=we[0],ne=we[1],fe[de.index]=de,be){be*=Math.PI/180;var xe=Math.cos(be),M=Math.sin(be),G=function(K){return K.toFixed(4)},q=[G(xe),G(M),G(-1*M),G(xe),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,te(x),Q(T+ne),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([te(C),"0","0",te(ne),"0","0","cm"].join(" "))):this.internal.write([te(C),"0","0",te(ne),te(x),Q(T+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(x){var T,C,ne=0;if(typeof x=="string")for(C=x.length,T=0;T<C;T++)ne=(ne<<5)-ne+x.charCodeAt(T),ne|=0;else if(F(x))for(C=x.byteLength/2,T=0;T<C;T++)ne=(ne<<5)-ne+x[T],ne|=0;return ne},B=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var T=!0;return x.length===0&&(T=!1),x.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(T=!1),T},ee=t.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var T=x.indexOf(",");return T<0?null:x.substring(0,T).trim().endsWith("base64")?x.substring(T+1):null};t.__addimage__.isArrayBuffer=function(x){return x instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(x){return x instanceof Int8Array||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(x){for(var T=x.length,C=new Uint8Array(T),ne=0;ne<T;ne++)C[ne]=x.charCodeAt(ne);return C},E=t.__addimage__.arrayBufferToBinaryString=function(x){for(var T="",C=F(x)?x:new Uint8Array(x),ne=0;ne<C.length;ne+=8192)T+=String.fromCharCode.apply(null,C.subarray(ne,ne+8192));return T};t.addImage=function(){var x,T,C,ne,de,be,we,te,Q;if(typeof arguments[1]=="number"?(T=n,C=arguments[1],ne=arguments[2],de=arguments[3],be=arguments[4],we=arguments[5],te=arguments[6],Q=arguments[7]):(T=arguments[1],C=arguments[2],ne=arguments[3],de=arguments[4],be=arguments[5],we=arguments[6],te=arguments[7],Q=arguments[8]),on(x=arguments[0])==="object"&&!_(x)&&"imageData"in x){var fe=x;x=fe.imageData,T=fe.format||T||n,C=fe.x||C||0,ne=fe.y||ne||0,de=fe.w||fe.width||de,be=fe.h||fe.height||be,we=fe.alias||we,te=fe.compression||te,Q=fe.rotation||fe.angle||Q}var xe=this.internal.getFilters();if(te===void 0&&xe.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(C)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=N.call(this,x,T,we,te);return L.call(this,C,ne,de,be,M,Q),this};var N=function(x,T,C,ne){var de,be,we;if(typeof x=="string"&&i(x)===n){x=unescape(x);var te=O(x,!1);(te!==""||(te=t.loadFile(x,!0))!==void 0)&&(x=te)}if(_(x)&&(x=p(x,T)),T=i(x,T),!m(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((we=C)==null||we.length===0)&&(C=function(Q){return typeof Q=="string"||F(Q)?R(Q):F(Q.data)?R(Q.data):null}(x)),(de=P.call(this,C))||(x instanceof Uint8Array||T==="RGBA"||(be=x,x=V(x)),de=this["process"+T.toUpperCase()](x,d.call(this),C,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in t.image_compression?Q:I.NONE}(ne),be)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},O=t.__addimage__.convertBase64ToBinaryString=function(x,T){T=typeof T!="boolean"||T;var C,ne="";if(typeof x=="string"){var de;C=(de=ee(x))!==null&&de!==void 0?de:x;try{ne=ip(C)}catch(be){if(T)throw B(C)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};t.getImageProperties=function(x){var T,C,ne="";if(_(x)&&(x=p(x)),typeof x=="string"&&i(x)===n&&((ne=O(x,!1))===""&&(ne=t.loadFile(x)||""),x=ne),C=i(x),!m(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(x instanceof Uint8Array||(x=V(x)),!(T=this["process"+C.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=C,T}})(lt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,m=0;m<u.length&&!d;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<u.length;_++){r=u[_];var p=this.internal.pdfEscape,P=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(S.objId),I=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(b(r.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(b(I))+") >>",S.content=s;var R=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(S.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(P(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var F=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=t.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(S){var L=0,b=n,I="",R=0;for(L=0;L<S.length;L+=1)b[S.charCodeAt(L)]!==void 0?(R++,typeof(b=b[S.charCodeAt(L)])=="number"&&(I+=String.fromCharCode(b),b=n,R=0),L===S.length-1&&(b=n,I+=S.charAt(L-(R-1)),L-=R-1,R=0)):(b=n,I+=S.charAt(L-R),L-=R,R=0);return I};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(S,L,b){return a(S)?s(S)===!1?-1:!u(S)||!a(L)&&!a(b)||!a(b)&&o(L)||o(S)&&!a(L)||o(S)&&l(L)||o(S)&&o(L)?0:d(S)&&a(L)&&!o(L)&&a(b)&&u(b)?3:o(S)||!a(b)?1:2:-1},p=function(S){var L=0,b=0,I=0,R="",B="",ee="",F=(S=S||"").split("\\s+"),V=[];for(L=0;L<F.length;L+=1){for(V.push(""),b=0;b<F[L].length;b+=1)R=F[L][b],B=F[L][b-1],ee=F[L][b+1],a(R)?(I=_(R,B,ee),V[L]+=I!==-1?String.fromCharCode(e[R.charCodeAt(0)][I]):R):V[L]+=R;V[L]=m(V[L])}return V.join(" ")},P=t.__arabicParser__.processArabic=t.processArabic=function(){var S,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(L)){var I=0;for(b=[],I=0;I<L.length;I+=1)Array.isArray(L[I])?b.push([p(L[I][0]),L[I][1],L[I][2]]):b.push([p(L[I])]);S=b}else S=p(L);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",P])}(lt.API),lt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(S){_=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(S){P=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),_=u.scaleFactor||this.internal.scaleFactor,p=0,P=0,S=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=u.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,B){return R.concat(L.splitTextToSize(B,b))},[])):l=Array.isArray(l)?l:[l];for(var I=0;I<l.length;I++)p<(S=this.getStringUnitWidth(l[I],{font:m})*d)&&(p=S);return p!==0&&(P=l.length),{w:p/=_,h:Math.max((P*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,m,_){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,P,S,L,b=[],I=[],R=[],B={},ee={},F=[],V=[],E=(_=_||{}).autoSize||!1,N=_.printHeaders!==!1,O=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,x=_.margins||Object.assign({width:this.getPageWidth()},e),T=typeof _.padding=="number"?_.padding:3,C=_.headerBackgroundColor||"#c8c8c8",ne=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=ne,this.setFontSize(O),m==null)I=b=Object.keys(d[0]),R=b.map(function(){return"left"});else if(Array.isArray(m)&&on(m[0])==="object")for(b=m.map(function(fe){return fe.name}),I=m.map(function(fe){return fe.prompt||fe.name||""}),R=m.map(function(fe){return fe.align||"left"}),p=0;p<m.length;p+=1)ee[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(I=b=m,R=b.map(function(){return"left"}));if(E||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<b.length;p+=1){for(B[L=b[p]]=d.map(function(fe){return fe[L]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(I[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=B[L],this.setFont(void 0,"normal"),S=0;S<P.length;S+=1)F.push(this.getTextDimensions(P[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[L]=Math.max.apply(null,F)+T+T,F=[]}if(N){var de={};for(p=0;p<b.length;p+=1)de[b[p]]={},de[b[p]].text=I[p],de[b[p]].align=R[p];var be=o.call(this,de,ee);V=b.map(function(fe){return new s(l,u,ee[fe],be,de[fe].text,void 0,de[fe].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var we=m.reduce(function(fe,xe){return fe[xe.name]=xe.align,fe},{});for(p=0;p<d.length;p+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:p,data:d[p]},this);var te=o.call(this,d[p],ee);for(S=0;S<b.length;S+=1){var Q=d[p][b[S]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:p,col:S,data:Q},this),a.call(this,new s(l,u,ee[b[S]],te,Q,p+2,we[b[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(p){var P=l[p];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/_+d+d},this).reduce(function(p,P){return Math.max(p,P)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=l;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(P)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(lt.API);var W3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},H3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],B0=$3(H3),G3=[100,200,300,400,500,600,700,800,900],XD=$3(G3);function o1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return W3[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof B0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function tb(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var ZD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rb(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ib(t){return t.trimLeft()}function eO(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function tO(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jf,sb,ab,ku,Df,ob,lb,ub,l1=["times"];function cb(t,e,n,r,i){var s=4,a=db;switch(i){case lt.API.image_compression.FAST:s=1,a=hb;break;case lt.API.image_compression.MEDIUM:s=6,a=fb;break;case lt.API.image_compression.SLOW:s=9,a=pb}t=function(l,u,d,m){for(var _,p=l.length/u,P=new Uint8Array(l.length+p),S=[nO,hb,db,fb,pb],L=0;L<p;L+=1){var b=L*u,I=l.subarray(b,b+u);if(m)P.set(m(I,d,_),b+L);else{for(var R=S.length,B=[],ee=0;ee<R;ee+=1)B[ee]=S[ee](I,d,_);var F=iO(B.concat());P.set(B[F],b+L)}_=I}return P}(t,e,Math.ceil(n*r/8),a);var o=j0(t,{level:s});return lt.API.__addimage__.arrayBufferToBinaryString(o)}function nO(t){var e=Array.apply([],t);return e.unshift(0),e}function hb(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function db(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function fb(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function pb(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=rO(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function rO(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function iO(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function u1(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return K3(t,i)>>s&a}function mb(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(u,d,m){if(d+1<u.byteLength)u.setUint16(d,m,!1);else{var _=m>>8&255;u.setUint8(d,_)}})(t,s,K3(t,s)&~(o<<a)&65535|l)}function K3(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function sO(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,d=[],m=0,_=null,p=0,P=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,P=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];m=t[e++]|t[e++]<<8,_=t[e++],1&S||(_=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var L=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,B=t[e++],ee=B>>6&1,F=1<<1+(7&B),V=o,E=l,N=!1;B>>7&&(N=!0,V=e,E=F,e+=3*F);var O=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}d.push({x:L,y:b,width:I,height:R,has_local_palette:N,palette_offset:V,palette_size:E,data_offset:O,data_length:e-O,transparent_index:_,interlaced:!!ee,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return P},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,C){var ne=this.frameInfo(T),de=ne.width*ne.height,be=new Uint8Array(de);gb(t,ne.data_offset,be,de);var we=ne.palette_offset,te=ne.transparent_index;te===null&&(te=256);var Q=ne.width,fe=n-Q,xe=Q,M=4*(ne.y*n+ne.x),G=4*((ne.y+ne.height)*n+ne.x),q=M,K=4*fe;ne.interlaced===!0&&(K+=4*n*7);for(var re=8,ae=0,me=be.length;ae<me;++ae){var ve=be[ae];if(xe===0&&(xe=Q,(q+=K)>=G&&(K=4*fe+4*n*(re-1),q=M+(Q+fe)*(re<<1),re>>=1)),ve===te)q+=4;else{var ye=t[we+3*ve],Pe=t[we+3*ve+1],Fe=t[we+3*ve+2];C[q++]=Fe,C[q++]=Pe,C[q++]=ye,C[q++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(T,C){var ne=this.frameInfo(T),de=ne.width*ne.height,be=new Uint8Array(de);gb(t,ne.data_offset,be,de);var we=ne.palette_offset,te=ne.transparent_index;te===null&&(te=256);var Q=ne.width,fe=n-Q,xe=Q,M=4*(ne.y*n+ne.x),G=4*((ne.y+ne.height)*n+ne.x),q=M,K=4*fe;ne.interlaced===!0&&(K+=4*n*7);for(var re=8,ae=0,me=be.length;ae<me;++ae){var ve=be[ae];if(xe===0&&(xe=Q,(q+=K)>=G&&(K=4*fe+4*n*(re-1),q=M+(Q+fe)*(re<<1),re>>=1)),ve===te)q+=4;else{var ye=t[we+3*ve],Pe=t[we+3*ve+1],Fe=t[we+3*ve+2];C[q++]=ye,C[q++]=Pe,C[q++]=Fe,C[q++]=255}--xe}}}function gb(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,d=0,m=0,_=0,p=t[e++],P=new Int32Array(4096),S=null;;){for(;d<16&&p!==0;)m|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var L=m&u;if(m>>=l,d-=l,L!==s){if(L===a)break;for(var b=L<o?L:S,I=0,R=b;R>s;)R=P[R]>>8,++I;var B=R;if(_+I+(b!==L?1:0)>r)return void pn.log("Warning, gif stream longer than expected.");n[_++]=B;var ee=_+=I;for(b!==L&&(n[_++]=B),R=b;I--;)R=P[R],n[--ee]=255&R,R>>=8;S!==null&&o<4096&&(P[o++]=S<<8|B,o>=u+1&&l<12&&(++l,u=u<<1|1)),S=L}else o=a+1,u=(1<<(l=i+1))-1,S=null}return _!==r&&pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function c1(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),m=new Array(65535),_=new Array(65535),p=new Array(64),P=new Array(64),S=[],L=0,b=7,I=new Array(64),R=new Array(64),B=new Array(64),ee=new Array(256),F=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(M,G){for(var q=0,K=0,re=new Array,ae=1;ae<=16;ae++){for(var me=1;me<=M[ae];me++)re[G[K]]=[],re[G[K]][0]=q,re[G[K]][1]=ae,K++,q++;q*=2}return re}function we(M){for(var G=M[0],q=M[1]-1;q>=0;)G&1<<q&&(L|=1<<b),q--,--b<0&&(L==255?(te(255),te(0)):te(L),b=7,L=0)}function te(M){S.push(M)}function Q(M){te(M>>8&255),te(255&M)}function fe(M,G,q,K,re){for(var ae,me=re[0],ve=re[240],ye=function(je,Ke){var Ae,st,ze,Pt,at,qe,Se,Ye,We,ut,Ze=0;for(We=0;We<8;++We){Ae=je[Ze],st=je[Ze+1],ze=je[Ze+2],Pt=je[Ze+3],at=je[Ze+4],qe=je[Ze+5],Se=je[Ze+6];var vt=Ae+(Ye=je[Ze+7]),mt=Ae-Ye,$e=st+Se,ct=st-Se,Qt=ze+qe,ft=ze-qe,jt=Pt+at,Et=Pt-at,Nn=vt+jt,_n=vt-jt,Yt=$e+Qt,yt=$e-Qt;je[Ze]=Nn+Yt,je[Ze+4]=Nn-Yt;var Ot=.707106781*(yt+_n);je[Ze+2]=_n+Ot,je[Ze+6]=_n-Ot;var Ms=.382683433*((Nn=Et+ft)-(yt=ct+mt)),Wn=.5411961*Nn+Ms,Qi=1.306562965*yt+Ms,Or=.707106781*(Yt=ft+ct),dt=mt+Or,wn=mt-Or;je[Ze+5]=wn+Wn,je[Ze+3]=wn-Wn,je[Ze+1]=dt+Qi,je[Ze+7]=dt-Qi,Ze+=8}for(Ze=0,We=0;We<8;++We){Ae=je[Ze],st=je[Ze+8],ze=je[Ze+16],Pt=je[Ze+24],at=je[Ze+32],qe=je[Ze+40],Se=je[Ze+48];var Ji=Ae+(Ye=je[Ze+56]),mr=Ae-Ye,gr=st+Se,In=st-Se,ir=ze+qe,kn=ze-qe,ma=Pt+at,Fs=Pt-at,Mr=Ji+ma,Ni=Ji-ma,ei=gr+ir,Fr=gr-ir;je[Ze]=Mr+ei,je[Ze+32]=Mr-ei;var Hn=.707106781*(Fr+Ni);je[Ze+16]=Ni+Hn,je[Ze+48]=Ni-Hn;var Vs=.382683433*((Mr=Fs+kn)-(Fr=In+mr)),Ii=.5411961*Mr+Vs,ds=1.306562965*Fr+Vs,Us=.707106781*(ei=kn+In),ga=mr+Us,va=mr-Us;je[Ze+40]=va+Ii,je[Ze+24]=va-Ii,je[Ze+8]=ga+ds,je[Ze+56]=ga-ds,Ze++}for(We=0;We<64;++We)ut=je[We]*Ke[We],p[We]=ut>0?ut+.5|0:ut-.5|0;return p}(M,G),Pe=0;Pe<64;++Pe)P[V[Pe]]=ye[Pe];var Fe=P[0]-q;q=P[0],Fe==0?we(K[0]):(we(K[_[ae=32767+Fe]]),we(m[ae]));for(var Ue=63;Ue>0&&P[Ue]==0;)Ue--;if(Ue==0)return we(me),q;for(var Ee,Z=1;Z<=Ue;){for(var xt=Z;P[Z]==0&&Z<=Ue;)++Z;var pt=Z-xt;if(pt>=16){Ee=pt>>4;for(var it=1;it<=Ee;++it)we(ve);pt&=15}ae=32767+P[Z],we(re[(pt<<4)+_[ae]]),we(m[ae]),Z++}return Ue!=63&&we(me),q}function xe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(G){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var re=a((q[K]*G+50)/100);re=Math.min(Math.max(re,1),255),o[V[K]]=re}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ve=a((ae[me]*G+50)/100);ve=Math.min(Math.max(ve,1),255),l[V[me]]=ve}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Fe=0;Fe<8;Fe++)for(var Ue=0;Ue<8;Ue++)u[Pe]=1/(o[V[Pe]]*ye[Fe]*ye[Ue]*8),d[Pe]=1/(l[V[Pe]]*ye[Fe]*ye[Ue]*8),Pe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,G){G&&xe(G),S=new Array,L=0,b=7,Q(65496),Q(65504),Q(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),Q(1),Q(1),te(0),te(0),function(){Q(65499),Q(132),te(0);for(var st=0;st<64;st++)te(o[st]);te(1);for(var ze=0;ze<64;ze++)te(l[ze])}(),function(st,ze){Q(65472),Q(17),te(8),Q(ze),Q(st),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(M.width,M.height),function(){Q(65476),Q(418),te(0);for(var st=0;st<16;st++)te(E[st+1]);for(var ze=0;ze<=11;ze++)te(N[ze]);te(16);for(var Pt=0;Pt<16;Pt++)te(O[Pt+1]);for(var at=0;at<=161;at++)te(x[at]);te(1);for(var qe=0;qe<16;qe++)te(T[qe+1]);for(var Se=0;Se<=11;Se++)te(C[Se]);te(17);for(var Ye=0;Ye<16;Ye++)te(ne[Ye+1]);for(var We=0;We<=161;We++)te(de[We])}(),Q(65498),Q(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var q=0,K=0,re=0;L=0,b=7,this.encode.displayName="_encode_";for(var ae,me,ve,ye,Pe,Fe,Ue,Ee,Z,xt=M.data,pt=M.width,it=M.height,je=4*pt,Ke=0;Ke<it;){for(ae=0;ae<je;){for(Pe=je*Ke+ae,Ue=-1,Ee=0,Z=0;Z<64;Z++)Fe=Pe+(Ee=Z>>3)*je+(Ue=4*(7&Z)),Ke+Ee>=it&&(Fe-=je*(Ke+1+Ee-it)),ae+Ue>=je&&(Fe-=ae+Ue-je+4),me=xt[Fe++],ve=xt[Fe++],ye=xt[Fe++],I[Z]=(F[me]+F[ve+256|0]+F[ye+512|0]>>16)-128,R[Z]=(F[me+768|0]+F[ve+1024|0]+F[ye+1280|0]>>16)-128,B[Z]=(F[me+1280|0]+F[ve+1536|0]+F[ye+1792|0]>>16)-128;q=fe(I,u,q,e,r),K=fe(R,d,K,n,i),re=fe(B,d,re,n,i),ae+=32}Ke+=8}if(b>=0){var Ae=[];Ae[1]=b+1,Ae[0]=(1<<b+1)-1,we(Ae)}return Q(65497),new Uint8Array(S)},t=t||50,function(){for(var M=String.fromCharCode,G=0;G<256;G++)ee[G]=M(G)}(),e=be(E,N),n=be(T,C),r=be(O,x),i=be(ne,de),function(){for(var M=1,G=2,q=1;q<=15;q++){for(var K=M;K<G;K++)_[32767+K]=q,m[32767+K]=[],m[32767+K][1]=q,m[32767+K][0]=K;for(var re=-(G-1);re<=-M;re++)_[32767+re]=q,m[32767+re]=[],m[32767+re][1]=q,m[32767+re][0]=G-1+re;M<<=1,G<<=1}}(),function(){for(var M=0;M<256;M++)F[M]=19595*M,F[M+256|0]=38470*M,F[M+512|0]=7471*M+32768,F[M+768|0]=-11059*M,F[M+1024|0]=-21709*M,F[M+1280|0]=32768*M+8421375,F[M+1536|0]=-27439*M,F[M+1792|0]=-5329*M}(),xe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function As(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vb(t){function e(N){if(!N)throw Error("assert :P")}function n(N,O,x){for(var T=0;4>T;T++)if(N[O+T]!=x.charCodeAt(T))return!0;return!1}function r(N,O,x,T,C){for(var ne=0;ne<C;ne++)N[O+ne]=x[T+ne]}function i(N,O,x,T){for(var C=0;C<T;C++)N[O+C]=x}function s(N){return new Int32Array(N)}function a(N,O){for(var x=[],T=0;T<N;T++)x.push(new O);return x}function o(N,O){var x=[];return function T(C,ne,de){for(var be=de[ne],we=0;we<be&&(C.push(de.length>ne+1?[]:new O),!(de.length<ne+1));we++)T(C[we],ne+1,de)}(x,0,N),x}var l=function(){var N=this;function O(c,f){for(var y=1<<f-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function x(c,f,y,A,D){e(!(A%y));do c[f+(A-=y)]=D;while(0<A)}function T(c,f,y,A,D){if(e(2328>=D),512>=D)var U=s(512);else if((U=s(D))==null)return 0;return function(z,$,H,Y,se,ge){var X,oe,he=$,Ne=1<<H,pe=s(16),ke=s(16);for(e(se!=0),e(Y!=null),e(z!=null),e(0<H),oe=0;oe<se;++oe){if(15<Y[oe])return 0;++pe[Y[oe]]}if(pe[0]==se)return 0;for(ke[1]=0,X=1;15>X;++X){if(pe[X]>1<<X)return 0;ke[X+1]=ke[X]+pe[X]}for(oe=0;oe<se;++oe)X=Y[oe],0<Y[oe]&&(ge[ke[X]++]=oe);if(ke[15]==1)return(Y=new C).g=0,Y.value=ge[0],x(z,he,1,Ne,Y),Ne;var Te,Oe=-1,Re=Ne-1,ot=0,Je=1,Ct=1,nt=1<<H;for(oe=0,X=1,se=2;X<=H;++X,se<<=1){if(Je+=Ct<<=1,0>(Ct-=pe[X]))return 0;for(;0<pe[X];--pe[X])(Y=new C).g=X,Y.value=ge[oe++],x(z,he+ot,se,nt,Y),ot=O(ot,X)}for(X=H+1,se=2;15>=X;++X,se<<=1){if(Je+=Ct<<=1,0>(Ct-=pe[X]))return 0;for(;0<pe[X];--pe[X]){if(Y=new C,(ot&Re)!=Oe){for(he+=nt,Te=1<<(Oe=X)-H;15>Oe&&!(0>=(Te-=pe[Oe]));)++Oe,Te<<=1;Ne+=nt=1<<(Te=Oe-H),z[$+(Oe=ot&Re)].g=Te+H,z[$+Oe].value=he-$-Oe}Y.g=X-H,Y.value=ge[oe++],x(z,he+(ot>>H),se,nt,Y),ot=O(ot,X)}}return Je!=2*ke[15]-1?0:Ne}(c,f,y,A,D,U)}function C(){this.value=this.g=0}function ne(){this.value=this.g=0}function de(){this.G=a(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ll,ne)}function be(c,f,y,A){e(c!=null),e(f!=null),e(2147483648>A),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=y,c.Jd=f,c.Yc=y+A,c.Zc=4<=A?y+A-4+1:y,me(c)}function we(c,f){for(var y=0;0<f--;)y|=ye(c,128)<<f;return y}function te(c,f){var y=we(c,f);return ve(c)?-y:y}function Q(c,f,y,A){var D,U=0;for(e(c!=null),e(f!=null),e(4294967288>A),c.Sb=A,c.Ra=0,c.u=0,c.h=0,4<A&&(A=4),D=0;D<A;++D)U+=f[y+D]<<8*D;c.Ra=U,c.bb=A,c.oa=f,c.pa=y}function fe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ho-8>>>0,++c.bb,c.u-=8;K(c)&&(c.h=1,c.u=0)}function xe(c,f){if(e(0<=f),!c.h&&f<=Ri){var y=q(c)&Li[f];return c.u+=f,fe(c),y}return c.h=1,c.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(c){return c.Ra>>>(c.u&ho-1)>>>0}function K(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ho}function re(c,f){c.u=f,c.h=K(c)}function ae(c){c.u>=Ea&&(e(c.u>=Ea),fe(c))}function me(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ve(c){return we(c,1)}function ye(c,f){var y=c.Ca;0>c.b&&me(c);var A=c.b,D=y*f>>>8,U=(c.I>>>A>D)+0;for(U?(y-=D,c.I-=D+1<<A>>>0):y=D+1,A=y,D=0;256<=A;)D+=8,A>>=8;return A=7^D+fo[A],c.b-=A,c.Ca=(y<<A)-1,U}function Pe(c,f,y){c[f+0]=y>>24&255,c[f+1]=y>>16&255,c[f+2]=y>>8&255,c[f+3]=255&y}function Fe(c,f){return c[f+0]|c[f+1]<<8}function Ue(c,f){return Fe(c,f)|c[f+2]<<16}function Ee(c,f){return Fe(c,f)|Fe(c,f+2)<<16}function Z(c,f){var y=1<<f;return e(c!=null),e(0<f),c.X=s(y),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function xt(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),r(f.X,0,c.X,0,1<<f.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function it(c,f,y,A){e(y!=null),e(A!=null);var D=y[0],U=A[0];return D==0&&(D=(c*U+f/2)/f),U==0&&(U=(f*D+c/2)/c),0>=D||0>=U?0:(y[0]=D,A[0]=U,1)}function je(c,f){return c+(1<<f)-1>>>f}function Ke(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function Ae(c,f){N[f]=function(y,A,D,U,z,$,H){var Y;for(Y=0;Y<z;++Y){var se=N[c]($[H+Y-1],D,U+Y);$[H+Y]=Ke(y[A+Y],se)}}}function st(){this.ud=this.hd=this.jd=0}function ze(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function Pt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function at(c,f){return Pt(c+(c-f+.5>>1))}function qe(c,f,y){return Math.abs(f-y)-Math.abs(c-y)}function Se(c,f,y,A,D,U,z){for(A=U[z-1],y=0;y<D;++y)U[z+y]=A=Ke(c[f+y],A)}function Ye(c,f,y,A,D){var U;for(U=0;U<y;++U){var z=c[f+U],$=z>>8&255,H=16711935&(H=(H=16711935&z)+(($<<16)+$));A[D+U]=(4278255360&z)+H>>>0}}function We(c,f){f.jd=255&c,f.hd=c>>8&255,f.ud=c>>16&255}function ut(c,f,y,A,D,U){var z;for(z=0;z<A;++z){var $=f[y+z],H=$>>>8,Y=$,se=255&(se=(se=$>>>16)+((c.jd<<24>>24)*(H<<24>>24)>>>5));Y=255&(Y=(Y+=(c.hd<<24>>24)*(H<<24>>24)>>>5)+((c.ud<<24>>24)*(se<<24>>24)>>>5)),D[U+z]=(4278255360&$)+(se<<16)+Y}}function Ze(c,f,y,A,D){N[f]=function(U,z,$,H,Y,se,ge,X,oe){for(H=ge;H<X;++H)for(ge=0;ge<oe;++ge)Y[se++]=D($[A(U[z++])])},N[c]=function(U,z,$,H,Y,se,ge){var X=8>>U.b,oe=U.Ea,he=U.K[0],Ne=U.w;if(8>X)for(U=(1<<U.b)-1,Ne=(1<<X)-1;z<$;++z){var pe,ke=0;for(pe=0;pe<oe;++pe)pe&U||(ke=A(H[Y++])),se[ge++]=D(he[ke&Ne]),ke>>=X}else N["VP8LMapColor"+y](H,Y,he,Ne,se,ge,z,$,oe)}}function vt(c,f,y,A,D){for(y=f+y;f<y;){var U=c[f++];A[D++]=U>>16&255,A[D++]=U>>8&255,A[D++]=255&U}}function mt(c,f,y,A,D){for(y=f+y;f<y;){var U=c[f++];A[D++]=U>>16&255,A[D++]=U>>8&255,A[D++]=255&U,A[D++]=U>>24&255}}function $e(c,f,y,A,D){for(y=f+y;f<y;){var U=(z=c[f++])>>16&240|z>>12&15,z=240&z|z>>28&15;A[D++]=U,A[D++]=z}}function ct(c,f,y,A,D){for(y=f+y;f<y;){var U=(z=c[f++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;A[D++]=U,A[D++]=z}}function Qt(c,f,y,A,D){for(y=f+y;f<y;){var U=c[f++];A[D++]=255&U,A[D++]=U>>8&255,A[D++]=U>>16&255}}function ft(c,f,y,A,D,U){if(U==0)for(y=f+y;f<y;)Pe(A,((U=c[f++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),D+=32;else r(A,D,c,f,y)}function jt(c,f){N[f][0]=N[c+"0"],N[f][1]=N[c+"1"],N[f][2]=N[c+"2"],N[f][3]=N[c+"3"],N[f][4]=N[c+"4"],N[f][5]=N[c+"5"],N[f][6]=N[c+"6"],N[f][7]=N[c+"7"],N[f][8]=N[c+"8"],N[f][9]=N[c+"9"],N[f][10]=N[c+"10"],N[f][11]=N[c+"11"],N[f][12]=N[c+"12"],N[f][13]=N[c+"13"],N[f][14]=N[c+"0"],N[f][15]=N[c+"0"]}function Et(c){return c==$m||c==Wm||c==Gd||c==Hm}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new _n,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ms(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Wn(c,f){var y=c.T,A=f.ba.f.RGBA,D=A.eb,U=A.fb+c.ka*A.A,z=ns[f.ba.S],$=c.y,H=c.O,Y=c.f,se=c.N,ge=c.ea,X=c.W,oe=f.cc,he=f.dc,Ne=f.Mc,pe=f.Nc,ke=c.ka,Te=c.ka+c.T,Oe=c.U,Re=Oe+1>>1;for(ke==0?z($,H,null,null,Y,se,ge,X,Y,se,ge,X,D,U,null,null,Oe):(z(f.ec,f.fc,$,H,oe,he,Ne,pe,Y,se,ge,X,D,U-A.A,D,U,Oe),++y);ke+2<Te;ke+=2)oe=Y,he=se,Ne=ge,pe=X,se+=c.Rc,X+=c.Rc,U+=2*A.A,z($,(H+=2*c.fa)-c.fa,$,H,oe,he,Ne,pe,Y,se,ge,X,D,U-A.A,D,U,Oe);return H+=c.fa,c.j+Te<c.o?(r(f.ec,f.fc,$,H,Oe),r(f.cc,f.dc,Y,se,Re),r(f.Mc,f.Nc,ge,X,Re),y--):1&Te||z($,H,null,null,Y,se,ge,X,Y,se,ge,X,D,U+A.A,null,null,Oe),y}function Qi(c,f,y){var A=c.F,D=[c.J];if(A!=null){var U=c.U,z=f.ba.S,$=z==Hd||z==Gd;f=f.ba.f.RGBA;var H=[0],Y=c.ka;H[0]=c.T,c.Kb&&(Y==0?--H[0]:(--Y,D[0]-=c.width),c.j+c.ka+c.T==c.o&&(H[0]=c.o-c.j-Y));var se=f.eb;Y=f.fb+Y*f.A,c=Gv(A,D[0],c.width,U,H,se,Y+($?0:3),f.A),e(y==H),c&&Et(z)&&Yc(se,Y,$,U,H,f.A)}return 0}function Or(c){var f=c.ma,y=f.ba.S,A=11>y,D=y==$d||y==Wd||y==Hd||y==qm||y==12||Et(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!qc(f.Oa,c,D?11:12))return 0;if(D&&Et(y)&&Cl(),c.da)alert("todo:use_scaling");else{if(A){if(f.Ib=Ms,c.Kb){if(y=c.U+1>>1,f.memory=s(c.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=Wn,Cl()}}else alert("todo:EmitYUV");D&&(f.Jb=Qi,A&&mn())}if(A&&!uy){for(c=0;256>c;++c)mS[c]=89858*(c-128)+Qd>>Kd,yS[c]=-22014*(c-128)+Qd,vS[c]=-45773*(c-128),gS[c]=113618*(c-128)+Qd>>Kd;for(c=Zc;c<Qm;++c)f=76283*(c-16)+Qd>>Kd,_S[c-Zc]=Dt(f,255),wS[c-Zc]=Dt(f+8>>4,15);uy=1}return 1}function dt(c){var f=c.ma,y=c.U,A=c.T;return e(!(1&c.ka)),0>=y||0>=A?0:(y=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,y),f.Dc+=y,1)}function wn(c){c.ma.memory=null}function Ji(c,f,y,A){return xe(c,8)!=47?0:(f[0]=xe(c,14)+1,y[0]=xe(c,14)+1,A[0]=xe(c,1),xe(c,3)!=0?0:!c.h)}function mr(c,f){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+xe(f,y)+1}function gr(c,f){return 120<f?f-120:1<=(y=((y=tS[f-1])>>4)*c+(8-(15&y)))?y:1;var y}function In(c,f,y){var A=q(y),D=c[f+=255&A].g-8;return 0<D&&(re(y,y.u+8),A=q(y),f+=c[f].value,f+=A&(1<<D)-1),re(y,y.u+c[f].g),c[f].value}function ir(c,f,y){return y.g+=c.g,y.value+=c.value<<f>>>0,e(8>=y.g),c.g}function kn(c,f,y){var A=c.xc;return e((f=A==0?0:c.vc[c.md*(y>>A)+(f>>A)])<c.Wb),c.Ya[f]}function ma(c,f,y,A){var D=c.ab,U=c.c*f,z=c.C;f=z+f;var $=y,H=A;for(A=c.Ta,y=c.Ua;0<D--;){var Y=c.gc[D],se=z,ge=f,X=$,oe=H,he=(H=A,$=y,Y.Ea);switch(e(se<ge),e(ge<=Y.nc),Y.hc){case 2:Gn(X,oe,(ge-se)*he,H,$);break;case 0:var Ne=se,pe=ge,ke=H,Te=$,Oe=(nt=Y).Ea;Ne==0&&(Wc(X,oe,null,null,1,ke,Te),Se(X,oe+1,0,0,Oe-1,ke,Te+1),oe+=Oe,Te+=Oe,++Ne);for(var Re=1<<nt.b,ot=Re-1,Je=je(Oe,nt.b),Ct=nt.K,nt=nt.w+(Ne>>nt.b)*Je;Ne<pe;){var zt=Ct,cr=nt,Lt=1;for(bu(X,oe,ke,Te-Oe,1,ke,Te);Lt<Oe;){var rt=(Lt&~ot)+Re;rt>Oe&&(rt=Oe),(0,Gc[zt[cr++]>>8&15])(X,oe+ +Lt,ke,Te+Lt-Oe,rt-Lt,ke,Te+Lt),Lt=rt}oe+=Oe,Te+=Oe,++Ne&ot||(nt+=Je)}ge!=Y.nc&&r(H,$-he,H,$+(ge-se-1)*he,he);break;case 1:for(he=X,pe=oe,Oe=(X=Y.Ea)-(Te=X&~(ke=(oe=1<<Y.b)-1)),Ne=je(X,Y.b),Re=Y.K,Y=Y.w+(se>>Y.b)*Ne;se<ge;){for(ot=Re,Je=Y,Ct=new st,nt=pe+Te,zt=pe+X;pe<nt;)We(ot[Je++],Ct),Kc(Ct,he,pe,oe,H,$),pe+=oe,$+=oe;pe<zt&&(We(ot[Je++],Ct),Kc(Ct,he,pe,Oe,H,$),pe+=Oe,$+=Oe),++se&ke||(Y+=Ne)}break;case 3:if(X==H&&oe==$&&0<Y.b){for(pe=H,X=he=$+(ge-se)*he-(Te=(ge-se)*je(Y.Ea,Y.b)),oe=H,ke=$,Ne=[],Te=(Oe=Te)-1;0<=Te;--Te)Ne[Te]=oe[ke+Te];for(Te=Oe-1;0<=Te;--Te)pe[X+Te]=Ne[Te];Ud(Y,se,ge,H,he,H,$)}else Ud(Y,se,ge,X,oe,H,$)}$=A,H=y}H!=y&&r(A,y,$,H,U)}function Fs(c,f){var y=c.V,A=c.Ba+c.c*c.C,D=f-c.C;if(e(f<=c.l.o),e(16>=D),0<D){var U=c.l,z=c.Ta,$=c.Ua,H=U.width;if(ma(c,D,y,A),D=$=[$],e((y=c.C)<(A=f)),e(U.v<U.va),A>U.o&&(A=U.o),y<U.j){var Y=U.j-y;y=U.j,D[0]+=Y*H}if(y>=A?y=0:(D[0]+=4*U.v,U.ka=y-U.j,U.U=U.va-U.v,U.T=A-y,y=1),y){if($=$[0],11>(y=c.ca).S){var se=y.f.RGBA,ge=(A=y.S,D=U.U,U=U.T,Y=se.eb,se.A),X=U;for(se=se.fb+c.Ma*se.A;0<X--;){var oe=z,he=$,Ne=D,pe=Y,ke=se;switch(A){case qd:Qc(oe,he,Ne,pe,ke);break;case $d:po(oe,he,Ne,pe,ke);break;case $m:po(oe,he,Ne,pe,ke),Yc(pe,ke,0,Ne,1,0);break;case ey:Rl(oe,he,Ne,pe,ke);break;case Wd:ft(oe,he,Ne,pe,ke,1);break;case Wm:ft(oe,he,Ne,pe,ke,1),Yc(pe,ke,0,Ne,1,0);break;case Hd:ft(oe,he,Ne,pe,ke,0);break;case Gd:ft(oe,he,Ne,pe,ke,0),Yc(pe,ke,1,Ne,1,0);break;case qm:mo(oe,he,Ne,pe,ke);break;case Hm:mo(oe,he,Ne,pe,ke),Hv(pe,ke,Ne,1,0);break;case ty:go(oe,he,Ne,pe,ke);break;default:e(0)}$+=H,se+=ge}c.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=f,e(c.C<=c.i)}function Mr(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var y=c.Ya[f].G,A=c.Ya[f].H;if(0<y[1][A[1]+0].g||0<y[2][A[2]+0].g||0<y[3][A[3]+0].g)return 0}return 1}function Ni(c,f,y,A,D,U){if(c.Z!=0){var z=c.qd,$=c.rd;for(e(_o[c.Z]!=null);f<y;++f)_o[c.Z](z,$,A,D,A,D,U),z=A,$=D,D+=U;c.qd=z,c.rd=$}}function ei(c,f){var y=c.l.ma,A=y.Z==0||y.Z==1?c.l.j:c.C;if(A=c.C<A?A:c.C,e(f<=c.l.o),f>A){var D=c.l.width,U=y.ca,z=y.tb+D*A,$=c.V,H=c.Ba+c.c*A,Y=c.gc;e(c.ab==1),e(Y[0].hc==3),Ys(Y[0],A,f,$,H,U,z),Ni(y,A,f,U,z,D)}c.C=c.Ma=f}function Fr(c,f,y,A,D,U,z){var $=c.$/A,H=c.$%A,Y=c.m,se=c.s,ge=y+c.$,X=ge;D=y+A*D;var oe=y+A*U,he=280+se.ua,Ne=c.Pb?$:16777216,pe=0<se.ua?se.Wa:null,ke=se.wc,Te=ge<oe?kn(se,H,$):null;e(c.C<U),e(oe<=D);var Oe=!1;e:for(;;){for(;Oe||ge<oe;){var Re=0;if($>=Ne){var ot=ge-y;e((Ne=c).Pb),Ne.wd=Ne.m,Ne.xd=ot,0<Ne.s.ua&&xt(Ne.s.Wa,Ne.s.vb),Ne=$+rS}if(H&ke||(Te=kn(se,H,$)),e(Te!=null),Te.Qb&&(f[ge]=Te.qb,Oe=!0),!Oe)if(ae(Y),Te.jc){Re=Y,ot=f;var Je=ge,Ct=Te.pd[q(Re)&Ll-1];e(Te.jc),256>Ct.g?(re(Re,Re.u+Ct.g),ot[Je]=Ct.value,Re=0):(re(Re,Re.u+Ct.g-256),e(256<=Ct.value),Re=Ct.value),Re==0&&(Oe=!0)}else Re=In(Te.G[0],Te.H[0],Y);if(Y.h)break;if(Oe||256>Re){if(!Oe)if(Te.nd)f[ge]=(Te.qb|Re<<8)>>>0;else{if(ae(Y),Oe=In(Te.G[1],Te.H[1],Y),ae(Y),ot=In(Te.G[2],Te.H[2],Y),Je=In(Te.G[3],Te.H[3],Y),Y.h)break;f[ge]=(Je<<24|Oe<<16|Re<<8|ot)>>>0}if(Oe=!1,++ge,++H>=A&&(H=0,++$,z!=null&&$<=U&&!($%16)&&z(c,$),pe!=null))for(;X<ge;)Re=f[X++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re}else if(280>Re){if(Re=mr(Re-256,Y),ot=In(Te.G[4],Te.H[4],Y),ae(Y),ot=gr(A,ot=mr(ot,Y)),Y.h)break;if(ge-y<ot||D-ge<Re)break e;for(Je=0;Je<Re;++Je)f[ge+Je]=f[ge+Je-ot];for(ge+=Re,H+=Re;H>=A;)H-=A,++$,z!=null&&$<=U&&!($%16)&&z(c,$);if(e(ge<=D),H&ke&&(Te=kn(se,H,$)),pe!=null)for(;X<ge;)Re=f[X++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re}else{if(!(Re<he))break e;for(Oe=Re-280,e(pe!=null);X<ge;)Re=f[X++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re;Re=ge,e(!(Oe>>>(ot=pe).Xa)),f[Re]=ot.X[Oe],Oe=!0}Oe||e(Y.h==K(Y))}if(c.Pb&&Y.h&&ge<D)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&xt(c.s.vb,c.s.Wa);else{if(Y.h)break e;z!=null&&z(c,$>U?U:$),c.a=0,c.$=ge-y}return 1}return c.a=3,0}function Hn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function Vs(){var c=new et;return c==null?null:(c.a=0,c.xb=iy,jt("Predictor","VP8LPredictors"),jt("Predictor","VP8LPredictors_C"),jt("PredictorAdd","VP8LPredictorsAdd"),jt("PredictorAdd","VP8LPredictorsAdd_C"),Gn=Ye,Kc=ut,Qc=vt,po=mt,mo=$e,go=ct,Rl=Qt,N.VP8LMapColor32b=Js,N.VP8LMapColor8b=Hc,c)}function Ii(c,f,y,A,D){var U=1,z=[c],$=[f],H=A.m,Y=A.s,se=null,ge=0;e:for(;;){if(y)for(;U&&xe(H,1);){var X=z,oe=$,he=A,Ne=1,pe=he.m,ke=he.gc[he.ab],Te=xe(pe,2);if(he.Oc&1<<Te)U=0;else{switch(he.Oc|=1<<Te,ke.hc=Te,ke.Ea=X[0],ke.nc=oe[0],ke.K=[null],++he.ab,e(4>=he.ab),Te){case 0:case 1:ke.b=xe(pe,3)+2,Ne=Ii(je(ke.Ea,ke.b),je(ke.nc,ke.b),0,he,ke.K),ke.K=ke.K[0];break;case 3:var Oe,Re=xe(pe,8)+1,ot=16<Re?0:4<Re?1:2<Re?2:3;if(X[0]=je(ke.Ea,ot),ke.b=ot,Oe=Ne=Ii(Re,1,0,he,ke.K)){var Je,Ct=Re,nt=ke,zt=1<<(8>>nt.b),cr=s(zt);if(cr==null)Oe=0;else{var Lt=nt.K[0],rt=nt.w;for(cr[0]=nt.K[0][0],Je=1;Je<1*Ct;++Je)cr[Je]=Ke(Lt[rt+Je],cr[Je-1]);for(;Je<4*zt;++Je)cr[Je]=0;nt.K[0]=null,nt.K[0]=cr,Oe=1}}Ne=Oe;break;case 2:break;default:e(0)}U=Ne}}if(z=z[0],$=$[0],U&&xe(H,1)&&!(U=1<=(ge=xe(H,4))&&11>=ge)){A.a=3;break e}var Be;if(Be=U)t:{var Qn,Tt,Wt,bn=A,Nr=z,ri=$,Bn=ge,Ur=y,ii=bn.m,hr=bn.s,Gt=[null],rn=1,zn=0,sn=nS[Bn];n:for(;;){if(Ur&&xe(ii,1)){var Ir=xe(ii,3)+2,_s=je(Nr,Ir),Jn=je(ri,Ir),pi=_s*Jn;if(!Ii(_s,Jn,0,bn,Gt))break n;for(Gt=Gt[0],hr.xc=Ir,Qn=0;Qn<pi;++Qn){var fn=Gt[Qn]>>8&65535;Gt[Qn]=fn,fn>=rn&&(rn=fn+1)}}if(ii.h)break n;for(Tt=0;5>Tt;++Tt){var dr=ny[Tt];!Tt&&0<Bn&&(dr+=1<<Bn),zn<dr&&(zn=dr)}var Di=a(rn*sn,C),si=rn,Oi=a(si,de);if(Oi==null)var Mi=null;else e(65536>=si),Mi=Oi;var mi=s(zn);if(Mi==null||mi==null||Di==null){bn.a=1;break n}var Fi=Di;for(Qn=Wt=0;Qn<rn;++Qn){var vn=Mi[Qn],Vi=vn.G,ws=vn.H,Dl=0,Ia=1,kr=0;for(Tt=0;5>Tt;++Tt){dr=ny[Tt],Vi[Tt]=Fi,ws[Tt]=Wt,!Tt&&0<Bn&&(dr+=1<<Bn);i:{var Yd,Jm=dr,Xd=bn,eh=mi,xS=Fi,ES=Wt,Ym=0,wo=Xd.m,SS=xe(wo,1);if(i(eh,0,0,Jm),SS){var NS=xe(wo,1)+1,IS=xe(wo,1),dy=xe(wo,IS==0?1:8);eh[dy]=1,NS==2&&(eh[dy=xe(wo,8)]=1);var Zd=1}else{var fy=s(19),py=xe(wo,4)+4;if(19<py){Xd.a=3;var ef=0;break i}for(Yd=0;Yd<py;++Yd)fy[eS[Yd]]=xe(wo,3);var Xm=void 0,th=void 0,my=Xd,kS=fy,tf=Jm,gy=eh,Zm=0,bo=my.m,vy=8,yy=a(128,C);r:for(;T(yy,0,7,kS,19);){if(xe(bo,1)){var TS=2+2*xe(bo,3);if((Xm=2+xe(bo,TS))>tf)break r}else Xm=tf;for(th=0;th<tf&&Xm--;){ae(bo);var _y=yy[0+(127&q(bo))];re(bo,bo.u+_y.g);var xu=_y.value;if(16>xu)gy[th++]=xu,xu!=0&&(vy=xu);else{var PS=xu==16,wy=xu-16,CS=X3[wy],by=xe(bo,Y3[wy])+CS;if(th+by>tf)break r;for(var LS=PS?vy:0;0<by--;)gy[th++]=LS}}Zm=1;break r}Zm||(my.a=3),Zd=Zm}(Zd=Zd&&!wo.h)&&(Ym=T(xS,ES,8,eh,Jm)),Zd&&Ym!=0?ef=Ym:(Xd.a=3,ef=0)}if(ef==0)break n;if(Ia&&Z3[Tt]==1&&(Ia=Fi[Wt].g==0),Dl+=Fi[Wt].g,Wt+=ef,3>=Tt){var nh,eg=mi[0];for(nh=1;nh<dr;++nh)mi[nh]>eg&&(eg=mi[nh]);kr+=eg}}if(vn.nd=Ia,vn.Qb=0,Ia&&(vn.qb=(Vi[3][ws[3]+0].value<<24|Vi[1][ws[1]+0].value<<16|Vi[2][ws[2]+0].value)>>>0,Dl==0&&256>Vi[0][ws[0]+0].value&&(vn.Qb=1,vn.qb+=Vi[0][ws[0]+0].value<<8)),vn.jc=!vn.Qb&&6>kr,vn.jc){var nf,ka=vn;for(nf=0;nf<Ll;++nf){var Ao=nf,xo=ka.pd[Ao],rf=ka.G[0][ka.H[0]+Ao];256<=rf.value?(xo.g=rf.g+256,xo.value=rf.value):(xo.g=0,xo.value=0,Ao>>=ir(rf,8,xo),Ao>>=ir(ka.G[1][ka.H[1]+Ao],16,xo),Ao>>=ir(ka.G[2][ka.H[2]+Ao],0,xo),ir(ka.G[3][ka.H[3]+Ao],24,xo))}}}hr.vc=Gt,hr.Wb=rn,hr.Ya=Mi,hr.yc=Di,Be=1;break t}Be=0}if(!(U=Be)){A.a=3;break e}if(0<ge){if(Y.ua=1<<ge,!Z(Y.Wa,ge)){A.a=1,U=0;break e}}else Y.ua=0;var tg=A,Ay=z,RS=$,ng=tg.s,rg=ng.xc;if(tg.c=Ay,tg.i=RS,ng.md=je(Ay,rg),ng.wc=rg==0?-1:(1<<rg)-1,y){A.xb=cS;break e}if((se=s(z*$))==null){A.a=1,U=0;break e}U=(U=Fr(A,se,0,z,$,$,null))&&!H.h;break e}return U?(D!=null?D[0]=se:(e(se==null),e(y)),A.$=0,y||Hn(Y)):Hn(Y),U}function ds(c,f){var y=c.c*c.i,A=y+f+16*f;return e(c.c<=f),c.V=s(A),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+f,1)}function Us(c,f){var y=c.C,A=f-y,D=c.V,U=c.Ba+c.c*y;for(e(f<=c.l.o);0<A;){var z=16<A?16:A,$=c.l.ma,H=c.l.width,Y=H*z,se=$.ca,ge=$.tb+H*y,X=c.Ta,oe=c.Ua;ma(c,z,D,U),Kv(X,oe,se,ge,Y),Ni($,y,y+z,se,ge,H),A-=z,D+=z*c.c,y+=z}e(y==f),c.C=c.Ma=f}function ga(){this.ub=this.yd=this.td=this.Rb=0}function va(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Oc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Bs(){this.Yb=function(){var c=[];return function f(y,A,D){for(var U=D[A],z=0;z<U&&(y.push(D.length>A+1?[]:0),!(D.length<A+1));z++)f(y[z],A+1,D)}(c,0,[3,11]),c}()}function vl(){this.jb=s(3),this.Wc=o([4,8],Bs),this.Xc=o([4,17],Bs)}function to(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function ki(){this.Na=this.la=0}function no(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _l(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new yl),this.aa=0,this.l=new zs}function wl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bl(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new ga,this.Kc=new va,this.ed=new to,this.Qa=new Oc,this.Ic=this.$c=this.Aa=0,this.D=new _l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,M),this.ia=0,this.pb=a(4,no),this.Pa=new vl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wl),this.Hd=0,this.rb=Array(new ki),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yl),this.L=this.aa=0,this.gd=o([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Al(){var c=new bl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Xc||(Xc=fs)),c}function Cn(c,f,y){return c.a==0&&(c.a=f,c.sc=y,c.cb=0),0}function xl(c,f,y){return 3<=y&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function yu(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return Cn(c,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,A=f.w,D=f.ha;if(4>D)return Cn(c,7,"Truncated header.");var U=y[A+0]|y[A+1]<<8|y[A+2]<<16,z=c.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return Cn(c,3,"Incorrect keyframe parameters.");if(!z.yd)return Cn(c,4,"Frame not displayable.");A+=3,D-=3;var $=c.Kc;if(z.Rb){if(7>D)return Cn(c,7,"cannot parse picture header");if(!xl(y,A,D))return Cn(c,3,"Bad code word");$.c=16383&(y[A+4]<<8|y[A+3]),$.Td=y[A+4]>>6,$.i=16383&(y[A+6]<<8|y[A+5]),$.Ud=y[A+6]>>6,A+=7,D-=7,c.za=$.c+15>>4,c.Ub=$.i+15>>4,f.width=$.c,f.height=$.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((U=c.Pa).jb,0,255,U.jb.length),e((U=c.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(z.ub>D)return Cn(c,7,"bad partition length");be(U=c.m,y,A,z.ub),A+=z.ub,D-=z.ub,z.Rb&&($.Ld=ve(U),$.Kd=ve(U)),$=c.Qa;var H,Y=c.Pa;if(e(U!=null),e($!=null),$.Cb=ve(U),$.Cb){if($.Bb=ve(U),ve(U)){for($.Fb=ve(U),H=0;4>H;++H)$.Zb[H]=ve(U)?te(U,7):0;for(H=0;4>H;++H)$.Lb[H]=ve(U)?te(U,6):0}if($.Bb)for(H=0;3>H;++H)Y.jb[H]=ve(U)?we(U,8):255}else $.Bb=0;if(U.Ka)return Cn(c,3,"cannot parse segment header");if(($=c.ed).zd=ve(U),$.Tb=we(U,6),$.wb=we(U,3),$.Pc=ve(U),$.Pc&&ve(U)){for(Y=0;4>Y;++Y)ve(U)&&($.vd[Y]=te(U,6));for(Y=0;4>Y;++Y)ve(U)&&($.od[Y]=te(U,6))}if(c.L=$.Tb==0?0:$.zd?1:2,U.Ka)return Cn(c,3,"cannot parse filter header");var se=D;if(D=H=A,A=H+se,$=se,c.Xb=(1<<we(c.m,2))-1,se<3*(Y=c.Xb))y=7;else{for(H+=3*Y,$-=3*Y,se=0;se<Y;++se){var ge=y[D+0]|y[D+1]<<8|y[D+2]<<16;ge>$&&(ge=$),be(c.Jc[+se],y,H,ge),H+=ge,$-=ge,D+=3}be(c.Jc[+Y],y,H,$),y=H<A?0:5}if(y!=0)return Cn(c,y,"cannot parse partitions");for(y=we(H=c.m,7),D=ve(H)?te(H,4):0,A=ve(H)?te(H,4):0,$=ve(H)?te(H,4):0,Y=ve(H)?te(H,4):0,H=ve(H)?te(H,4):0,se=c.Qa,ge=0;4>ge;++ge){if(se.Cb){var X=se.Zb[ge];se.Fb||(X+=y)}else{if(0<ge){c.pb[ge]=c.pb[0];continue}X=y}var oe=c.pb[ge];oe.Sc[0]=Gm[Dt(X+D,127)],oe.Sc[1]=Km[Dt(X+0,127)],oe.Eb[0]=2*Gm[Dt(X+A,127)],oe.Eb[1]=101581*Km[Dt(X+$,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=Gm[Dt(X+Y,117)],oe.Qc[1]=Km[Dt(X+H,127)],oe.lc=X+H}if(!z.Rb)return Cn(c,4,"Not a key frame.");for(ve(U),z=c.Pa,y=0;4>y;++y){for(D=0;8>D;++D)for(A=0;3>A;++A)for($=0;11>$;++$)Y=ye(U,lS[y][D][A][$])?we(U,8):aS[y][D][A][$],z.Wc[y][D].Yb[A][$]=Y;for(D=0;17>D;++D)z.Xc[y][D]=z.Wc[y][uS[D]]}return c.kc=ve(U),c.kc&&(c.Bd=we(U,8)),c.cb=1}function fs(c,f,y,A,D,U,z){var $=f[D].Yb[y];for(y=0;16>D;++D){if(!ye(c,$[y+0]))return D;for(;!ye(c,$[y+1]);)if($=f[++D].Yb[0],y=0,D==16)return 16;var H=f[D+1].Yb;if(ye(c,$[y+2])){var Y=c,se=0;if(ye(Y,(X=$)[(ge=y)+3]))if(ye(Y,X[ge+6])){for($=0,ge=2*(se=ye(Y,X[ge+8]))+(X=ye(Y,X[ge+9+se])),se=0,X=iS[ge];X[$];++$)se+=se+ye(Y,X[$]);se+=3+(8<<ge)}else ye(Y,X[ge+7])?(se=7+2*ye(Y,165),se+=ye(Y,145)):se=5+ye(Y,159);else se=ye(Y,X[ge+4])?3+ye(Y,X[ge+5]):2;$=H[2]}else se=1,$=H[1];H=z+sS[D],0>(Y=c).b&&me(Y);var ge,X=Y.b,oe=(ge=Y.Ca>>1)-(Y.I>>X)>>31;--Y.b,Y.Ca+=oe,Y.Ca|=1,Y.I-=(ge+1&oe)<<X,U[H]=((se^oe)-oe)*A[(0<D)+0]}return 16}function qs(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function ci(c,f,y,A,D){D=c[f+y+32*A]+(D>>3),c[f+y+32*A]=-256&D?0>D?0:255:D}function ya(c,f,y,A,D,U){ci(c,f,0,y,A+D),ci(c,f,1,y,A+U),ci(c,f,2,y,A-U),ci(c,f,3,y,A-D)}function tn(c){return(20091*c>>16)+c}function ti(c,f,y,A){var D,U=0,z=s(16);for(D=0;4>D;++D){var $=c[f+0]+c[f+8],H=c[f+0]-c[f+8],Y=(35468*c[f+4]>>16)-tn(c[f+12]),se=tn(c[f+4])+(35468*c[f+12]>>16);z[U+0]=$+se,z[U+1]=H+Y,z[U+2]=H-Y,z[U+3]=$-se,U+=4,f++}for(D=U=0;4>D;++D)$=(c=z[U+0]+4)+z[U+8],H=c-z[U+8],Y=(35468*z[U+4]>>16)-tn(z[U+12]),ci(y,A,0,0,$+(se=tn(z[U+4])+(35468*z[U+12]>>16))),ci(y,A,1,0,H+Y),ci(y,A,2,0,H-Y),ci(y,A,3,0,$-se),U++,A+=32}function ro(c,f,y,A){var D=c[f+0]+4,U=35468*c[f+4]>>16,z=tn(c[f+4]),$=35468*c[f+1]>>16;ya(y,A,0,D+z,c=tn(c[f+1]),$),ya(y,A,1,D+U,c,$),ya(y,A,2,D-U,c,$),ya(y,A,3,D-z,c,$)}function io(c,f,y,A,D){ti(c,f,y,A),D&&ti(c,f+16,y,A+4)}function _u(c,f,y,A){jl(c,f+0,y,A,1),jl(c,f+32,y,A+128,1)}function Vt(c,f,y,A){var D;for(c=c[f+0]+4,D=0;4>D;++D)for(f=0;4>f;++f)ci(y,A,f,D,c)}function _a(c,f,y,A){c[f+0]&&Zt(c,f+0,y,A),c[f+16]&&Zt(c,f+16,y,A+4),c[f+32]&&Zt(c,f+32,y,A+128),c[f+48]&&Zt(c,f+48,y,A+128+4)}function $s(c,f,y,A){var D,U=s(16);for(D=0;4>D;++D){var z=c[f+0+D]+c[f+12+D],$=c[f+4+D]+c[f+8+D],H=c[f+4+D]-c[f+8+D],Y=c[f+0+D]-c[f+12+D];U[0+D]=z+$,U[8+D]=z-$,U[4+D]=Y+H,U[12+D]=Y-H}for(D=0;4>D;++D)z=(c=U[0+4*D]+3)+U[3+4*D],$=U[1+4*D]+U[2+4*D],H=U[1+4*D]-U[2+4*D],Y=c-U[3+4*D],y[A+0]=z+$>>3,y[A+16]=Y+H>>3,y[A+32]=z-$>>3,y[A+48]=Y-H>>3,A+=64}function hi(c,f,y){var A,D=f-32,U=ji,z=255-c[D-1];for(A=0;A<y;++A){var $,H=U,Y=z+c[f-1];for($=0;$<y;++$)c[f+$]=H[Y+c[D+$]];f+=32}}function El(c,f){hi(c,f,4)}function wu(c,f){hi(c,f,8)}function Mc(c,f){hi(c,f,16)}function Fc(c,f){var y;for(y=0;16>y;++y)r(c,f+32*y,c,f-32,16)}function Sl(c,f){var y;for(y=16;0<y;--y)i(c,f,c[f-1],16),f+=32}function wa(c,f,y){var A;for(A=0;16>A;++A)i(f,y+32*A,c,16)}function di(c,f){var y,A=16;for(y=0;16>y;++y)A+=c[f-1+32*y]+c[f+y-32];wa(A>>5,c,f)}function Yi(c,f){var y,A=8;for(y=0;16>y;++y)A+=c[f-1+32*y];wa(A>>4,c,f)}function Ws(c,f){var y,A=8;for(y=0;16>y;++y)A+=c[f+y-32];wa(A>>4,c,f)}function so(c,f){wa(128,c,f)}function _t(c,f,y){return c+2*f+y+2>>2}function Hs(c,f){var y,A=f-32;for(A=new Uint8Array([_t(c[A-1],c[A+0],c[A+1]),_t(c[A+0],c[A+1],c[A+2]),_t(c[A+1],c[A+2],c[A+3]),_t(c[A+2],c[A+3],c[A+4])]),y=0;4>y;++y)r(c,f+32*y,A,0,A.length)}function Vc(c,f){var y=c[f-1],A=c[f-1+32],D=c[f-1+64],U=c[f-1+96];Pe(c,f+0,16843009*_t(c[f-1-32],y,A)),Pe(c,f+32,16843009*_t(y,A,D)),Pe(c,f+64,16843009*_t(A,D,U)),Pe(c,f+96,16843009*_t(D,U,U))}function Uc(c,f){var y,A=4;for(y=0;4>y;++y)A+=c[f+y-32]+c[f-1+32*y];for(A>>=3,y=0;4>y;++y)i(c,f+32*y,A,4)}function Bc(c,f){var y=c[f-1+0],A=c[f-1+32],D=c[f-1+64],U=c[f-1-32],z=c[f+0-32],$=c[f+1-32],H=c[f+2-32],Y=c[f+3-32];c[f+0+96]=_t(A,D,c[f-1+96]),c[f+1+96]=c[f+0+64]=_t(y,A,D),c[f+2+96]=c[f+1+64]=c[f+0+32]=_t(U,y,A),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=_t(z,U,y),c[f+3+64]=c[f+2+32]=c[f+1+0]=_t($,z,U),c[f+3+32]=c[f+2+0]=_t(H,$,z),c[f+3+0]=_t(Y,H,$)}function yr(c,f){var y=c[f+1-32],A=c[f+2-32],D=c[f+3-32],U=c[f+4-32],z=c[f+5-32],$=c[f+6-32],H=c[f+7-32];c[f+0+0]=_t(c[f+0-32],y,A),c[f+1+0]=c[f+0+32]=_t(y,A,D),c[f+2+0]=c[f+1+32]=c[f+0+64]=_t(A,D,U),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=_t(D,U,z),c[f+3+32]=c[f+2+64]=c[f+1+96]=_t(U,z,$),c[f+3+64]=c[f+2+96]=_t(z,$,H),c[f+3+96]=_t($,H,H)}function ps(c,f){var y=c[f-1+0],A=c[f-1+32],D=c[f-1+64],U=c[f-1-32],z=c[f+0-32],$=c[f+1-32],H=c[f+2-32],Y=c[f+3-32];c[f+0+0]=c[f+1+64]=U+z+1>>1,c[f+1+0]=c[f+2+64]=z+$+1>>1,c[f+2+0]=c[f+3+64]=$+H+1>>1,c[f+3+0]=H+Y+1>>1,c[f+0+96]=_t(D,A,y),c[f+0+64]=_t(A,y,U),c[f+0+32]=c[f+1+96]=_t(y,U,z),c[f+1+32]=c[f+2+96]=_t(U,z,$),c[f+2+32]=c[f+3+96]=_t(z,$,H),c[f+3+32]=_t($,H,Y)}function zc(c,f){var y=c[f+0-32],A=c[f+1-32],D=c[f+2-32],U=c[f+3-32],z=c[f+4-32],$=c[f+5-32],H=c[f+6-32],Y=c[f+7-32];c[f+0+0]=y+A+1>>1,c[f+1+0]=c[f+0+64]=A+D+1>>1,c[f+2+0]=c[f+1+64]=D+U+1>>1,c[f+3+0]=c[f+2+64]=U+z+1>>1,c[f+0+32]=_t(y,A,D),c[f+1+32]=c[f+0+96]=_t(A,D,U),c[f+2+32]=c[f+1+96]=_t(D,U,z),c[f+3+32]=c[f+2+96]=_t(U,z,$),c[f+3+64]=_t(z,$,H),c[f+3+96]=_t($,H,Y)}function ao(c,f){var y=c[f-1+0],A=c[f-1+32],D=c[f-1+64],U=c[f-1+96];c[f+0+0]=y+A+1>>1,c[f+2+0]=c[f+0+32]=A+D+1>>1,c[f+2+32]=c[f+0+64]=D+U+1>>1,c[f+1+0]=_t(y,A,D),c[f+3+0]=c[f+1+32]=_t(A,D,U),c[f+3+32]=c[f+1+64]=_t(D,U,U),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=U}function ms(c,f){var y=c[f-1+0],A=c[f-1+32],D=c[f-1+64],U=c[f-1+96],z=c[f-1-32],$=c[f+0-32],H=c[f+1-32],Y=c[f+2-32];c[f+0+0]=c[f+2+32]=y+z+1>>1,c[f+0+32]=c[f+2+64]=A+y+1>>1,c[f+0+64]=c[f+2+96]=D+A+1>>1,c[f+0+96]=U+D+1>>1,c[f+3+0]=_t($,H,Y),c[f+2+0]=_t(z,$,H),c[f+1+0]=c[f+3+32]=_t(y,z,$),c[f+1+32]=c[f+3+64]=_t(A,y,z),c[f+1+64]=c[f+3+96]=_t(D,A,y),c[f+1+96]=_t(U,D,A)}function oo(c,f){var y;for(y=0;8>y;++y)r(c,f+32*y,c,f-32,8)}function Ti(c,f){var y;for(y=0;8>y;++y)i(c,f,c[f-1],8),f+=32}function Xi(c,f,y){var A;for(A=0;8>A;++A)i(f,y+32*A,c,8)}function ba(c,f){var y,A=8;for(y=0;8>y;++y)A+=c[f+y-32]+c[f-1+32*y];Xi(A>>4,c,f)}function Nl(c,f){var y,A=4;for(y=0;8>y;++y)A+=c[f+y-32];Xi(A>>3,c,f)}function cn(c,f){var y,A=4;for(y=0;8>y;++y)A+=c[f-1+32*y];Xi(A>>3,c,f)}function Il(c,f){Xi(128,c,f)}function Aa(c,f,y){var A=c[f-y],D=c[f+0],U=3*(D-A)+zm[1020+c[f-2*y]-c[f+y]],z=zd[112+(U+4>>3)];c[f-y]=ji[255+A+zd[112+(U+3>>3)]],c[f+0]=ji[255+D-z]}function Gs(c,f,y,A){var D=c[f+0],U=c[f+y];return ts[255+c[f-2*y]-c[f-y]]>A||ts[255+U-D]>A}function lo(c,f,y,A){return 4*ts[255+c[f-y]-c[f+0]]+ts[255+c[f-2*y]-c[f+y]]<=A}function xa(c,f,y,A,D){var U=c[f-3*y],z=c[f-2*y],$=c[f-y],H=c[f+0],Y=c[f+y],se=c[f+2*y],ge=c[f+3*y];return 4*ts[255+$-H]+ts[255+z-Y]>A?0:ts[255+c[f-4*y]-U]<=D&&ts[255+U-z]<=D&&ts[255+z-$]<=D&&ts[255+ge-se]<=D&&ts[255+se-Y]<=D&&ts[255+Y-H]<=D}function Ks(c,f,y,A){var D=2*A+1;for(A=0;16>A;++A)lo(c,f+A,y,D)&&Aa(c,f+A,y)}function Qs(c,f,y,A){var D=2*A+1;for(A=0;16>A;++A)lo(c,f+A*y,1,D)&&Aa(c,f+A*y,1)}function fi(c,f,y,A){var D;for(D=3;0<D;--D)Ks(c,f+=4*y,y,A)}function kl(c,f,y,A){var D;for(D=3;0<D;--D)Qs(c,f+=4,y,A)}function gs(c,f,y,A,D,U,z,$){for(U=2*U+1;0<D--;){if(xa(c,f,y,U,z))if(Gs(c,f,y,$))Aa(c,f,y);else{var H=c,Y=f,se=y,ge=H[Y-2*se],X=H[Y-se],oe=H[Y+0],he=H[Y+se],Ne=H[Y+2*se],pe=27*(Te=zm[1020+3*(oe-X)+zm[1020+ge-he]])+63>>7,ke=18*Te+63>>7,Te=9*Te+63>>7;H[Y-3*se]=ji[255+H[Y-3*se]+Te],H[Y-2*se]=ji[255+ge+ke],H[Y-se]=ji[255+X+pe],H[Y+0]=ji[255+oe-pe],H[Y+se]=ji[255+he-ke],H[Y+2*se]=ji[255+Ne-Te]}f+=A}}function ni(c,f,y,A,D,U,z,$){for(U=2*U+1;0<D--;){if(xa(c,f,y,U,z))if(Gs(c,f,y,$))Aa(c,f,y);else{var H=c,Y=f,se=y,ge=H[Y-se],X=H[Y+0],oe=H[Y+se],he=zd[112+(4+(Ne=3*(X-ge))>>3)],Ne=zd[112+(Ne+3>>3)],pe=he+1>>1;H[Y-2*se]=ji[255+H[Y-2*se]+pe],H[Y-se]=ji[255+ge+Ne],H[Y+0]=ji[255+X-he],H[Y+se]=ji[255+oe-pe]}f+=A}}function Tl(c,f,y,A,D,U){gs(c,f,y,1,16,A,D,U)}function uo(c,f,y,A,D,U){gs(c,f,1,y,16,A,D,U)}function Zi(c,f,y,A,D,U){var z;for(z=3;0<z;--z)ni(c,f+=4*y,y,1,16,A,D,U)}function Pl(c,f,y,A,D,U){var z;for(z=3;0<z;--z)ni(c,f+=4,1,y,16,A,D,U)}function g(c,f,y,A,D,U,z,$){gs(c,f,D,1,8,U,z,$),gs(y,A,D,1,8,U,z,$)}function j(c,f,y,A,D,U,z,$){gs(c,f,1,D,8,U,z,$),gs(y,A,1,D,8,U,z,$)}function J(c,f,y,A,D,U,z,$){ni(c,f+4*D,D,1,8,U,z,$),ni(y,A+4*D,D,1,8,U,z,$)}function ie(c,f,y,A,D,U,z,$){ni(c,f+4,1,D,8,U,z,$),ni(y,A+4,1,D,8,U,z,$)}function ue(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new C}function et(){this.xb=this.a=0,this.l=new zs,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=a(4,Le),this.Oc=0}function gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bt(c,f,y,A,D,U,z){for(c=c==null?0:c[f+0],f=0;f<z;++f)D[U+f]=c+y[A+f]&255,c=D[U+f]}function $t(c,f,y,A,D,U,z){var $;if(c==null)bt(null,null,y,A,D,U,z);else for($=0;$<z;++$)D[U+$]=c[f+$]+y[A+$]&255}function Xt(c,f,y,A,D,U,z){if(c==null)bt(null,null,y,A,D,U,z);else{var $,H=c[f+0],Y=H,se=H;for($=0;$<z;++$)Y=se+(H=c[f+$])-Y,se=y[A+$]+(-256&Y?0>Y?0:255:Y)&255,Y=H,D[U+$]=se}}function Ln(c,f,y,A){var D=f.width,U=f.o;if(e(c!=null&&f!=null),0>y||0>=A||y+A>U)return null;if(!c.Cc){if(c.ga==null){var z;if(c.ga=new gt,(z=c.ga==null)||(z=f.width*f.o,e(c.Gb.length==0),c.Gb=s(z),c.Uc=0,c.Gb==null?z=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,z=1),z=!z),!z){z=c.ga;var $=c.Fa,H=c.P,Y=c.qc,se=c.mb,ge=c.nb,X=H+1,oe=Y-1,he=z.l;if(e($!=null&&se!=null&&f!=null),_o[0]=null,_o[1]=bt,_o[2]=$t,_o[3]=Xt,z.ca=se,z.tb=ge,z.c=f.width,z.i=f.height,e(0<z.c&&0<z.i),1>=Y)f=0;else if(z.$a=3&$[H+0],z.Z=$[H+0]>>2&3,z.Lc=$[H+0]>>4&3,H=$[H+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||H)f=0;else if(he.put=dt,he.ac=Or,he.bc=wn,he.ma=z,he.width=f.width,he.height=f.height,he.Da=f.Da,he.v=f.v,he.va=f.va,he.j=f.j,he.o=f.o,z.$a)e:{e(z.$a==1),f=Vs();t:for(;;){if(f==null){f=0;break e}if(e(z!=null),z.mc=f,f.c=z.c,f.i=z.i,f.l=z.l,f.l.ma=z,f.l.width=z.c,f.l.height=z.i,f.a=0,Q(f.m,$,X,oe),!Ii(z.c,z.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Mr(f.s)?(z.ic=1,$=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s($),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(z.ic=0,f=ds(f,z.c)),!f))break t;f=1;break e}z.mc=null,f=0}else f=oe>=z.c*z.i;z=!f}if(z)return null;c.ga.Lc!=1?c.Ga=0:A=U-y}e(c.ga!=null),e(y+A<=U);e:{if(f=($=c.ga).c,U=$.l.o,$.$a==0){if(X=c.rc,oe=c.Vc,he=c.Fa,H=c.P+1+y*f,Y=c.mb,se=c.nb+y*f,e(H<=c.P+c.qc),$.Z!=0)for(e(_o[$.Z]!=null),z=0;z<A;++z)_o[$.Z](X,oe,he,H,Y,se,f),X=Y,oe=se,se+=f,H+=f;else for(z=0;z<A;++z)r(Y,se,he,H,f),X=Y,oe=se,se+=f,H+=f;c.rc=X,c.Vc=oe}else{if(e($.mc!=null),f=y+A,e((z=$.mc)!=null),e(f<=z.i),z.C>=f)f=1;else if($.ic||mn(),$.ic){$=z.V,X=z.Ba,oe=z.c;var Ne=z.i,pe=(he=1,H=z.$/oe,Y=z.$%oe,se=z.m,ge=z.s,z.$),ke=oe*Ne,Te=oe*f,Oe=ge.wc,Re=pe<Te?kn(ge,Y,H):null;e(pe<=ke),e(f<=Ne),e(Mr(ge));t:for(;;){for(;!se.h&&pe<Te;){if(Y&Oe||(Re=kn(ge,Y,H)),e(Re!=null),ae(se),256>(Ne=In(Re.G[0],Re.H[0],se)))$[X+pe]=Ne,++pe,++Y>=oe&&(Y=0,++H<=f&&!(H%16)&&ei(z,H));else{if(!(280>Ne)){he=0;break t}Ne=mr(Ne-256,se);var ot,Je=In(Re.G[4],Re.H[4],se);if(ae(se),!(pe>=(Je=gr(oe,Je=mr(Je,se)))&&ke-pe>=Ne)){he=0;break t}for(ot=0;ot<Ne;++ot)$[X+pe+ot]=$[X+pe+ot-Je];for(pe+=Ne,Y+=Ne;Y>=oe;)Y-=oe,++H<=f&&!(H%16)&&ei(z,H);pe<Te&&Y&Oe&&(Re=kn(ge,Y,H))}e(se.h==K(se))}ei(z,H>f?f:H);break t}!he||se.h&&pe<ke?(he=0,z.a=se.h?5:3):z.$=pe,f=he}else f=Fr(z,z.V,z.Ba,z.c,z.i,f,Us);if(!f){A=0;break e}}y+A>=U&&(c.Cc=1),A=1}if(!A)return null;if(c.Cc&&((A=c.ga)!=null&&(A.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*D}function nn(c,f,y,A,D,U){for(;0<D--;){var z,$=c,H=f+(y?1:0),Y=c,se=f+(y?0:3);for(z=0;z<A;++z){var ge=Y[se+4*z];ge!=255&&(ge*=32897,$[H+4*z+0]=$[H+4*z+0]*ge>>23,$[H+4*z+1]=$[H+4*z+1]*ge>>23,$[H+4*z+2]=$[H+4*z+2]*ge>>23)}f+=U}}function Vn(c,f,y,A,D){for(;0<A--;){var U;for(U=0;U<y;++U){var z=c[f+2*U+0],$=15&(Y=c[f+2*U+1]),H=4369*$,Y=(240&Y|Y>>4)*H>>16;c[f+2*U+0]=(240&z|z>>4)*H>>16&240|(15&z|z<<4)*H>>16>>4&15,c[f+2*U+1]=240&Y|$}f+=D}}function Rn(c,f,y,A,D,U,z,$){var H,Y,se=255;for(Y=0;Y<D;++Y){for(H=0;H<A;++H){var ge=c[f+H];U[z+4*H]=ge,se&=ge}f+=y,z+=$}return se!=255}function Un(c,f,y,A,D){var U;for(U=0;U<D;++U)y[A+U]=c[f+U]>>8}function mn(){Yc=nn,Hv=Vn,Gv=Rn,Kv=Un}function Er(c,f,y){N[c]=function(A,D,U,z,$,H,Y,se,ge,X,oe,he,Ne,pe,ke,Te,Oe){var Re,ot=Oe-1>>1,Je=$[H+0]|Y[se+0]<<16,Ct=ge[X+0]|oe[he+0]<<16;e(A!=null);var nt=3*Je+Ct+131074>>2;for(f(A[D+0],255&nt,nt>>16,Ne,pe),U!=null&&(nt=3*Ct+Je+131074>>2,f(U[z+0],255&nt,nt>>16,ke,Te)),Re=1;Re<=ot;++Re){var zt=$[H+Re]|Y[se+Re]<<16,cr=ge[X+Re]|oe[he+Re]<<16,Lt=Je+zt+Ct+cr+524296,rt=Lt+2*(zt+Ct)>>3;nt=rt+Je>>1,Je=(Lt=Lt+2*(Je+cr)>>3)+zt>>1,f(A[D+2*Re-1],255&nt,nt>>16,Ne,pe+(2*Re-1)*y),f(A[D+2*Re-0],255&Je,Je>>16,Ne,pe+(2*Re-0)*y),U!=null&&(nt=Lt+Ct>>1,Je=rt+cr>>1,f(U[z+2*Re-1],255&nt,nt>>16,ke,Te+(2*Re-1)*y),f(U[z+2*Re+0],255&Je,Je>>16,ke,Te+(2*Re+0)*y)),Je=zt,Ct=cr}1&Oe||(nt=3*Je+Ct+131074>>2,f(A[D+Oe-1],255&nt,nt>>16,Ne,pe+(Oe-1)*y),U!=null&&(nt=3*Ct+Je+131074>>2,f(U[z+Oe-1],255&nt,nt>>16,ke,Te+(Oe-1)*y)))}}function Cl(){ns[qd]=hS,ns[$d]=sy,ns[ey]=dS,ns[Wd]=ay,ns[Hd]=oy,ns[qm]=ly,ns[ty]=fS,ns[$m]=sy,ns[Wm]=ay,ns[Gd]=oy,ns[Hm]=ly}function Pi(c){return c&-16384?0>c?0:255:c>>pS}function h(c,f){return Pi((19077*c>>8)+(26149*f>>8)-14234)}function w(c,f,y){return Pi((19077*c>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function k(c,f){return Pi((19077*c>>8)+(33050*f>>8)-17685)}function W(c,f,y,A,D){A[D+0]=h(c,y),A[D+1]=w(c,f,y),A[D+2]=k(c,f)}function ce(c,f,y,A,D){A[D+0]=k(c,f),A[D+1]=w(c,f,y),A[D+2]=h(c,y)}function _e(c,f,y,A,D){var U=w(c,f,y);f=U<<3&224|k(c,f)>>3,A[D+0]=248&h(c,y)|U>>5,A[D+1]=f}function Ve(c,f,y,A,D){var U=240&k(c,f)|15;A[D+0]=240&h(c,y)|w(c,f,y)>>4,A[D+1]=U}function Bt(c,f,y,A,D){A[D+0]=255,W(c,f,y,A,D+1)}function jn(c,f,y,A,D){ce(c,f,y,A,D),A[D+3]=255}function Mt(c,f,y,A,D){W(c,f,y,A,D),A[D+3]=255}function Dt(c,f){return 0>c?0:c>f?f:c}function gn(c,f,y){N[c]=function(A,D,U,z,$,H,Y,se,ge){for(var X=se+(-2&ge)*y;se!=X;)f(A[D+0],U[z+0],$[H+0],Y,se),f(A[D+1],U[z+0],$[H+0],Y,se+y),D+=2,++z,++H,se+=2*y;1&ge&&f(A[D+0],U[z+0],$[H+0],Y,se)}}function Ci(c,f,y){return y==0?c==0?f==0?6:5:f==0?4:0:y}function Vr(c,f,y,A,D){switch(c>>>30){case 3:jl(f,y,A,D,0);break;case 2:es(f,y,A,D);break;case 1:Zt(f,y,A,D)}}function Sr(c,f){var y,A,D=f.M,U=f.Nb,z=c.oc,$=c.pc+40,H=c.oc,Y=c.pc+584,se=c.oc,ge=c.pc+600;for(y=0;16>y;++y)z[$+32*y-1]=129;for(y=0;8>y;++y)H[Y+32*y-1]=129,se[ge+32*y-1]=129;for(0<D?z[$-1-32]=H[Y-1-32]=se[ge-1-32]=129:(i(z,$-32-1,127,21),i(H,Y-32-1,127,9),i(se,ge-32-1,127,9)),A=0;A<c.za;++A){var X=f.ya[f.aa+A];if(0<A){for(y=-1;16>y;++y)r(z,$+32*y-4,z,$+32*y+12,4);for(y=-1;8>y;++y)r(H,Y+32*y-4,H,Y+32*y+4,4),r(se,ge+32*y-4,se,ge+32*y+4,4)}var oe=c.Gd,he=c.Hd+A,Ne=X.ad,pe=X.Hc;if(0<D&&(r(z,$-32,oe[he].y,0,16),r(H,Y-32,oe[he].f,0,8),r(se,ge-32,oe[he].ea,0,8)),X.Za){var ke=z,Te=$-32+16;for(0<D&&(A>=c.za-1?i(ke,Te,oe[he].y[15],4):r(ke,Te,oe[he+1].y,0,4)),y=0;4>y;y++)ke[Te+128+y]=ke[Te+256+y]=ke[Te+384+y]=ke[Te+0+y];for(y=0;16>y;++y,pe<<=2)ke=z,Te=$+cy[y],ys[X.Ob[y]](ke,Te),Vr(pe,Ne,16*+y,ke,Te)}else if(ke=Ci(A,D,X.Ob[0]),yo[ke](z,$),pe!=0)for(y=0;16>y;++y,pe<<=2)Vr(pe,Ne,16*+y,z,$+cy[y]);for(y=X.Gc,ke=Ci(A,D,X.Dd),Na[ke](H,Y),Na[ke](se,ge),pe=Ne,ke=H,Te=Y,255&(X=0|y)&&(170&X?Xs(pe,256,ke,Te):dn(pe,256,ke,Te)),X=se,pe=ge,255&(y>>=8)&&(170&y?Xs(Ne,320,X,pe):dn(Ne,320,X,pe)),D<c.Ub-1&&(r(oe[he].y,0,z,$+480,16),r(oe[he].f,0,H,Y+224,8),r(oe[he].ea,0,se,ge+224,8)),y=8*U*c.B,oe=c.sa,he=c.ta+16*A+16*U*c.R,Ne=c.qa,X=c.ra+8*A+y,pe=c.Ha,ke=c.Ia+8*A+y,y=0;16>y;++y)r(oe,he+y*c.R,z,$+32*y,16);for(y=0;8>y;++y)r(Ne,X+y*c.B,H,Y+32*y,8),r(pe,ke+y*c.B,se,ge+32*y,8)}}function vs(c,f,y,A,D,U,z,$,H){var Y=[0],se=[0],ge=0,X=H!=null?H.kd:0,oe=H??new Ie;if(c==null||12>y)return 7;oe.data=c,oe.w=f,oe.ha=y,f=[f],y=[y],oe.gb=[oe.gb];e:{var he=f,Ne=y,pe=oe.gb;if(e(c!=null),e(Ne!=null),e(pe!=null),pe[0]=0,12<=Ne[0]&&!n(c,he[0],"RIFF")){if(n(c,he[0]+8,"WEBP")){pe=3;break e}var ke=Ee(c,he[0]+4);if(12>ke||4294967286<ke){pe=3;break e}if(X&&ke>Ne[0]-8){pe=7;break e}pe[0]=ke,he[0]+=12,Ne[0]-=12}pe=0}if(pe!=0)return pe;for(ke=0<oe.gb[0],y=y[0];;){e:{var Te=c;Ne=f,pe=y;var Oe=Y,Re=se,ot=he=[0];if((nt=ge=[ge])[0]=0,8>pe[0])pe=7;else{if(!n(Te,Ne[0],"VP8X")){if(Ee(Te,Ne[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var Je=Ee(Te,Ne[0]+8),Ct=1+Ue(Te,Ne[0]+12);if(2147483648<=Ct*(Te=1+Ue(Te,Ne[0]+15))){pe=3;break e}ot!=null&&(ot[0]=Je),Oe!=null&&(Oe[0]=Ct),Re!=null&&(Re[0]=Te),Ne[0]+=18,pe[0]-=18,nt[0]=1}pe=0}}if(ge=ge[0],he=he[0],pe!=0)return pe;if(Ne=!!(2&he),!ke&&ge)return 3;if(U!=null&&(U[0]=!!(16&he)),z!=null&&(z[0]=Ne),$!=null&&($[0]=0),z=Y[0],he=se[0],ge&&Ne&&H==null){pe=0;break}if(4>y){pe=7;break}if(ke&&ge||!ke&&!ge&&!n(c,f[0],"ALPH")){y=[y],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Je=c,pe=f,ke=y;var nt=oe.gb;Oe=oe.na,Re=oe.P,ot=oe.Sa,Ct=22,e(Je!=null),e(ke!=null),Te=pe[0];var zt=ke[0];for(e(Oe!=null),e(ot!=null),Oe[0]=null,Re[0]=null,ot[0]=0;;){if(pe[0]=Te,ke[0]=zt,8>zt){pe=7;break e}var cr=Ee(Je,Te+4);if(4294967286<cr){pe=3;break e}var Lt=8+cr+1&-2;if(Ct+=Lt,0<nt&&Ct>nt){pe=3;break e}if(!n(Je,Te,"VP8 ")||!n(Je,Te,"VP8L")){pe=0;break e}if(zt[0]<Lt){pe=7;break e}n(Je,Te,"ALPH")||(Oe[0]=Je,Re[0]=Te+8,ot[0]=cr),Te+=Lt,zt-=Lt}}if(y=y[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],pe!=0)break}y=[y],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(nt=c,pe=f,ke=y,Oe=oe.gb[0],Re=oe.Ja,ot=oe.xa,Je=pe[0],Te=!n(nt,Je,"VP8 "),Ct=!n(nt,Je,"VP8L"),e(nt!=null),e(ke!=null),e(Re!=null),e(ot!=null),8>ke[0])pe=7;else{if(Te||Ct){if(nt=Ee(nt,Je+4),12<=Oe&&nt>Oe-12){pe=3;break e}if(X&&nt>ke[0]-8){pe=7;break e}Re[0]=nt,pe[0]+=8,ke[0]-=8,ot[0]=Ct}else ot[0]=5<=ke[0]&&nt[Je+0]==47&&!(nt[Je+4]>>5),Re[0]=ke[0];pe=0}if(y=y[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],f=f[0],pe!=0)break;if(4294967286<oe.Ja)return 3;if($==null||Ne||($[0]=oe.xa?2:1),z=[z],he=[he],oe.xa){if(5>y){pe=7;break}$=z,X=he,Ne=U,c==null||5>y?c=0:5<=y&&c[f+0]==47&&!(c[f+4]>>5)?(ke=[0],nt=[0],Oe=[0],Q(Re=new G,c,f,y),Ji(Re,ke,nt,Oe)?($!=null&&($[0]=ke[0]),X!=null&&(X[0]=nt[0]),Ne!=null&&(Ne[0]=Oe[0]),c=1):c=0):c=0}else{if(10>y){pe=7;break}$=he,c==null||10>y||!xl(c,f+3,y-3)?c=0:(X=c[f+0]|c[f+1]<<8|c[f+2]<<16,Ne=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=oe.Ja||!Ne||!c?c=0:(z&&(z[0]=Ne),$&&($[0]=c),c=1))}if(!c||(z=z[0],he=he[0],ge&&(Y[0]!=z||se[0]!=he)))return 3;H!=null&&(H[0]=oe,H.offset=f-H.w,e(4294967286>f-H.w),e(H.offset==H.ha-y));break}return pe==0||pe==7&&ge&&H==null?(U!=null&&(U[0]|=oe.na!=null&&0<oe.na.length),A!=null&&(A[0]=z),D!=null&&(D[0]=he),0):pe}function qc(c,f,y){var A=f.width,D=f.height,U=0,z=0,$=A,H=D;if(f.Da=c!=null&&0<c.Da,f.Da&&($=c.cd,H=c.bd,U=c.v,z=c.j,11>y||(U&=-2,z&=-2),0>U||0>z||0>=$||0>=H||U+$>A||z+H>D))return 0;if(f.v=U,f.j=z,f.va=U+$,f.o=z+H,f.U=$,f.T=H,f.da=c!=null&&0<c.da,f.da){if(!it($,H,y=[c.ib],U=[c.hb]))return 0;f.ib=y[0],f.hb=U[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*A/4&&f.hb<3*D/4,f.Kb=0),1}function $c(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function co(c,f,y,A){if(A==null||0>=c||0>=f)return 2;if(y!=null){if(y.Da){var D=y.cd,U=y.bd,z=-2&y.v,$=-2&y.j;if(0>z||0>$||0>=D||0>=U||z+D>c||$+U>f)return 2;c=D,f=U}if(y.da){if(!it(c,f,D=[y.ib],U=[y.hb]))return 2;c=D[0],f=U[0]}}A.width=c,A.height=f;e:{var H=A.width,Y=A.height;if(c=A.S,0>=H||0>=Y||!(c>=qd&&13>c))c=2;else{if(0>=A.Rd&&A.sd==null){z=U=D=f=0;var se=($=H*hy[c])*Y;if(11>c||(U=(Y+1)/2*(f=(H+1)/2),c==12&&(z=(D=H)*Y)),(Y=s(se+2*U+z))==null){c=1;break e}A.sd=Y,11>c?((H=A.f.RGBA).eb=Y,H.fb=0,H.A=$,H.size=se):((H=A.f.kb).y=Y,H.O=0,H.fa=$,H.Fd=se,H.f=Y,H.N=0+se,H.Ab=f,H.Cd=U,H.ea=Y,H.W=0+se+U,H.Db=f,H.Ed=U,c==12&&(H.F=Y,H.J=0+se+2*U),H.Tc=z,H.lb=D)}if(f=1,D=A.S,U=A.width,z=A.height,D>=qd&&13>D)if(11>D)c=A.f.RGBA,f&=($=Math.abs(c.A))*(z-1)+U<=c.size,f&=$>=U*hy[D],f&=c.eb!=null;else{c=A.f.kb,$=(U+1)/2,se=(z+1)/2,H=Math.abs(c.fa),Y=Math.abs(c.Ab);var ge=Math.abs(c.Db),X=Math.abs(c.lb),oe=X*(z-1)+U;f&=H*(z-1)+U<=c.Fd,f&=Y*(se-1)+$<=c.Cd,f=(f&=ge*(se-1)+$<=c.Ed)&H>=U&Y>=$&ge>=$,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,D==12&&(f&=X>=U,f&=oe<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||y!=null&&y.fd&&(c=$c(A)),c}var Ll=64,Li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ri=24,ho=32,Ea=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ae("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(c){return c},N.Predictor2=function(c,f,y){return f[y+0]},N.Predictor3=function(c,f,y){return f[y+1]},N.Predictor4=function(c,f,y){return f[y-1]},N.Predictor5=function(c,f,y){return ze(ze(c,f[y+1]),f[y+0])},N.Predictor6=function(c,f,y){return ze(c,f[y-1])},N.Predictor7=function(c,f,y){return ze(c,f[y+0])},N.Predictor8=function(c,f,y){return ze(f[y-1],f[y+0])},N.Predictor9=function(c,f,y){return ze(f[y+0],f[y+1])},N.Predictor10=function(c,f,y){return ze(ze(c,f[y-1]),ze(f[y+0],f[y+1]))},N.Predictor11=function(c,f,y){var A=f[y+0];return 0>=qe(A>>24&255,c>>24&255,(f=f[y-1])>>24&255)+qe(A>>16&255,c>>16&255,f>>16&255)+qe(A>>8&255,c>>8&255,f>>8&255)+qe(255&A,255&c,255&f)?A:c},N.Predictor12=function(c,f,y){var A=f[y+0];return(Pt((c>>24&255)+(A>>24&255)-((f=f[y-1])>>24&255))<<24|Pt((c>>16&255)+(A>>16&255)-(f>>16&255))<<16|Pt((c>>8&255)+(A>>8&255)-(f>>8&255))<<8|Pt((255&c)+(255&A)-(255&f)))>>>0},N.Predictor13=function(c,f,y){var A=f[y-1];return(at((c=ze(c,f[y+0]))>>24&255,A>>24&255)<<24|at(c>>16&255,A>>16&255)<<16|at(c>>8&255,A>>8&255)<<8|at(255&c,255&A))>>>0};var Wc=N.PredictorAdd0;N.PredictorAdd1=Se,Ae("Predictor2","PredictorAdd2"),Ae("Predictor3","PredictorAdd3"),Ae("Predictor4","PredictorAdd4"),Ae("Predictor5","PredictorAdd5"),Ae("Predictor6","PredictorAdd6"),Ae("Predictor7","PredictorAdd7"),Ae("Predictor8","PredictorAdd8"),Ae("Predictor9","PredictorAdd9"),Ae("Predictor10","PredictorAdd10"),Ae("Predictor11","PredictorAdd11"),Ae("Predictor12","PredictorAdd12"),Ae("Predictor13","PredictorAdd13");var bu=N.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Gn,Ud=N.ColorIndexInverseTransform,Js=N.MapARGB,Ys=N.VP8LColorIndexInverseTransformAlpha,Hc=N.MapAlpha,Gc=N.VP8LPredictorsAdd=[];Gc.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Kc,Qc,po,mo,go,Rl,vo,jl,es,Xs,Zt,dn,Kn,ur,Sa,Jc,Au,Bd,Uv,Bv,zv,qv,$v,Wv,Yc,Hv,Gv,Kv,Qv=s(511),Jv=s(2041),Yv=s(225),Xv=s(767),Zv=0,zm=Jv,zd=Yv,ji=Xv,ts=Qv,qd=0,$d=1,ey=2,Wd=3,Hd=4,qm=5,ty=6,$m=7,Wm=8,Gd=9,Hm=10,Y3=[2,3,7],X3=[3,3,11],ny=[280,256,256,256,40],Z3=[0,1,1,1,0],eS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rS=8,Gm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Km=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xc=null,iS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ry=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yo=[],ys=[],Na=[],cS=1,iy=2,_o=[],ns=[];Er("UpsampleRgbLinePair",W,3),Er("UpsampleBgrLinePair",ce,3),Er("UpsampleRgbaLinePair",Mt,4),Er("UpsampleBgraLinePair",jn,4),Er("UpsampleArgbLinePair",Bt,4),Er("UpsampleRgba4444LinePair",Ve,2),Er("UpsampleRgb565LinePair",_e,2);var hS=N.UpsampleRgbLinePair,dS=N.UpsampleBgrLinePair,sy=N.UpsampleRgbaLinePair,ay=N.UpsampleBgraLinePair,oy=N.UpsampleArgbLinePair,ly=N.UpsampleRgba4444LinePair,fS=N.UpsampleRgb565LinePair,Kd=16,Qd=1<<Kd-1,Zc=-227,Qm=482,pS=6,uy=0,mS=s(256),gS=s(256),vS=s(256),yS=s(256),_S=s(Qm-Zc),wS=s(Qm-Zc);gn("YuvToRgbRow",W,3),gn("YuvToBgrRow",ce,3),gn("YuvToRgbaRow",Mt,4),gn("YuvToBgraRow",jn,4),gn("YuvToArgbRow",Bt,4),gn("YuvToRgba4444Row",Ve,2),gn("YuvToRgb565Row",_e,2);var cy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jd=[0,2,8],bS=[8,7,6,4,4,2,2,2,1,1,1,1],AS=1;this.WebPDecodeRGBA=function(c,f,y,A,D){var U=$d,z=new ue,$=new Yt;z.ba=$,$.S=U,$.width=[$.width],$.height=[$.height];var H=$.width,Y=$.height,se=new yt;if(se==null||c==null)var ge=2;else e(se!=null),ge=vs(c,f,y,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ge!=0?H=0:(H!=null&&(H[0]=se.width[0]),Y!=null&&(Y[0]=se.height[0]),H=1),H){$.width=$.width[0],$.height=$.height[0],A!=null&&(A[0]=$.width),D!=null&&(D[0]=$.height);e:{if(A=new zs,(D=new Ie).data=c,D.w=f,D.ha=y,D.kd=1,f=[0],e(D!=null),((c=vs(D.data,D.w,D.ha,null,null,null,f,null,D))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(z!=null),A.data=D.data,A.w=D.w+D.offset,A.ha=D.ha-D.offset,A.put=dt,A.ac=Or,A.bc=wn,A.ma=z,D.xa){if((c=Vs())==null){z=1;break e}if(function(X,oe){var he=[0],Ne=[0],pe=[0];t:for(;;){if(X==null)return 0;if(oe==null)return X.a=2,0;if(X.l=oe,X.a=0,Q(X.m,oe.data,oe.w,oe.ha),!Ji(X.m,he,Ne,pe)){X.a=3;break t}if(X.xb=iy,oe.width=he[0],oe.height=Ne[0],!Ii(he[0],Ne[0],1,X,null))break t;return 1}return e(X.a!=0),0}(c,A)){if(A=(f=co(A.width,A.height,z.Oa,z.ba))==0){t:{A=c;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((y=A.l)!=null),e((D=y.ma)!=null),A.xb!=0){if(A.ca=D.ba,A.tb=D.tb,e(A.ca!=null),!qc(D.Oa,y,Wd)){A.a=2;break n}if(!ds(A,y.width)||y.da)break n;if((y.da||Et(A.ca.S))&&mn(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&mn()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Z(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Fr(A,A.V,A.Ba,A.c,A.i,y.o,Fs))break n;D.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(f=c.a)}else f=c.a}else{if((c=new Al)==null){z=1;break e}if(c.Fa=D.na,c.P=D.P,c.qc=D.Sa,yu(c,A)){if((f=co(A.width,A.height,z.Oa,z.ba))==0){if(c.Aa=0,y=z.Oa,e((D=c)!=null),y!=null){if(0<(H=0>(H=y.Md)?0:100<H?255:255*H/100)){for(Y=se=0;4>Y;++Y)12>(ge=D.pb[Y]).lc&&(ge.ia=H*bS[0>ge.lc?0:ge.lc]>>3),se|=ge.ia;se&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=y.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(X,oe){if(X==null)return 0;if(oe==null)return Cn(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!yu(X,oe))return 0;if(e(X.cb),oe.ac==null||oe.ac(oe)){oe.ob&&(X.L=0);var he=Jd[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=oe.v-he>>4,X.zb=oe.j-he>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=oe.o+15+he>>4,X.Hb=oe.va+15+he>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Ne=X.ed;for(he=0;4>he;++he){var pe;if(X.Qa.Cb){var ke=X.Qa.Lb[he];X.Qa.Fb||(ke+=Ne.Tb)}else ke=Ne.Tb;for(pe=0;1>=pe;++pe){var Te=X.gd[he][pe],Oe=ke;if(Ne.Pc&&(Oe+=Ne.vd[0],pe&&(Oe+=Ne.od[0])),0<(Oe=0>Oe?0:63<Oe?63:Oe)){var Re=Oe;0<Ne.wb&&(Re=4<Ne.wb?Re>>2:Re>>1)>9-Ne.wb&&(Re=9-Ne.wb),1>Re&&(Re=1),Te.dd=Re,Te.tc=2*Oe+Re,Te.ld=40<=Oe?2:15<=Oe?1:0}else Te.tc=0;Te.La=pe}}}he=0}else Cn(X,6,"Frame setup failed"),he=X.a;if(he=he==0){if(he){X.$c=0,0<X.Aa||(X.Ic=AS);t:{he=X.Ic,Ne=4*(Re=X.za);var ot=32*Re,Je=Re+1,Ct=0<X.L?Re*(0<X.Aa?2:1):0,nt=(X.Aa==2?2:1)*Re;if((Te=Ne+832+(pe=3*(16*he+Jd[X.L])/2*ot)+(ke=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Te)he=0;else{if(Te>X.Vb){if(X.Vb=0,X.Ec=s(Te),X.Fc=0,X.Ec==null){he=Cn(X,1,"no memory during frame initialization.");break t}X.Vb=Te}Te=X.Ec,Oe=X.Fc,X.Ac=Te,X.Bc=Oe,Oe+=Ne,X.Gd=a(ot,wl),X.Hd=0,X.rb=a(Je+1,ki),X.sb=1,X.wa=Ct?a(Ct,vr):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Re),e(!0),X.oc=Te,X.pc=Oe,Oe+=832,X.ya=a(nt,yl),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Re),X.R=16*Re,X.B=8*Re,Re=(ot=Jd[X.L])*X.R,ot=ot/2*X.B,X.sa=Te,X.ta=Oe+Re,X.qa=X.sa,X.ra=X.ta+16*he*X.R+ot,X.Ha=X.qa,X.Ia=X.ra+8*he*X.B+ot,X.$c=0,Oe+=pe,X.mb=ke?Te:null,X.nb=ke?Oe:null,e(Oe+ke<=X.Fc+X.Vb),qs(X),i(X.Ac,X.Bc,0,Ne),he=1}}if(he){if(oe.ka=0,oe.y=X.sa,oe.O=X.ta,oe.f=X.qa,oe.N=X.ra,oe.ea=X.Ha,oe.Vd=X.Ia,oe.fa=X.R,oe.Rc=X.B,oe.F=null,oe.J=0,!Zv){for(he=-255;255>=he;++he)Qv[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)Jv[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)Yv[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)Xv[255+he]=0>he?0:255<he?255:he;Zv=1}vo=$s,jl=io,Xs=_u,Zt=Vt,dn=_a,es=ro,Kn=Tl,ur=uo,Sa=g,Jc=j,Au=Zi,Bd=Pl,Uv=J,Bv=ie,zv=Ks,qv=Qs,$v=fi,Wv=kl,ys[0]=Uc,ys[1]=El,ys[2]=Hs,ys[3]=Vc,ys[4]=Bc,ys[5]=ps,ys[6]=yr,ys[7]=zc,ys[8]=ms,ys[9]=ao,yo[0]=di,yo[1]=Mc,yo[2]=Fc,yo[3]=Sl,yo[4]=Yi,yo[5]=Ws,yo[6]=so,Na[0]=ba,Na[1]=wu,Na[2]=oo,Na[3]=Ti,Na[4]=cn,Na[5]=Nl,Na[6]=Il,he=1}else he=0}he&&(he=function(zt,cr){for(zt.M=0;zt.M<zt.Va;++zt.M){var Lt,rt=zt.Jc[zt.M&zt.Xb],Be=zt.m,Qn=zt;for(Lt=0;Lt<Qn.za;++Lt){var Tt=Be,Wt=Qn,bn=Wt.Ac,Nr=Wt.Bc+4*Lt,ri=Wt.zc,Bn=Wt.ya[Wt.aa+Lt];if(Wt.Qa.Bb?Bn.$b=ye(Tt,Wt.Pa.jb[0])?2+ye(Tt,Wt.Pa.jb[2]):ye(Tt,Wt.Pa.jb[1]):Bn.$b=0,Wt.kc&&(Bn.Ad=ye(Tt,Wt.Bd)),Bn.Za=!ye(Tt,145)+0,Bn.Za){var Ur=Bn.Ob,ii=0;for(Wt=0;4>Wt;++Wt){var hr,Gt=ri[0+Wt];for(hr=0;4>hr;++hr){Gt=oS[bn[Nr+hr]][Gt];for(var rn=ry[ye(Tt,Gt[0])];0<rn;)rn=ry[2*rn+ye(Tt,Gt[rn])];Gt=-rn,bn[Nr+hr]=Gt}r(Ur,ii,bn,Nr,4),ii+=4,ri[0+Wt]=Gt}}else Gt=ye(Tt,156)?ye(Tt,128)?1:3:ye(Tt,163)?2:0,Bn.Ob[0]=Gt,i(bn,Nr,Gt,4),i(ri,0,Gt,4);Bn.Dd=ye(Tt,142)?ye(Tt,114)?ye(Tt,183)?1:3:2:0}if(Qn.m.Ka)return Cn(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(Qn=rt,Tt=(Be=zt).rb[Be.sb-1],bn=Be.rb[Be.sb+Be.ja],Lt=Be.ya[Be.aa+Be.ja],Nr=Be.kc?Lt.Ad:0)Tt.la=bn.la=0,Lt.Za||(Tt.Na=bn.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var zn,sn;if(Tt=bn,bn=Qn,Nr=Be.Pa.Xc,ri=Be.ya[Be.aa+Be.ja],Bn=Be.pb[ri.$b],Wt=ri.ad,Ur=0,ii=Be.rb[Be.sb-1],Gt=hr=0,i(Wt,Ur,0,384),ri.Za)var Ir=0,_s=Nr[3];else{rn=s(16);var Jn=Tt.Na+ii.Na;if(Jn=Xc(bn,Nr[1],Jn,Bn.Eb,0,rn,0),Tt.Na=ii.Na=(0<Jn)+0,1<Jn)vo(rn,0,Wt,Ur);else{var pi=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)Wt[Ur+rn]=pi}Ir=1,_s=Nr[0]}var fn=15&Tt.la,dr=15&ii.la;for(rn=0;4>rn;++rn){var Di=1&dr;for(pi=sn=0;4>pi;++pi)fn=fn>>1|(Di=(Jn=Xc(bn,_s,Jn=Di+(1&fn),Bn.Sc,Ir,Wt,Ur))>Ir)<<7,sn=sn<<2|(3<Jn?3:1<Jn?2:Wt[Ur+0]!=0),Ur+=16;fn>>=4,dr=dr>>1|Di<<7,hr=(hr<<8|sn)>>>0}for(_s=fn,Ir=dr>>4,zn=0;4>zn;zn+=2){for(sn=0,fn=Tt.la>>4+zn,dr=ii.la>>4+zn,rn=0;2>rn;++rn){for(Di=1&dr,pi=0;2>pi;++pi)Jn=Di+(1&fn),fn=fn>>1|(Di=0<(Jn=Xc(bn,Nr[2],Jn,Bn.Qc,0,Wt,Ur)))<<3,sn=sn<<2|(3<Jn?3:1<Jn?2:Wt[Ur+0]!=0),Ur+=16;fn>>=2,dr=dr>>1|Di<<5}Gt|=sn<<4*zn,_s|=fn<<4<<zn,Ir|=(240&dr)<<zn}Tt.la=_s,ii.la=Ir,ri.Hc=hr,ri.Gc=Gt,ri.ia=43690&Gt?0:Bn.ia,Nr=!(hr|Gt)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[Lt.$b][Lt.Za],Be.wa[Be.Y+Be.ja].La|=!Nr),Qn.Ka)return Cn(zt,7,"Premature end-of-file encountered.")}if(qs(zt),Be=cr,Qn=1,Lt=(rt=zt).D,Tt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Lt.M=rt.M,Lt.uc=Tt,Sr(rt,Lt),Qn=1,Lt=(sn=rt.D).Nb,Tt=(Gt=Jd[rt.L])*rt.R,bn=Gt/2*rt.B,rn=16*Lt*rt.R,pi=8*Lt*rt.B,Nr=rt.sa,ri=rt.ta-Tt+rn,Bn=rt.qa,Wt=rt.ra-bn+pi,Ur=rt.Ha,ii=rt.Ia-bn+pi,dr=(fn=sn.M)==0,hr=fn>=rt.Va-1,rt.Aa==2&&Sr(rt,sn),sn.uc)for(Di=(Jn=rt).D.M,e(Jn.D.uc),sn=Jn.yb;sn<Jn.Hb;++sn){Ir=sn,_s=Di;var si=(Oi=(kr=Jn).D).Nb;zn=kr.R;var Oi=Oi.wa[Oi.Y+Ir],Mi=kr.sa,mi=kr.ta+16*si*zn+16*Ir,Fi=Oi.dd,vn=Oi.tc;if(vn!=0)if(e(3<=vn),kr.L==1)0<Ir&&qv(Mi,mi,zn,vn+4),Oi.La&&Wv(Mi,mi,zn,vn),0<_s&&zv(Mi,mi,zn,vn+4),Oi.La&&$v(Mi,mi,zn,vn);else{var Vi=kr.B,ws=kr.qa,Dl=kr.ra+8*si*Vi+8*Ir,Ia=kr.Ha,kr=kr.Ia+8*si*Vi+8*Ir;si=Oi.ld,0<Ir&&(ur(Mi,mi,zn,vn+4,Fi,si),Jc(ws,Dl,Ia,kr,Vi,vn+4,Fi,si)),Oi.La&&(Bd(Mi,mi,zn,vn,Fi,si),Bv(ws,Dl,Ia,kr,Vi,vn,Fi,si)),0<_s&&(Kn(Mi,mi,zn,vn+4,Fi,si),Sa(ws,Dl,Ia,kr,Vi,vn+4,Fi,si)),Oi.La&&(Au(Mi,mi,zn,vn,Fi,si),Uv(ws,Dl,Ia,kr,Vi,vn,Fi,si))}}if(rt.ia&&alert("todo:DitherRow"),Be.put!=null){if(sn=16*fn,fn=16*(fn+1),dr?(Be.y=rt.sa,Be.O=rt.ta+rn,Be.f=rt.qa,Be.N=rt.ra+pi,Be.ea=rt.Ha,Be.W=rt.Ia+pi):(sn-=Gt,Be.y=Nr,Be.O=ri,Be.f=Bn,Be.N=Wt,Be.ea=Ur,Be.W=ii),hr||(fn-=Gt),fn>Be.o&&(fn=Be.o),Be.F=null,Be.J=null,rt.Fa!=null&&0<rt.Fa.length&&sn<fn&&(Be.J=Ln(rt,Be,sn,fn-sn),Be.F=rt.mb,Be.F==null&&Be.F.length==0)){Qn=Cn(rt,3,"Could not decode alpha data.");break t}sn<Be.j&&(Gt=Be.j-sn,sn=Be.j,e(!(1&Gt)),Be.O+=rt.R*Gt,Be.N+=rt.B*(Gt>>1),Be.W+=rt.B*(Gt>>1),Be.F!=null&&(Be.J+=Be.width*Gt)),sn<fn&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=sn-Be.j,Be.U=Be.va-Be.v,Be.T=fn-sn,Qn=Be.put(Be))}Lt+1!=rt.Ic||hr||(r(rt.sa,rt.ta-Tt,Nr,ri+16*rt.R,Tt),r(rt.qa,rt.ra-bn,Bn,Wt+8*rt.B,bn),r(rt.Ha,rt.Ia-bn,Ur,ii+8*rt.B,bn))}if(!Qn)return Cn(zt,6,"Output aborted.")}return 1}(X,oe)),oe.bc!=null&&oe.bc(oe),he&=1}return he?(X.cb=0,he):0})(c,A)||(f=c.a)}}else f=c.a}f==0&&z.Oa!=null&&z.Oa.fd&&(f=$c(z.ba))}z=f}U=z!=0?null:11>U?$.f.RGBA.eb:$.f.kb.y}else U=null;return U};var hy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,O){for(var x="",T=0;T<4;T++)x+=String.fromCharCode(N[O++]);return x}function d(N,O){return N[O+0]|N[O+1]<<8}function m(N,O){return(N[O+0]|N[O+1]<<8|N[O+2]<<16)>>>0}function _(N,O){return(N[O+0]|N[O+1]<<8|N[O+2]<<16|N[O+3]<<24)>>>0}new l;var p=[0],P=[0],S=[],L=new l,b=t,I=function(N,O){var x={},T=0,C=!1,ne=0,de=0;if(x.frames=[],!function(M,G){for(var q=0;q<4;q++)if(M[G+q]!="RIFF".charCodeAt(q))return!0;return!1}(N,O)){for(_(N,O+=4),O+=8;O<N.length;){var be=u(N,O),we=_(N,O+=4);O+=4;var te=we+(1&we);switch(be){case"VP8 ":case"VP8L":x.frames[T]===void 0&&(x.frames[T]={}),(xe=x.frames[T]).src_off=C?de:O-8,xe.src_size=ne+we+8,T++,C&&(C=!1,ne=0,de=0);break;case"VP8X":(xe=x.header={}).feature_flags=N[O];var Q=O+4;xe.canvas_width=1+m(N,Q),Q+=3,xe.canvas_height=1+m(N,Q),Q+=3;break;case"ALPH":C=!0,ne=te+8,de=O-8;break;case"ANIM":(xe=x.header).bgcolor=_(N,O),Q=O+4,xe.loop_count=d(N,Q),Q+=2;break;case"ANMF":var fe,xe;(xe=x.frames[T]={}).offset_x=2*m(N,O),O+=3,xe.offset_y=2*m(N,O),O+=3,xe.width=1+m(N,O),O+=3,xe.height=1+m(N,O),O+=3,xe.duration=m(N,O),O+=3,fe=N[O++],xe.dispose=1&fe,xe.blend=fe>>1&1}be!="ANMF"&&(O+=te)}return x}}(b,0);I.response=b,I.rgbaoutput=!0,I.dataurl=!1;var R=I.header?I.header:null,B=I.frames?I.frames:null;if(R){R.loop_counter=R.loop_count,p=[R.canvas_height],P=[R.canvas_width];for(var ee=0;ee<B.length&&B[ee].blend!=0;ee++);}var F=B[0],V=L.WebPDecodeRGBA(b,F.src_off,F.src_size,P,p);F.rgba=V,F.imgwidth=P[0],F.imgheight=p[0];for(var E=0;E<P[0]*p[0]*4;E++)S[E]=V[E];return this.width=P,this.height=p,this.data=S,this}(function(t){var e,n,r,i,s,a,o,l,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ee){q=!!Ee}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Ee){K=!!Ee}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Ee){isNaN(Ee)||(re=Ee)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Ee){isNaN(Ee)||(ae=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ee){var Z;typeof Ee=="number"?Z=[Ee,Ee,Ee,Ee]:((Z=new Array(4))[0]=Ee[0],Z[1]=Ee.length>=2?Ee[1]:Z[0],Z[2]=Ee.length>=3?Ee[2]:Z[0],Z[3]=Ee.length>=4?Ee[3]:Z[1]),u.margin=Z}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Ee){me=Ee}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Ee){ve=Ee}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Ee){ye=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ee){Ee instanceof d&&(u=Ee)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ee){u.path=Ee}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Ee){Pe=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var Z;Z=_(Ee),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var Z=_(Ee);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Fe=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(Ee){Fe=null,Ue=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var Z;if(this.ctx.font=Ee,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var xt=Z[1];Z[2];var pt=Z[3],it=Z[4];Z[5];var je=Z[6],Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ke==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Ae=function(ut){var Ze,vt,mt=[],$e=ut.trim();if($e==="")return l1;if($e in nb)return[nb[$e]];for(;$e!=="";){switch(vt=null,Ze=($e=ib($e)).charAt(0)){case'"':case"'":vt=eO($e.substring(1),Ze);break;default:vt=tO($e)}if(vt===null||(mt.push(vt[0]),($e=ib(vt[1]))!==""&&$e.charAt(0)!==","))return l1;$e=$e.replace(/^,/,"")}return mt}(je);if(this.fontFaces){var st=function(ut,Ze){if(Fe===null){var vt=function(mt){var $e=[];return Object.keys(mt).forEach(function(ct){mt[ct].forEach(function(Qt){var ft=null;switch(Qt){case"bold":ft={family:ct,weight:"bold"};break;case"italic":ft={family:ct,style:"italic"};break;case"bolditalic":ft={family:ct,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:ct}}ft!==null&&(ft.ref={name:ct,style:Qt},$e.push(ft))})}),$e}(ut.getFontList());Fe=function(mt){for(var $e={},ct=0;ct<mt.length;++ct){var Qt=o1(mt[ct]),ft=Qt.family,jt=Qt.stretch,Et=Qt.style,Nn=Qt.weight;$e[ft]=$e[ft]||{},$e[ft][jt]=$e[ft][jt]||{},$e[ft][jt][Et]=$e[ft][jt][Et]||{},$e[ft][jt][Et][Nn]=Qt}return $e}(vt.concat(Ze))}return Fe}(this.pdf,this.fontFaces),ze=Ae.map(function(ut){return{family:ut,stretch:"normal",weight:pt,style:xt}}),Pt=function(ut,Ze,vt){for(var mt=(vt=vt||{}).defaultFontFamily||"times",$e=Object.assign({},ZD,vt.genericFontFamilies||{}),ct=null,Qt=null,ft=0;ft<Ze.length;++ft)if($e[(ct=o1(Ze[ft])).family]&&(ct.family=$e[ct.family]),ut.hasOwnProperty(ct.family)){Qt=ut[ct.family];break}if(!(Qt=Qt||ut[mt]))throw new Error("Could not find a font-family for the rule '"+rb(ct)+"' and default family '"+mt+"'.");if(Qt=function(jt,Et){if(Et[jt])return Et[jt];var Nn=B0[jt],_n=Nn<=B0.normal?-1:1,Yt=tb(Et,H3,Nn,_n);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+jt);return Yt}(ct.stretch,Qt),Qt=function(jt,Et){if(Et[jt])return Et[jt];for(var Nn=W3[jt],_n=0;_n<Nn.length;++_n)if(Et[Nn[_n]])return Et[Nn[_n]];throw new Error("Could not find a matching font-style for "+jt)}(ct.style,Qt),!(Qt=function(jt,Et){if(Et[jt])return Et[jt];if(jt===400&&Et[500])return Et[500];if(jt===500&&Et[400])return Et[400];var Nn=XD[jt],_n=tb(Et,G3,Nn,jt<400?-1:1);if(!_n)throw new Error("Could not find a matching font-weight for value "+jt);return _n}(ct.weight,Qt)))throw new Error("Failed to resolve a font for the rule '"+rb(ct)+"'.");return Qt}(st,ze);this.pdf.setFont(Pt.ref.name,Pt.ref.style)}else{var at="";(pt==="bold"||parseInt(pt,10)>=700||xt==="bold")&&(at="bold"),xt==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var qe="",Se={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<Ae.length;Ye++){if(this.pdf.internal.getFont(Ae[Ye],at,{noFallback:!0,disableWarning:!0})!==void 0){qe=Ae[Ye];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ae[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=Ae[Ye],at="bold";else if(this.pdf.internal.getFont(Ae[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=Ae[Ye],at="normal";break}}if(qe===""){for(var We=0;We<Ae.length;We++)if(Se[Ae[We]]){qe=Se[Ae[We]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){B.call(this,"fill",!1)},m.prototype.stroke=function(){B.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(M,G)},m.prototype.closePath=function(){var M=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&on(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},m.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,G,q,K){if(isNaN(q)||isNaN(K)||isNaN(M)||isNaN(G))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new a(q,K)),ae=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},m.prototype.bezierCurveTo=function(M,G,q,K,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(M)||isNaN(G)||isNaN(q)||isNaN(K))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(re,ae)),ve=this.ctx.transform.applyToPoint(new a(M,G)),ye=this.ctx.transform.applyToPoint(new a(q,K));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:ye.x,y2:ye.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},m.prototype.arc=function(M,G,q,K,re,ae){if(isNaN(M)||isNaN(G)||isNaN(q)||isNaN(K)||isNaN(re))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(M,G));M=me.x,G=me.y;var ve=this.ctx.transform.applyToPoint(new a(0,q)),ye=this.ctx.transform.applyToPoint(new a(0,0));q=Math.sqrt(Math.pow(ve.x-ye.x,2)+Math.pow(ve.y-ye.y,2))}Math.abs(re-K)>=2*Math.PI&&(K=0,re=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:q,startAngle:K,endAngle:re,counterclockwise:ae})},m.prototype.arcTo=function(M,G,q,K,re){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,G,q,K){if(isNaN(M)||isNaN(G)||isNaN(q)||isNaN(K))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+q,G),this.lineTo(M+q,G+K),this.lineTo(M,G+K),this.lineTo(M,G),this.lineTo(M+q,G),this.lineTo(M,G)},m.prototype.fillRect=function(M,G,q,K){if(isNaN(M)||isNaN(G)||isNaN(q)||isNaN(K))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,q,K),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},m.prototype.strokeRect=function(M,G,q,K){if(isNaN(M)||isNaN(G)||isNaN(q)||isNaN(K))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(M,G,q,K),this.stroke())},m.prototype.clearRect=function(M,G,q,K){if(isNaN(M)||isNaN(G)||isNaN(q)||isNaN(K))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,q,K))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(M){var G,q,K,re;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,q=0,K=0,re=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ae!==null)G=parseInt(ae[1]),q=parseInt(ae[2]),K=parseInt(ae[3]),re=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(ae[1]),q=parseInt(ae[2]),K=parseInt(ae[3]),re=parseFloat(ae[4]);else{if(re=1,typeof M=="string"&&M.charAt(0)!=="#"){var me=new F3(M);M=me.ok?me.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,q=M.substring(2,3),q+=q,K=M.substring(3,4),K+=K):(G=M.substring(1,3),q=M.substring(3,5),K=M.substring(5,7)),G=parseInt(G,16),q=parseInt(q,16),K=parseInt(K,16)}}return{r:G,g:q,b:K,a:re,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,G,q,K){if(isNaN(G)||isNaN(q)||typeof M!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var re=te(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:M,x:G,y:q,scale:ae,angle:re,align:this.textAlign,maxWidth:K})}},m.prototype.strokeText=function(M,G,q,K){if(isNaN(G)||isNaN(q)||typeof M!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){K=isNaN(K)?void 0:K;var re=te(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:M,x:G,y:q,scale:ae,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:K})}},m.prototype.measureText=function(M){if(typeof M!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,q=this.pdf.internal.scaleFactor,K=G.internal.getFontSize(),re=G.getStringUnitWidth(M)*K/G.internal.scaleFactor;return new function(ae){var me=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:re*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(M){if(isNaN(M))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(M,G,q,K,re,ae){if(isNaN(M)||isNaN(G)||isNaN(q)||isNaN(K)||isNaN(re)||isNaN(ae))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(M,G,q,K,re,ae);this.ctx.transform=this.ctx.transform.multiply(me)},m.prototype.setTransform=function(M,G,q,K,re,ae){M=isNaN(M)?1:M,G=isNaN(G)?0:G,q=isNaN(q)?0:q,K=isNaN(K)?1:K,re=isNaN(re)?0:re,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(M,G,q,K,re,ae)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,G,q,K,re,ae,me,ve,ye){var Pe=this.pdf.getImageProperties(M),Fe=1,Ue=1,Ee=1,Z=1;K!==void 0&&ve!==void 0&&(Ee=ve/K,Z=ye/re,Fe=Pe.width/K*ve/K,Ue=Pe.height/re*ye/re),ae===void 0&&(ae=G,me=q,G=0,q=0),K!==void 0&&ve===void 0&&(ve=K,ye=re),K===void 0&&ve===void 0&&(ve=Pe.width,ye=Pe.height);for(var xt,pt=this.ctx.transform.decompose(),it=te(pt.rotate.shx),je=new l,Ke=(je=(je=(je=je.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new o(ae-G*Ee,me-q*Z,K*Fe,re*Ue)),Ae=L.call(this,Ke),st=[],ze=0;ze<Ae.length;ze+=1)st.indexOf(Ae[ze])===-1&&st.push(Ae[ze]);if(R(st),this.autoPaging)for(var Pt=st[0],at=st[st.length-1],qe=Pt;qe<at+1;qe++){this.pdf.setPage(qe);var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=qe===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=qe===1?0:We+(qe-2)*ut;if(this.ctx.clip_path.length!==0){var vt=this.path;xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(xt,this.posX+this.margin[3],-Ze+Ye+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=vt}var mt=JSON.parse(JSON.stringify(Ke));mt=I([mt],this.posX+this.margin[3],-Ze+Ye+this.ctx.prevPageLastElemOffset)[0];var $e=(qe>Pt||qe<at)&&S.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,ut,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,it),$e&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,it)};var L=function(M,G,q){var K=[];G=G||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":K.push(Math.floor((M.y+re)/q)+1);break;case"arc":K.push(Math.floor((M.y+re-M.radius)/q)+1),K.push(Math.floor((M.y+re+M.radius)/q)+1);break;case"qct":var ae=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);K.push(Math.floor((ae.y+re)/q)+1),K.push(Math.floor((ae.y+ae.h+re)/q)+1);break;case"bct":var me=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);K.push(Math.floor((me.y+re)/q)+1),K.push(Math.floor((me.y+me.h+re)/q)+1);break;case"rect":K.push(Math.floor((M.y+re)/q)+1),K.push(Math.floor((M.y+M.h+re)/q)+1)}for(var ve=0;ve<K.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<K[ve];)b.call(this);return K},b=function(){var M=this.fillStyle,G=this.strokeStyle,q=this.font,K=this.lineCap,re=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=q,this.lineCap=K,this.lineWidth=re,this.lineJoin=ae},I=function(M,G,q){for(var K=0;K<M.length;K++)switch(M[K].type){case"bct":M[K].x2+=G,M[K].y2+=q;case"qct":M[K].x1+=G,M[K].y1+=q;default:M[K].x+=G,M[K].y+=q}return M},R=function(M){return M.sort(function(G,q){return G-q})},B=function(M,G){for(var q,K,re=this.fillStyle,ae=this.strokeStyle,me=this.lineCap,ve=this.lineWidth,ye=Math.abs(ve*this.ctx.transform.scaleX),Pe=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Ee=[],Z=0;Z<Ue.length;Z++)if(Ue[Z].x!==void 0)for(var xt=L.call(this,Ue[Z]),pt=0;pt<xt.length;pt+=1)Ee.indexOf(xt[pt])===-1&&Ee.push(xt[pt]);for(var it=0;it<Ee.length;it++)for(;this.pdf.internal.getNumberOfPages()<Ee[it];)b.call(this);if(R(Ee),this.autoPaging)for(var je=Ee[0],Ke=Ee[Ee.length-1],Ae=je;Ae<Ke+1;Ae++){this.pdf.setPage(Ae),this.fillStyle=re,this.strokeStyle=ae,this.lineCap=me,this.lineWidth=ye,this.lineJoin=Pe;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Ae===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Ae===1?0:Pt+(Ae-2)*at;if(this.ctx.clip_path.length!==0){var Se=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(q,this.posX+this.margin[3],-qe+ze+this.ctx.prevPageLastElemOffset),ee.call(this,M,!0),this.path=Se}if(K=JSON.parse(JSON.stringify(Fe)),this.path=I(K,this.posX+this.margin[3],-qe+ze+this.ctx.prevPageLastElemOffset),G===!1||Ae===0){var Ye=(Ae>je||Ae<Ke)&&S.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,at,null).clip().discardPath()),ee.call(this,M,G),Ye&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=ye,ee.call(this,M,G),this.lineWidth=ve;this.path=Fe},ee=function(M,G){if((M!=="stroke"||G||!P.call(this))&&(M==="stroke"||G||!p.call(this))){for(var q,K,re=[],ae=this.path,me=0;me<ae.length;me++){var ve=ae[me];switch(ve.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ve,deltas:[],abs:[]});break;case"lt":var ye=re.length;if(ae[me-1]&&!isNaN(ae[me-1].x)&&(q=[ve.x-ae[me-1].x,ve.y-ae[me-1].y],ye>0)){for(;ye>=0;ye--)if(re[ye-1].close!==!0&&re[ye-1].begin!==!0){re[ye-1].deltas.push(q),re[ye-1].abs.push(ve);break}}break;case"bct":q=[ve.x1-ae[me-1].x,ve.y1-ae[me-1].y,ve.x2-ae[me-1].x,ve.y2-ae[me-1].y,ve.x-ae[me-1].x,ve.y-ae[me-1].y],re[re.length-1].deltas.push(q);break;case"qct":var Pe=ae[me-1].x+2/3*(ve.x1-ae[me-1].x),Fe=ae[me-1].y+2/3*(ve.y1-ae[me-1].y),Ue=ve.x+2/3*(ve.x1-ve.x),Ee=ve.y+2/3*(ve.y1-ve.y),Z=ve.x,xt=ve.y;q=[Pe-ae[me-1].x,Fe-ae[me-1].y,Ue-ae[me-1].x,Ee-ae[me-1].y,Z-ae[me-1].x,xt-ae[me-1].y],re[re.length-1].deltas.push(q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ve)}}K=G?null:M==="stroke"?"stroke":"fill";for(var pt=!1,it=0;it<re.length;it++)if(re[it].arc)for(var je=re[it].abs,Ke=0;Ke<je.length;Ke++){var Ae=je[Ke];Ae.type==="arc"?E.call(this,Ae.x,Ae.y,Ae.radius,Ae.startAngle,Ae.endAngle,Ae.counterclockwise,void 0,G,!pt):C.call(this,Ae.x,Ae.y),pt=!0}else if(re[it].close===!0)this.pdf.internal.out("h"),pt=!1;else if(re[it].begin!==!0){var st=re[it].start.x,ze=re[it].start.y;ne.call(this,re[it].deltas,st,ze),pt=!0}K&&N.call(this,K),G&&O.call(this)}},F=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+G-q;case"hanging":return M+G-2*q;case"middle":return M+G/2-q;default:return M}},V=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,q){this.colorStops.push([G,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,G,q,K,re,ae,me,ve,ye){for(var Pe=be.call(this,q,K,re,ae),Fe=0;Fe<Pe.length;Fe++){var Ue=Pe[Fe];Fe===0&&(ye?x.call(this,Ue.x1+M,Ue.y1+G):C.call(this,Ue.x1+M,Ue.y1+G)),de.call(this,M,G,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}ve?O.call(this):N.call(this,me)},N=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(M,G){this.pdf.internal.out(n(M)+" "+r(G)+" m")},T=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var q=this.pdf.getTextDimensions(M.text),K=F.call(this,M.y),re=V.call(this,K)-q.h,ae=this.ctx.transform.applyToPoint(new a(M.x,K)),me=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var ye,Pe,Fe,Ue=this.ctx.transform.applyToRectangle(new o(M.x,K,q.w,q.h)),Ee=ve.applyToRectangle(new o(M.x,re,q.w,q.h)),Z=L.call(this,Ee),xt=[],pt=0;pt<Z.length;pt+=1)xt.indexOf(Z[pt])===-1&&xt.push(Z[pt]);if(R(xt),this.autoPaging)for(var it=xt[0],je=xt[xt.length-1],Ke=it;Ke<je+1;Ke++){this.pdf.setPage(Ke);var Ae=Ke===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Pt=ze-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],qe=at-this.margin[3],Se=Ke===1?0:st+(Ke-2)*Pt;if(this.ctx.clip_path.length!==0){var Ye=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ye,this.posX+this.margin[3],-1*Se+Ae),ee.call(this,"fill",!0),this.path=Ye}var We=I([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Se+Ae+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale);var ut=this.autoPaging!=="text";if(ut||We.y+We.h<=ze){if(ut||We.y>=Ae&&We.x<=at){var Ze=ut?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||at-We.x)[0],vt=I([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Se+Ae+this.ctx.prevPageLastElemOffset)[0],mt=ut&&(Ke>it||Ke<je)&&S.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Pt,null).clip().discardPath()),this.pdf.text(Ze,vt.x,vt.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),mt&&this.pdf.restoreGraphicsState()}}else We.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-We.y);M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Fe)}else M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale),this.pdf.text(M.text,ae.x+this.posX,ae.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Fe)},C=function(M,G,q,K){q=q||0,K=K||0,this.pdf.internal.out(n(M+q)+" "+r(G+K)+" l")},ne=function(M,G,q){return this.pdf.lines(M,G,q,null,null)},de=function(M,G,q,K,re,ae,me,ve){this.pdf.internal.out([e(i(q+M)),e(s(K+G)),e(i(re+M)),e(s(ae+G)),e(i(me+M)),e(s(ve+G)),"c"].join(" "))},be=function(M,G,q,K){for(var re=2*Math.PI,ae=Math.PI/2;G>q;)G-=re;var me=Math.abs(q-G);me<re&&K&&(me=re-me);for(var ve=[],ye=K?-1:1,Pe=G;me>1e-5;){var Fe=Pe+ye*Math.min(me,ae);ve.push(we.call(this,M,Pe,Fe)),me-=Math.abs(Fe-Pe),Pe=Fe}return ve},we=function(M,G,q){var K=(q-G)/2,re=M*Math.cos(K),ae=M*Math.sin(K),me=re,ve=-ae,ye=me*me+ve*ve,Pe=ye+me*re+ve*ae,Fe=4/3*(Math.sqrt(2*ye*Pe)-Pe)/(me*ae-ve*re),Ue=me-Fe*ve,Ee=ve+Fe*me,Z=Ue,xt=-Ee,pt=K+G,it=Math.cos(pt),je=Math.sin(pt);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:Ue*it-Ee*je,y2:Ue*je+Ee*it,x3:Z*it-xt*je,y3:Z*je+xt*it,x4:M*Math.cos(q),y4:M*Math.sin(q)}},te=function(M){return 180*M/Math.PI},Q=function(M,G,q,K,re,ae){var me=M+.5*(q-M),ve=G+.5*(K-G),ye=re+.5*(q-re),Pe=ae+.5*(K-ae),Fe=Math.min(M,re,me,ye),Ue=Math.max(M,re,me,ye),Ee=Math.min(G,ae,ve,Pe),Z=Math.max(G,ae,ve,Pe);return new o(Fe,Ee,Ue-Fe,Z-Ee)},fe=function(M,G,q,K,re,ae,me,ve){var ye,Pe,Fe,Ue,Ee,Z,xt,pt,it,je,Ke,Ae,st,ze,Pt=q-M,at=K-G,qe=re-q,Se=ae-K,Ye=me-re,We=ve-ae;for(Pe=0;Pe<41;Pe++)it=(xt=(Fe=M+(ye=Pe/40)*Pt)+ye*((Ee=q+ye*qe)-Fe))+ye*(Ee+ye*(re+ye*Ye-Ee)-xt),je=(pt=(Ue=G+ye*at)+ye*((Z=K+ye*Se)-Ue))+ye*(Z+ye*(ae+ye*We-Z)-pt),Pe==0?(Ke=it,Ae=je,st=it,ze=je):(Ke=Math.min(Ke,it),Ae=Math.min(Ae,je),st=Math.max(st,it),ze=Math.max(ze,je));return new o(Math.round(Ke),Math.round(Ae),Math.round(st-Ke),Math.round(ze-Ae))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,q=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(lt.API),function(t){var e=function(a){var o,l,u,d,m,_,p,P,S,L;for(l=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(m=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(_=(m=((m=((m=((m=(m-(L=m%85))/85)-(S=m%85))/85)-(P=m%85))/85)-(p=m%85))/85)%85,l.push(_+33,p+33,P+33,S+33,L+33)):l.push(122);return function(b,I){for(var R=I;R>0;R--)b.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,u,d,m,_=String,p="length",P=255,S="charCodeAt",L="slice",b="replace";for(a[L](-2),a=a[L](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,m=(a+=o="uuuuu"[L](a[p]%5||5))[p];m>d;d+=5)l=52200625*(a[S](d)-33)+614125*(a[S](d+1)-33)+7225*(a[S](d+2)-33)+85*(a[S](d+3)-33)+(a[S](d+4)-33),u.push(P&l>>24,P&l>>16,P&l>>8,P&l);return function(I,R){for(var B=R;B>0;B--)I.pop()}(u,o[p]),_.fromCharCode.apply(_,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=j0(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(lt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,d){var m=new XMLHttpRequest,_=0,p=function(P){var S=P.length,L=[],b=String.fromCharCode;for(_=0;_<S;_+=1)L.push(b(255&P.charCodeAt(_)));return L.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?d(p(this.responseText)):d(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(lt.API),function(t){function e(){return(At.html2canvas?Promise.resolve(At.html2canvas):qg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):qg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=on(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(o(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var P=d[p],S=P.src.find(function(L){return L.format==="truetype"});S&&u.addFont(S.url,P.ref.name,P.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,u.context2d.save(!0),l(this.prop.container,_)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,m){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(_){return u.updateProgress(null,d),_}).then(d,m).then(function(_){return u.updateProgress(1),_})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),_=u.call(m,o,l);return a.convert(_,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,lt.getPageSize=function(o,l,u){if(on(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,_=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var P,S=0,L=0;if(p.hasOwnProperty(_))S=p[_][1]/m,L=p[_][0]/m;else try{S=u[1],L=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",L>S&&(P=L,L=S,S=P);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>L&&(P=L,L=S,S=P)}return{width:L,height:S,unit:l,k:m,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(o1):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(lt.API),lt.API.addJS=function(t){return ab=t,this.internal.events.subscribe("postPutResources",function(){jf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ab+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jf!==void 0&&sb!==void 0&&this.internal.out("/Names <</JavaScript "+jf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var m=n.internal.newObject();d.push(m);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(m){for(var _,p=256*m.charCodeAt(4)+m.charCodeAt(5),P=m.length,S={width:0,height:0,numcomponents:1},L=4;L<P;L+=2){if(L+=p,e.indexOf(m.charCodeAt(L+1))!==-1){_=256*m.charCodeAt(L+5)+m.charCodeAt(L+6),S={width:256*m.charCodeAt(L+7)+m.charCodeAt(L+8),height:_,numcomponents:m.charCodeAt(L+9)};break}p=256*m.charCodeAt(L+2)+m.charCodeAt(L+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(lt.API),lt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=FD(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,d=s.depth;i=u&&l===1?function(E){for(var N=E.width,O=E.height,x=E.data,T=E.palette,C=E.depth,ne=!1,de=[],be=[],we=void 0,te=!1,Q=0,fe=0;fe<T.length;fe++){var xe=cw(T[fe],4),M=xe[0],G=xe[1],q=xe[2],K=xe[3];de.push(M,G,q),K!=null&&(K===0?(Q++,be.length<1&&be.push(fe)):K<255&&(te=!0))}if(te||Q>1){ne=!0,be=void 0;var re=N*O;we=new Uint8Array(re);for(var ae=new DataView(x.buffer),me=0;me<re;me++){var ve=u1(ae,me,C),ye=cw(T[ve],4)[3];we[me]=ye}}else Q===0&&(be=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:x,alphaBytes:we,needSMask:ne,palette:de,mask:be}}(s):l===2||l===4?function(E){for(var N=E.data,O=E.width,x=E.height,T=E.channels,C=E.depth,ne=T===2?"DeviceGray":"DeviceRGB",de=T-1,be=O*x,we=de,te=be*we,Q=1*be,fe=Math.ceil(te*C/8),xe=Math.ceil(Q*C/8),M=new Uint8Array(fe),G=new Uint8Array(xe),q=new DataView(N.buffer),K=new DataView(M.buffer),re=new DataView(G.buffer),ae=!1,me=0;me<be;me++){for(var ve=me*T,ye=0;ye<we;ye++)mb(K,u1(q,ve+ye,C),me*we+ye,C);var Pe=u1(q,ve+we,C);Pe<(1<<C)-1&&(ae=!0),mb(re,Pe,1*me,C)}return{colorSpace:ne,colorsPerPixel:de,sMaskBitsPerComponent:ae?C:void 0,colorBytes:M,alphaBytes:G,needSMask:ae}}(s):function(E){var N=E.data,O=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(x){for(var T=x.length,C=new Uint8Array(2*T),ne=new DataView(C.buffer,C.byteOffset,C.byteLength),de=0;de<T;de++)ne.setUint16(2*de,x[de],!1);return C}(N):N,needSMask:!1}}(s);var m,_,p,P=i,S=P.colorSpace,L=P.colorsPerPixel,b=P.sMaskBitsPerComponent,I=P.colorBytes,R=P.alphaBytes,B=P.needSMask,ee=P.palette,F=P.mask,V=null;return r!==lt.API.image_compression.NONE&&typeof j0=="function"?(V=function(E){var N;switch(E){case lt.API.image_compression.FAST:N=11;break;case lt.API.image_compression.MEDIUM:N=13;break;case lt.API.image_compression.SLOW:N=14;break;default:N=12}return N}(r),m=this.decode.FLATE_DECODE,_="/Predictor ".concat(V," /Colors ").concat(L," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=cb(I,Math.ceil(a*L*d/8),L,d,r),B&&(p=cb(R,Math.ceil(a*b/8),1,b,r))):(m=void 0,_=void 0,t=I,B&&(p=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:m,decodeParameters:_,transparency:F,palette:ee,sMask:p,predictor:V,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:S}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new sO(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new c1(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(lt.API),As.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},As.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){pn.log("bit decode error:"+n)}},As.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},As.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},As.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},As.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},As.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},As.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},As.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},As.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new As(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new c1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(lt.API),vb.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new vb(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new c1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(lt.API),lt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=r[u],m=r[u+1],_=r[u+2],p=r[u+3];s[o++]=d,s[o++]=m,s[o++]=_,a[l++]=p}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:P,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ku=lt.API,Df=ku.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,m=e.doKerning!==!1,_=0,p=t.length,P=0,S=o[0]||l,L=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(_=m&&on(u[r])==="object"&&!isNaN(parseInt(u[r][P],10))?u[r][P]/d:0,L.push((o[r]||S)/l+_)),P=r;return L},ob=ku.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ku.processArabic&&(t=ku.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Df.apply(this,arguments).reduce(function(s,a){return s+a},0)},lb=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},ub=function(t,e,n){n||(n={});var r,i,s,a,o,l,u,d=[],m=[d],_=n.textIndent||0,p=0,P=0,S=t.split(" "),L=Df.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),I=[];S.map(function(B){(B=B.split(/\s*\n/)).length>1?I=I.concat(B.map(function(ee,F){return(F&&ee.length?`
`:"")+ee})):I.push(B[0])}),S=I,l=ob.apply(this,[b,n])}for(s=0,a=S.length;s<a;s++){var R=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),R=1),_+p+(P=(i=Df.apply(this,[r,n])).reduce(function(B,ee){return B+ee},0))>e||R){if(P>e){for(o=lb.apply(this,[r,i,e-(_+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)m.push([o.shift()]);P=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(B,ee){return B+ee},0)}else d=[r];m.push(d),_=P+l,p=L}else d.push(r),_+=p+P,p=L}return u=l?function(B,ee){return(ee?b:"")+B.join(" ")}:function(B){return B.join(" ")},m.map(u)},ku.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),_="Unicode";return m.metadata[_]?{widths:m.metadata[_].widths||{0:1},kerning:m.metadata[_].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(ub.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(_){return"0x"+parseInt(_,10).toString(16)},o=t.__fontmetrics__.compress=function(_){var p,P,S,L,b=["{"];for(var I in _){if(p=_[I],isNaN(parseInt(I,10))?P="'"+I+"'":(I=parseInt(I,10),P=(P=a(I).slice(2)).slice(0,-1)+i[P.slice(-1)]),typeof p=="number")p<0?(S=a(p).slice(3),L="-"):(S=a(p).slice(2),L=""),S=L+S.slice(0,-1)+i[S.slice(-1)];else{if(on(p)!=="object")throw new Error("Don't know what to do with value type "+on(p)+".");S=o(p)}b.push(P+S)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,P,S,L,b={},I=1,R=b,B=[],ee="",F="",V=_.length-1,E=1;E<V;E+=1)(L=_[E])=="'"?p?(S=p.join(""),p=void 0):p=[]:p?p.push(L):L=="{"?(B.push([R,S]),R={},S=void 0):L=="}"?((P=B.pop())[0][P[1]]=R,S=void 0,R=P[0]):L=="-"?I=-1:S===void 0?r.hasOwnProperty(L)?(ee+=r[L],S=parseInt(ee,16)*I,I=1,ee=""):ee+=L:r.hasOwnProperty(L)?(F+=r[L],R[S]=parseInt(F,16)*I,I=1,S=void 0,F=""):F+=L;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(_){var p=_.font,P=m.Unicode[p.postScriptName];P&&(p.metadata.Unicode={},p.metadata.Unicode.widths=P.widths,p.metadata.Unicode.kerning=P.kerning);var S=d.Unicode[p.postScriptName];S&&(p.metadata.Unicode.encoding=S,p.encoding=S.codePages[0])}])}(lt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(ip(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(lt),lt.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(At.canvg?Promise.resolve(At.canvg):qg(()=>import("./index.es-BxtO7tEY.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(d)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},lt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,m=0;function _(P,S){var L,b=!1;for(L=0;L<P.length;L+=1)P[L]===S&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(m=0;m<p;m+=1)n[o[m]].value=n[o[m]].defaultValue,n[o[m]].explicitSet=!1}if(on(t)==="object"){for(i in t)if(s=t[i],_(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,S=[];for(P in n)n[P].explicitSet===!0&&(n[P].type==="name"?S.push("/"+P+" /"+n[P].value):S.push("/"+P+" "+n[P].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(lt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],m=0,_=s.length;m<_;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(s){var a,o,l,u,d,m,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,_=(o=Object.keys(s).sort(function(p,P){return p-P})).length;m<_;m++)a=o[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,_=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",P=0;P<_.length;P++)p+=String.fromCharCode(_[P]);var S=u();d({data:p,addLength1:!0,objectId:S}),l("endobj");var L=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var b=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ru(o.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var I=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ru(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+Ru(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+I+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,_="",p=0;p<m.length;p++)_+=String.fromCharCode(m[p]);var P=u();d({data:_,addLength1:!0,objectId:P}),l("endobj");var S=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var L=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+P+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ru(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Ru(o.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,d=s.options||{},m=s.mutex||{},_=m.pdfEscape,p=m.activeFontKey,P=m.fonts,S=p,L="",b=0,I="",R=P[S].encoding;if(P[S].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:m};for(I=o,S=p,Array.isArray(o)&&(I=o[0]),b=0;b<I.length;b+=1)P[S].metadata.hasOwnProperty("cmap")&&(a=P[S].metadata.cmap.unicode.codeMap[I[b].charCodeAt(0)]),a||I[b].charCodeAt(0)<256&&P[S].metadata.hasOwnProperty("Unicode")?L+=I[b]:L+="";var B="";return parseInt(S.slice(1))<14||R==="WinAnsiEncoding"?B=_(L,S).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(B=n(L,P[S])),m.isHex=!0,{text:B,x:l,y:u,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(lt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,d,m=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,R=0;this.__bidiEngine__={};var B=function(x){var T=x.charCodeAt(),C=T>>8,ne=S[C];return ne!==void 0?m[256*ne+(255&T)]:C===252||C===253?"AL":b.test(C)?"L":C===8?"R":"N"},ee=function(x){for(var T,C=0;C<x.length;C++){if((T=B(x.charAt(C)))==="L")return!1;if(T==="R")return!0}return!1},F=function(x,T,C,ne){var de,be,we,te,Q=T[ne];switch(Q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(Q="AN");break;case"AL":I=!0,Q="R";break;case"WS":case"BN":Q="N";break;case"CS":ne<1||ne+1>=T.length||(de=C[ne-1])!=="EN"&&de!=="AN"||(be=T[ne+1])!=="EN"&&be!=="AN"?Q="N":I&&(be="AN"),Q=be===de?be:"N";break;case"ES":Q=(de=ne>0?C[ne-1]:"B")==="EN"&&ne+1<T.length&&T[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&C[ne-1]==="EN"){Q="EN";break}if(I){Q="N";break}for(we=ne+1,te=T.length;we<te&&T[we]==="ET";)we++;Q=we<te&&T[we]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(te=T.length,we=ne+1;we<te&&T[we]==="NSM";)we++;if(we<te){var fe=x[ne],xe=fe>=1425&&fe<=2303||fe===64286;if(de=T[we],xe&&(de==="R"||de==="AL")){Q="R";break}}}Q=ne<1||(de=T[ne-1])==="B"?"N":C[ne-1];break;case"B":I=!1,i=!0,Q=R;break;case"S":s=!0,Q="N"}return Q},V=function(x,T,C){var ne=x.split("");return C&&E(ne,C,{hiLevel:R}),ne.reverse(),T&&T.reverse(),ne.join("")},E=function(x,T,C){var ne,de,be,we,te,Q=-1,fe=x.length,xe=0,M=[],G=R?p:_,q=[];for(I=!1,i=!1,s=!1,de=0;de<fe;de++)q[de]=B(x[de]);for(be=0;be<fe;be++){if(te=xe,M[be]=F(x,q,M,be),ne=240&(xe=G[te][P[M[be]]]),xe&=15,T[be]=we=G[xe][5],ne>0)if(ne===16){for(de=Q;de<be;de++)T[de]=1;Q=-1}else Q=-1;if(G[xe][6])Q===-1&&(Q=be);else if(Q>-1){for(de=Q;de<be;de++)T[de]=we;Q=-1}q[be]==="B"&&(T[be]=0),C.hiLevel|=we}s&&function(K,re,ae){for(var me=0;me<ae;me++)if(K[me]==="S"){re[me]=R;for(var ve=me-1;ve>=0&&K[ve]==="WS";ve--)re[ve]=R}}(q,T,fe)},N=function(x,T,C,ne,de){if(!(de.hiLevel<x)){if(x===1&&R===1&&!i)return T.reverse(),void(C&&C.reverse());for(var be,we,te,Q,fe=T.length,xe=0;xe<fe;){if(ne[xe]>=x){for(te=xe+1;te<fe&&ne[te]>=x;)te++;for(Q=xe,we=te-1;Q<we;Q++,we--)be=T[Q],T[Q]=T[we],T[we]=be,C&&(be=C[Q],C[Q]=C[we],C[we]=be);xe=te}xe++}}},O=function(x,T,C){var ne=x.split(""),de={hiLevel:R};return C||(C=[]),E(ne,C,de),function(be,we,te){if(te.hiLevel!==0&&d)for(var Q,fe=0;fe<be.length;fe++)we[fe]===1&&(Q=L.indexOf(be[fe]))>=0&&(be[fe]=L[Q+1])}(ne,C,de),N(2,ne,T,C,de),N(1,ne,T,C,de),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(x,T,C){if(function(de,be){if(be)for(var we=0;we<de.length;we++)be[we]=we;o===void 0&&(o=ee(de)),u===void 0&&(u=ee(de))}(x,T),a||!l||u)if(a&&l&&o^u)R=o?1:0,x=V(x,T,C);else if(!a&&l&&u)R=o?1:0,x=O(x,T,C),x=V(x,T);else if(!a||o||l||u){if(a&&!l&&o^u)x=V(x,T),o?(R=0,x=O(x,T,C)):(R=1,x=O(x,T,C),x=V(x,T));else if(a&&o&&!l&&u)R=1,x=O(x,T,C),x=V(x,T);else if(!a&&!l&&o^u){var ne=d;o?(R=1,x=O(x,T,C),R=0,d=!1,x=O(x,T,C),d=ne):(R=0,x=O(x,T,C),x=V(x,T),R=1,d=!1,x=O(x,T,C),d=ne,x=V(x,T))}}else R=0,x=O(x,T,C);else R=o?1:0,x=O(x,T,C);return x},this.__bidiEngine__.setOptions=function(x){x&&(a=x.isInputVisual,l=x.isOutputVisual,o=x.isInputRtl,u=x.isOutputRtl,d=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new cl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new wO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new aO(this.contents),this.head=new lO(this),this.name=new fO(this),this.cmap=new Q3(this),this.toUnicode={},this.hhea=new uO(this),this.maxp=new pO(this),this.hmtx=new mO(this),this.post=new hO(this),this.os2=new cO(this),this.loca=new _O(this),this.glyf=new gO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Os,cl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),aO=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,u,d,m,_,p,P,S;for(S in p=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),a=Math.floor(m/l),d=16*p-m,(i=new cl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(a),i.writeShort(d),s=16*p,u=i.pos+s,o=null,P=[],n)for(_=n[S],i.writeString(S),i.writeInt(t(_)),i.writeInt(u),i.writeInt(_.length),P=P.concat(_),S==="head"&&(o=u),u+=_.length;u%4;)P.push(0),u++;return i.write(P),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=J3.call(n);n.length%4;)n.push(0);for(s=new cl(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),oO={}.hasOwnProperty,pa=function(t,e){for(var n in e)oO.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Os=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var lO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new cl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),yb=function(){function t(e,n){var r,i,s,a,o,l,u,d,m,_,p,P,S,L,b,I,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),_=p/2,e.pos+=6,s=function(){var B,ee;for(ee=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ee.push(e.readUInt16());return ee}(),e.pos+=2,S=function(){var B,ee;for(ee=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ee.push(e.readUInt16());return ee}(),u=function(){var B,ee;for(ee=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ee.push(e.readUInt16());return ee}(),d=function(){var B,ee;for(ee=[],l=B=0;0<=_?B<_:B>_;l=0<=_?++B:--B)ee.push(e.readUInt16());return ee}(),i=(this.length-e.pos+this.offset)/2,o=function(){var B,ee;for(ee=[],l=B=0;0<=i?B<i:B>i;l=0<=i?++B:--B)ee.push(e.readUInt16());return ee}(),l=b=0,R=s.length;b<R;l=++b)for(L=s[l],r=I=P=S[l];P<=L?I<=L:I>=L;r=P<=L?++I:--I)d[l]===0?a=r+u[l]:(a=o[d[l]/2+(r-P)-(_-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=m}return t.encode=function(e,n){var r,i,s,a,o,l,u,d,m,_,p,P,S,L,b,I,R,B,ee,F,V,E,N,O,x,T,C,ne,de,be,we,te,Q,fe,xe,M,G,q,K,re,ae,me,ve,ye,Pe,Fe;switch(ne=new cl,a=Object.keys(e).sort(function(Ue,Ee){return Ue-Ee}),n){case"macroman":for(S=0,L=function(){var Ue=[];for(P=0;P<256;++P)Ue.push(0);return Ue}(),I={0:0},s={},de=0,Q=a.length;de<Q;de++)I[ve=e[i=a[de]]]==null&&(I[ve]=++S),s[i]={old:e[i],new:I[e[i]]},L[i]=I[e[i]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(L),{charMap:s,subtable:ne.data,maxGlyphID:S+1};case"unicode":for(T=[],m=[],R=0,I={},r={},b=u=null,be=0,fe=a.length;be<fe;be++)I[ee=e[i=a[be]]]==null&&(I[ee]=++R),r[i]={old:ee,new:I[ee]},o=I[ee]-i,b!=null&&o===u||(b&&m.push(b),T.push(i),u=o),b=i;for(b&&m.push(b),m.push(65535),T.push(65535),O=2*(N=T.length),E=2*Math.pow(Math.log(N)/Math.LN2,2),_=Math.log(E/2)/Math.LN2,V=2*N-E,l=[],F=[],p=[],P=we=0,xe=T.length;we<xe;P=++we){if(x=T[P],d=m[P],x===65535){l.push(0),F.push(0);break}if(x-(C=r[x].new)>=32768)for(l.push(0),F.push(2*(p.length+N-P)),i=te=x;x<=d?te<=d:te>=d;i=x<=d?++te:--te)p.push(r[i].new);else l.push(C-x),F.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*N+2*p.length),ne.writeUInt16(0),ne.writeUInt16(O),ne.writeUInt16(E),ne.writeUInt16(_),ne.writeUInt16(V),ae=0,M=m.length;ae<M;ae++)i=m[ae],ne.writeUInt16(i);for(ne.writeUInt16(0),me=0,G=T.length;me<G;me++)i=T[me],ne.writeUInt16(i);for(ye=0,q=l.length;ye<q;ye++)o=l[ye],ne.writeUInt16(o);for(Pe=0,K=F.length;Pe<K;Pe++)B=F[Pe],ne.writeUInt16(B);for(Fe=0,re=p.length;Fe<re;Fe++)S=p[Fe],ne.writeUInt16(S);return{charMap:r,subtable:ne.data,maxGlyphID:R+1}}},t}(),Q3=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new yb(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=yb.encode(e,n),(i=new cl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),uO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),cO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),hO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),dO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,l,u,d,m,_;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,m=r.length;d<m;s=++d)i=r[s],e.pos=i.offset,u=e.readString(i.length),a=new dO(u,i),l[_=i.nameID]==null&&(l[_]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),pO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),mO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,m,_;for(_=[],u=0,d=(m=this.metrics).length;u<d;u++)s=m[u],_.push(s.advance);return _}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),J3=[].slice,gO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,l,u,d,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new cl(n.read(i))).readShort(),u=o.readShort(),m=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new yO(o,u,m,l,d):new vO(o,a,u,m,l,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t}(),vO=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),yO=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new cl(J3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),_O=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Os),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),wO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,u,d,m,_,p,P,S,L,b;for(i in r=Q3.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},b=r.charMap)p[(l=b[i]).old]=l.new;for(P in _=r.maxGlyphID,a)P in p||(p[P]=_++);return d=function(I){var R,B;for(R in B={},I)B[I[R]]=R;return B}(p),m=Object.keys(d).sort(function(I,R){return I-R}),S=function(){var I,R,B;for(B=[],I=0,R=m.length;I<R;I++)o=m[I],B.push(d[o]);return B}(),s=this.font.glyf.encode(a,S,p),u=this.font.loca.encode(s.offsets,S),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t}();lt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function bO(){var ee;const{dealId:t}=U2(),e=((ee=Ei.currentUser)==null?void 0:ee.uid)||"",[n,r]=le.useState(!0),[i,s]=le.useState(null),[a,o]=le.useState(null),[l,u]=le.useState(null),[d,m]=le.useState({marginTop:72,marginRight:40,marginBottom:60,marginLeft:40,lineHeight:18,titleSize:16,bodySize:12}),_=(F,V)=>m(E=>({...E,[F]:V})),[p,P]=le.useState({mouCity:"Bogor",mouDate:new Date().toISOString().slice(0,10),vendorName:"",vendorRep:"",vendorJobTitle:"Pemilik / Project Manager",vendorAddress:"",vendorPhone:"",clientName:"",clientWa:"",clientAddress:"",groomName:"",groomIg:"",brideName:"",brideIg:"",eventType:"",pricelistName:"",packageType:"",packagePrice:0,addonsSummary:"",total:0,weddingDate:"",akadTime:"",akadPlace:"",resepsiTime:"",resepsiPlace:"",lamaranDate:"",lamaranTime:"",lamaranPlace:"",prewedDate:"",prewedPlace:"",dpAmount:0,dpDate:"",remainingAmount:0,dueDate:"",bankName:"",bankAccountNumber:"",bankAccountHolder:"",clauseDeliverSocial:"Foto pilihan & video highlight 1 menit akan diserahkan 12 minggu setelah acara.",clauseDeliverAll:"Seluruh hasil akhir diserahkan 3045 hari kerja sejak tanggal acara.",clauseCancellation:"DP/termin pertama hangus jika pembatalan sepihak oleh PIHAK KEDUA. Jika sudah pelunasan, pengembalian 60% dari termin kedua.",clausePortfolio:"PIHAK PERTAMA berhak menggunakan hasil karya untuk portfolio dengan menjaga privasi & kesopanan.",clauseDataLoss:"Jika terjadi kehilangan data karena kesalahan internal, kompensasi: 200% porsi jasa foto / 50% porsi jasa video; prewedding: sesi ulang ditanggung PIHAK PERTAMA. Tidak berlaku untuk force majeure atau kejadian di luar kendali wajar.",signVendor:"",signClient:""}),S=(F,V)=>P(E=>({...E,[F]:V}));le.useEffect(()=>{if(!e||!t)return;const F=[];return(async()=>{var V,E,N,O,x,T,C,ne,de,be;try{const we=lr(hn(Rt,"tokens",e),K=>{var me;const re=K.data(),ae=(me=re==null?void 0:re.expiresAt)!=null&&me.toMillis?re.expiresAt.toMillis():0;u(ae>Date.now())});F.push(we);let te={};try{te=(await Gu(hn(Rt,"vendors",e))).data()||{}}catch(K){throw console.error("ERR vendor:",K),new Error("Gagal baca vendor (izin/rules?)")}let Q;try{const K=await Gu(hn(Rt,"deals",t));if(!K.exists())throw new Error("Deal tidak ditemukan");if(Q=K.data(),Q.uid!==e)throw new Error("Tidak berhak mengakses deal ini");o({id:K.id,...Q})}catch(K){throw console.error("ERR deal:",K),K}let fe;try{fe=(await Gu(hn(Rt,"mous",t))).data(),fe!=null&&fe.layout&&m({...d,..._b(fe.layout)})}catch(K){console.warn("WARN mous (optional):",K)}let xe;try{xe=(await Gu(hn(Rt,"mouDefaults",e))).data(),xe!=null&&xe.layout&&m(re=>({...re,..._b(xe.layout)}))}catch(K){console.warn("WARN mouDefaults (optional):",K)}const M=Q!=null&&Q.addonSummary?Q.addonSummary.map(K=>`${K.name} (${Ol(K.price||0)})`).join(", "):"Tidak ada",q={...{mouCity:"Bogor",mouDate:new Date().toISOString().slice(0,10),vendorName:te.name||"",vendorRep:te.bankAccountHolder||"",vendorJobTitle:"Pemilik / Project Manager",vendorAddress:te.address||"",vendorPhone:te.whatsapp||"",clientName:(Q==null?void 0:Q.clientName)||"",clientWa:(Q==null?void 0:Q.clientWa)||"",clientAddress:(Q==null?void 0:Q.address)||"",groomName:(Q==null?void 0:Q.groomName)||"",groomIg:(Q==null?void 0:Q.groomIg)||"",brideName:(Q==null?void 0:Q.brideName)||"",brideIg:(Q==null?void 0:Q.brideIg)||"",eventType:(Q==null?void 0:Q.eventType)||(Q!=null&&Q.isWedding?"wedding":Q!=null&&Q.isLamaran?"lamaran":Q!=null&&Q.isPrewed?"prewedding":""),pricelistName:(Q==null?void 0:Q.parent)||"",packageType:(Q==null?void 0:Q.packageType)||"",packagePrice:(Q==null?void 0:Q.packagePrice)||0,addonsSummary:M||"Tidak ada",total:(Q==null?void 0:Q.total)||0,weddingDate:((V=Q==null?void 0:Q.wedding)==null?void 0:V.date)||"",akadTime:((E=Q==null?void 0:Q.wedding)==null?void 0:E.akadTime)||"",akadPlace:((N=Q==null?void 0:Q.wedding)==null?void 0:N.akadPlace)||"",resepsiTime:((O=Q==null?void 0:Q.wedding)==null?void 0:O.resepsiTime)||"",resepsiPlace:((x=Q==null?void 0:Q.wedding)==null?void 0:x.resepsiPlace)||"",lamaranDate:((T=Q==null?void 0:Q.lamaran)==null?void 0:T.date)||"",lamaranTime:((C=Q==null?void 0:Q.lamaran)==null?void 0:C.time)||"",lamaranPlace:((ne=Q==null?void 0:Q.lamaran)==null?void 0:ne.place)||"",prewedDate:((de=Q==null?void 0:Q.prewedding)==null?void 0:de.date)||"",prewedPlace:((be=Q==null?void 0:Q.prewedding)==null?void 0:be.place)||"",dpAmount:0,dpDate:"",remainingAmount:Math.max((Q==null?void 0:Q.total)||0,0),dueDate:"",bankName:te.bankName||"",bankAccountNumber:te.bankAccountNumber||"",bankAccountHolder:te.bankAccountHolder||"",clauseDeliverSocial:"Foto pilihan & video highlight 1 menit akan diserahkan 12 minggu setelah acara.",clauseDeliverAll:"Seluruh hasil akhir diserahkan 3045 hari kerja sejak tanggal acara.",clauseCancellation:"DP/termin pertama hangus jika pembatalan sepihak oleh PIHAK KEDUA. Jika sudah pelunasan, pengembalian 60% dari termin kedua.",clausePortfolio:"PIHAK PERTAMA berhak menggunakan hasil karya untuk portfolio dengan menjaga privasi & kesopanan.",clauseDataLoss:"Jika terjadi kehilangan data karena kesalahan internal, kompensasi: 200% porsi jasa foto / 50% porsi jasa video; prewedding: sesi ulang ditanggung PIHAK PERTAMA. Tidak berlaku untuk force majeure atau kejadian di luar kendali wajar.",signVendor:te.bankAccountHolder||"",signClient:(Q==null?void 0:Q.clientName)||""},...xe||{},...fe||{}};P(q),r(!1)}catch(we){s((we==null?void 0:we.message)||"Gagal memuat data MOU"),r(!1)}})(),()=>F.forEach(V=>V())},[e,t]);const L=le.useMemo(()=>{const F=[];return F.push(`Perjanjian ini dibuat dan ditandatangani di ${p.mouCity}, pada ${Ml(p.mouDate)}, oleh dan antara:`),F.push(""),F.push("1. PIHAK PERTAMA:"),F.push(`Nama Usaha: ${en(p.vendorName)} / Vendor fotografi Wedding`),F.push(`Nama Perwakilan: ${en(p.vendorRep)}`),F.push(`Jabatan: ${en(p.vendorJobTitle)}`),F.push(`Alamat: ${en(p.vendorAddress)}`),F.push(`Nomor Telepon: ${en(p.vendorPhone)}`),F.push("Selanjutnya disebut PIHAK PERTAMA atau Penyedia Jasa."),F.push(""),F.push("2. PIHAK KEDUA:"),F.push(`Nama Lengkap Klien: ${en(p.clientName)}`),F.push(`Nomor WhatsApp: ${en(p.clientWa)}`),F.push(`Alamat Pengiriman: ${en(p.clientAddress)}`),F.push(`Nama Pria: ${en(p.groomName)} (Instagram: ${en(p.groomIg,"-")})`),F.push(`Nama Wanita: ${en(p.brideName)} (Instagram: ${en(p.brideIg,"-")})`),F.push("Selanjutnya disebut PIHAK KEDUA atau Klien."),F.push(""),F.push("Pasal 1  RUANG LINGKUP JASA"),F.push(`Jenis acara: ${AO(p.eventType)}.`),F.push(`Nama Pricelist: ${en(p.pricelistName)}.`),F.push(`Jenis (type): ${en(p.packageType)}.`),F.push(""),F.push("Pasal 2  JADWAL DAN LOKASI ACARA"),p.eventType==="wedding"?(F.push("Nama acara: Wedding"),F.push(`Tanggal acara: ${Ml(p.weddingDate)||"-"}`),F.push(`Jam akad / pemberkatan: ${en(p.akadTime,"-")}`),F.push(`Tempat akad / pemberkatan: ${en(p.akadPlace,"-")}`),F.push(`Jam resepsi: ${en(p.resepsiTime,"-")}`),F.push(`Tempat resepsi: ${en(p.resepsiPlace,"-")}`)):p.eventType==="lamaran"?(F.push("Nama acara: Lamaran"),F.push(`Tanggal acara: ${Ml(p.lamaranDate)||"-"}`),F.push(`Jam lamaran: ${en(p.lamaranTime,"-")}`),F.push(`Tempat lamaran: ${en(p.lamaranPlace,"-")}`)):p.eventType==="prewedding"?(F.push("Nama acara: Prewedding"),F.push(`Tanggal acara: ${Ml(p.prewedDate)||"-"}`),F.push(`Tempat prewedding: ${en(p.prewedPlace,"-")}`)):F.push("Nama acara: -"),F.push(""),F.push("Pasal 3  LAYANAN TAMBAHAN (ADD-ON)"),F.push(`Add-ons: ${en(p.addonsSummary,"Tidak Ada")}.`),F.push(""),F.push("Pasal 4  BIAYA & PEMBAYARAN"),F.push(`Harga Paket Awal: ${Ol(p.packagePrice)}.`),F.push(`Total Disepakati: ${Ol(p.total)}.`),F.push(`Uang Muka (DP): ${Ol(p.dpAmount)} pada ${Ml(p.dpDate)||"-"}.`),F.push(`Sisa Pelunasan: ${Ol(p.remainingAmount)} (batas ${Ml(p.dueDate)||"-"}).`),F.push(`Pembayaran via: ${en(p.bankName)}  ${en(p.bankAccountNumber)} a.n. ${en(p.bankAccountHolder)}.`),F.push(""),F.push("Pasal 5  HAK & KEWAJIBAN"),F.push("Kewajiban PIHAK PERTAMA: profesional sesuai paket; koordinasi; menyerahkan hasil sesuai jadwal; simpan raw file 36 bulan."),F.push("Kewajiban PIHAK KEDUA: beri info akurat; patuhi jadwal pembayaran; kooperatif; biaya venue/izin ditanggung PIHAK KEDUA bila ada."),F.push(""),F.push("Pasal 6  JADWAL PENYERAHAN HASIL"),F.push(p.clauseDeliverSocial||""),F.push(p.clauseDeliverAll||""),F.push(""),F.push("Pasal 7  PEMBATALAN / PERUBAHAN JADWAL"),F.push(p.clauseCancellation||""),F.push(""),F.push("Pasal 8  HAK CIPTA & PORTFOLIO"),F.push(p.clausePortfolio||""),F.push(""),F.push("Pasal 9  BATASAN TANGGUNG JAWAB (KEHILANGAN DATA)"),F.push(p.clauseDataLoss||""),F.push(""),F.push("PENUTUP"),F.push(`Dibuat di: ${en(p.mouCity)} pada ${Ml(p.mouDate)}.`),F.push(""),F},[p]),b=async()=>{if(!(!e||!t))try{await ul(hn(Rt,"mous",t),{uid:e,dealId:t,...p,layout:d,updatedAt:tl(),createdAt:(p==null?void 0:p.createdAt)||tl()},{merge:!0}),alert("MOU disimpan.")}catch(F){alert("Gagal menyimpan MOU: "+((F==null?void 0:F.message)||"unknown"))}},I=async()=>{if(e)try{const{clauseDeliverSocial:F,clauseDeliverAll:V,clauseCancellation:E,clausePortfolio:N,clauseDataLoss:O,vendorJobTitle:x}=p;await ul(hn(Rt,"mouDefaults",e),{clauseDeliverSocial:F,clauseDeliverAll:V,clauseCancellation:E,clausePortfolio:N,clauseDataLoss:O,vendorJobTitle:x,layout:d,updatedAt:tl()},{merge:!0}),alert("Template default MOU disimpan untuk UID ini.")}catch(F){alert("Gagal menyimpan default: "+((F==null?void 0:F.message)||"unknown"))}},R=async()=>{try{const F=new lt({unit:"pt",format:"a4"}),V=F.internal.pageSize.getWidth(),E=F.internal.pageSize.getHeight(),{marginTop:N,marginRight:O,marginBottom:x,marginLeft:T,lineHeight:C,titleSize:ne,bodySize:de}=d,be=V-T-O;F.setFont("Times","Normal"),F.setFontSize(ne);const we="MEMORANDUM OF UNDERSTANDING (MoU) / SURAT PERJANJIAN KERJASAMA",te=N;F.text(we,V/2,te,{align:"center",maxWidth:be});let Q=te+C*1.8;F.setFontSize(de);const fe=()=>{Q>E-x&&(F.addPage(),Q=N,F.setFontSize(de))},xe=G=>{F.splitTextToSize((G||"").replace(/\r/g,""),be).forEach(K=>{fe(),F.text(String(K),T,Q,{maxWidth:be}),Q+=C}),Q+=Math.round(C*.25)};L.forEach(xe),Q+=C*1.5,fe(),F.text("PIHAK PERTAMA",T,Q),F.text("PIHAK KEDUA",V-O,Q,{align:"right"}),Q+=C*3,fe(),F.text(en(p.signVendor,"(Tanda tangan & nama jelas)"),T,Q),F.text(en(p.signClient,"(Tanda tangan & nama jelas)"),V-O,Q,{align:"right"});const M=F.getNumberOfPages();F.setFontSize(10);for(let G=1;G<=M;G++)F.setPage(G),F.text(`Halaman ${G}/${M}`,V-O,E-18,{align:"right"});F.save(`MOU_${xO(p.clientName||"client")}.pdf`)}catch(F){alert("Gagal export PDF"),console.error(F)}};if(!e)return v.jsx("div",{className:"container",children:v.jsx("div",{className:"card torn",children:"Silakan login"})});if(n)return v.jsx("div",{className:"container",children:v.jsx("div",{className:"card",children:"Memuat"})});if(i)return v.jsx("div",{className:"container",children:v.jsx("div",{className:"card",style:{background:"#fff1f2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:i})});const B=L;return v.jsxs("div",{className:"container",style:{maxWidth:980},children:[v.jsxs("div",{className:"card torn",children:[v.jsx("h2",{style:{marginTop:0},children:"Buat / Edit MOU"}),l===!1&&v.jsxs("div",{className:"banner",style:{background:"#fff7ed",border:"1px solid #fed7aa",color:"#9a3412"},children:["Masa aktif akun ",v.jsx("b",{children:"habis"}),". Simpan/Export masih bisa dipakai, tapi sebaiknya aktifkan ulang token."]}),v.jsxs("div",{style:{color:"#666"},children:["Draft dari deal: ",v.jsx("b",{children:(a==null?void 0:a.clientName)||"(tanpa nama)"})]})]}),v.jsx("div",{className:"card",children:v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[v.jsxs("div",{children:[v.jsxs("div",{children:[v.jsx("b",{children:"Klien:"})," ",p.clientName||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"WA:"})," ",p.clientWa||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Alamat:"})," ",p.clientAddress||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Pasangan:"})," ",p.groomName||"-"," & ",p.brideName||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"IG:"})," ",p.groomIg||"-","  ",p.brideIg||"-"]})]}),v.jsxs("div",{children:[v.jsxs("div",{children:[v.jsx("b",{children:"Paket:"})," ",p.pricelistName||"-"," "," ",p.packageType||"-"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Harga Paket:"})," ",Ol(p.packagePrice||0)]}),v.jsxs("div",{children:[v.jsx("b",{children:"Add-ons:"})," ",p.addonsSummary||"Tidak Ada"]}),v.jsxs("div",{children:[v.jsx("b",{children:"Total:"})," ",Ol(p.total||0)]})]})]})}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Detail MOU"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Kota pembuatan"}),v.jsx("input",{className:"input",value:p.mouCity,onChange:F=>S("mouCity",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal MoU"}),v.jsx("input",{className:"input",type:"date",value:p.mouDate,onChange:F=>S("mouDate",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Usaha (Vendor)"}),v.jsx("input",{className:"input",value:p.vendorName,onChange:F=>S("vendorName",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Nama Perwakilan (Atas Nama)"}),v.jsx("input",{className:"input",value:p.vendorRep,onChange:F=>S("vendorRep",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jabatan"}),v.jsx("input",{className:"input",value:p.vendorJobTitle,onChange:F=>S("vendorJobTitle",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Alamat Vendor"}),v.jsx("input",{className:"input",value:p.vendorAddress,onChange:F=>S("vendorAddress",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"No. Telepon Vendor"}),v.jsx("input",{className:"input",value:p.vendorPhone,onChange:F=>S("vendorPhone",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Jenis Acara"}),v.jsxs("select",{className:"input",value:p.eventType,onChange:F=>S("eventType",F.target.value),children:[v.jsx("option",{value:"",children:"-- pilih --"}),v.jsx("option",{value:"wedding",children:"Wedding"}),v.jsx("option",{value:"lamaran",children:"Lamaran"}),v.jsx("option",{value:"prewedding",children:"Prewedding"})]})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Tanggal Wedding"}),v.jsx("input",{className:"input",type:"date",value:p.weddingDate,onChange:F=>S("weddingDate",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Akad (jam & tempat)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"time",value:p.akadTime,onChange:F=>S("akadTime",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Tempat akad",value:p.akadPlace,onChange:F=>S("akadPlace",F.target.value)})})]})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Resepsi (jam & tempat)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"time",value:p.resepsiTime,onChange:F=>S("resepsiTime",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Tempat resepsi",value:p.resepsiPlace,onChange:F=>S("resepsiPlace",F.target.value)})})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Lamaran (tanggal, jam, tempat)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"date",value:p.lamaranDate,onChange:F=>S("lamaranDate",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"time",value:p.lamaranTime,onChange:F=>S("lamaranTime",F.target.value)})})]}),v.jsx("input",{className:"input",placeholder:"Lokasi lamaran",value:p.lamaranPlace,onChange:F=>S("lamaranPlace",F.target.value)})]})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Prewedding (tanggal & lokasi)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"date",value:p.prewedDate,onChange:F=>S("prewedDate",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Lokasi prewedding",value:p.prewedPlace,onChange:F=>S("prewedPlace",F.target.value)})})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Bank (Nama/No/Atas Nama)"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Bank",value:p.bankName,onChange:F=>S("bankName",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"No Rekening",value:p.bankAccountNumber,onChange:F=>S("bankAccountNumber",F.target.value)})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",placeholder:"Atas Nama",value:p.bankAccountHolder,onChange:F=>S("bankAccountHolder",F.target.value)})})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Jadwal Penyerahan (Media Sosial)"}),v.jsx("textarea",{className:"textarea",value:p.clauseDeliverSocial,onChange:F=>S("clauseDeliverSocial",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Jadwal Penyerahan (Hasil Akhir)"}),v.jsx("textarea",{className:"textarea",value:p.clauseDeliverAll,onChange:F=>S("clauseDeliverAll",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Pembatalan/Perubahan Jadwal"}),v.jsx("textarea",{className:"textarea",value:p.clauseCancellation,onChange:F=>S("clauseCancellation",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Hak Cipta & Portfolio"}),v.jsx("textarea",{className:"textarea",value:p.clausePortfolio,onChange:F=>S("clausePortfolio",F.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Klausul Batasan Tanggung Jawab (Kehilangan Data)"}),v.jsx("textarea",{className:"textarea",value:p.clauseDataLoss,onChange:F=>S("clauseDataLoss",F.target.value)})]}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"TTD Vendor (Nama jelas)"}),v.jsx("input",{className:"input",value:p.signVendor,onChange:F=>S("signVendor",F.target.value)})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"TTD Klien (Nama jelas)"}),v.jsx("input",{className:"input",value:p.signClient,onChange:F=>S("signClient",F.target.value)})]})]}),v.jsxs("div",{className:"row",style:{marginTop:12,gap:8},children:[v.jsx("button",{className:"btn primary",onClick:b,children:"Simpan MOU"}),v.jsx("button",{className:"btn",onClick:I,children:"Simpan sebagai Default (UID)"}),v.jsx("button",{className:"btn",onClick:R,children:"Export PDF"})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{style:{marginTop:0},children:"Layout & Preview"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Margin (Top/Right/Bottom/Left)  pt"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:d.marginTop,onChange:F=>_("marginTop",Number(F.target.value||0))})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:d.marginRight,onChange:F=>_("marginRight",Number(F.target.value||0))})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:d.marginBottom,onChange:F=>_("marginBottom",Number(F.target.value||0))})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:d.marginLeft,onChange:F=>_("marginLeft",Number(F.target.value||0))})})]})]}),v.jsxs("div",{className:"col",children:[v.jsx("label",{children:"Typography"}),v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:d.titleSize,onChange:F=>_("titleSize",Number(F.target.value||0)),placeholder:"Title size (pt)"})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:d.bodySize,onChange:F=>_("bodySize",Number(F.target.value||0)),placeholder:"Body size (pt)"})}),v.jsx("div",{className:"col",children:v.jsx("input",{className:"input",type:"number",value:d.lineHeight,onChange:F=>_("lineHeight",Number(F.target.value||0)),placeholder:"Line height (pt)"})})]})]})]}),v.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,background:"#fff",marginTop:12,width:794,height:1123,maxWidth:"100%",overflow:"auto"},children:v.jsxs("div",{style:{paddingTop:xs(d.marginTop),paddingRight:xs(d.marginRight),paddingBottom:xs(d.marginBottom),paddingLeft:xs(d.marginLeft)},children:[v.jsxs("div",{style:{textAlign:"center",fontSize:xs(d.titleSize),fontWeight:600,marginBottom:Math.round(xs(d.lineHeight)*1.2)},children:["MEMORANDUM OF UNDERSTANDING (MoU) / ",v.jsx("br",{}),"SURAT PERJANJIAN KERJASAMA"]}),v.jsxs("div",{style:{fontSize:xs(d.bodySize),lineHeight:`${xs(d.lineHeight)}px`,color:"#111"},children:[B.map((F,V)=>v.jsx("p",{style:{margin:0,marginBottom:Math.round(xs(d.lineHeight)*.25)},children:F},V)),v.jsx("div",{style:{marginTop:xs(d.lineHeight)*1.5}}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[v.jsx("div",{children:"PIHAK PERTAMA"}),v.jsx("div",{children:"PIHAK KEDUA"})]}),v.jsx("div",{style:{height:xs(d.lineHeight)*3}}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[v.jsx("div",{children:en(p.signVendor,"(Tanda tangan & nama jelas)")}),v.jsx("div",{children:en(p.signClient,"(Tanda tangan & nama jelas)")})]})]})]})})]})]})}function Ol(t){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(t||0)}catch{return`Rp ${t||0}`}}function AO(t){return t==="wedding"?"Wedding":t==="lamaran"?"Lamaran":t==="prewedding"?"Prewedding":"-"}function xO(t){return(t||"").replace(/[^a-z0-9_\-]+/gi,"_")}function Ml(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return t;const n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];return`${e.getDate()} ${n[e.getMonth()]} ${e.getFullYear()}`}function _b(t){const e={};return Fl(t==null?void 0:t.marginTop)&&(e.marginTop=Number(t.marginTop)),Fl(t==null?void 0:t.marginRight)&&(e.marginRight=Number(t.marginRight)),Fl(t==null?void 0:t.marginBottom)&&(e.marginBottom=Number(t.marginBottom)),Fl(t==null?void 0:t.marginLeft)&&(e.marginLeft=Number(t.marginLeft)),Fl(t==null?void 0:t.lineHeight)&&(e.lineHeight=Number(t.lineHeight)),Fl(t==null?void 0:t.titleSize)&&(e.titleSize=Number(t.titleSize)),Fl(t==null?void 0:t.bodySize)&&(e.bodySize=Number(t.bodySize)),e}function Fl(t){return typeof t=="number"&&!Number.isNaN(t)}function xs(t){return Math.round(t*(96/72))}function en(t,e=""){return t==null||typeof t=="string"&&t.trim()===""?e:t}function EO(){const t=fu(),e=/^\/(publish|deal)\//.test(t.pathname);return v.jsxs(v.Fragment,{children:[!e&&v.jsx(f7,{}),v.jsxs(nT,{children:[v.jsx(Es,{path:"/",element:v.jsx(p7,{})}),v.jsx(Es,{path:"/login",element:v.jsx(m7,{})}),v.jsx(Es,{path:"/register",element:v.jsx(g7,{})}),v.jsx(Es,{path:"/forgot-password",element:v.jsx(v7,{})}),v.jsx(Es,{path:"/dashboard",element:v.jsx(zg,{children:v.jsx(x7,{})})}),v.jsx(Es,{path:"/dashboard/overview",element:v.jsx(zg,{children:v.jsx(E7,{})})}),v.jsx(Es,{path:"/dashboard/mou/:dealId",element:v.jsx(zg,{children:v.jsx(bO,{})})}),v.jsx(Es,{path:"/publish/:uid",element:v.jsx(S7,{})}),v.jsx(Es,{path:"/deal/:uid",element:v.jsx(N7,{})}),v.jsx(Es,{path:"/superadmin",element:v.jsx(P7,{})})]})]})}h1.createRoot(document.getElementById("root")).render(v.jsx(Pb.StrictMode,{children:v.jsx(uT,{children:v.jsx(EO,{})})}));export{on as _,NO as c,MS as g};
